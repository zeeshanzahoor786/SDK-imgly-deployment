/*! For license information please see 3.5dbbca38.chunk.js.LICENSE.txt */
(this["webpackJsonpfightclubfitness.site"]=this["webpackJsonpfightclubfitness.site"]||[]).push([[3],[function(e,t,n){"use strict";(function(e,i){n.d(t,"C",(function(){return B})),n.d(t,"E",(function(){return U})),n.d(t,"G",(function(){return H})),n.d(t,"I",(function(){return X_})),n.d(t,"K",(function(){return bx})),n.d(t,"N",(function(){return Sx})),n.d(t,"Q",(function(){return Mx})),n.d(t,"S",(function(){return Px})),n.d(t,"U",(function(){return Hx})),n.d(t,"X",(function(){return sk})),n.d(t,"Z",(function(){return yk})),n.d(t,"bb",(function(){return xk})),n.d(t,"db",(function(){return kk})),n.d(t,"fb",(function(){return jk})),n.d(t,"ib",(function(){return Ek})),n.d(t,"kb",(function(){return Pk})),n.d(t,"mb",(function(){return xw})),n.d(t,"pb",(function(){return o})),n.d(t,"sb",(function(){return VO})),n.d(t,"ub",(function(){return qO})),n.d(t,"wb",(function(){return KO})),n.d(t,"yb",(function(){return XO})),n.d(t,"Ab",(function(){return YO})),n.d(t,"Bb",(function(){return QO})),n.d(t,"Cb",(function(){return jS})),n.d(t,"Eb",(function(){return TS})),n.d(t,"b",(function(){return ES})),n.d(t,"f",(function(){return Bw})),n.d(t,"h",(function(){return Nw})),n.d(t,"q",(function(){return qw})),n.d(t,"t",(function(){return Xw})),n.d(t,"y",(function(){return Zw})),n.d(t,"A",(function(){return Jw})),n.d(t,"L",(function(){return lO})),n.d(t,"O",(function(){return uO})),n.d(t,"V",(function(){return dO})),n.d(t,"gb",(function(){return vO})),n.d(t,"nb",(function(){return xO})),n.d(t,"qb",(function(){return kO})),n.d(t,"zb",(function(){return CO})),n.d(t,"Db",(function(){return EO})),n.d(t,"c",(function(){return MO})),n.d(t,"d",(function(){return zO})),n.d(t,"e",(function(){return NO})),n.d(t,"g",(function(){return GO})),n.d(t,"i",(function(){return HO})),n.d(t,"j",(function(){return s})),n.d(t,"k",(function(){return sS})),n.d(t,"l",(function(){return ZO})),n.d(t,"m",(function(){return uS})),n.d(t,"n",(function(){return $O})),n.d(t,"o",(function(){return hS})),n.d(t,"p",(function(){return pS})),n.d(t,"r",(function(){return aS})),n.d(t,"s",(function(){return vS})),n.d(t,"u",(function(){return bS})),n.d(t,"v",(function(){return yS})),n.d(t,"w",(function(){return _S})),n.d(t,"x",(function(){return xS})),n.d(t,"z",(function(){return OS})),n.d(t,"B",(function(){return SS})),n.d(t,"a",(function(){return J})),n.d(t,"D",(function(){return VS})),n.d(t,"F",(function(){return QS})),n.d(t,"H",(function(){return $S})),n.d(t,"J",(function(){return eC})),n.d(t,"M",(function(){return iC})),n.d(t,"P",(function(){return rC})),n.d(t,"R",(function(){return oC})),n.d(t,"T",(function(){return aC})),n.d(t,"W",(function(){return sC})),n.d(t,"Y",(function(){return lC})),n.d(t,"ab",(function(){return My})),n.d(t,"cb",(function(){return uC})),n.d(t,"eb",(function(){return jC})),n.d(t,"hb",(function(){return TC})),n.d(t,"jb",(function(){return EC})),n.d(t,"lb",(function(){return DC})),n.d(t,"ob",(function(){return FC})),n.d(t,"rb",(function(){return AC})),n.d(t,"tb",(function(){return sj})),n.d(t,"vb",(function(){return hj})),n.d(t,"xb",(function(){return pj}));var r,o,a,s,l,u,c,f,d,h,p=n(13),m=n(14),g=n(6),y=n(17),v=n(16),b=n(12),_=n.n(b),x=n(15),k=n(3),w=n(5),O=n(18),S=n(9),C=n(8),j=n(34),T=n(11),E=n(23),D=Object.create,I=Object.defineProperty,R=Object.getOwnPropertyDescriptor,F=Object.getOwnPropertyNames,A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty,P=function(e){return I(e,"__esModule",{value:!0})},z=function(e,t){return function(){return e&&(t=e(e=0)),t}},B=function(e,t){return function(){return t||e((t={exports:{}}).exports,t),t.exports}},L=function(e,t){for(var n in t)I(e,n,{get:t[n],enumerable:!0})},N=function(e,t,n,i){if(t&&"object"===typeof t||"function"===typeof t){var r,o=Object(E.a)(F(t));try{var a=function(){var o=r.value;M.call(e,o)||!n&&"default"===o||I(e,o,{get:function(){return t[o]},enumerable:!(i=R(t,o))||i.enumerable})};for(o.s();!(r=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}return e},U=function(e,t){return N(P(I(null!=e?D(A(e)):{},"default",!t&&e&&e.__esModule?{get:function(){return e.default},enumerable:!0}:{value:e,enumerable:!0})),e)},G=function(e){return function(t,n){return e&&e.get(t)||(n=N(P({}),t,1),e&&e.set(t,n),n)}}("undefined"!==typeof WeakMap?new WeakMap:0),H=function(e,t,n,i){for(var r,o=i>1?void 0:i?R(t,n):t,a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i?r(t,n,o):r(o))||o);return i&&o&&I(t,n,o),o},W=function(e,t,n){return function(e,t,n){t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!==typeof t?t+"":t,n),n},V=z((function(){o=function(e){if(e){e.width=1,e.height=1;var t=e.getContext("2d");t&&t.clearRect(0,0,1,1)}}})),q=z((function(){a={imgly_font_bernier_regular:"imgly_font_sancreek",imgly_font_cheque_regular:"imgly_font_kumar_one_outline",imgly_font_gagalin_regular:"imgly_font_permanent_marker",imgly_font_hagin_caps_thin:"imgly_font_nixie_one",imgly_font_intro_inline:"imgly_font_bungee_inline",imgly_font_nexa_script:"imgly_font_molle",imgly_font_panton_blackitalic_caps:"imgly_font_roboto_black_italic",imgly_font_panton_lightitalic_caps:"imgly_font_roboto_light_italic",imgly_font_perfograma:"imgly_font_codystar",imgly_font_panton_black_caps:"imgly_font_roboto_black",imgly_font_panton_light_caps:"imgly_font_roboto_light",imgly_font_summer_font_light:"imgly_font_sue_ellen_francisco",imgly_font_wolesbro:"imgly_font_cookie_regular",imgly_font_campton_bold:"imgly_font_outfit_bold",imgly_font_galano_grotesque_bold:"imgly_font_lexend_bold",imgly_font_amberlight:"imgly_font_allison_regular)"},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a[e]?(t&&console.warn("Font ".concat(e," was deprecated. Please use ").concat(a[e]," instead.")),a[e]):e}})),K=B((function(e,t){var n="undefined"!==typeof Element,i="function"===typeof Map,r="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;t.exports=function(e,t){try{return function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,l,u,c;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(l=s;0!==l--;)if(!e(t[l],a[l]))return!1;return!0}if(i&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;for(c=t.entries();!(l=c.next()).done;)if(!e(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(c=t.entries();!(l=c.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(l=s;0!==l--;)if(t[l]!==a[l])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(u=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,u[l]))return!1;if(n&&t instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!t.$$typeof)&&!e(t[u[l]],a[u[l]]))return!1;return!0}return t!==t&&a!==a}(e,t)}catch(Sw){if((Sw.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw Sw}}})),X=B((function(e,t){t.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;if(n=Object(T.a)({indent:" ",includeEmptyLines:!1},n),"string"!==typeof e)throw new TypeError("Expected `input` to be a `string`, got `".concat(typeof e,"`"));if("number"!==typeof t)throw new TypeError("Expected `count` to be a `number`, got `".concat(typeof t,"`"));if("string"!==typeof n.indent)throw new TypeError("Expected `options.indent` to be a `string`, got `".concat(typeof n.indent,"`"));if(0===t)return e;var i=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(i,n.indent.repeat(t))}})),Y=B((function(){})),Q=B((function(e,t){var n=Y(),i=/\s+at.*(?:\(|\s)(.*)\)?/,r=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,o="undefined"===typeof n.homedir?"":n.homedir();t.exports=function(e,t){return t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter((function(e){var t=e.match(i);if(null===t||!t[1])return!0;var n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!r.test(n)})).filter((function(e){return""!==e.trim()})).map((function(e){return t.pretty?e.replace(i,(function(e,t){return e.replace(t,t.replace(o,"~"))})):e})).join("\n")}})),Z=B((function(e,t){var n=X(),i=Q(),r=function(e){Object(C.a)(r,e);var t=Object(S.a)(r);function r(e){var o;if(Object(k.a)(this,r),!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(typeof e));var a=(e=Object(x.a)(e).map((function(e){return e instanceof Error?e:null!==e&&"object"===typeof e?Object.assign(new Error(e.message),e):new Error(e)}))).map((function(e){return"string"===typeof e.stack?function(e){return e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,"")}(i(e.stack)):String(e)})).join("\n");return a="\n"+n(a,4),(o=t.call(this,a)).name="AggregateError",Object.defineProperty(Object(O.a)(o),"_errors",{value:e}),o}return Object(w.a)(r,[{key:Symbol.iterator,value:_.a.mark((function e(){var t,n,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(E.a)(this._errors),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return i=n.value,e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}]),r}(Object(j.a)(Error));t.exports=r})),J=B((function(e,t){var n=Z();t.exports=function(){var e=Object(v.a)(_.a.mark((function e(t,i){var r,o,a,s,l,u=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},o=r.concurrency,a=void 0===o?1/0:o,s=r.stopOnError,l=void 0===s||s,e.abrupt("return",new Promise((function(e,r){if("function"!==typeof i)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(a)&&a!==1/0||!(a>=1))throw new TypeError("Expected `concurrency` to be an integer from 1 and up or `Infinity`, got `".concat(a,"` (").concat(typeof a,")"));for(var o=[],s=[],u=t[Symbol.iterator](),c=!1,f=!1,d=0,h=0,p=function t(){if(!c){var a=u.next(),p=h;if(h++,a.done)return f=!0,void(0===d&&(l||0===s.length?e(o):r(new n(s))));d++,Object(v.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.value;case 3:return n=e.sent,e.next=6,i(n,p);case 6:o[p]=e.sent,d--,t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),l?(c=!0,r(e.t0)):(s.push(e.t0),d--,t());case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}},m=0;m<a&&(p(),!f);m++);})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),$={};L($,{FragmentPrecision:function(){return h},ImageFormat:function(){return u},OptionType:function(){return c},RenderType:function(){return l},RendererType:function(){return d},UniformType:function(){return f}});var ee,te,ne,ie,re,oe,ae,se=z((function(){var e,t,n,i;l={IMAGE:"image",DATAURL:"data-url",BUFFER:"buffer",BLOB:"blob",MSBLOB:"ms-blob"},u={PNG:"image/png",JPEG:"image/jpeg",RAW:"raw"},(e=c||{}).NUMBER="number",e.VECTOR2="vector2",e.COLOR_MATRIX="color-matrix",e.COLOR="color",e.ARRAY="array",e.OBJECT="object",e.STRING="string",e.BOOLEAN="boolean",e.CONFIGURABLE="configurable",e.IMAGE="image",e.FUNCTION="function",e.TEXTURE="texture",e.ALL="*",c=e,(t=f||{}).SAMPLER2D="sampler2d",t.INT="i",t.INT1="1i",t.INT2="2i",t.INT3="3i",t.INT4="4i",t.FLOAT="f",t.FLOAT1="1f",t.FLOAT2="2f",t.FLOAT_VECTOR2="2fv",t.FLOAT3="3f",t.FLOAT4="4f",t.MAT3="mat3",t.MAT3FV="mat3fv",t.MAT4="mat4",f=t,(n=d||{}).WEBGL="webgl",n.CANVAS="canvas",d=n,(i=h||{}).High="highp",i.Medium="mediump",i.Low="lowp",h=i})),le=z((function(){ee=function(){return document.createElement("canvas")},te=function(e,t){var n=t||ee();n.width=e.width,n.height=e.height;var i=n.getContext("2d");if(!i)throw new Error("Cannot render context");return i.clearRect(0,0,n.width,n.height),i.drawImage(e,0,0,e.width,e.height),n}})),ue=z((function(){ne=function e(t,n,i){Object(k.a)(this,e),this.width=t,this.height=n,this.data=i}})),ce={};L(ce,{glGet:function(){return ie},webUtils:function(){return ae}});var fe,de,he,pe,me,ge,ye,ve,be,_e,xe,ke,we,Oe,Se,Ce,je,Te,Ee,De,Ie,Re,Fe,Ae,Me,Pe,ze,Be,Le,Ne,Ue,Ge,He=z((function(){le(),V(),ue(),ie=function(e){var t={preserveDrawingBuffer:!0};return e.getContext("webgl",t)||e.getContext("experimental-webgl",t)},re=function(){var e=ee(),t=ie(e),n=t.getParameter(t.MAX_TEXTURE_SIZE),i=t.getExtension("WEBGL_lose_context");return i&&i.loseContext(),o(e),n},oe=function(e,t){if(t instanceof ne)e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t.width,t.height,0,e.RGBA,e.UNSIGNED_BYTE,t.data);else{var n=te(t);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),o(n)}},ae={isSupported:function(){return Boolean(ie(ee()))},isCanvas:function(e){return"Canvas"===e.constructor.name||Boolean(e.tagName&&"CANVAS"===e.tagName.toUpperCase())},isImage:function(e){return Boolean(e.tagName&&"IMG"===e.tagName.toUpperCase())},Image:"undefined"!==typeof window?window.Image:void 0,glMaxTexture:re,glGet:ie,createCanvas:ee,glResize:function(e,t){return e},glTexImage:oe}})),We=z((function(){se(),fe=(He(),G(ce)).webUtils,de=fe,he=function(e){return"webgl"===e._type},pe=function(e){return Boolean(e&&"tagName"in e&&e.tagName&&"CANVAS"===e.tagName.toUpperCase())},me=function(e){return Boolean("tagName"in e&&"IMG"===e.tagName.toUpperCase())}})),Ve=z((function(){ye=ge=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"head",value:function(e){return e[0]}},{key:"tail",value:function(e){return e.slice(1)}},{key:"last",value:function(e){return e[e.length-1]}},{key:"init",value:function(e){return e.slice(0,e.length-1)}},{key:"remove",value:function(e,t){return e.filter((function(e,n,i){return!t(e,n,i)}))}},{key:"findIndex",value:function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}},{key:"find",value:function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},{key:"flatten",value:function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?ge.flatten(t):t)}),[])}},{key:"range",value:function(e,t){var n=[];if(t>e)for(var i=e;i<t;i++)n.push(i);return n}},{key:"repeat",value:function(e,t){for(var n=[],i=0;i<t;i++)n[i]=e;return n}},{key:"zip",value:function(e,t){for(var n=Math.min(e.length,t.length),i=[],r=0;r<n;r++)i[r]=[e[r],t[r]];return i}}]),e}()})),qe=z((function(){ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",be={encode:function(e){var t,n,i,r,o,a,s,l="",u=0;do{r=(t=e[u++])>>2,o=(3&t)<<4|(n=e[u++])>>4,a=(15&n)<<2|(i=e[u++])>>6,s=63&i,isNaN(n)?a=s=64:isNaN(i)&&(s=64),l=l+ve.charAt(r)+ve.charAt(o)+ve.charAt(a)+ve.charAt(s),t=n=i="",r=o=a=s=""}while(u<e.length);return l},decode:function(e){var t,n,i,r,o,a,s=0,l=[];if(/[^A-Za-z0-9+/=]/g.exec(e))throw new Error("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");e=e.replace(/[^A-Za-z0-9+/=]/g,"");do{t=ve.indexOf(e.charAt(s++))<<2|(r=ve.indexOf(e.charAt(s++)))>>4,n=(15&r)<<4|(o=ve.indexOf(e.charAt(s++)))>>2,i=(3&o)<<6|(a=ve.indexOf(e.charAt(s++))),l.push(t),64!==o&&l.push(n),64!==a&&l.push(i),t=n=i="",r=o=a=""}while(s<e.length);return l}}})),Ke=z((function(){We(),Ve(),qe(),W(xe=_e=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"mapRange",value:function(e,t,n){return(e-t.getMin())*n.getLength()/t.getLength()+n.getMin()}},{key:"isPlainObject",value:function(e){if("object"!==typeof e||!e)return!1;if("function"===typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}return"[object Object]"===Object.prototype.toString.call(e)}},{key:"isMobile",value:function(){if("undefined"===typeof navigator)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}},{key:"isBrowser",value:function(){return"undefined"!==typeof window}},{key:"values",value:function(e){var t=[];for(var n in e)t.push(e[n]);return t}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return"undefined"!==typeof window.performance&&"function"===typeof window.performance.now&&(e+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))}},{key:"resizeVectorToFit",value:function(e,t){var n=Math.min(t.x/e.x,t.y/e.y);return e.clone().multiply(n)}},{key:"resizeVectorToFill",value:function(e,t){var n=e.x/e.y;return n>t.x/t.y?t.clone().set(t.y*n,t.y):t.clone().set(t.x,t.x/n)}},{key:"isExtendable",value:function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},{key:"defaults",value:function(e){var t={};for(var n in e)t[n]=e[n];for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++){var r=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];for(var o in r)"undefined"===typeof t[o]&&(t[o]=r[o])}return t}},{key:"deepMerge",value:function(e){for(var t=function e(t,n){if(void 0===n)return e(null,t);if(Array.isArray(n))return Object(x.a)(n);if(!_e.isPlainObject(n))return n;if(!_e.isPlainObject(t))return Object(T.a)({},n);var i=Object(T.a)({},t);return Object.keys(n).forEach((function(r){var o=n[r];void 0!==o&&(i[r]=e(t[r],o))})),i},n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.reduce(t,e)}},{key:"deepDefaults",value:function(e){for(var t,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=[].concat(i).reverse();return(t=_e).deepMerge.apply(t,Object(x.a)(o).concat([e]))}},{key:"deepClone",value:function(e){var t={};for(var n in e)_e.isExtendable(e[n])?t[n]=_e.deepClone(e[n]):t[n]=e[n];return t}},{key:"extend",value:function(e){var t={};for(var n in e)t[n]=e[n];for(var i=0;i<(arguments.length<=1?0:arguments.length-1);i++){var r=i+1<1||arguments.length<=i+1?void 0:arguments[i+1];for(var o in r)t[o]=r[o]}return t}},{key:"clone",value:function(e){return this.extend({},e)}},{key:"getUUID",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}},{key:"createCanvas",value:function(){return de.createCanvas()}},{key:"isPowerOfTwo",value:function(e){return 0===(e.x&e.x-1)&&0===(e.y&e.y-1)}},{key:"nextLowestPOT",value:function(e){for(var t=1;t<32;t<<=1)e|=e>>t;return e-(e>>1)}},{key:"nextHighestPOT",value:function(e){e--;for(var t=1;t<32;t<<=1)e|=e>>t;return e+1}},{key:"moveArrayItem",value:function(e,t,n){if(n>=e.length)for(var i=n-e.length;1+i--;)e.push(void 0);e.splice(n,0,e.splice(t,1)[0])}},{key:"ensureCanvasDimensions",value:function(e,t){return(e.width!==t.x||e.height!==t.y)&&(e.width=t.x,e.height=t.y,!0)}},{key:"byteArrayToString",value:function(e){return e.map((function(e){return String.fromCharCode(e)})).join("")}},{key:"clamp",value:function(e,t,n){return Math.max(t,Math.min(e,n))}},{key:"wildCardMatch",value:function(e,t){return new RegExp("^".concat(t.split("*").join(".*"),"$")).test(e)}},{key:"flipObject",value:function(e){var t={};for(var n in e)t[e[n]]=n;return t}},{key:"ISODateString",value:function(e){function t(e){return e<10?"0".concat(e):e}return"".concat(e.getUTCFullYear(),"-").concat(t(e.getUTCMonth()+1),"-").concat(t(e.getUTCDate()),"T").concat(t(e.getUTCHours()),":").concat(t(e.getUTCMinutes()),":").concat(t(e.getUTCSeconds()),"Z")}},{key:"getCrossOriginValue",value:function(e){return e?"none"!==e?e:void 0:"anonymous"}},{key:"invariant",value:function(e,t){if(!e)throw new Error(t)}},{key:"executePromises",value:function(e){var t=e.length,n=0,i=[],r=[];return new Promise((function(o,a){var s=function(){++n>=t&&(r.length<=0?o(i):a(r))},l=function(e){i.push(e),s()},u=function(e){r.push(e),s()};e.forEach((function(e){e.then(l).catch(u)}))}))}}]),e}(),"Array",ye),ke=xe})),Xe=z((function(){Ke(),we=[{name:"trace",type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{name:"info",type:"log",background:"#BDE5F8",color:"#00529B"},{name:"warn",type:"warn",background:"#FEEFB3",color:"#9F6000"},{name:"error",type:"error",background:"#FFBABA",color:"#D8000C"},{name:"log",type:"log",background:"#EEEEEE",color:"#1f4f6b"}],Oe=function(){return console&&console.group&&console.groupCollapsed&&console.groupEnd},Se=function(){return"undefined"!==typeof navigator&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)},Ce=function(e,t){return["background: #2D7BFF; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0","background: ".concat(e,"; color: ").concat(t,"; line-height: 20px; padding: 4px 0; font-weight: bold"),"background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #2D7BFF; line-height: 20px; padding: 4px 0"]},je=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"warn",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we;Object(k.a)(this,e),this._levels=Object(x.a)(i),this._maxLevel=this.getLevelIndexByName(n),this._consoleFuncs={trace:function(){var e,t;Oe()?((e=console).groupCollapsed.apply(e,arguments),console.trace(),console.groupEnd()):(t=console).trace.apply(t,arguments)}},this._levels.forEach((function(e){var n=e.name;t[n]=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];t._log.apply(t,[n,e].concat(r))}}))}return Object(w.a)(e,[{key:"getLevelIndexByName",value:function(e){return ke.Array.findIndex(this._levels,(function(t){return t.name===e}))}},{key:"getLevelObjectByName",value:function(e){return ke.Array.find(this._levels,(function(t){return t.name===e}))}},{key:"canLog",value:function(e){var t=this.getLevelIndexByName(e);return!(t<0)&&t>=this._maxLevel}},{key:"setLevel",value:function(e){var t=this.getLevelIndexByName(e);t<0||(this._maxLevel=t)}},{key:"_log",value:function(e,t){var n=this.getLevelObjectByName(e);if(n&&this.canLog(e)){n.name;for(var i=n.type,r=n.background,o=n.color,a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];var u,c=s.filter((function(e){return void 0!==e})).map((function(e){return e.toObject?JSON.parse(JSON.stringify(e.toObject())):e})),f=this._consoleFuncs[i]||console[i]?function(){var e;return(e=console)[i].apply(e,arguments)}:function(){var e;return(e=console).log.apply(e,arguments)},d=c.length,h=Ce(r,o);if(!Se()){var p=c.length;return p<=0?void f("PhotoEditorSDK | ".concat(t," ")):1===p&&"string"===typeof c[0]?void f("PhotoEditorSDK | ".concat(t," | ").concat(c[0])):void f.apply(void 0,["PhotoEditorSDK | ".concat(t," | ")].concat(Object(x.a)(c)))}if(d<=0)f.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c %c  ")].concat(Object(x.a)(h)));else if(1!==d||"string"!==typeof c[0])Oe()?((u=console).groupCollapsed.apply(u,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c")].concat(Object(x.a)(ke.Array.init(h)))),f.apply(void 0,Object(x.a)(c)),console.groupEnd()):f.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c")].concat(Object(x.a)(ke.Array.init(h)),Object(x.a)(c)));else f.apply(void 0,["%c  %c PhotoEditorSDK %c  %c ".concat(t," %c  ").concat(c[0],"  %c  ")].concat(Object(x.a)(h)))}}},{key:"image",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=new window.Image,i=function(){var t=n.width,i=n.height;e&&console.log(e),console.log("%c+","\n        font-size: 1px;\n        padding: 0px ".concat(Math.floor(t/2),"px;\n        line-height: ").concat(i,"px;\n        background: url(").concat(n.src,");\n        color: transparent;\n        background-repeat: no-repeat;\n        background-size: ").concat(t,"px ").concat(i,"px;"))};return n.onload=i,t instanceof window.HTMLCanvasElement?n.src=t.toDataURL():t instanceof window.Image?(n=t,i()):"string"===typeof t?n.src=t:this.log(e,t),n}},{key:"texture",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(t){var n=t.getBaseTexture(),i=n.getRenderers(),r=ke.Array.find(i,(function(e){return e&&"webgl"===e.constructor.type})),o=n.getFrame(),a=o.width,s=o.height;if(r){var l=r.getContext(),u=n.getGLTextureForRenderer(r);this.logGlTexture(l,u,a,s,e)}else Te.image(e,n.getSource())}else this.log(e,"texture: null or undefined")}},{key:"logGlTexture",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,r=arguments.length>4?arguments[4]:void 0;e.bindTexture(e.TEXTURE_2D,t);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0);var a=new Uint8Array(n*i*4);e.readPixels(0,0,n,i,e.RGBA,e.UNSIGNED_BYTE,a),e.deleteFramebuffer(o);var s=document.createElement("canvas");s.width=n,s.height=i;var l=s.getContext("2d"),u=l.createImageData(n,i);return u.data.set(a),l.putImageData(u,0,0),Te.image(r,s)}}]),e}(),Te=new je("warn"),Ee=Te})),Ye=z((function(){De={load:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"},i=function(){return Promise.resolve([e,e])};return i().then((function(e){var i=Object(y.a)(e,2),r=i[0],o=i[1];return t._createAndLoadImage(r,o,n)}))},loadImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return this._loadWithoutExif(e,t)},_loadWithoutExif:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return new Promise((function(n,i){var r=new window.Image;r.addEventListener("load",(function(){n(r)})),r.addEventListener("error",(function(){i(new Error("Failed to load image at ".concat(e)))})),t.cors&&(r.crossOrigin=t.value),r.src=e}))},_createAndLoadImage:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cors:!0,value:"anonymous"};return new Promise((function(e,r){var o=n._loadWithoutExif(t,i).then((function(t){return e(t)})),a=new Promise((function(e,r){n._loadAsDataURL(t,i).then((function(t){var n=new window.Image;n.addEventListener("load",(function(){e(n)})),n.src=t,n.rawSource=t})).catch((function(t){o.then((function(t){return e(t)}))}))}));return n._stringEndsWith(t,".svg")?o.then((function(t){return e(t)})):a.then((function(t){return e(t)}))}))},_stringEndsWith:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t},_loadAsDataURL:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{cors:!0,value:"anonymous"};return new Promise((function(n,i){var r=new XMLHttpRequest;r.onload=function(){var e=new FileReader;e.onloadend=function(){e.error&&i(e.error),n(e.result)},e.readAsDataURL(r.response)},r.open("GET",e),r.responseType="blob",r.withCredentials=t.cors&&"use-credentials"===t.value,r.send()}))},loadXHR:function(e,t){return new Promise((function(n,i){var r;window.XDomainRequest?(r=new window.XDomainRequest,t&&r.overrideMimeType(t),r.onload=function(){n(r)},r.onerror=function(e){i(e)}):window.XMLHttpRequest&&(r=new window.XMLHttpRequest,t&&r.overrideMimeType(t),r.onreadystatechange=function(e){4===r.readyState&&(200===r.status?n(r):i(new Error("HTTP Status ".concat(r.status))))}),r.open("GET",e,!0),r.send()}))}}})),Qe=B((function(e,t){function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;r&&"number"===typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var c,f,d,h,p=e[u].replace(a,"%20"),m=p.indexOf(i);m>=0?(c=p.substr(0,m),f=p.substr(m+1)):(c=p,f=""),d=decodeURIComponent(c),h=decodeURIComponent(f),n(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}})),Ze=B((function(e,t){var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,i,r){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(r){var o=encodeURIComponent(n(r))+i;return Array.isArray(e[r])?e[r].map((function(e){return o+encodeURIComponent(n(e))})).join(t):o+encodeURIComponent(n(e[r]))})).join(t):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(e)):""}})),Je=B((function(e){e.decode=e.parse=Qe(),e.encode=e.stringify=Ze()}));function $e(e){"string"==typeof e&&(e=nt(e));var t=function(e,t,n){var i=e.auth,r=e.hostname,o=e.protocol||"",a=e.pathname||"",s=e.hash||"",l=e.query||"",u=!1;i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",e.host?u=i+e.host:r&&(u=i+(~r.indexOf(":")?"["+r+"]":r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=t.encode(l));var c=e.search||l&&"?"+l||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||n.test(o))&&!1!==u?(u="//"+(u||""),a&&"/"!==a[0]&&(a="/"+a)):u||(u=""),s&&"#"!==s[0]&&(s="#"+s),c&&"?"!==c[0]&&(c="?"+c),{protocol:o,host:u,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:c=c.replace("#","%23"),hash:s}}(e,Ie.default,Re);return""+t.protocol+t.host+t.pathname+t.search+t.hash}function et(e,t){var n="string"==typeof e?nt(e):e;e="object"==typeof e?$e(e):e;var i=nt(t),r="";n.protocol&&!n.slashes&&(r=n.protocol,e=e.replace(n.protocol,""),r+="/"===t[0]||"/"===e[0]?"/":""),r&&i.protocol&&(r="",i.slashes||(r=i.protocol,t=t.replace(i.protocol,"")));var o=e.match(Pe);o&&!i.protocol&&(e=e.substr((r=o[1]+(o[2]||"")).length),/^\/\/[^/]/.test(t)&&(r=r.slice(0,-1)));var a=new URL(e,Me+"/"),s=new URL(t,a).toString().replace(Me,""),l=i.protocol||n.protocol;return l+=n.slashes||i.slashes?"//":"",!r&&l?s=s.replace(Fe,l):r&&(s=s.replace(Fe,"")),ze.test(s)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==s.slice(-1)||(s=s.slice(0,-1)),r&&(s=r+("/"===s[0]?s.substr(1):s)),s}function tt(){}function nt(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof tt)return e;var i=(e=e.trim()).match(Le);e=i?i[1].replace(/\\/g,"/")+i[2]:e.replace(/\\/g,"/"),Ge.test(e)&&"/"!==e.slice(-1)&&(e+="/");var r=!/(^javascript)/.test(e)&&e.match(Ne),o=Ue.test(e),a="";r&&(Be.test(r[1])||(a=r[1].toLowerCase(),e=""+r[2]+r[3]),r[2]||(o=!1,Be.test(r[1])?(a=r[1],e=""+r[3]):e="//"+r[3]),3!==r[2].length&&1!==r[2].length||(a=r[1],e="/"+r[3]));var s,l=(i?i[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),u=l&&l[1],c=new tt,f="",d="";try{s=new URL(e)}catch(h){f=h,a||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(d="/",e=e.substr(1));try{s=new URL(e,Me)}catch(g){return c.protocol=a,c.href=a,c}}c.slashes=o&&!d,c.host=s.host===Ae?"":s.host,c.hostname=s.hostname===Ae?"":s.hostname.replace(/(\[|\])/g,""),c.protocol=f?a||null:s.protocol,c.search=s.search.replace(/\\/g,"%5C"),c.hash=s.hash.replace(/\\/g,"%5C");var h,p=e.split("#");!c.search&&~p[0].indexOf("?")&&(c.search="?"),c.hash||""!==p[1]||(c.hash="#"),c.query=t?Ie.default.decode(s.search.substr(1)):c.search.substr(1),c.pathname=d+(r?(h=s.pathname).replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(n){return t}})):s.pathname),"about:"===c.protocol&&"blank"===c.pathname&&(c.protocol="",c.pathname=""),f&&"/"!==e[0]&&(c.pathname=c.pathname.substr(1)),a&&!Be.test(a)&&"/"!==e.slice(-1)&&"/"===c.pathname&&(c.pathname=""),c.path=c.pathname+c.search,c.auth=[s.username,s.password].map(decodeURIComponent).filter(Boolean).join(":"),c.port=s.port,u&&!c.host.endsWith(u)&&(c.host+=u,c.port=u.slice(1)),c.href=d?""+c.pathname+c.search+c.hash:$e(c);var m=/^(file)/.test(c.href)?["host","hostname"]:[];return Object.keys(c).forEach((function(e){~m.indexOf(e)||(c[e]=c[e]||null)})),c}var it,rt,ot=z((function(){Ie=U(Je(),1),Re=/https?|ftp|gopher|file/,Me=(Fe="http://")+(Ae="w.w"),Pe=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,ze=/https?|ftp|gopher|file/,tt.prototype.parse=nt,tt.prototype.format=$e,tt.prototype.resolve=et,tt.prototype.resolveObject=et,Be=/^https?|ftp|gopher|file/,Le=/^(.*?)([#?].*)/,Ne=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,Ue=/^([a-z0-9.+-]*:)?\/\/\/*/i,Ge=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i})),at=z((function(){ot(),5e3,it="undefined"!==typeof window?window:e,rt=function(){function e(t){Object(k.a)(this,e),this._url=t,this._parsedUrl=nt(this._url,!0)}return Object(w.a)(e,[{key:"_isJSONPRequest",value:function(){var e=this._parsedUrl.query;for(var t in e){if("?"===e[t])return!0}return!1}},{key:"load",value:function(){return this._isJSONPRequest()?this._loadJSONP():this._loadJSON()}},{key:"_loadJSON",value:function(){var e=this;return new Promise((function(t,n){var i;it.XDomainRequest?((i=new it.XDomainRequest).onload=function(){var e=JSON.parse(i.responseText);t(e)},i.onerror=function(e){n(e)},i.open("GET",e._url,!0),i.send()):it.XMLHttpRequest&&((i=new XMLHttpRequest).onreadystatechange=function(e){if(4===i.readyState)if(200===i.status){var r=JSON.parse(i.responseText);t(r)}else n(new Error("HTTP Status ".concat(i.status)))},i.open("GET",e._url,!0),i.send())}))}},{key:"_loadJSONP",value:function(){var e=this,t=!1,n=!1,i="pesdk".concat(Math.round(99999999999999*Math.random()));return new Promise((function(r,o){var a=e._createJSONPNode(i);it[i]=function(i){e._removeJSONPNode(a),t||(n=!0,r(i))},it.setTimeout((function(){n||(e._removeJSONPNode(a),t=!0,o(new Error("Timeout of 5 seconds exceeded.")))}),5e3)}))}},{key:"_createJSONPNode",value:function(e){var t=this._buildJSONPUrl(e),n=document.querySelector("head"),i=document.createElement("script");return i.src=t,n.appendChild(i),i}},{key:"_removeJSONPNode",value:function(e){e.parentNode.removeChild(e)}},{key:"_buildJSONPUrl",value:function(e){var t=this._parsedUrl.query,n=null;for(var i in t)if("?"===t[i]){n=i;break}return delete this._parsedUrl.search,t[n]=e,$e(this._parsedUrl)}}]),e}()})),st={};L(st,{ImageLoader:function(){return De},JSONLoader:function(){return rt}});var lt,ut,ct,ft,dt,ht,pt,mt,gt,yt,vt,bt,_t,xt,kt,wt,Ot,St=z((function(){Ye(),at()})),Ct=z((function(){ut=lt=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;Object(k.a)(this,e),this.r=t,this.g=n,this.b=i,this.a=r}return Object(w.a)(e,[{key:"toRGBA",value:function(){var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b),this.a.toFixed(2)];return"rgba(".concat(e.join(","),")")}},{key:"set",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.a;return this.r=e,this.g=t,this.b=n,this.a=i,this}},{key:"toRGB",value:function(){return[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)]}},{key:"toHex",value:function(){var e=[this._componentToHex(Math.round(255*this.r)),this._componentToHex(Math.round(255*this.g)),this._componentToHex(Math.round(255*this.b))];return"#".concat(e.join(""))}},{key:"toGLColor",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toArray",value:function(){return this.toGLColor()}},{key:"toRGBGLColor",value:function(){return[this.r,this.g,this.b]}},{key:"toHSV",value:function(){var e,t,n=Math.max(this.r,this.g,this.b),i=Math.min(this.r,this.g,this.b),r=n,o=n-i;if(t=0===n?0:o/n,n===i)e=0;else{switch(n){case this.r:e=(this.g-this.b)/o,this.g<this.b&&(e+=6);break;case this.g:e=(this.b-this.r)/o+2;break;case this.b:e=(this.r-this.g)/o+4}e/=6}return[e,t,r]}},{key:"fromHSV",value:function(e,t,n){return this.copy(lt.fromHSV(e,t,n)),this}},{key:"clone",value:function(){return new lt(this.r,this.g,this.b,this.a)}},{key:"cloneRGB",value:function(){return new lt(this.r,this.g,this.b,1)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this.a+=e.a,this}},{key:"minus",value:function(e){return this.r-=e.r,this.g-=e.g,this.b-=e.b,this.a-=e.a,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this.a*=e,this}},{key:"divideScalar",value:function(e){return this.r/=e,this.g/=e,this.b/=e,this.a/=e,this}},{key:"clamp",value:function(e,t){return this.r=Math.min(Math.max(this.r,e),t),this.g=Math.min(Math.max(this.g,e),t),this.b=Math.min(Math.max(this.b,e),t),this.a=Math.min(Math.max(this.a,e),t),this}},{key:"mix",value:function(e,t){return this.r=(1-t)*this.r+t*e.r,this.g=(1-t)*this.g+t*e.g,this.b=(1-t)*this.b+t*e.b,this.a=(1-t)*this.a+t*e.a,this}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this}},{key:"equals",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}},{key:"_componentToHex",value:function(e){var t=e.toString(16);return 1===t.length?"0".concat(t):t}},{key:"toString",value:function(){return"Color(".concat(this.r,", ").concat(this.g,", ").concat(this.b,", ").concat(this.a,")")}}],[{key:"fromHSV",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=[],o=r[0],a=r[1],s=r[2],l=Math.floor(6*e),u=6*e-l,c=n*(1-t),f=n*(1-u*t),d=n*(1-(1-u)*t);switch(l%6){case 0:o=n,a=d,s=c;break;case 1:o=f,a=n,s=c;break;case 2:o=c,a=n,s=d;break;case 3:o=c,a=f,s=n;break;case 4:o=d,a=c,s=n;break;case 5:o=n,a=c,s=f}return new lt(o,a,s,i)}},{key:"fromArray",value:function(e){return new lt(e[0],e[1],e[2],e[3])}},{key:"fromHex",value:function(e){var t=e.match(/[0-9A-fa-f]{1,2}/g),n=Object(y.a)(t,3),i=n[0],r=n[1],o=n[2];return new lt(parseInt(i,16)/255,parseInt(r,16)/255,parseInt(o,16)/255,1)}},{key:"TRANSPARENT",get:function(){return new lt(0,0,0,0)}},{key:"WHITE",get:function(){return new lt(1,1,1,1)}},{key:"BLACK",get:function(){return new lt(0,0,0,1)}},{key:"RED",get:function(){return new lt(1,0,0,1)}},{key:"BLUE",get:function(){return new lt(0,0,1,1)}},{key:"GREEN",get:function(){return new lt(0,1,0,1)}}]),e}()})),jt=z((function(){Xe(),12,ct=function(){function e(){Object(k.a)(this,e),this._maxListeners=12,this._events={},this._pipeDestinations=[]}return Object(w.a)(e,[{key:"pipeEvents",value:function(e){this._pipeDestinations.push(e)}},{key:"unpipeEvents",value:function(e){var t=this._pipeDestinations.indexOf(e);-1!==t&&this._pipeDestinations.splice(t,1)}},{key:"on",value:function(e,t){if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));if("function"!==typeof t)throw new TypeError;var n=this._events[e]||(this._events[e]=[]);return-1!==n.indexOf(t)||(n.push(t),this._maxListeners&&n.length>this._maxListeners&&(Ee.warn("EventEmitter","Possible memory leak detected, added ".concat(n.length," `").concat(e,"` listeners (current limit is ").concat(this._maxListeners,")")),"undefined"!==typeof console&&console.trace())),this}},{key:"once",value:function(e,t){if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));var n=this;return this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)}))}},{key:"off",value:function(e){if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));if(0===(arguments.length<=1?0:arguments.length-1))return this._events[e]=null,this;var t=arguments.length<=1?void 0:arguments[1];if("function"!==typeof t)throw new TypeError;var n=this._events[e];if(!n||!n.length)return this;var i=n.indexOf(t);return-1===i||n.splice(i,1),this}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("undefined"===typeof e)throw new Error("Invalid event type: `".concat(e,"`"));this._pipeDestinations.forEach((function(t){t.emit.apply(t,[e].concat(n))}));var r=this._events[e];return!(!r||!r.length)&&(r.slice(0).forEach((function(e){return e.apply(null,n)})),!0)}},{key:"setMaxListeners",value:function(e){if(parseInt(e,10)!==e)throw new TypeError;this._maxListeners=e}}]),e}()})),Tt=z((function(){Xe(),V(),ft={checkFramebufferStatus:function(e,t){var n,i=t.checkFramebufferStatus(t.FRAMEBUFFER),r=(n={},Object(g.a)(n,t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,"Incomplete attachment"),Object(g.a)(n,t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,"Missing attachment"),Object(g.a)(n,t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,"Incomplete dimensions"),Object(g.a)(n,t.FRAMEBUFFER_UNSUPPORTED,"Framebuffer unsupported"),n);i!==t.FRAMEBUFFER_COMPLETE&&Ee.warn(e,"Framebuffer incomplete: ".concat(r[i]))},determineGPUName:function(e){var t=null,n=null;e||(e=(n=document.createElement("canvas")).getContext("experimental-webgl")||n.getContext("webgl"));var i=e&&e.getExtension("WEBGL_debug_renderer_info");return i&&(t=e.getParameter(i.UNMASKED_RENDERER_WEBGL),n&&n.remove()),o(n),t},isGPUBlacklisted:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!1}}})),Et=z((function(){dt=function(e){return"number"===typeof e}})),Dt=z((function(){Et(),ht=function(e){return e instanceof gt},pt=function(e,t){return ht(e)?{x:e.x,y:e.y}:{x:e,y:dt(t)?t:e}},mt=function(e,t){return function(n,i){var r=pt(n,i),o=r.x,a=r.y;return e.x=t(e.x,o),e.y=t(e.y,a),e}},gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(k.a)(this,e),this.add=mt(this,(function(e,t){return e+t})),this.subtract=mt(this,(function(e,t){return e-t})),this.divide=mt(this,(function(e,t){return e/t})),this.multiply=mt(this,(function(e,t){return e*t})),this.x=t,this.y=n}return Object(w.a)(e,[{key:"set",value:function(e,t){var n=pt(e,t),i=n.x,r=n.y;return this.x=i,this.y=r,this}},{key:"clone",value:function(){return new gt(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"clamp",value:function(e,t){return dt(e)&&(e=new gt(e,e)),dt(t)&&(t=new gt(t,t)),e&&(this.x=Math.max(e.x,this.x),this.y=Math.max(e.y,this.y)),t&&(this.x=Math.min(t.x,this.x),this.y=Math.min(t.y,this.y)),this}},{key:"dot",value:function(e,t){var n=pt(e,t),i=n.x,r=n.y;return this.x*i+this.y*r}},{key:"equals",value:function(e,t){var n=pt(e,t),i=n.x,r=n.y;return i===this.x&&r===this.y}},{key:"flip",value:function(){var e=this.x;return this.x=this.y,this.y=e,this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"floor",value:function(){return this.x|=0,this.y|=0,this}},{key:"abs",value:function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this}},{key:"len",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"min",value:function(){return Math.min(this.x,this.y)}},{key:"max",value:function(){return Math.max(this.x,this.y)}},{key:"toObject",value:function(){return{x:this.x,y:this.y}}},{key:"toString",value:function(){return"Vector2({ x: ".concat(this.x,", y: ").concat(this.y," })")}},{key:"roundDecimal",value:function(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this}},{key:"asArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?[this.y,this.x]:[this.x,this.y]}}],[{key:"fromObject",value:function(e){return new gt(e.x,e.y)}},{key:"NULL",get:function(){return new gt(0,0)}}]),e}()})),It=z((function(){Dt(),yt=function(){function e(){Object(k.a)(this,e),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.reset()}return Object(w.a)(e,[{key:"multiply",value:function(e){var t,n,i,r,o,a;return t=this.a*e.a+this.b*e.c,n=this.a*e.b+this.b*e.d,i=this.c*e.a+this.d*e.c,r=this.c*e.b+this.d*e.d,o=this.tx*e.a+this.ty*e.c+e.tx,a=this.tx*e.b+this.ty*e.d+e.ty,this.a=t,this.b=n,this.c=i,this.d=r,this.tx=o,this.ty=a,this}},{key:"applyToVector",value:function(e){var t=e,n=t.x,i=t.y;return(e=e.clone()).x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.tx,e}},{key:"applyInverseToVector",value:function(e){var t=1/(this.a*this.d+this.c*-this.b),n=e,i=n.x,r=n.y;return(e=e.clone()).x=this.d*t*i+-this.c*t*r+(this.ty*this.c-this.tx*this.d)*t,e.y=this.a*t*r+-this.b*t*i+(-this.ty*this.a+this.tx*this.b)*t,e}},{key:"rectangleToCoordinates",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new gt(0,0),n=e.width*(1-t.x),i=e.width*-t.x,r=e.height*(1-t.y),o=e.height*-t.y,a=[];return a.push(new gt(this.a*i+this.c*o+this.tx,this.d*o+this.b*i+this.ty)),a.push(new gt(this.a*n+this.c*o+this.tx,this.d*o+this.b*n+this.ty)),a.push(new gt(this.a*n+this.c*r+this.tx,this.d*r+this.b*n+this.ty)),a.push(new gt(this.a*i+this.c*r+this.tx,this.d*r+this.b*i+this.ty)),a}},{key:"reset",value:function(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}},{key:"toArray",value:function(){var e=[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1];return"undefined"===typeof Float32Array?e:new Float32Array(e)}},{key:"toString",value:function(){return"Matrix({ a: ".concat(this.a,", b: ").concat(this.b,", c: ").concat(this.c,", d: ").concat(this.d,", tx: ").concat(this.tx,", ty: ").concat(this.ty," })")}}],[{key:"IDENTITY",get:function(){return new yt}}]),e}()})),Rt=z((function(){Dt(),vt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(k.a)(this,e),this.x=0,this.y=0,this.width=0,this.height=0,this.x=t,this.y=n,this.width=i,this.height=r}return Object(w.a)(e,[{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this}},{key:"clone",value:function(){return new vt(this.x,this.y,this.width,this.height)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}},{key:"equals",value:function(e,t,n,i){return e instanceof vt?e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height:e===this.x&&t===this.y&&n===this.width&&i===this.height}},{key:"translate",value:function(e,t){var n=pt(e,t),i=n.x,r=n.y;return this.x+=i,this.y+=r,this}},{key:"scale",value:function(e,t){var n=pt(e,t),i=n.x,r=n.y;return this.width*=i,this.height*=r,this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.width=Math.round(this.width),this.height=Math.round(this.height),this}},{key:"getPosition",value:function(){return new gt(this.x,this.y)}},{key:"getSize",value:function(){return new gt(this.width,this.height)}},{key:"insetBy",value:function(e,t){return this.x+=e,this.y+=t,this.width-=2*e,this.height-=2*t,this}},{key:"intersects",value:function(e){var t=new gt(this.x,this.y),n=new gt(this.x+this.width,this.y+this.height),i=new gt(e.x,e.y),r=new gt(e.x+e.width,e.y+e.height);return!(i.x>n.x||t.x>r.x||r.y<t.y||n.y<i.y)}},{key:"toString",value:function(){return"Rectangle({ x: ".concat(this.x,", y: ").concat(this.y,", width: ").concat(this.width,", height: ").concat(this.height," })")}}],[{key:"FromDiagonalPoints",value:function(e,t){var n=!1;t.x-e.x<0&&(n=!0);var i=n?t:e,r=n?e:t,o=r.x-i.x,a=r.y-i.y;return new vt(i.x,i.y,o,a)}}]),e}()})),Ft=z((function(){Xe(),se(),Ct(),jt(),Tt(),It(),Rt(),Dt(),Ke(),bt=2e3,5,_t=20})),At=z((function(){Ft(),xt=function(){function e(){Object(k.a)(this,e),this._position=new gt(0,0),this._scale=new gt(1,1),this._pivot=new gt(0,0),this._rotation=0,this._lastRotation=null,this._alpha=1,this._visible=!0,this._worldTransform=new yt,this._parent=null,this._shaders=[],this._boundsNeedUpdate=!0,this._bounds=new vt(0,0,1,1),this._localBoundsNeedUpdate=!0,this._localBounds=new vt(0,0,1,1),this._filterRectangle=new vt(0,0,0,0)}return Object(w.a)(e,[{key:"renderWebGL",value:function(e){Ee.warn(this.constructor.name,"`renderWebGL` is abstract and not implemented in inherited class")}},{key:"renderCanvas",value:function(e){Ee.warn(this.constructor.name,"`renderCanvas` is abstract and not implemented in inherited class")}},{key:"updateTransform",value:function(){var e=this._parent?this._parent.getWorldTransform():yt.IDENTITY,t=this._worldTransform,n=Math.sin(this._rotation),i=Math.cos(this._rotation);t.a=i*this._scale.x,t.b=n*this._scale.x,t.c=-n*this._scale.y,t.d=i*this._scale.y,t.tx=this._position.x,t.ty=this._position.y,(this._pivot.x||this._pivot.y)&&(t.tx-=this._pivot.x*t.a+this._pivot.y*t.c,t.ty-=this._pivot.x*t.b+this._pivot.y*t.d),t.multiply(e),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"addShader",value:function(e){this._shaders.push(e)}},{key:"removeShader",value:function(e){var t=this._shaders.indexOf(e);return-1!==t&&(this._shaders.splice(t,1),!0)}},{key:"removeShaderAt",value:function(e){return!!this._shaders[e]&&(this._shaders.splice(e,1),!0)}},{key:"getBounds",value:function(){return this._bounds.clone()}},{key:"getPosition",value:function(){return this._position}},{key:"setPosition",value:function(e,t){this._position.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"getScale",value:function(){return this._scale}},{key:"setScale",value:function(e,t){this._scale.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"getPivot",value:function(){return this._pivot}},{key:"setPivot",value:function(e,t){this._pivot.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"getRotation",value:function(){return this._rotation}},{key:"setRotation",value:function(e){this._rotation=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"getAlpha",value:function(){return this._alpha}},{key:"setAlpha",value:function(e){this._alpha=e}},{key:"getWorldAlpha",value:function(){return this._parent?this._parent.getAlpha()*this._alpha:this._alpha}},{key:"getWorldTransform",value:function(){return this._worldTransform}},{key:"getParent",value:function(){return this._parent}},{key:"setParent",value:function(e){this._parent=e}},{key:"getFilterRectangle",value:function(){return this._filterRectangle}},{key:"setFilterRectangle",value:function(e){this._filterRectangle.copy(e)}},{key:"isVisible",value:function(){return this._visible}},{key:"setVisible",value:function(e){this._visible=e}}]),e}()})),Mt=z((function(){Ft(),At(),kt=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._children=[],e._filters=[],e}return Object(w.a)(n,[{key:"addFilter",value:function(e){this._filters.push(e)}},{key:"removeFilter",value:function(e){var t=this._filters.indexOf(e);return-1!==t&&(this._filters.splice(t,1),!0)}},{key:"setFilters",value:function(e){this._filters=e}},{key:"addChild",value:function(e){var t=e.getParent();t instanceof kt&&t.removeChild(e),e.setParent(this),this._children.push(e)}},{key:"prependChild",value:function(e){var t=e.getParent();t instanceof kt&&t.removeChild(e),e.setParent(this),this._children.unshift(e)}},{key:"hasChild",value:function(e){return-1!==this._children.indexOf(e)}},{key:"removeChild",value:function(e){var t=this._children.indexOf(e);-1!==t?(this._children.splice(t,1),e.setParent(null)):Ee.info(this.constructor.name,"Tried to remove a child that does not exist")}},{key:"clearChildren",value:function(){this._children=[]}},{key:"renderWebGL",value:function(e){if(this._visible){var t=e.getFilterManager();this._filters&&this._filters.length&&t.pushFilters(this,this._filters),e.getCurrentObjectRenderer().start(),this._renderWebGL(e),this._children.forEach((function(t){t.renderWebGL(e)})),e.getCurrentObjectRenderer().flush(),this._filters&&this._filters.length&&t.popFilters(),e.getCurrentObjectRenderer().start()}}},{key:"_renderWebGL",value:function(e){}},{key:"renderCanvas",value:function(e){if(this._visible){var t=e.getFilterManager();this._filters&&this._filters.length&&t.pushFilters(this,this._filters),this._renderCanvas(e),this._children.forEach((function(t){t.renderCanvas(e)})),this._filters&&this._filters.length&&t.popFilters()}}},{key:"_renderCanvas",value:function(e){}},{key:"updateTransform",value:function(){Object(m.a)(Object(p.a)(n.prototype),"updateTransform",this).call(this),this._children.forEach((function(e){e.updateTransform()}))}},{key:"getLocalBounds",value:function(){return this._localBoundsNeedUpdate&&(this._localBoundsNeedUpdate=!1),this._localBounds.clone()}},{key:"getBounds",value:function(){return this._boundsNeedUpdate&&(this._boundsNeedUpdate=!1),this._bounds.clone()}},{key:"getChildren",value:function(){return this._children}},{key:"getFilters",value:function(){return this._filters}},{key:"dispose",value:function(){}}]),n}(xt)}));function Pt(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var zt,Bt,Lt,Nt,Ut,Gt,Ht,Wt,Vt,qt,Kt,Xt,Yt,Qt,Zt,Jt,$t,en,tn,nn,rn,on,an,sn,ln,un,cn,fn,dn,hn=z((function(){wt=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],Ot=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24]})),pn=z((function(){Ct(),Bt=zt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:0,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:0,h=arguments.length>12&&void 0!==arguments[12]?arguments[12]:1,p=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,m=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,g=arguments.length>15&&void 0!==arguments[15]?arguments[15]:0,y=arguments.length>16&&void 0!==arguments[16]?arguments[16]:0,v=arguments.length>17&&void 0!==arguments[17]?arguments[17]:0,b=arguments.length>18&&void 0!==arguments[18]?arguments[18]:1,_=arguments.length>19&&void 0!==arguments[19]?arguments[19]:0;Object(k.a)(this,e),this.set(t,n,i,r,o,a,s,l,u,c,f,d,h,p,m,g,y,v,b,_)}return Object(w.a)(e,[{key:"set",value:function(e,t,n,i,r,o,a,s,l,u,c,f,d,h,p,m,g,y,v,b){this.a=e,this.b=t,this.c=n,this.d=i,this.e=r,this.f=o,this.g=a,this.h=s,this.i=l,this.j=u,this.k=c,this.l=f,this.m=d,this.n=h,this.o=p,this.p=m,this.q=g,this.r=y,this.s=v,this.t=b}},{key:"reset",value:function(){this.a=1,this.b=0,this.c=0,this.d=0,this.e=0,this.f=0,this.g=1,this.h=0,this.i=0,this.j=0,this.k=0,this.l=0,this.m=1,this.n=0,this.o=0,this.p=0,this.q=0,this.r=0,this.s=1,this.t=0}},{key:"apply",value:function(e){var t=this.a*e.r+this.b*e.g+this.c*e.b+this.d*e.a+this.e,n=this.f*e.r+this.g*e.g+this.h*e.b+this.i*e.a+this.j,i=this.k*e.r+this.l*e.g+this.m*e.b+this.n*e.a+this.o,r=this.p*e.r+this.q*e.g+this.r*e.b+this.s*e.a+this.t;return new ut(t,n,i,r)}},{key:"multiply",value:function(e){var t,n,i,r,o,a,s,l,u,c,f,d,h,p,m,g,y,v,b,_,x=e,k=this;return t=x.a*k.a+x.b*k.f+x.c*k.k+x.d*k.p,n=x.a*k.b+x.b*k.g+x.c*k.l+x.d*k.q,i=x.a*k.c+x.b*k.h+x.c*k.m+x.d*k.r,r=x.a*k.d+x.b*k.i+x.c*k.n+x.d*k.s,a=x.f*k.a+x.g*k.f+x.h*k.k+x.i*k.p,s=x.f*k.b+x.g*k.g+x.h*k.l+x.i*k.q,l=x.f*k.c+x.g*k.h+x.h*k.m+x.i*k.r,u=x.f*k.d+x.g*k.i+x.h*k.n+x.i*k.s,f=x.k*k.a+x.l*k.f+x.m*k.k+x.n*k.p,d=x.k*k.b+x.l*k.g+x.m*k.l+x.n*k.q,h=x.k*k.c+x.l*k.h+x.m*k.m+x.n*k.r,p=x.k*k.d+x.l*k.i+x.m*k.n+x.n*k.s,g=x.p*k.a+x.q*k.f+x.r*k.k+x.s*k.p,y=x.p*k.b+x.q*k.g+x.r*k.l+x.s*k.q,v=x.p*k.c+x.q*k.h+x.r*k.m+x.s*k.r,b=x.p*k.d+x.q*k.i+x.r*k.n+x.s*k.s,o=x.a*k.e+x.b*k.j+x.c*k.o+x.d*k.t+x.e,c=x.f*k.e+x.g*k.j+x.h*k.o+x.i*k.t+x.j,m=x.k*k.e+x.l*k.j+x.m*k.o+x.n*k.t+x.o,_=x.p*k.e+x.q*k.j+x.r*k.o+x.s*k.t+x.t,this.a=t,this.b=n,this.c=i,this.d=r,this.e=o,this.f=a,this.g=s,this.h=l,this.i=u,this.j=c,this.k=f,this.l=d,this.m=h,this.n=p,this.o=m,this.p=g,this.q=y,this.r=v,this.s=b,this.t=_,this}},{key:"clone",value:function(){var e=new zt;return e.set(this.a,this.b,this.c,this.d,this.e,this.f,this.g,this.h,this.i,this.j,this.k,this.l,this.m,this.n,this.o,this.p,this.q,this.r,this.s,this.t),e}},{key:"equals",value:function(e){return this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f&&this.g===e.g&&this.h===e.h&&this.i===e.i&&this.j===e.j&&this.k===e.k&&this.l===e.l&&this.m===e.m&&this.n===e.n&&this.o===e.o&&this.p===e.p&&this.q===e.q&&this.r===e.r&&this.s===e.s&&this.t===e.t}},{key:"getOffsets",value:function(){return[this.e,this.j,this.o,this.t]}},{key:"toString",value:function(){return"ColorMatrix( ".concat(this.a,", ").concat(this.b,", ").concat(this.c,", ").concat(this.d,", ").concat(this.e,",\n      ").concat(this.f,", ").concat(this.g,", ").concat(this.h,", ").concat(this.i,", ").concat(this.j,",\n      ").concat(this.k,", ").concat(this.l,", ").concat(this.m,", ").concat(this.n,", ").concat(this.o,",\n      ").concat(this.p,", ").concat(this.q,", ").concat(this.r,", ").concat(this.s,", ").concat(this.t," )")}},{key:"toArray",value:function(){var e=this;return"abcdefghijklmnopqrst".split("").map((function(t){return e[t]}))}}],[{key:"createBrightnessMatrix",value:function(e){var t=new zt;return t.e=e,t.j=e,t.o=e,t}},{key:"createContrastMatrix",value:function(e){var t=new zt,n=(1-e)/2;return t.a=t.g=t.m=e,t.e=t.j=t.o=n,t}},{key:"createSaturationMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new zt,n=1-e,i=.213*n,r=.715*n,o=.072*n;return t.a=i+e,t.b=r,t.c=o,t.f=i,t.g=r+e,t.h=o,t.k=i,t.l=r,t.m=o+e,t}},{key:"createExposureMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Math.pow(2,e);return new zt(t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0)}},{key:"createLinearMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new zt;return n.a=n.g=n.m=e,n.e=n.j=n.o=t,n}},{key:"IDENTITY",get:function(){return new zt}}]),e}()})),mn=z((function(){se(),We(),Ct(),jt(),pn(),Dt(),Ke(),Nt=Lt=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(k.a)(this,n),(e=t.call(this)).availableOptions=Object(T.a)({},Object.getPrototypeOf(Object(O.a)(e)).availableOptions,{},r),e._onConfigurableUpdate=e._onConfigurableUpdate.bind(Object(O.a)(e)),e._initOptions(i),e}return Object(w.a)(n,[{key:"_buildConfigError",value:function(e){var t="";return this.constructor.name&&(t="".concat(this.constructor.name,": ")),t+=e,new Error(t)}},{key:"_onOptionsChange",value:function(){}},{key:"validateSettings",value:function(){var e=this;return new Promise((function(t,n){for(var i in e.availableOptions){if(e.availableOptions[i].required&&"undefined"===typeof e._options[i])return n(e._buildConfigError("Option `".concat(i,"` is required.")))}t()}))}},{key:"_initOptions",value:function(){var e,t,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options={};var r=this;for(e in this.availableOptions){if(n=e.charAt(0).toUpperCase()+e.slice(1),t=this.availableOptions[e],-1===["string","number","boolean","object","vector2","color","configurable","color-matrix","array","image","function","*"].indexOf(t.type))throw this._buildConfigError("Unknown option type: `".concat(t.type,"`"));var o=function(e){r["set".concat(n)]=function(t,n,i){r.setOption(e,t,n,i)},r["get".concat(n)]=function(){return r.getOption(e)}};if(o(e),"configurable"===t.type&&(this._options[e]=new Lt(void 0,t.structure||{}),this._options[e].on("update",this._onConfigurableUpdate)),!(e in i)||"undefined"===typeof i[e])if("undefined"!==typeof t.default){var a=t.default;"function"===typeof t.default&&(a=t.default()),this["set".concat(n)](a,!1,!0)}else"configurable"!==t.type&&(this._options[e]=void 0)}for(e in i){if("undefined"===typeof this.availableOptions[e])throw new Error("Invalid option: ".concat(e));"undefined"!==typeof i[e]&&(n=e.charAt(0).toUpperCase()+e.slice(1),this["set".concat(n)](i[e],!1,!0))}}},{key:"set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object.keys(e).forEach((function(n){t.setOption(n,e[n],!1)})),this._onOptionsChange(),n&&this.emit("update",this,e)}},{key:"getOption",value:function(e){return this._options[e]}},{key:"hasOption",value:function(e){return!!this.availableOptions[e]}},{key:"getOptionDefault",value:function(e){var t=this.availableOptions[e];if(!t)throw new Error("Invalid option: ".concat(e));return t.default}},{key:"resetOptions",value:function(){this.set(this.getDefaultOptions())}},{key:"getDefaultOptions",value:function(){var e={};for(var t in this.availableOptions){var n=this.availableOptions[t].default;"undefined"!==typeof n&&(e[t]=n)}return e}},{key:"getOptions",value:function(){return Object(T.a)({},this._options)}},{key:"equals",value:function(e){var t=e.getOptions();return this.optionsEqual(t)}},{key:"optionsEqual",value:function(e){for(var t in e){var n=e[t];if(!this._optionEquals(t,n))return!1}return!0}},{key:"_optionEquals",value:function(e,t){if("undefined"===typeof this.availableOptions[e])throw new Error("Invalid option: ".concat(e));var n=this.availableOptions[e].type,i=this._options[e];if(i===t)return!0;if("undefined"===typeof t||"undefined"===typeof i)return!1;switch(n){case"object":return"function"===typeof i.optionsEqual?i.optionsEqual(t._options):i===t;case"string":case"number":case"boolean":case"function":case"*":return i===t;case"vector2":return i.equals(t);case"color":case"color-matrix":return t.equals(i);case"configurable":return i.optionsEqual(t);case"array":return this._arrayOptionEquals(e,t);case"image":return i.src===t.src}}},{key:"_arrayOptionEquals",value:function(e,t){var n=this._options[e];if(t.length!==n.length)return!1;for(var i=!0,r=0;r<n.length;r++){var o=n[r],a=t[r];if(o instanceof Lt){if("undefined"===typeof a||!o.optionsEqual(a)){i=!1;break}}else if(a!==o){i=!1;break}}return i}},{key:"serializeOptions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this._options),n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};return t.forEach((function(t){if("undefined"===typeof e.availableOptions[t])return Log.warn("Trying to serialize a key that does not exist: ".concat(t));!1!==e.availableOptions[t].serializable&&(i[t]=e.serializeOption(t,n))})),i}},{key:"serializeOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.availableOptions[e],i=n.type,r=this._options[e];if(!r)return r;if(!1===n.serializable)throw new Error("Option `".concat(e,"` is not serializable."));switch(i){case"string":case"number":case"boolean":case"object":case"function":case"*":return r;case"vector2":return t?r.toObject():r.clone();case"color":case"color-matrix":return t?r.toArray():r.clone();case"configurable":return r.serializeOptions(void 0,t);case"array":return r.slice(0);case"image":return t?r.src:r}}},{key:"setOption",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.availableOptions[e];if(!r)throw new Error("Invalid option: ".concat(e));if("undefined"!==typeof r.setter&&(t=r.setter.call(this,t,i)),"undefined"!==typeof r.validation&&r.validation(t),null===t||"undefined"===typeof t){if(r.required)throw this._buildConfigError("Option `".concat(e,"` is required."));this._options[e]=t}else switch(r.type){case"string":if("string"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a string."));var o=r.available;if("undefined"!==typeof o&&-1===o.indexOf(t))throw this._buildConfigError("Invalid value for `".concat(e,"` (valid values are: ").concat(r.available.join(", "),")"));this._options[e]=t;break;case"number":if("number"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a number."));this._options[e]=t;break;case"boolean":if("boolean"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a boolean."));this._options[e]=t;break;case"vector2":if(!(t instanceof gt)&&("object"!==typeof t||!("x"in t)||!("y"in t)))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of Vector2 or an Object holding x and y values."));this._options[e]=t instanceof gt?t.clone():gt.fromObject(t);break;case"color":if(!(t instanceof ut))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of Color."));this._options[e]=t;break;case"color-matrix":if(!(t instanceof Bt))throw this._buildConfigError("Option `".concat(e,"` has to be an instance of ColorMatrix."));this._options[e]=t.clone();break;case"function":if("function"!==typeof t)throw this._buildConfigError("Option `".concat(e,"` has to be a function."));this._options[e]=t;break;case"object":case"*":this._options[e]=t;break;case"image":var a=de,s=a.Image;if("string"===typeof t){var l=new s;me(l)&&(l.crossOrigin=ke.getCrossOriginValue(r.crossOrigin)),l.src=t,this._options[e]=l}else{if(!(t instanceof s||"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!==typeof HTMLImageElement&&t instanceof HTMLImageElement))throw this._buildConfigError("Option `".concat(e,"` has to be an Image, Canvas or String."));this._options[e]=t}break;case"configurable":t instanceof Lt?this._options[e]=t:this._options[e].set(t);break;case"array":if(!(t instanceof Array))throw this._buildConfigError("Option `".concat(e,"` has to be an Array."));this._options[e]=t.slice(0);break;default:throw this._buildConfigError("Unknown option type: `".concat(r.type,"`"))}n&&(this._onOptionsChange(),this.emit("update",this,Object(g.a)({},e,t)))}},{key:"_onConfigurableUpdate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.emit.apply(this,["update"].concat(t))}},{key:"hasChanges",value:function(){var e=this.getDefaultOptions();return!this.optionsEqual(e)}}]),n}(ct)})),gn=z((function(){se(),Ft(),Ft(),Ut=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];Object(k.a)(this,e),this._program=null,this._renderer=t,this._vertexSource=n,this._fragmentSource=i,this._uniforms=r,this._uniformLocations={},this._attributes=o,this._attributeLocations={},this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange),this._init()}return Object(w.a)(e,[{key:"_init",value:function(){this._compile(),this._renderer.getContext().useProgram(this._program),this._cacheUniformLocations(),this._cacheAttributeLocations()}},{key:"_onContextChange",value:function(){this._init()}},{key:"setupBuffers",value:function(e,t){var n=this._renderer.getContext();n.bindBuffer(n.ARRAY_BUFFER,e),n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t),n.vertexAttribPointer(this._attributeLocations.a_position,2,n.FLOAT,!1,_t,0),n.vertexAttribPointer(this._attributeLocations.a_texCoord,2,n.FLOAT,!1,_t,8),n.vertexAttribPointer(this._attributeLocations.a_color,4,n.UNSIGNED_BYTE,!0,_t,16)}},{key:"syncUniforms",value:function(){var e=this;Object.keys(this._uniforms).forEach((function(t){e.syncUniform(t)}))}},{key:"syncUniform",value:function(e){var t=this._renderer.getContext(),n=this._uniforms[e],i=this._uniformLocations[e];switch(n.type){case"sampler2d":t.uniform1i(i,n.value);break;case"i":case"1i":t.uniform1i(i,n.value);break;case"2i":t.uniform2i(i,n.value[0],n.value[1]);break;case"3i":t.uniform3i(i,n.value[0],n.value[1],n.value[2]);break;case"4i":t.uniform4i(i,n.value[0],n.value[1],n.value[2],n.value[3]);break;case"f":case"1f":t.uniform1f(i,n.value);break;case"2f":t.uniform2f(i,n.value[0],n.value[1]);break;case"3f":t.uniform3f(i,n.value[0],n.value[1],n.value[2]);break;case"4f":t.uniform4f(i,n.value[0],n.value[1],n.value[2],n.value[3]);break;case"2fv":t.uniform2fv(i,n.value);break;case"mat3":case"mat3fv":t.uniformMatrix3fv(i,!1,n.value);break;case"mat4":t.uniformMatrix4fv(i,!1,n.value);break;default:Ee.warn(this.constructor.name,"Unknown uniform type: ".concat(n.type))}}},{key:"_cacheAttributeLocations",value:function(){var e=this,t=this._renderer.getContext();this._attributes.forEach((function(n){e._program&&(e._attributeLocations[n]=t.getAttribLocation(e._program,n))}))}},{key:"_cacheUniformLocations",value:function(){var e=this,t=this._renderer.getContext();Object.keys(this._uniforms).forEach((function(n){if(e._program){var i=t.getUniformLocation(e._program,n);i&&(e._uniformLocations[n]=i)}}))}},{key:"_addPrecisionToSource",value:function(e){var t=this._renderer.getMaxFloatPrecision(),n="mediump";return ke.isMobile()&&"highp"===t&&(n="highp"),"precision ".concat(n," float;\n").concat(e)}},{key:"_compile",value:function(){var e=this._renderer.getContext(),t=this._compileShader(e.VERTEX_SHADER,this._vertexSource);this._vertexShader=t;var n=this._addPrecisionToSource(this._fragmentSource),i=this._compileShader(e.FRAGMENT_SHADER,n);this._fragmentShader=i;var r=e.createProgram();if(r)if(e.attachShader(r,t),e.attachShader(r,i),e.linkProgram(r),e.getProgramParameter(r,e.LINK_STATUS))this._program=r;else{var o=e.getProgramInfoLog(r);e.isContextLost()&&(o="WebGL context lost"),e.deleteProgram(r),Ee.error(this.constructor.name,"WebGL program linking error: ".concat(o))}}},{key:"_compileShader",value:function(e,t){var n=this._renderer.getContext(),i=n.createShader(e);if(!i)throw new Error("Cannot create shared: ".concat(JSON.stringify(e)));if(n.shaderSource(i,t),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var r=n.getShaderInfoLog(i);n.isContextLost()&&(r="WebGL context lost"),n.deleteShader(i),Ee.error(this.constructor.name,"WebGL shader compilation error: ".concat(r))}return i}},{key:"setUniform",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._uniforms[e].value=t,n&&this.syncUniform(e)}},{key:"setUniforms",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.keys(e).forEach((function(i){t._uniforms[i].value=e[i],n&&t.syncUniform(i)}))}},{key:"getUniforms",value:function(){return this._uniforms}},{key:"getAttributes",value:function(){return this._attributes}},{key:"getAttributeLocations",value:function(){return this._attributeLocations}},{key:"getProgram",value:function(){return this._program}},{key:"dispose",value:function(){var e=this._renderer.getContext();e.deleteProgram(this._program),e.deleteShader(this._vertexShader),e.deleteShader(this._fragmentShader),this._renderer.off("context",this._onContextChange)}}]),e}()})),yn=z((function(){Gt="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = texture2D(u_image, v_texCoord) * v_color;\n}\n"})),vn=z((function(){Ht="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\nuniform mat3 u_projMatrix;\n\nvoid main() {\n  gl_Position = vec4((u_projMatrix * vec3(a_position, 1)).xy, 0, 1);\n  v_texCoord = a_texCoord;\n  v_color = vec4(a_color.rgb * a_color.a, a_color.a);\n}\n"})),bn=z((function(){se(),Ft(),gn(),yn(),vn(),Wt=new yt,Vt={vertexSource:Ht,fragmentSource:Gt,uniforms:{u_image:{type:"sampler2d",value:0},u_projMatrix:{type:"mat3",value:Wt.toArray()}},attributes:["a_position","a_texCoord","a_color"]},qt=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt.vertexSource,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt.fragmentSource;return Object(k.a)(this,n),t.call(this,e,i,r,Vt.uniforms,Vt.attributes)}return n}(Ut)})),_n=z((function(){gn(),bn()})),xn=z((function(){V(),hn(),se(),mn(),Ft(),_n(),We(),Kt=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(k.a)(this,n),(e=t.call(this,i,r))._initOptions(i),e}return Object(w.a)(n,[{key:"_initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._shaders=[],this._availableUniforms=Vt.uniforms,this._attributes=Vt.attributes,this._vertexSource=Vt.vertexSource,this._fragmentSource=Vt.fragmentSource,this._initUniforms(),Object(m.a)(Object(p.a)(n.prototype),"_initOptions",this).call(this,e)}},{key:"_initUniforms",value:function(){for(var e in this._uniforms={},this._availableUniforms){var t=this._availableUniforms[e];this._uniforms[e]={type:t.type,value:t.default||null}}for(var n in this.availableOptions){var i=this.availableOptions[n];i.uniformType?this._uniforms["u_".concat(n)]={type:i.uniformType,value:i.default||null}:Ee.trace(this.constructor.name,"Option `".concat(n,"` is missing a `uniformType`!"))}}},{key:"setOption",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(m.a)(Object(p.a)(n.prototype),"setOption",this).call(this,e,t,i);var r=t,o=this.availableOptions[e];if(o.uniformType){var a="u_".concat(e);switch(o.type){case"color":"4f"===o.uniformType?r=t.toGLColor():"3f"===o.uniformType&&(r=t.toRGBGLColor());break;case"vector2":r=[t.x,t.y];break;case"color-matrix":r=[t.a,t.b,t.c,t.d,t.f,t.g,t.h,t.i,t.k,t.l,t.m,t.n,t.p,t.q,t.r,t.s];var s=[t.e,t.j,t.o,t.t];this._uniforms["".concat(a,"_vec")]={value:s,type:"4f"}}this.setUniform(a,r)}}},{key:"setUniform",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._uniforms[e].value=t}},{key:"setUniforms",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object.entries(e).forEach((function(e){var i=Object(y.a)(e,2),r=i[0],o=i[1];t._uniforms[r].value=o,n&&t.syncUniform(r)}))}},{key:"syncUniform",value:function(e){this._shaders.forEach((function(t){t.syncUniform(e)}))}},{key:"syncUniforms",value:function(){this._shaders.forEach((function(e){e.syncUniforms()}))}},{key:"getShaderForRenderer",value:function(e){var t=e.id;this._shaders||(this._shaders=[]);var n=this._shaders[t];return n||(n=new Ut(e,this._vertexSource,this._fragmentSource,this._uniforms,this._attributes),this._shaders[t]=n),n}},{key:"apply",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];he(e)?this._applyWebGL(e,t,n,i):this._applyCanvas(e,t,n,i)}},{key:"_applyWebGL",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.getContext(),o=this.getShaderForRenderer(e);e.setRenderTarget(n),i&&n.clear(),e.setShader(o);var a=e.getCurrentRenderTarget().getProjectionMatrix().toArray();o.setUniform("u_projMatrix",a),o.syncUniforms(),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t.getTexture()),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0)}},{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getCanvas(),r=n.getContext();Ee.warn(this.constructor.name,"`_applyCanvas` is not implemented. Just copying image data from `inputTarget` to `outputTarget`."),r.clearRect(0,0,i.width,i.height),r.drawImage(i,0,0)}},{key:"dispose",value:function(){this._shaders.forEach((function(e){return e.dispose()})),this._shaders=[]}},{key:"_blurImage",value:function(e,t,n){var i=e.getCanvas(),r=Math.min(1,10/(n*Math.min(i.width,i.height))),a=ke.createCanvas();a.width=Math.round(i.width*r),a.height=Math.round(i.height*r);var s=a.getContext("2d");s.drawImage(i,0,0,i.width,i.height,0,0,a.width,a.height);var l=n*Math.min(a.width,a.height),u=s.getImageData(0,0,a.width,a.height);!function(e,t,n,i,r,o){if(!(isNaN(o)||o<1)){o|=0;var a,s,l,u,c,f,d,h,p,m,g,y,v,b,_,x,k,w,O,S,C,j,T,E,D,I=e.data,R=o+o+1,F=i-1,A=r-1,M=o+1,P=M*(M+1)/2,z=new Pt,B=z;for(l=1;l<R;l++)B=B.next=new Pt,l==M&&(D=B);B.next=z;var L=null,N=null;d=f=0;var U=wt[o],G=Ot[o];for(s=0;s<r;s++){for(x=k=w=O=h=p=m=g=0,y=M*(S=I[f]),v=M*(C=I[f+1]),b=M*(j=I[f+2]),_=M*(T=I[f+3]),h+=P*S,p+=P*C,m+=P*j,g+=P*T,B=z,l=0;l<M;l++)B.r=S,B.g=C,B.b=j,B.a=T,B=B.next;for(l=1;l<M;l++)u=f+((F<l?F:l)<<2),h+=(B.r=S=I[u])*(E=M-l),p+=(B.g=C=I[u+1])*E,m+=(B.b=j=I[u+2])*E,g+=(B.a=T=I[u+3])*E,x+=S,k+=C,w+=j,O+=T,B=B.next;for(L=z,N=D,a=0;a<i;a++)I[f+3]=T=g*U>>G,0!==T?(T=255/T,I[f]=(h*U>>G)*T,I[f+1]=(p*U>>G)*T,I[f+2]=(m*U>>G)*T):I[f]=I[f+1]=I[f+2]=0,h-=y,p-=v,m-=b,g-=_,y-=L.r,v-=L.g,b-=L.b,_-=L.a,u=d+((u=a+o+1)<F?u:F)<<2,h+=x+=L.r=I[u],p+=k+=L.g=I[u+1],m+=w+=L.b=I[u+2],g+=O+=L.a=I[u+3],L=L.next,y+=S=N.r,v+=C=N.g,b+=j=N.b,_+=T=N.a,x-=S,k-=C,w-=j,O-=T,N=N.next,f+=4;d+=i}for(a=0;a<i;a++){for(k=w=O=x=p=m=g=h=0,y=M*(S=I[f=a<<2]),v=M*(C=I[f+1]),b=M*(j=I[f+2]),_=M*(T=I[f+3]),h+=P*S,p+=P*C,m+=P*j,g+=P*T,B=z,l=0;l<M;l++)B.r=S,B.g=C,B.b=j,B.a=T,B=B.next;for(c=i,l=1;l<=o;l++)f=c+a<<2,h+=(B.r=S=I[f])*(E=M-l),p+=(B.g=C=I[f+1])*E,m+=(B.b=j=I[f+2])*E,g+=(B.a=T=I[f+3])*E,x+=S,k+=C,w+=j,O+=T,B=B.next,l<A&&(c+=i);for(f=a,L=z,N=D,s=0;s<r;s++)I[(u=f<<2)+3]=T=g*U>>G,T>0?(T=255/T,I[u]=h*U>>G,I[u+1]=p*U>>G,I[u+2]=m*U>>G):I[u]=I[u+1]=I[u+2]=0,h-=y,p-=v,m-=b,g-=_,y-=L.r,v-=L.g,b-=L.b,_-=L.a,u=a+((u=s+M)<A?u:A)*i<<2,h+=x+=L.r=I[u],p+=k+=L.g=I[u+1],m+=w+=L.b=I[u+2],g+=O+=L.a=I[u+3],L=L.next,y+=S=N.r,v+=C=N.g,b+=j=N.b,_+=T=N.a,x-=S,k-=C,w-=j,O-=T,N=N.next,f+=i}}}(u,0,0,a.width,a.height,l),s.putImageData(u,0,0),t.getContext().drawImage(a,0,0,a.width,a.height,0,0,i.width,i.height),o(a)}}]),n}(Nt)})),kn=z((function(){Xt="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(color.a > 0. ? color.rgb / color.a : vec3(0), color.a);\n}\n"})),wn=z((function(){xn(),kn(),Yt=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Xt,e}return n}(Kt)})),On=z((function(){Qt="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(mix(color.rgb, u_color.rgb, u_color.a), color.a) * color.a;\n}\n"})),Sn=z((function(){Ft(),xn(),On(),Zt=$.OptionType,Jt=$.UniformType,($t=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=Qt,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=this._options.color,s=r.getImageData(0,0,i.width,i.height),l=o.getImageData(0,0,i.width,i.height),u=i.width*i.height,c=new ut,f=new ut,d=0;d<4*u;d+=4){c.set(s.data[d]/255,s.data[d+1]/255,s.data[d+2]/255,s.data[d+3]/255),f.set(l.data[d]/255,l.data[d+1]/255,l.data[d+2]/255,l.data[d+3]/255);var h=f.r+c.a*(c.r-f.r);l.data[d]=255*(h+c.a*(a.r-h));var p=f.g+c.a*(c.g-f.g);l.data[d+1]=255*(p+c.a*(a.g-p));var m=f.b+c.a*(c.b-f.b);l.data[d+2]=255*(m+c.a*(a.b-m))}o.putImageData(l,0,0)}}]),n}(Kt)).prototype.availableOptions={color:{type:Zt.COLOR,default:ut.WHITE,uniformType:Jt.FLOAT4}},en=$t})),Cn=z((function(){tn="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\nuniform int u_mode;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\nconst float EPSILON = 0.0000001;\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord); // Is premultiplied.\n    color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha.\n    vec4 newColor;\n    if (u_mode == 0) {\n        newColor = vec4(color.rgb, 1.0); // We use alpha 1.0 becaue color is not premultiplied.\n        newColor *= color.a; // Premultiply the result\n    } else if (u_mode == 1) {\n        newColor = vec4(u_color.rgb, 1.0); // Use alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    } else if (u_mode == 2) {\n        float luminance = dot(color.rgb, W); // Convert to color to gray value.\n        newColor = vec4(vec3(luminance) * u_color.rgb, 1.0); // Colorize and with alpha 1.0 because it is not premultiplied.\n        newColor *= color.a * u_color.a; // Changed alpha and premultiplied the result.\n    }\n    gl_FragColor = newColor;\n}"})),jn=z((function(){Ft(),xn(),Cn(),nn=$.OptionType,rn=$.UniformType,(on=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=tn,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options,l=s.mode,u=s.color,c=u.r,f=u.g,d=u.b,h=u.a,p=[.2125,.7154,.0721];switch(l){case on.MODES.SOLID:for(var m=0;m<i.width*i.height;m++){var g=4*m;a.data[g]+=(255*c-a.data[g])*h,a.data[g+1]+=(255*f-a.data[g+1])*h,a.data[g+2]+=(255*d-a.data[g+2])*h}break;case on.MODES.COLORIZED:for(var y=0;y<i.width*i.height;y++){var v=4*y,b=a.data[v]/255*p[0]+a.data[v+1]/255*p[1]+a.data[v+2]/255*p[2],_=new ut(b*c,b*f,b*d);a.data[v]+=(255*_.r-a.data[v])*h,a.data[v+1]+=(255*_.g-a.data[v+1])*h,a.data[v+2]+=(255*_.b-a.data[v+2])*h}}o.putImageData(a,0,0)}}]),n}(Kt)).MODES={NONE:0,SOLID:1,COLORIZED:2},on.prototype.availableOptions={color:{type:nn.COLOR,default:ut.WHITE,uniformType:rn.FLOAT4},mode:{type:nn.NUMBER,default:on.MODES.NONE,uniformType:rn.INT}},an=on})),Tn=z((function(){sn="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform sampler2D u_overlayImage;\nuniform int u_blendMode;\nuniform float u_alpha;\n\nconst float EPSILON = 0.000001;\n\nvec4 overlay(vec4 a, vec4 b) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 hardLight(vec4 b, vec4 a) {\n    vec3 result = mix(\n          1.0 - 2.0 * (1.0 - a.rgb) * (1.0 - b.rgb),\n          2.0 * a.rgb * b.rgb,\n          vec3(a.r < 0.5, a.g < 0.5, a.b < 0.5)\n      );\n    return mix(b, vec4(result, b.a), u_alpha * a.a);\n}\n\nvec4 softLight(vec4 a, vec4 b) {\n    vec3 result = mix(\n          2.0 * a.rgb * (1.0 - b.rgb) + (2.0 * b.rgb - 1.0) * sqrt(a.rgb),\n          2.0 * a.rgb * b.rgb + a.rgb * a.rgb * (1.0 - 2.0 * b.rgb),\n          vec3(b.r < 0.5, b.g < 0.5, b.b < 0.5)\n      );\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 multiply(vec4 a, vec4 b) {\n    vec3 result = a.rgb * b.rgb;\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 darken(vec4 a, vec4 b) {\n    vec3 result = min(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 lighten(vec4 a, vec4 b) {\n    vec3 result = max(a.rgb, b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 screen(vec4 a, vec4 b) {\n    vec3 result = 1.0 - (1.0 - a.rgb) * (1.0 - b.rgb);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 colorBurn(vec4 a, vec4 b) {\n    vec3 result = clamp(1.0 - (1.0 - a.rgb) / max(b.rgb, EPSILON), 0.0, 1.0);\n    return mix(a, vec4(result, a.a), u_alpha * b.a);\n}\n\nvec4 normal(vec4 a, vec4 b) {\n    return mix(a, vec4(b.rgb, a.a), u_alpha * b.a);\n}\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 overlayColor = texture2D(u_overlayImage, v_texCoord);\n\n  vec4 resultColor;\n  if (u_blendMode == 0) {\n    resultColor = normal(color, overlayColor);\n  } else if (u_blendMode == 1) {\n    resultColor = overlay(color, overlayColor);\n  } else if (u_blendMode == 2) {\n    resultColor = hardLight(color, overlayColor);\n  } else if (u_blendMode == 3) {\n    resultColor = softLight(color, overlayColor);\n  } else if (u_blendMode == 4) {\n    resultColor = multiply(color, overlayColor);\n  } else if (u_blendMode == 5) {\n    resultColor = darken(color, overlayColor);\n  } else if (u_blendMode == 6) {\n    resultColor = lighten(color, overlayColor);\n  } else if (u_blendMode == 7) {\n    resultColor = screen(color, overlayColor);\n  } else if (u_blendMode == 8) {\n    resultColor = colorBurn(color, overlayColor);\n  }\n  gl_FragColor = vec4(resultColor.rgb * resultColor.a, resultColor.a);\n}\n"})),En=z((function(){Ft(),xn(),Tn(),ln=$.OptionType,un=$.UniformType,cn=1e-6,(fn=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=sn,e._lastImage=null,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=this._options.overlayTexture.getRenderTarget().getContext(),r=t.getCanvas(),o=t.getContext(),a=n.getContext(),s=o.getImageData(0,0,r.width,r.height),l=i.getImageData(0,0,r.width,r.height),u=this._options,c=u.blendMode,f=u.alpha,d=new ut,h=new ut,p=new ut,m=0;m<r.width*r.height*4;m+=4){d.set(s.data[m]/255,s.data[m+1]/255,s.data[m+2]/255,s.data[m+3]/255),h.set(l.data[m]/255,l.data[m+1]/255,l.data[m+2]/255,l.data[m+3]/255);var g=void 0,y=void 0,v=void 0,b=void 0,_=void 0,x=void 0,k=void 0,w=void 0,O=void 0;switch(c){case fn.BLEND_MODES.NORMAL:p.set(d.r+h.a*f*(h.r-d.r),d.g+h.a*f*(h.g-d.g),d.b+h.a*f*(h.b-d.b),d.a);break;case fn.BLEND_MODES.OVERLAY:g=1-2*(1-d.r)*(1-h.r),y=2*d.r*h.r,v=g+(d.r<.5?1:0)*(y-g),b=1-2*(1-d.g)*(1-h.g),_=2*d.g*h.g,x=b+(d.g<.5?1:0)*(_-b),k=1-2*(1-d.b)*(1-h.b),w=2*d.b*h.b,O=k+(d.b<.5?1:0)*(w-k),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.HARD_LIGHT:g=1-2*(1-h.r)*(1-d.r),y=2*h.r*d.r,v=g+(h.r<.5?1:0)*(y-g),b=1-2*(1-h.g)*(1-d.g),_=2*h.g*d.g,x=b+(h.g<.5?1:0)*(_-b),k=1-2*(1-h.b)*(1-d.b),w=2*h.b*d.b,O=k+(h.b<.5?1:0)*(w-k),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.SOFT_LIGHT:g=2*d.r*(1-h.r)+(2*h.r-1)*Math.sqrt(d.r),y=2*d.r*h.r+d.r*d.r*(1-2*h.r),v=g+(h.r<.5?1:0)*(y-g),b=2*d.g*(1-h.g)+(2*h.g-1)*Math.sqrt(d.g),_=2*d.g*h.g+d.g*d.g*(1-2*h.g),x=b+(h.g<.5?1:0)*(_-b),k=2*d.b*(1-h.b)+(2*h.b-1)*Math.sqrt(d.b),w=2*d.b*h.b+d.b*d.b*(1-2*h.b),O=k+(h.b<.5?1:0)*(w-k),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.MULTIPLY:v=d.r*h.r,x=d.g*h.g,O=d.b*h.b,p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.DARKEN:v=Math.min(d.r,h.r),x=Math.min(d.g,h.g),O=Math.min(d.b,h.b),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.LIGHTEN:v=Math.max(d.r,h.r),x=Math.max(d.g,h.g),O=Math.max(d.b,h.b),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.SCREEN:v=1-(1-d.r)*(1-h.r),x=1-(1-d.g)*(1-h.g),O=1-(1-d.b)*(1-h.b),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a);break;case fn.BLEND_MODES.COLOR_BURN:v=Math.max(0,Math.min(1,1-(1-d.r)/Math.max(h.r,cn))),x=Math.max(0,Math.min(1,1-(1-d.g)/Math.max(h.g,cn))),O=Math.max(0,Math.min(1,1-(1-d.b)/Math.max(h.b,cn))),p.set(d.r+h.a*f*(v-d.r),d.g+h.a*f*(x-d.g),d.b+h.a*f*(O-d.b),d.a)}s.data[m]=255*p.r,s.data[m+1]=255*p.g,s.data[m+2]=255*p.b,s.data[m+3]=255*p.a}a.putImageData(s,0,0)}}]),n}(Kt)).BLEND_MODES={NORMAL:0,OVERLAY:1,HARD_LIGHT:2,SOFT_LIGHT:3,MULTIPLY:4,DARKEN:5,LIGHTEN:6,SCREEN:7,COLOR_BURN:8},fn.prototype.availableOptions={blendMode:{type:ln.NUMBER,default:fn.BLEND_MODES.NORMAL,uniformType:un.INT},overlayImage:{type:ln.NUMBER,required:!0,uniformType:un.SAMPLER2D},overlayTexture:{type:ln.OBJECT,required:!0},alpha:{type:ln.NUMBER,default:1,uniformType:un.FLOAT}},dn=fn})),Dn={};L(Dn,{ColorOverlayFilter:function(){return en},OverlayFilter:function(){return dn},TintFilter:function(){return an},UnpremultiplyFilter:function(){return Yt}});var In,Rn,Fn,An,Mn,Pn,zn,Bn,Ln,Nn,Un,Gn,Hn,Wn,Vn,qn,Kn,Xn,Yn,Qn,Zn,Jn,$n,ei,ti,ni,ii,ri,oi,ai,si,li,ui,ci,fi,di,hi=z((function(){wn(),Sn(),jn(),En()})),pi=z((function(){var e;Ft(),We(),e={},Object(g.a)(e,1,"LINEAR"),Object(g.a)(e,0,"NEAREST"),Object(g.a)(e,2,"LINEAR_MIPMAP_NEAREST"),Object(g.a)(e,3,"LINEAR_MIPMAP_LINEAR"),In=e,(Fn=Rn=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this))._renderers=[],i._glTextures={},i._dirty=!0,i._mipMapping=!1,i._glUnit=0,i._magFilter=Rn.DefaultMagFilter,i._minFilter=Rn.DefaultMinFilter,i._repeatX=0,i._repeatY=0,i._pixelRatio=1,i._loaded=!1,i._frame=new vt(0,0,100,100),i._onSourceLoaded=i._onSourceLoaded.bind(Object(O.a)(i)),i._source=e,i._loadSource(),i}return Object(w.a)(n,[{key:"resizeTo",value:function(e){this._frame.width===e.x&&this._frame.height===e.y||(this._frame.width=e.x,this._frame.height=e.y,this._dirty=!0)}},{key:"_loadSource",value:function(){var e=this._source;if(e)return de.isCanvas(e)||e.complete?this._onSourceLoaded():void(e.addEventListener&&e.addEventListener("load",this._onSourceLoaded))}},{key:"_onSourceLoaded",value:function(){this._loaded=!0,this.emit("loaded"),this.update()}},{key:"_updateGLFilters",value:function(){if(this._source){var e=new gt(this._source.width,this._source.height);ke.isPowerOfTwo(e)?(Ee.info(this.constructor.name,"Mip-mapping enabled"),this._minFilter=Rn.TrilinearFilter,this._mipMapping=!0):(this._minFilter=Rn.LinearFilter,this._mipMapping=!1)}}},{key:"update",value:function(){this._source&&(this._frame.width===this._source.width&&this._frame.height===this._source.height||(this._frame=new vt(0,0,this._source.width,this._source.height),this._dirty=!0),this._updateGLFilters(),this.emit("update"))}},{key:"getRenderers",value:function(){return Object(x.a)(this._renderers)}},{key:"getGLFilter",value:function(e,t){switch(t){case"min":return e[In[this._minFilter]];case"mag":return e[In[this._magFilter]]}}},{key:"isLoaded",value:function(){return this._loaded}},{key:"setLoaded",value:function(e){this._loaded=e}},{key:"getSource",value:function(){return this._source}},{key:"setSource",value:function(e){this._source=e}},{key:"getGLTextureForRenderer",value:function(e){return this._glTextures[e.id]}},{key:"setGLTextureForRenderer",value:function(e,t){this._renderers[t.id]=t,this._glTextures[t.id]=e}},{key:"getFrame",value:function(){return this._frame}},{key:"setFrame",value:function(e){this._frame=e}},{key:"getDimensions",value:function(){return new gt(this._frame.width,this._frame.height)}},{key:"getPixelRatio",value:function(){return this._pixelRatio}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e}},{key:"getGLUnit",value:function(){return this._glUnit}},{key:"setGLUnit",value:function(e){this._glUnit=e}},{key:"setMinFilter",value:function(e){this._minFilter=e}},{key:"getMinFilter",value:function(){return this._minFilter}},{key:"setMagFilter",value:function(e){this._magFilter=e}},{key:"getMagFilter",value:function(){return this._magFilter}},{key:"setRepeatX",value:function(e){this._repeatX=e}},{key:"getRepeatX",value:function(){return this._repeatX}},{key:"setRepeatY",value:function(e){this._repeatY=e}},{key:"getRepeatY",value:function(){return this._repeatY}},{key:"getGLRepeat",value:function(e,t){switch("x"===t?this.getRepeatX():this.getRepeatY()){case 0:return e.CLAMP_TO_EDGE;case 1:return e.REPEAT;case 2:return e.MIRRORED_REPEAT;default:return 0}}},{key:"isDirty",value:function(){return this._dirty}},{key:"setDirty",value:function(e){this._dirty=e}},{key:"disposeGLTextures",value:function(){var e=this;this._renderers.forEach((function(t){he(t)&&e.disposeGLTexturesForRenderer(t)}))}},{key:"disposeGLTexturesForRenderer",value:function(e){this._glTextures[e.id]&&(e.getContext().deleteTexture(this._glTextures[e.id]),delete this._glTextures[e.id],this._renderers[e.id]||delete this._renderers[e.id])}},{key:"isMipMappingEnabled",value:function(){return this._mipMapping}},{key:"setMipMappingEnabled",value:function(e){this._mipMapping=e}},{key:"dispose",value:function(){this.disposeGLTextures(),this._source=void 0}}]),n}(ct)).NearestFilter=0,Fn.LinearFilter=1,Fn.BilinearFilter=2,Fn.TrilinearFilter=3,Fn.DefaultMagFilter=1,Fn.DefaultMinFilter=1,Fn.Repeat=1,Fn._id=0})),mi=z((function(){Ft(),pi(),We(),An=function(){function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:de.createCanvas(),o=arguments.length>4?arguments[4]:void 0;Object(k.a)(this,e),this._width=t,this._height=n,this._pixelRatio=i,this._baseTexture=new Fn,this._canvas=r;var a=o||this._canvas.getContext("2d");if(!a)throw new Error("Cannot get canvas context");this._context=a,this._baseTexture.setSource(this._canvas),this._canvas.width=this._width*this._pixelRatio,this._canvas.height=this._height*this._pixelRatio,this._filterStack=[{renderTarget:this,filters:[]}]}return Object(w.a)(e,[{key:"clear",value:function(){var e=this._context;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio)}},{key:"resizeTo",value:function(e){this._baseTexture.resizeTo(e),this._width!==e.x&&(this._width=e.x,this._canvas.width=this._width*this._pixelRatio),this._height!==e.y&&(this._height=e.y,this._canvas.height=this._height*this._pixelRatio)}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getContext",value:function(){return this._context}},{key:"getFilterStack",value:function(){return this._filterStack}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"getPixelRatio",value:function(){return this._pixelRatio}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e}},{key:"getDimensions",value:function(){return new gt(this._width,this._height)}},{key:"getBaseTexture",value:function(){return this._baseTexture}},{key:"dispose",value:function(){delete this._canvas,delete this._context,this._baseTexture.dispose()}}]),e}()})),gi=z((function(){Ft(),mi(),Mn=function(){function e(t){Object(k.a)(this,e),this._renderer=t,this._filterStack=[{renderTarget:t.getCurrentRenderTarget(),filters:[]}],this._textures=[],this._textureFrame=new vt(0,0,t.getWidth(),t.getHeight())}return Object(w.a)(e,[{key:"resizeTo",value:function(e){this._textureFrame.width=e.x,this._textureFrame.height=e.y,this._textures.forEach((function(t){return t.resizeTo(e)}))}},{key:"pushFilters",value:function(e,t){this._currentFrame=e.getBounds();var n=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(n),this._filterStack.push({renderTarget:n,filters:t}),n.clear()}},{key:"popFilters",value:function(){var e=this._filterStack.pop();if(e){var t=e.filters,n=e.renderTarget,i=this._filterStack[this._filterStack.length-1].renderTarget;if(1===t.length)t[0].apply(this._renderer,n,i),this._textures.push(n);else this._applyFilters(t,n,i);return t}}},{key:"_applyFilters",value:function(e,t,n){var i=this,r=t,o=this._getOrCreateRenderTarget(!0),a=e[e.length-1];e.forEach((function(e){if(e===a)e.apply(i._renderer,r,n);else{e.apply(i._renderer,r,o);var t=r;r=o,o=t}})),this._textures.push(r),this._textures.push(o)}},{key:"_getOrCreateRenderTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._textures.pop();return t||(t=new An(this._textureFrame.width,this._textureFrame.height,1)),e&&t.clear(),t}},{key:"setFilterStack",value:function(e){this._filterStack=e}},{key:"dispose",value:function(){}}]),e}()})),yi=B((function(e,t){(function(){var e,n,r,o,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:"undefined"!==typeof i&&null!==i&&i.hrtime?(t.exports=function(){return(e()-a)/1e6},n=i.hrtime,o=(e=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*i.uptime(),a=o-s):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(e)})),vi=z((function(){Ft(),Pn="undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):yi(),zn=function(){function e(t){var n=this;Object(k.a)(this,e),this._context=t,this._tracking=!1;var i=this,r=function(e){"function"===typeof t[e]?n[e]=function(){for(var n=t[e],r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];if(!i._tracking)return n.apply(t,o);var s=Pn(),l=n.apply(t,o),u=Pn()-s,c={functionName:e,arguments:o,duration:u};return i._trackedCalls.push(c),l}:n._makePropertyWrapper(e)};for(var o in t)r(o)}return Object(w.a)(e,[{key:"_makePropertyWrapper",value:function(e){if(-1===["_context","_trackedCalls","_tracking"].indexOf(e)){var t=this._context;this.__defineGetter__(e,(function(){return t[e]})),this.__defineSetter__(e,(function(n){t[e]=n}))}}},{key:"startFrame",value:function(){this._tracking=!0,this._trackedCalls=[]}},{key:"endFrame",value:function(){var e="Rendering";Ee.log(e,"Frame rendering results:"),Ee.log(e,"Context calls: ".concat(this._trackedCalls.length));var t={};this._trackedCalls.forEach((function(e){var n=e.functionName,i=e.duration;t[n]=t[n]||{totalDuration:0,calls:0},t[n].totalDuration+=i,t[n].calls++}));var n=[];for(var i in t){var r=t[i];r.averageDuration=r.totalDuration/r.calls,n.push({functionName:i,data:r})}n.sort((function(e,t){return t.data.totalDuration-e.data.totalDuration})),(n=n.slice(0,3)).forEach((function(t){Ee.log(e,"".concat(t.functionName,": ").concat(t.data.calls," calls, ").concat(t.data.totalDuration.toFixed(2),"ms"))}))}}]),e}()})),bi=z((function(){Ft(),Bn=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,o=arguments.length>2?arguments[2]:void 0;return Object(k.a)(this,n),(e=t.call(this))._maxTextureSize=null,e._options=Object(T.a)({debug:!1,transparent:!1,clearColor:ut.TRANSPARENT},o,{pixelRatio:1}),e.setMaxListeners(0),e._width=i,e._height=r,e._dimensions=new gt(e._width,e._height),e._maxTextureSize=null,e._pixelRatio=e._options.pixelRatio,e._canvas=e._options.canvas,e._clearColor=e._options.transparent?ut.TRANSPARENT:e._options.clearColor||ut.BLACK,e}return Object(w.a)(n,[{key:"setCanvas",value:function(e){var t=this._canvas;this._canvas=e,t!==e&&(this._createContext(),this._onBeforeContext(),this._setupContext()),this.resizeTo(new gt(this._width,this._height))}},{key:"getCanvas",value:function(){return this._canvas}},{key:"_onBeforeContext",value:function(){}},{key:"resizeTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._width=e.x*this._pixelRatio,this._height=e.y*this._pixelRatio,t&&this._canvas&&(this._canvas.width=this._width,this._canvas.height=this._height,"style"in this._canvas&&(this._canvas.style.width="".concat(this._width/this._pixelRatio,"px"),this._canvas.style.height="".concat(this._height/this._pixelRatio,"px"))),this._dimensions=e.clone()}},{key:"_createContext",value:function(){Ee.warn(this.constructor.name,"`_createContext` is abstract and not implemented in inherited class")}},{key:"_setupContext",value:function(){Ee.warn(this.constructor.name,"`_setupContext` is abstract and not implemented in inherited class")}},{key:"render",value:function(e){Ee.warn(this.constructor.name,"`render` is abstract and not implemented in inherited class")}},{key:"getMaxDimensions",value:function(){return null}},{key:"getContext",value:function(){return this._context}},{key:"getWidth",value:function(){return this._dimensions.x}},{key:"getHeight",value:function(){return this._dimensions.y}},{key:"getDimensions",value:function(){return this._dimensions}},{key:"getPixelRatio",value:function(){return this._pixelRatio}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this._defaultRenderTarget&&this._defaultRenderTarget.setPixelRatio(e)}},{key:"getMaxTextureSize",value:function(){return this._maxTextureSize}},{key:"getFilterManager",value:function(){return this._filterManager}},{key:"setFilterManager",value:function(e){this._filterManager=e}},{key:"setClearColor",value:function(e){this._clearColor=e}},{key:"getClearColor",value:function(){return this._clearColor}},{key:"isOfType",value:function(e){return this._type===e}},{key:"dispose",value:function(){Ee.warn(this.constructor.name,"`dispose` is abstract and not implemented in inherited class")}}]),n}(ct)})),_i=z((function(){V(),At(),Ft(),gi(),mi(),vi(),We(),bi(),Ln=$.RendererType,(Un=Nn=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,o=arguments.length>2?arguments[2]:void 0;return Object(k.a)(this,n),(e=t.call(this,i,r,Object(T.a)({},o))).id=0,e.setCanvas((null==o?void 0:o.canvas)||de.createCanvas()),e._type=Ln.CANVAS,e}return Object(w.a)(n,[{key:"_createContext",value:function(){var e=this._canvas.getContext("2d");if(e)return this._options.debug&&(e=new zn(e)),this.id=Nn.contextId++,this._context=e,this.emit("context",e),e}},{key:"_setupContext",value:function(){var e=this._context;"imageSmoothingEnabled"in e?e.imageSmoothingEnabled=!0:["moz","webkit","ms"].forEach((function(t){e[t]&&(e[t]=!0)})),this._defaultRenderTarget=new An(this._width,this._height,this._pixelRatio,this._canvas,this._context),this.setRenderTarget(this._defaultRenderTarget),this._filterManager=new Mn(this)}},{key:"render",value:function(e){var t=this._renderTarget.getContext(),n=e.getParent();e.setParent(new xt),e.updateTransform(),n&&e.setParent(n),t.setTransform(1,0,0,1,0,0),t.globalAlpha=1;var i=this._canvas,r=i.width,o=i.height;t.clearRect(0,0,r,o),0!==this._clearColor.a&&(t.save(),t.fillStyle=this._clearColor.toRGBA(),t.fillRect(0,0,r,o),t.restore()),this.renderDisplayObject(e,this._renderTarget)}},{key:"renderDisplayObject",value:function(e,t){var n=this._renderTarget;this._filterManager.setFilterStack(t.getFilterStack()),this.setRenderTarget(t),e.renderCanvas(this),this.setRenderTarget(n)}},{key:"getCurrentRenderTarget",value:function(){return this._renderTarget}},{key:"setRenderTarget",value:function(e){this._renderTarget=e}},{key:"getContext",value:function(){return this._renderTarget.getContext()}},{key:"dispose",value:function(){o(this._canvas),this._filterManager.dispose()}}]),n}(Bn)).contextId=0,Un.type=Ln.CANVAS})),xi=z((function(){Gn=function(e){if("undefined"!==typeof window){var t=window.WebGLDebugUtils;if(t){e=t.makeDebugContext(e,null,(function(e,n){console.error("gl.".concat(e,"(").concat(t.glFunctionArgsToString(e,n),")"))}))}}return e}})),ki=z((function(){Hn=function(){function e(t){Object(k.a)(this,e),this.vertices=new Float32Array([0,0,100,0,100,100,0,100]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.vertexBuffer=null,this.indexBuffer=null,this.gl=t,this.initBuffers(),this.uploadBuffers()}return Object(w.a)(e,[{key:"map",value:function(e,t){var n=t.x,i=t.y;this.uvs[2]=t.width/e.width,this.uvs[4]=this.uvs[2],this.uvs[5]=t.height/e.height,this.uvs[7]=this.uvs[5],this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+t.width,this.vertices[3]=i,this.vertices[4]=this.vertices[2],this.vertices[5]=i+t.height,this.vertices[6]=n,this.vertices[7]=this.vertices[5],this.uploadBuffers()}},{key:"getVertexBuffer",value:function(){return this.vertexBuffer}},{key:"getIndexBuffer",value:function(){return this.indexBuffer}},{key:"dispose",value:function(){this.cleanBuffer()}},{key:"initBuffers",value:function(){var e=this.gl;this.cleanBuffer(),this.vertexBuffer=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,128,e.DYNAMIC_DRAW),this.indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indices,e.STATIC_DRAW)}},{key:"uploadBuffers",value:function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferSubData(e.ARRAY_BUFFER,0,this.vertices),e.bufferSubData(e.ARRAY_BUFFER,32,this.uvs),e.bufferSubData(e.ARRAY_BUFFER,64,this.colors)}},{key:"cleanBuffer",value:function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)}}]),e}()})),wi=z((function(){Ft(),pi(),Wn=function(){function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(k.a)(this,e),this._renderer=t,this._gl=t.getContext(),this._width=n,this._height=i,this._frame=null,this._pixelRatio=r,this._projectionMatrix=new yt,this._mipMapping=!1,this._baseTexture=new Fn;var a=this._baseTexture.getFrame();a.width=n,a.height=i,this._baseTexture.setPixelRatio(r),this._baseTexture.setLoaded(!0),this._framebuffer=null,this._isRoot=o,this._filterStack=[{renderTarget:this,filters:[]}],o||this._initFrameBuffer()}return Object(w.a)(e,[{key:"resizeTo",value:function(e){this._width=0|e.x,this._height=0|e.y,this._baseTexture.resizeTo(e),this._isRoot||this._resizeTexture(),this._baseTexture.setMinFilter(this._getMinFilter()),this._baseTexture.setMagFilter(this._getMagFilter()),this._calculateProjectionMatrix()}},{key:"_getMinFilter",value:function(){var e=Fn.DefaultMinFilter;return this._mipMapping&&(e=Fn.TrilinearFilter),e}},{key:"_getMagFilter",value:function(){return Fn.DefaultMagFilter}},{key:"_resizeTexture",value:function(){var e=this._gl,t=this._width*this._pixelRatio,n=this._height*this._pixelRatio;this._texture&&(e.deleteTexture(this._texture),this._texture=null),this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),this._texture&&this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer),this._renderer._options.debug&&ft.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",e);var i=new gt(this._width,this._height);ke.isPowerOfTwo(i)?(Ee.info("WebGLRenderTarget","Mip-mapping enabled"),this._mipMapping=!0):this._mipMapping=!1,this._baseTexture.setMipMappingEnabled(this._mipMapping)}},{key:"activate",value:function(){var e=this._gl;e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),this._calculateProjectionMatrix(),e.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio),e.disable(e.STENCIL_TEST)}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.TRANSPARENT,t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer),this._renderer._options.debug&&ft.checkFramebufferStatus("WebGLRenderTarget#clear",t),t.clearColor.apply(t,e.toGLColor()),t.clear(t.COLOR_BUFFER_BIT)}},{key:"_calculateProjectionMatrix",value:function(){var e=this._projectionMatrix;e.reset();var t=this._frame||new vt(0,0,this._width,this._height),n=t.x,i=t.y;this._isRoot?(e.a=1/this._width*2,e.d=-1/this._height*2,e.tx=-1-n*e.a,e.ty=1-i*e.d):(e.a=1/this._width*2,e.d=1/this._height*2,e.tx=-1-n*e.a,e.ty=-1-i*e.d)}},{key:"_initFrameBuffer",value:function(){var e=this._gl;this._framebuffer&&(e.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._texture&&(e.deleteTexture(this._texture),this._texture=null),this._framebuffer=e.createFramebuffer(),this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.bindFramebuffer(e.FRAMEBUFFER,this._framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this._texture,0),this._texture&&this._baseTexture.setGLTextureForRenderer(this._texture,this._renderer),this.resizeTo(new gt(this._width,this._height)),this._renderer._options.debug&&ft.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",e)}},{key:"getProjectionMatrix",value:function(){return this._projectionMatrix}},{key:"getTexture",value:function(){return this._texture}},{key:"getFrame",value:function(){return this._frame}},{key:"setFrame",value:function(e){this._frame=e}},{key:"getFilterStack",value:function(){return this._filterStack}},{key:"getPixelRatio",value:function(){return this._pixelRatio}},{key:"setPixelRatio",value:function(e){this._pixelRatio=e,this._isRoot||this._resizeTexture()}},{key:"getBaseTexture",value:function(){return this._baseTexture}},{key:"dispose",value:function(){var e=this._gl;this._baseTexture.dispose(),this._framebuffer&&(e.deleteFramebuffer(this._framebuffer),this._framebuffer=null),this._texture&&(e.deleteTexture(this._texture),this._texture=null)}}]),e}()})),Oi=z((function(){hi(),Ft(),ki(),We(),wi(),Vn=function(){function e(t){Object(k.a)(this,e),this._renderer=t,this._filterStack=[],this._currentFrame=null,this._renderTargets=[],this._textureFrame=new vt(0,0,t.getWidth(),t.getHeight()),this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange),this._onContextChange()}return Object(w.a)(e,[{key:"resizeTo",value:function(e){this._textureFrame.width=e.x,this._textureFrame.height=e.y,this._renderTargets.forEach((function(t){return t.resizeTo(e)}))}},{key:"getFilterStack",value:function(){return this._filterStack}},{key:"setFilterStack",value:function(e){this._filterStack=e}},{key:"_getOrCreateRenderTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._renderTargets.pop();return t||(t=new Wn(this._renderer,this._textureFrame.width,this._textureFrame.height,1)),this._currentFrame&&t.setFrame(this._currentFrame),e&&t.clear(),t}},{key:"pushFilters",value:function(e,t){var n=e.getBounds();this._currentFrame=n;var i=e.getFilterRectangle();i.width>0&&i.height>0&&(this._currentFrame=i);var r=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(r),t[0]instanceof Yt?r.clear(this._renderer.getClearColor()):r.clear(),this._filterStack.push({renderTarget:r,filters:t})}},{key:"popFilters",value:function(){var e=this._filterStack.pop();if(e){var t=e.filters,n=e.renderTarget,i=this._filterStack[this._filterStack.length-1].renderTarget,r=n.getFrame();r&&this._quad.map(this._textureFrame,r);var o=t[0].getShaderForRenderer(this._renderer),a=this._quad.getVertexBuffer(),s=this._quad.getIndexBuffer(),l=this._renderer.getContext();l.bindBuffer(l.ARRAY_BUFFER,a),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,s);var u=o.getAttributeLocations();return l.vertexAttribPointer(u.a_position,2,l.FLOAT,!1,0,0),l.vertexAttribPointer(u.a_texCoord,2,l.FLOAT,!1,0,32),l.vertexAttribPointer(u.a_color,4,l.FLOAT,!1,0,64),this._renderer.updateTexture(n.getBaseTexture(),!1),1===t.length?(t[0].apply(this._renderer,n,i),this._renderTargets.push(n)):this._applyFilters(t,n,i),t}}},{key:"_applyFilters",value:function(e,t,n){var i=this,r=t,o=this._getOrCreateRenderTarget(!0);this._renderer.updateTexture(o.getBaseTexture(),!1);var a=e[e.length-1];e.forEach((function(e){if(e===a)e.apply(i._renderer,r,n,!0);else{e.apply(i._renderer,r,o,!0);var t=r;r=o,o=t}})),this._renderTargets.push(r),this._renderTargets.push(o)}},{key:"_onContextChange",value:function(){this._renderTargets.length=0,he(this._renderer)&&(this._quad&&this._quad.dispose(),this._quad=new Hn(this._renderer.getContext()))}},{key:"dispose",value:function(){this._renderer.off("context",this._onContextChange),this._quad&&this._quad.dispose(),this._renderTargets.forEach((function(e){e.dispose()}))}}]),e}()})),Si=B((function(e,t){var n=function e(){function t(e){return r.appendChild(e.dom),e}function n(e){for(var t=0;t<r.children.length;t++)r.children[t].style.display=t===e?"block":"none";i=e}var i=0,r=document.createElement("div");r.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",r.addEventListener("click",(function(e){e.preventDefault(),n(++i%r.children.length)}),!1);var o=(performance||Date).now(),a=o,s=0,l=t(new e.Panel("FPS","#0ff","#002")),u=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:r,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(u.update(e-o,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:r,setMode:n}};n.Panel=function(e,t,n){var i=1/0,r=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,u=3*a,c=2*a,f=3*a,d=15*a,h=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,l),g.fillStyle=t,g.fillText(e,u,c),g.fillRect(f,d,h,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(f,d,h,p),{dom:m,update:function(l,y){i=Math.min(i,l),r=Math.max(r,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,d),g.fillStyle=t,g.fillText(o(l)+" "+e+" ("+o(i)+"-"+o(r)+")",u,c),g.drawImage(m,f+a,d,h-a,p,f,d,h-a,p),g.fillRect(f+h-a,d,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(f+h-a,d,a,o((1-l/y)*p))}}},"object"===typeof t&&(t.exports=n)})),Ci=z((function(){qn=U(Si()),Kn=function(){function e(t){Object(k.a)(this,e),this._context=t,this._domAvailable="undefined"!==typeof document,this._hookIntoContext(),this._textures={},this._framebuffers={},this._programs={},this._shaders={},this._buffers={},this._boundTexture=null,this._id=0,this._enums={},this._setupStats(),this._createEnumMap(),this._updateMemoryStats=this._updateMemoryStats.bind(this),this._updateMemoryStats()}return Object(w.a)(e,[{key:"_createEnumMap",value:function(){for(var e in this._context){var t=this._context[e];"number"===typeof t&&(this._enums[t]=e)}}},{key:"_enumValueToString",value:function(e){var t=this._enums[e];return"undefined"===typeof t?e:t}},{key:"_setupStats",value:function(){this._domAvailable&&(this._stats=new qn.default,this._stats.showPanel(3),this._memPanel=this._stats.addPanel(new qn.default.Panel("MB [WebGL]","#43ADEB","#282828")),this._texPanel=this._stats.addPanel(new qn.default.Panel("Textures","#43ADEB","#282828")),this._bufPanel=this._stats.addPanel(new qn.default.Panel("Buffers","#43ADEB","#282828")),this._fboPanel=this._stats.addPanel(new qn.default.Panel("FBOs","#43ADEB","#282828")),this._prgPanel=this._stats.addPanel(new qn.default.Panel("Programs","#43ADEB","#282828")),this._shdPanel=this._stats.addPanel(new qn.default.Panel("Shaders","#43ADEB","#282828")))}},{key:"_updatePanel",value:function(e){if(this._domAvailable){switch(this._stats.begin(),e){case"tex":this._texPanel.update(this.getTexturesCount(),50);break;case"buf":this._bufPanel.update(this.getBuffersCount(),50);break;case"fbo":this._fboPanel.update(this.getFBOCount(),50);break;case"prg":this._prgPanel.update(this.getProgramCount(),50);break;case"shd":this._shdPanel.update(this.getShaderCount(),50)}this._stats.end()}}},{key:"getTexturesCount",value:function(){return Object.keys(this._textures).length}},{key:"getBuffersCount",value:function(){return Object.keys(this._buffers).length}},{key:"getFBOCount",value:function(){return Object.keys(this._framebuffers).length}},{key:"getProgramCount",value:function(){return Object.keys(this._programs).length}},{key:"getShaderCount",value:function(){return Object.keys(this._shaders).length}},{key:"_updateMemoryStats",value:function(){if(this._domAvailable){var e=this._getMemoryUsage()/1e3/1e3;this._memPanel.update(e,400),setTimeout(this._updateMemoryStats,1e3)}}},{key:"_getMemoryUsage",value:function(){var e=0;for(var t in this._textures)e+=this._textures[t].memory;for(var n in this._buffers)e+=this._buffers[n].memory;return e}},{key:"_hookIntoContext",value:function(){var e=this,t=function(t){"function"===typeof e._context[t]?e[t]=function(){for(var e=this._context[t],n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return this._trackGLCall(e,t,i)}:e._makePropertyWrapper(t)};for(var n in this._context)t(n)}},{key:"_makePropertyWrapper",value:function(e){if(-1===["_context"].indexOf(e)){var t=this._context;this.__defineGetter__(e,(function(){return t[e]})),this.__defineSetter__(e,(function(n){t[e]=n}))}}},{key:"_trackGLCall",value:function(e,t,n){var i;i=-1!==["texImage2D","bindTexture","createTexture","deleteTexture","createBuffer","bindBuffer","bufferData","deleteBuffer","createFramebuffer","deleteFramebuffer","createProgram","deleteProgram","createShader","deleteShader"].indexOf(t)?this["_".concat(t)](n):e.apply(this._context,n);var r=this._context.getError();if(0!==r){var o=n.join(", ");o.length>100&&(o="".concat(o.substr(0,100),"...")),console.error(new Error("WebGL Error ".concat(this._enumValueToString(r)," in ").concat(t,"(").concat(o,")")))}return i}},{key:"_createProgram",value:function(){var e=this._context.createProgram();return e._wmmId=this._id++,this._programs[e._wmmId]=e,this._updatePanel("prg"),e}},{key:"_deleteProgram",value:function(e){var t=Object(y.a)(e,1)[0];t&&this._programs[t._wmmId]&&(delete this._programs[t._wmmId],this._context.deleteProgram(t),this._updatePanel("prg"))}},{key:"_createShader",value:function(e){var t=Object(y.a)(e,1)[0],n=this._context.createShader(t);return n._wmmId=this._id++,this._shaders[n._wmmId]=n,this._updatePanel("shd"),n}},{key:"_deleteShader",value:function(e){var t=Object(y.a)(e,1)[0];t&&this._shaders[t._wmmId]&&(delete this._shaders[t._wmmId],this._context.deleteShader(t),this._updatePanel("shd"))}},{key:"_createFramebuffer",value:function(){var e=this._context.createFramebuffer();return e._wmmId=this._id++,this._framebuffers[e._wmmId]=e,this._updatePanel("fbo"),e}},{key:"_deleteFramebuffer",value:function(e){var t=Object(y.a)(e,1)[0];t&&this._framebuffers[t._wmmId]&&(delete this._framebuffers[t._wmmId],this._context.deleteFramebuffer(t),this._updatePanel("fbo"))}},{key:"_createBuffer",value:function(){var e=this._context.createBuffer();return e._wmmId=this._id++,this._buffers[e._wmmId]={buffer:e,memory:0},this._updatePanel("buf"),e}},{key:"_bindBuffer",value:function(e){var t=Object(y.a)(e,2),n=t[0],i=t[1];this._context.bindBuffer(n,i),this._boundBuffer=i._wmmId}},{key:"_bufferData",value:function(e){var t,n=Object(y.a)(e,3),i=n[0],r=n[1],o=n[2];this._context.bufferData(i,r,o),"number"===typeof r?t=r:"byteLength"in r?t=r.byteLength:"length"in r&&(t=r.length),this._buffers[this._boundBuffer].memory=t}},{key:"_deleteBuffer",value:function(e){var t=Object(y.a)(e,1)[0];t&&this._buffers[t._wmmId]&&(delete this._buffers[t._wmmId],this._context.deleteBuffer(t),this._updatePanel("buf"))}},{key:"_createTexture",value:function(){var e=this._context.createTexture();return e._wmmId=this._id++,this._textures[e._wmmId]={texture:e,memory:0},this._updatePanel("tex"),e}},{key:"_deleteTexture",value:function(e){var t=Object(y.a)(e,1)[0];t&&this._textures[t._wmmId]&&(delete this._textures[t._wmmId],this._context.deleteTexture(t),this._updatePanel("tex"))}},{key:"_bindTexture",value:function(e){var t=Object(y.a)(e,2),n=t[0],i=t[1];this._context.bindTexture(n,i),this._boundTexture=i._wmmId}},{key:"_texImage2D",value:function(e){var t=Object(y.a)(e,9),n=t[2],i=t[3],r=t[4],o=t[5],a=t[8];"undefined"===typeof a&&(a=o),this._context.texImage2D.apply(this._context,e);var s=this._calculateByteCountForTexture(n,i,r,a);this._textures[this._boundTexture].memory=s}},{key:"_calculateByteCountForTexture",value:function(e,t,n,i){if(null!==i){if(!("width"in i))return i.length;t=i.width,n=i.height}var r=1;switch(e){case this._context.ALPHA:r=1;break;case this._context.RGB:r=3;break;case this._context.RGBA:r=4}return t*n*r}}]),e}()})),ji=z((function(){Xn=function(){function e(t){Object(k.a)(this,e),this._renderer=t,this._onContextChange=this._onContextChange.bind(this),this._renderer.on("context",this._onContextChange)}return Object(w.a)(e,[{key:"_onContextChange",value:function(){}},{key:"start",value:function(){}},{key:"stop",value:function(){this.flush()}},{key:"flush",value:function(){}},{key:"dispose",value:function(){this._renderer.off("context",this._onContextChange),delete this._renderer}}]),e}()})),Ti=z((function(){Ft(),ji(),Yn=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;Object(k.a)(this,n),(i=t.call(this,e))._vertexBuffer=null,i._indexBuffer=null,i._maxBatchSize=bt,i._vertices=new ArrayBuffer(4*bt*_t),i._positions=new Float32Array(i._vertices),i._colors=new Uint32Array(i._vertices),i._indices=new Uint16Array(6*bt);for(var r=0,o=0;r<6*bt;r+=6,o+=4)i._indices[r+0]=o+0,i._indices[r+1]=o+1,i._indices[r+2]=o+2,i._indices[r+3]=o+0,i._indices[r+4]=o+2,i._indices[r+5]=o+3;return i._sprites=[],i._currentBatchSize=0,i._onContextChange(),i}return Object(w.a)(n,[{key:"render",value:function(e){var t=e.getTexture();if(t){var n=t.getFrame();t.getBaseTexture();this._currentBatchSize>=this._maxBatchSize&&this.flush();var i=t.getUVs();if(i){var r=this._currentBatchSize*_t;this._addVertexCoordinates(e,r,n),this._addTextureUVs(e,r,i),this._addColors(e,r),this._sprites[this._currentBatchSize]=e,this._currentBatchSize++}}}},{key:"_addColors",value:function(e,t){var n=this._colors,i=16777215+(255*e.getWorldAlpha()<<24);n[t+4]=n[t+9]=n[t+14]=n[t+19]=i}},{key:"_addTextureUVs",value:function(e,t,n){var i=this._positions,r=Object(y.a)(n,4),o=r[0],a=r[1],s=r[2],l=r[3];i[t+2]=o.x,i[t+3]=o.y,i[t+7]=a.x,i[t+8]=a.y,i[t+12]=s.x,i[t+13]=s.y,i[t+17]=l.x,i[t+18]=l.y}},{key:"_addVertexCoordinates",value:function(e,t,n){for(var i=this._positions,r=e.getWorldTransform(),o=e.getAnchor(),a=r.rectangleToCoordinates(n,o),s=0;s<4;s++)i[t+5*s]=a[s].x,i[t+5*s+1]=a[s].y}},{key:"_onContextChange",value:function(){var e=this._renderer.getContext();this._shader=this._renderer.shaders.default,this._vertexBuffer&&(this._vertexBuffer=null),this._indexBuffer&&(this._indexBuffer=null),this._vertexBuffer=e.createBuffer(),this._indexBuffer=e.createBuffer(),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this._indexBuffer),e.bufferData(e.ELEMENT_ARRAY_BUFFER,this._indices,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,this._vertexBuffer),e.bufferData(e.ARRAY_BUFFER,this._vertices,e.DYNAMIC_DRAW)}},{key:"start",value:function(){this._vertexBuffer&&this._indexBuffer&&this._shader.setupBuffers(this._vertexBuffer,this._indexBuffer)}},{key:"flush",value:function(){var e,t=this._renderer,n=t.getContext();if(0!==this._currentBatchSize){if(this._currentBatchSize>.5*bt)n.bufferSubData(n.ARRAY_BUFFER,0,this._vertices);else{var i=this._positions.subarray(0,this._currentBatchSize*_t);n.bufferSubData(n.ARRAY_BUFFER,0,i)}for(var r=0,o=null,a=null,s=null,l=null,u=!1,c=null,f=0,d=0,h=this._currentBatchSize;d<h;d++){if(a=null==(e=(c=this._sprites[d]).getTexture())?void 0:e.getBaseTexture(),u=s!==(l=c.getShader()||this._shader),(o!==a||u)&&(o&&this._renderBatch(o,r,f),f=d,r=0,o=a,u)){s=l,t.setShader(s);var p=t.getCurrentRenderTarget().getProjectionMatrix().toArray();s.setUniform("u_projMatrix",p),s.syncUniforms(),n.activeTexture(n.TEXTURE0)}r++}o&&this._renderBatch(o,r,f),this._currentBatchSize=0,this._sprites=[]}}},{key:"_renderBatch",value:function(e,t,n){if(0!==t){var i=this._renderer,r=i.getContext(),o=e.getGLTextureForRenderer(i);o||(o=i.getOrCreateGLTexture(e)),e.isDirty()&&(i.updateTexture(e),e.setDirty(!1)),r.activeTexture(r.TEXTURE0+e.getGLUnit()),r.bindTexture(r.TEXTURE_2D,o);var a=6*t,s=6*n*2;r.drawElements(r.TRIANGLES,a,r.UNSIGNED_SHORT,s)}}},{key:"dispose",value:function(){var e=this._renderer.getContext();this._sprites.forEach((function(e){e.dispose()})),this._vertexBuffer&&(e.deleteBuffer(this._vertexBuffer),this._vertexBuffer=null),this._indexBuffer&&(e.deleteBuffer(this._indexBuffer),this._indexBuffer=null),delete this._vertices,delete this._positions,delete this._colors,delete this._indices,Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this)}}]),n}(Xn)})),Ei=z((function(){xi(),V(),se(),At(),Ft(),Oi(),_n(),vi(),We(),wi(),Ci(),bi(),ji(),Ti(),(Zn=Qn=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,o=arguments.length>2?arguments[2]:void 0;return Object(k.a)(this,n),(e=t.call(this,i,r,o)).type="webgl",e.maxTextureDimensions=null,e._type="webgl",e._onContextLost=e._onContextLost.bind(Object(O.a)(e)),e._onContextRestored=e._onContextRestored.bind(Object(O.a)(e)),e.setCanvas(e._options.canvas||de.createCanvas()),e.shaders={default:new qt(Object(O.a)(e),void 0,void 0)},e.renderers={sprite:new Yn(Object(O.a)(e))},e}return Object(w.a)(n,[{key:"_onContextLost",value:function(e){e.preventDefault(),Ee.warn(this.constructor.name,"WebGL context has been lost - trying to restore."),this.emit("context-lost")}},{key:"_onContextCreationError",value:function(e){e.preventDefault(),Ee.warn(this.constructor.name,"Failed to create WebGL context: ".concat(e.statusMessage||"Unknown error"))}},{key:"_onContextRestored",value:function(){Ee.warn(this.constructor.name,"WebGL context has been restored. Clearing all textures."),this._createContext(),this._setupContext(),this.emit("context-restored")}},{key:"_onBeforeContext",value:function(){this._filterManager&&this._filterManager.dispose(),this._filterManager=new Vn(this),this._currentObjectRenderer=new Xn(this)}},{key:"setShader",value:function(e){this._currentShader=e,this._context.useProgram(e.getProgram()),this._setAttributesForShader(e)}},{key:"setCanvas",value:function(e){this._canvas&&this._removeContextEventListeners(),Object(m.a)(Object(p.a)(n.prototype),"setCanvas",this).call(this,e),this._addContextEventListeners()}},{key:"_addContextEventListeners",value:function(){pe(this._canvas)&&(this._canvas.addEventListener("webglcontextlost",this._onContextLost),this._canvas.addEventListener("webglcontextrestored",this._onContextRestored),this._canvas.addEventListener("webglcontextcreationerror",this._onContextCreationError))}},{key:"_removeContextEventListeners",value:function(){pe(this._canvas)&&(this._canvas.removeEventListener("webglcontextlost",this._onContextLost),this._canvas.removeEventListener("webglcontextrestored",this._onContextRestored),this._canvas.removeEventListener("webglcontextcreationerror",this._onContextCreationError))}},{key:"_setAttributesForShader",value:function(e){if(this._canvas){var t=this._context,n=e.getAttributes(),i=e.getAttributeLocations();n.forEach((function(e){var n=i[e];t.enableVertexAttribArray(n)}))}}},{key:"_createContext",value:function(){if(this._canvas){var e=de.glGet(this._canvas);return this._options.debug&&Gn(e),this._options.debug&&(e=new zn(e),e=new Kn(e)),this.id=Qn.contextId++,this._context=e,this._maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),this.emit("context",e),e}}},{key:"_setupContext",value:function(){var e=this._context;e.disable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.enable(e.BLEND),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA),this._defaultRenderTarget=new Wn(this,this._width,this._height,this._pixelRatio,!0),this.setRenderTarget(this._defaultRenderTarget),this._getMaxPrecision()}},{key:"getContext",value:function(){return this._context}},{key:"_getMaxPrecision",value:function(){var e=this._context,t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);this._maxFloatPrecision=0!==(null==t?void 0:t.precision)?"highp":"mediump";var n=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_INT);this._maxIntPrecision=0!==(null==n?void 0:n.rangeMax)?"highp":"lowp"}},{key:"resizeTo",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Object(m.a)(Object(p.a)(n.prototype),"resizeTo",this).call(this,e,t),this._currentRenderTarget&&this._currentRenderTarget.resizeTo(e),this._context=de.glResize(this._context,e)}},{key:"setRenderTarget",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._defaultRenderTarget;this._currentRenderTarget=e,this._currentRenderTarget.activate()}},{key:"setObjectRenderer",value:function(e){this._currentObjectRenderer.stop(),this._currentObjectRenderer=e,this._currentObjectRenderer.start()}},{key:"render",value:function(e){this.setRenderTarget(this._defaultRenderTarget),this._defaultRenderTarget.clear(this._clearColor);var t=e.getParent();e.setParent(new xt),e.updateTransform(),t&&e.setParent(t),this.renderDisplayObject(e,this._defaultRenderTarget)}},{key:"renderDisplayObject",value:function(e,t){this.setRenderTarget(t),this._filterManager.setFilterStack(t.getFilterStack()),e.renderWebGL(this),this._currentObjectRenderer.flush()}},{key:"clear",value:function(){var e=this._context;e.clearColor.apply(e,this._clearColor.toGLColor),e.clear(e.COLOR_BUFFER_BIT)}},{key:"save",value:function(){return{renderTarget:this._currentRenderTarget,objectRenderer:this._currentObjectRenderer,filterStack:this._filterManager.getFilterStack()}}},{key:"restore",value:function(e){this.setRenderTarget(e.renderTarget),this._filterManager.setFilterStack(e.filterStack),this._currentObjectRenderer=e.objectRenderer}},{key:"getOrCreateGLTexture",value:function(e){var t=this._context,n=e.getGLTextureForRenderer(this);return n||(n=t.createTexture(),e.setGLTextureForRenderer(n,this)),n}},{key:"updateTexture",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.getSource(),i=this._context,r=e.getGLUnit(),o=this.getOrCreateGLTexture(e);i.activeTexture(i.TEXTURE0+r),i.bindTexture(i.TEXTURE_2D,o),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t&&n&&de.glTexImage(i,n),e.isMipMappingEnabled()?i.generateMipmap(i.TEXTURE_2D):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,e.getGLRepeat(i,"x")),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,e.getGLRepeat(i,"y"))),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,e.getGLFilter(i,"min")),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e.getGLFilter(i,"mag")),i.activeTexture(i.TEXTURE0)}},{key:"getMaxDimensions",value:function(){return this.maxTextureDimensions||(this.maxTextureDimensions=de.glMaxTexture(this._context)),this.maxTextureDimensions}},{key:"getCurrentRenderTarget",value:function(){return this._currentRenderTarget}},{key:"getCurrentObjectRenderer",value:function(){return this._currentObjectRenderer}},{key:"getMaxFloatPrecision",value:function(){return this._maxFloatPrecision}},{key:"getMaxIntPrecision",value:function(){return this._maxIntPrecision}},{key:"dispose",value:function(){for(var e in this._canvas&&o(this._canvas),this._filterManager.dispose(),this._currentObjectRenderer.dispose(),this._defaultRenderTarget.dispose(),this.shaders)this.shaders[e].dispose(),delete this.shaders[e];this._removeContextEventListeners();var t=this._context.getExtension("WEBGL_lose_context");t&&t.loseContext()}}]),n}(Bn)).contextId=0})),Di=z((function(){Dt(),Jn={create:function(){return[new gt(0,0),new gt(1,0),new gt(1,1),new gt(0,1)]},updateViaFrames:function(e,t,n){var i=Object(y.a)(e,4),r=i[0],o=i[1],a=i[2],s=i[3];return r.x=t.x/n.width,r.y=t.y/n.height,o.x=(t.x+t.width)/n.width,o.y=t.y/n.height,a.x=(t.x+t.width)/n.width,a.y=(t.y+t.height)/n.height,s.x=t.x/n.width,s.y=(t.y+t.height)/n.height,e}}})),Ii=z((function(){Di(),Ft(),pi(),$n=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;if(Object(k.a)(this,n),r=t.call(this),!(e instanceof Fn))throw new Error("`baseTexture` should be an instance of BaseTexture");return r._uvs=Jn.create(),r._frame=i?i.clone():new vt(0,0,1,1),r._frameLocked=Boolean(i),r._onBaseTextureLoaded=r._onBaseTextureLoaded.bind(Object(O.a)(r)),r._onBaseTextureUpdated=r._onBaseTextureUpdated.bind(Object(O.a)(r)),r.setBaseTexture(e),r}return Object(w.a)(n,[{key:"_onBaseTextureLoaded",value:function(){if(!this._frameLocked){var e=this._baseTexture.getFrame().clone();this.setFrame(e)}this._baseTexture.on("update",this._onBaseTextureUpdated)}},{key:"_onBaseTextureUpdated",value:function(){var e=this._baseTexture.getFrame(),t=e.width,n=e.height;this._frame.width=t,this._frame.height=n,this.emit("update")}},{key:"_updateUVs",value:function(){this._uvs=Jn.updateViaFrames(this._uvs,this._frame,this._baseTexture.getFrame())}},{key:"getBaseTexture",value:function(){return this._baseTexture}},{key:"setBaseTexture",value:function(e){if(this._baseTexture=e,this._baseTexture.isLoaded()){var t=e.getFrame(),n=t.width,i=t.height;this._frameLocked||(this._frame=new vt(0,0,n,i)),this._onBaseTextureLoaded()}else this._baseTexture.once("loaded",this._onBaseTextureLoaded)}},{key:"getFrame",value:function(){return this._frame}},{key:"setFrame",value:function(e){this._frame=e,this._updateUVs()}},{key:"getWidth",value:function(){return this._frame.width}},{key:"getHeight",value:function(){return this._frame.height}},{key:"getUVs",value:function(){return this._uvs}},{key:"getDimensions",value:function(){return new gt(this._frame.width,this._frame.height)}},{key:"dispose",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this._baseTexture.dispose()}}],[{key:"fromImage",value:function(e){var t=new Fn(e);return new $n(t)}},{key:"fromCanvas",value:function(e){var t=new Fn(e);return new $n(t)}}]),n}(ct)})),Ri=z((function(){se(),Ft(),gi(),Oi(),mi(),wi(),pi(),Ii(),ei=function(e){return"webgl"===e._type},ti=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(k.a)(this,n),(i=t.call(this,new Fn,new vt(0,0,r,o)))._loaded=!0,i._width=r,i._height=o,i._pixelRatio=a,i._renderer=e,i._setupFilterManager(),i._setupBuffer(),i.setBaseTexture(i._renderTarget.getBaseTexture()),i._updateUVs(),i}return Object(w.a)(n,[{key:"_setupFilterManager",value:function(){this._filterManager&&this._filterManager.dispose(),ei(this._renderer)?this._filterManager=new Vn(this._renderer):this._filterManager=new Mn(this._renderer),this._filterManager.resizeTo(new gt(this._width,this._height))}},{key:"_setupBuffer",value:function(){this._renderTarget&&this._renderTarget.dispose(),ei(this._renderer)?this._renderTarget=new Wn(this._renderer,this._width,this._height,this._pixelRatio):this._renderTarget=new An(this._width,this._height,this._pixelRatio)}},{key:"clear",value:function(e){this._renderTarget.clear(e)}},{key:"resizeTo",value:function(e){this._width===e.x&&this._height===e.y||(this._width=e.x,this._height=e.y,this._frame.width=e.x,this._frame.height=e.y,this._renderTarget.resizeTo(e),this._filterManager.resizeTo(e))}},{key:"render",value:function(e){ei(this._renderer)?this._renderWebGL(e):this._renderCanvas(e)}},{key:"_renderWebGL",value:function(e){if(ei(this._renderer)){this._renderTarget.activate(),e.getWorldTransform().reset(),e.getChildren().forEach((function(e){e.updateTransform()}));var t=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager),this._renderer.renderDisplayObject(e,this._renderTarget),this._renderer.setFilterManager(t)}}},{key:"_renderCanvas",value:function(e){if(!ei(this._renderer)){e.getWorldTransform().reset(),e.getChildren().forEach((function(e){e.updateTransform()}));var t=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager),this._renderer.renderDisplayObject(e,this._renderTarget),this._renderer.setFilterManager(t)}}},{key:"getRenderTarget",value:function(){return this._renderTarget}},{key:"dispose",value:function(){this._renderTarget.dispose(),this._filterManager.dispose(),Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this)}}]),n}($n)})),Fi=z((function(){ni={EXPORT:"export",CLOSE:"close",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",EDITOR_READY:"editor:ready",WINDOW_RESIZE:"window:resize",ZOOM_DONE:"editor:zoom_done",HISTORY_UNDO:"history:undo",HISTORY_UPDATED:"history:update",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",TRANSFORM_REAPPLY_RATIO:"transform:reapply_ratio"},ii={DEFAULTS:{FILTERS:[{identifier:"imgly_filters_duotone",defaultName:"DuoTone",assetFileName:"duotone",filters:[{identifier:"imgly_duotone_desert",defaultName:"Desert",lightColor:"#e1de9a",darkColor:"#cb2129"},{identifier:"imgly_duotone_peach",defaultName:"Peach",lightColor:"#e9abb8",darkColor:"#0040ff"},{identifier:"imgly_duotone_clash",defaultName:"Clash",lightColor:"#f41a0f",darkColor:"#23007c"},{identifier:"imgly_duotone_plum",defaultName:"Plum",lightColor:"#74d7ff",darkColor:"#23007c"},{identifier:"imgly_duotone_breezy",defaultName:"Breezy",lightColor:"#68fdff",darkColor:"#c20000"},{identifier:"imgly_duotone_deepblue",defaultName:"Deep Blue",lightColor:"#2de9eb",darkColor:"#58007c"},{identifier:"imgly_duotone_frog",defaultName:"Frog",lightColor:"#5bff60",darkColor:"#7f23a9"},{identifier:"imgly_duotone_sunset",defaultName:"Sunset",lightColor:"#f8ea46",darkColor:"#c400be"}]},{identifier:"imgly_filters_bw",assetFileName:"b&w",defaultName:"Black & White",filters:[{identifier:"imgly_lut_ad1920",defaultName:"1920 A.D.",lutImage:"filters/imgly_lut_ad1920_5_5_128.png"},{identifier:"imgly_lut_bw",defaultName:"Greyed",lutImage:"filters/imgly_lut_bw_5_5_128.png"},{identifier:"imgly_lut_x400",defaultName:"Dusty",lutImage:"filters/imgly_lut_dusty_5_5_128.png"},{identifier:"imgly_lut_litho",defaultName:"Litho",lutImage:"filters/imgly_lut_litho_5_5_128.png"},{identifier:"imgly_lut_sepiahigh",defaultName:"Sepia",lutImage:"filters/imgly_lut_sepia_5_5_128.png"},{identifier:"imgly_lut_plate",defaultName:"Weathered",lutImage:"filters/imgly_lut_weathered_5_5_128.png"},{identifier:"imgly_lut_sin",defaultName:"Hard Stuff",lutImage:"filters/imgly_lut_hard_stuff_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filters_retro",assetFileName:"vintage",defaultName:"Vintage",filters:[{identifier:"imgly_lut_blues",defaultName:"Polaroid",lutImage:"filters/imgly_lut_polaroid_5_5_128.png"},{identifier:"imgly_lut_front",defaultName:"Sunny 70s",lutImage:"filters/imgly_lut_sunny_70s_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",defaultName:"Oldtimer",lutImage:"filters/imgly_lut_oldtimer_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",defaultName:"Inferno",lutImage:"filters/imgly_lut_inferno_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",defaultName:"Snappy",lutImage:"filters/imgly_lut_snappy_5_5_128.png"}]},{identifier:"imgly_filters_analog",assetFileName:"smooth",defaultName:"Smooth",filters:[{identifier:"imgly_lut_chest",defaultName:"Chestnut",lutImage:"filters/imgly_lut_chestnut_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",defaultName:"Softly",lutImage:"filters/imgly_lut_softly_5_5_128.png"},{identifier:"imgly_lut_kdynamic",defaultName:"Pebble",lutImage:"filters/imgly_lut_pebble_5_5_128.png"},{identifier:"imgly_lut_fall",defaultName:"Moss",lutImage:"filters/imgly_lut_moss_5_5_128.png"},{identifier:"imgly_lut_lenin",defaultName:"Lemon",lutImage:"filters/imgly_lut_lemon_5_5_128.png"},{identifier:"imgly_lut_pola669",defaultName:"Green Gap",lutImage:"filters/imgly_lut_green_gap_5_5_128.png"}]},{identifier:"imgly_filters_winter",assetFileName:"cold",defaultName:"Cold",filters:[{identifier:"imgly_lut_elder",defaultName:"Colla",lutImage:"filters/imgly_lut_colla_5_5_128.png"},{identifier:"imgly_lut_orchid",defaultName:"Solanus",lutImage:"filters/imgly_lut_solanus_5_5_128.png"},{identifier:"imgly_lut_bleached",defaultName:"Kalmen",lutImage:"filters/imgly_lut_kalmen_5_5_128.png"},{identifier:"imgly_lut_bleachedblue",defaultName:"Joran",lutImage:"filters/imgly_lut_joran_5_5_128.png"},{identifier:"imgly_lut_breeze",defaultName:"Levante",lutImage:"filters/imgly_lut_levante_5_5_128.png"},{identifier:"imgly_lut_blueshadows",defaultName:"Zephyr",lutImage:"filters/imgly_lut_zephyr_5_5_128.png"}]},{identifier:"imgly_filters_summer",assetFileName:"warm",defaultName:"Warm",filters:[{identifier:"imgly_lut_sunset",defaultName:"Golden",lutImage:"filters/imgly_lut_golden_5_5_128.png"},{identifier:"imgly_lut_eighties",defaultName:"Low Fire",lutImage:"filters/imgly_lut_low_fire_5_5_128.png"},{identifier:"imgly_lut_evening",defaultName:"Sunrise",lutImage:"filters/imgly_lut_sunrise_5_5_128.png"},{identifier:"imgly_lut_k2",defaultName:"Flat Black",lutImage:"filters/imgly_lut_flat_black_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",defaultName:"Pumpkin",lutImage:"filters/imgly_lut_pumpkin_5_5_128.png"}]},{identifier:"imgly_filters_legacy",defaultName:"Legacy",assetFileName:"legacy",filters:[{identifier:"imgly_lut_ancient",defaultName:"Ancient",lutImage:"filters/imgly_lut_ancient_5_5_128.png"},{identifier:"imgly_lut_cottoncandy",defaultName:"Candy",lutImage:"filters/imgly_lut_cottoncandy_5_5_128.png"},{identifier:"imgly_lut_classic",defaultName:"Classic",lutImage:"filters/imgly_lut_classic_5_5_128.png"},{identifier:"imgly_lut_colorful",defaultName:"Colorful",lutImage:"filters/imgly_lut_colorful_5_5_128.png"},{identifier:"imgly_lut_creamy",defaultName:"Creamy",lutImage:"filters/imgly_lut_creamy_5_5_128.png"},{identifier:"imgly_lut_fixie",defaultName:"Fixie",lutImage:"filters/imgly_lut_fixie_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",defaultName:"Food",lutImage:"filters/imgly_lut_food_5_5_128.png"},{identifier:"imgly_lut_fridge",defaultName:"Fridge",lutImage:"filters/imgly_lut_fridge_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",defaultName:"Glam",lutImage:"filters/imgly_lut_glam_5_5_128.png"},{identifier:"imgly_lut_gobblin",defaultName:"Gobblin",lutImage:"filters/imgly_lut_gobblin_5_5_128.png"},{identifier:"imgly_lut_highcontrast",defaultName:"Hicon",lutImage:"filters/imgly_lut_highcontrast_5_5_128.png"},{identifier:"imgly_lut_highcarb",defaultName:"High Carb",lutImage:"filters/imgly_lut_highcarb_5_5_128.png"},{identifier:"imgly_lut_k1",defaultName:"K1",lutImage:"filters/imgly_lut_k1_5_5_128.png"},{identifier:"imgly_lut_k6",defaultName:"K6",lutImage:"filters/imgly_lut_k6_5_5_128.png"},{identifier:"imgly_lut_keen",defaultName:"Keen",lutImage:"filters/imgly_lut_keen_5_5_128.png"},{identifier:"imgly_lut_lomo",defaultName:"Lomo",lutImage:"filters/imgly_lut_lomo_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",defaultName:"Lomo 100",lutImage:"filters/imgly_lut_lomo100_5_5_128.png"},{identifier:"imgly_lut_lucid",defaultName:"Lucid",lutImage:"filters/imgly_lut_lucid_5_5_128.png"},{identifier:"imgly_lut_mellow",defaultName:"Mellow",lutImage:"filters/imgly_lut_mellow_8_8_512.png",resolution:512,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",defaultName:"Neat",lutImage:"filters/imgly_lut_neat_5_5_128.png"},{identifier:"imgly_lut_pale",defaultName:"Pale",lutImage:"filters/imgly_lut_pale_5_5_128.png"},{identifier:"imgly_lut_pitched",defaultName:"Pitched",lutImage:"filters/imgly_lut_pitched_5_5_128.png"},{identifier:"imgly_lut_polasx",defaultName:"Pola SX",lutImage:"filters/imgly_lut_polasx_5_5_128.png"},{identifier:"imgly_lut_pro400",defaultName:"Pro 400",lutImage:"filters/imgly_lut_pro400_5_5_128.png"},{identifier:"imgly_lut_quozi",defaultName:"Quozi",lutImage:"filters/imgly_lut_quozi_5_5_128.png"},{identifier:"imgly_lut_settled",defaultName:"Settled",lutImage:"filters/imgly_lut_settled_5_5_128.png"},{identifier:"imgly_lut_seventies",defaultName:"Seventies",lutImage:"filters/imgly_lut_seventies_5_5_128.png"},{identifier:"imgly_lut_soft",defaultName:"Soft",lutImage:"filters/imgly_lut_soft_5_5_128.png"},{identifier:"imgly_lut_steel",defaultName:"Steel",lutImage:"filters/imgly_lut_steel_5_5_128.png"},{identifier:"imgly_lut_summer",defaultName:"Summer",lutImage:"filters/imgly_lut_summer_5_5_128.png"},{identifier:"imgly_lut_tender",defaultName:"Tender",lutImage:"filters/imgly_lut_tender_5_5_128.png"},{identifier:"imgly_lut_twilight",defaultName:"Twilight",lutImage:"filters/imgly_lut_twilight_5_5_128.png"}]}],OVERLAYS:[{identifier:"imgly_overlay_golden",defaultName:"Golden",image:"overlays/imgly_overlay_golden.jpg",thumbnail:"overlays/imgly_overlay_golden_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_bokeh",defaultName:"Bokeh",image:"overlays/imgly_overlay_bokeh.jpg",thumbnail:"overlays/imgly_overlay_bokeh_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_hearts",defaultName:"Hearts",image:"overlays/imgly_overlay_hearts.jpg",thumbnail:"overlays/imgly_overlay_hearts_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak1",defaultName:"Light Leak",image:"overlays/imgly_overlay_lightleak1.jpg",thumbnail:"overlays/imgly_overlay_lightleak1_thumb.jpg",blendMode:"screen"},{identifier:"imgly_overlay_lightleak2",defaultName:"Light Leak 2",image:"overlays/imgly_overlay_lightleak2.jpg",thumbnail:"overlays/imgly_overlay_lightleak2_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_rain",defaultName:"Rain",image:"overlays/imgly_overlay_rain.jpg",thumbnail:"overlays/imgly_overlay_rain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_wood",defaultName:"Wood",image:"overlays/imgly_overlay_wood.jpg",thumbnail:"overlays/imgly_overlay_wood_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_mosaic",defaultName:"Mosaic",image:"overlays/imgly_overlay_mosaic.jpg",thumbnail:"overlays/imgly_overlay_mosaic_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_chop",defaultName:"Chop",image:"overlays/imgly_overlay_chop.jpg",thumbnail:"overlays/imgly_overlay_chop_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_vintage",defaultName:"Vintage",image:"overlays/imgly_overlay_vintage.jpg",thumbnail:"overlays/imgly_overlay_vintage_thumb.jpg",blendMode:"darken"},{identifier:"imgly_overlay_metal",defaultName:"Metal",image:"overlays/imgly_overlay_metal.jpg",thumbnail:"overlays/imgly_overlay_metal_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_paper",defaultName:"Paper",image:"overlays/imgly_overlay_paper.jpg",thumbnail:"overlays/imgly_overlay_paper_thumb.jpg",blendMode:"multiply"},{identifier:"imgly_overlay_painting",defaultName:"Painting",image:"overlays/imgly_overlay_painting.jpg",thumbnail:"overlays/imgly_overlay_painting_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_grain",defaultName:"Grain",image:"overlays/imgly_overlay_grain.jpg",thumbnail:"overlays/imgly_overlay_grain_thumb.jpg",blendMode:"overlay"},{identifier:"imgly_overlay_clouds",defaultName:"Clouds",image:"overlays/imgly_overlay_clouds.jpg",thumbnail:"overlays/imgly_overlay_clouds_thumb.jpg",blendMode:"softLight"},{identifier:"imgly_overlay_wall1",defaultName:"Wall",image:"overlays/imgly_overlay_wall1.jpg",thumbnail:"overlays/imgly_overlay_wall1_thumb.jpg",blendMode:"lighten"},{identifier:"imgly_overlay_wall2",defaultName:"Wall 2",image:"overlays/imgly_overlay_wall2.jpg",thumbnail:"overlays/imgly_overlay_wall2_thumb.jpg",blendMode:"overlay"}],FRAME_CATEGORIES:[{identifier:"imgly_frame_generic",defaultName:"Generic",metaData:{backgroundImage:"frames/generic.png"},frames:[{identifier:"imgly_frame_dia",defaultName:"Dia",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_left.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"frames/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"frames/imgly_frame_dia/imgly_frame_dia_right.png",end:"frames/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"frames/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",defaultName:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"frames/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",defaultName:"Black Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",defaultName:"Low Poly",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"frames/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",defaultName:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnail:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"frames/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}}]}],STICKER_CATEGORIES:[{identifier:"imgly_sticker_emoticons",defaultName:"Emoticons",metaData:{backgroundImage:"stickers/emoticons/background.png"},stickers:[{identifier:"imgly_sticker_emoticons_alien",defaultName:"Alien",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_alien.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_alien.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_alien.png"],width:1e3,height:935}}},{identifier:"imgly_sticker_emoticons_angel",defaultName:"Angel",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angel.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angel.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angel.png"]}}},{identifier:"imgly_sticker_emoticons_angry",defaultName:"Angry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_angry.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_angry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_angry.png"]}}},{identifier:"imgly_sticker_emoticons_anxious",defaultName:"Anxious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_anxious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_anxious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_anxious.png"]}}},{identifier:"imgly_sticker_emoticons_asleep",defaultName:"Asleep",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_asleep.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_asleep.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_asleep.png"]}}},{identifier:"imgly_sticker_emoticons_attention",defaultName:"Attention",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_attention.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_attention.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_attention.png"]}}},{identifier:"imgly_sticker_emoticons_baby_chicken",defaultName:"Baby Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_baby_chicken.png"],width:61,height:42},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_baby_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_baby_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_batman",defaultName:"Batman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_batman.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_batman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_batman.png"]}}},{identifier:"imgly_sticker_emoticons_beer",defaultName:"Beer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_beer.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_beer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_beer.png"]}}},{identifier:"imgly_sticker_emoticons_blush",defaultName:"Blush",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_blush.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_blush.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_blush.png"]}}},{identifier:"imgly_sticker_emoticons_boxer",defaultName:"Boxer",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_boxer.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_boxer.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_boxer.png"]}}},{identifier:"imgly_sticker_emoticons_business",defaultName:"Business",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_business.png"],width:60,height:63},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_business.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_business.png"]}}},{identifier:"imgly_sticker_emoticons_chicken",defaultName:"Chicken",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_chicken.png"],width:63,height:55},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_chicken.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_chicken.png"]}}},{identifier:"imgly_sticker_emoticons_cool",defaultName:"Cool",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cool.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cool.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cool.png"]}}},{identifier:"imgly_sticker_emoticons_cry",defaultName:"Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_cry.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_cry.png"]}}},{identifier:"imgly_sticker_emoticons_deceased",defaultName:"Deceased",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_deceased.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_deceased.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_deceased.png"]}}},{identifier:"imgly_sticker_emoticons_devil",defaultName:"Devil",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_devil.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_devil.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_devil.png"]}}},{identifier:"imgly_sticker_emoticons_duckface",defaultName:"Duckface",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_duckface.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_duckface.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_duckface.png"]}}},{identifier:"imgly_sticker_emoticons_furious",defaultName:"Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_furious.png"],width:62,height:61},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_furious.png"]}}},{identifier:"imgly_sticker_emoticons_grin",defaultName:"Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_grin.png"]}}},{identifier:"imgly_sticker_emoticons_guitar",defaultName:"Guitar",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_guitar.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_guitar.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_guitar.png"]}}},{identifier:"imgly_sticker_emoticons_harry_potter",defaultName:"Harry Potter",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_harry_potter.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_harry_potter.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_harry_potter.png"]}}},{identifier:"imgly_sticker_emoticons_hippie",defaultName:"Hippie",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hippie.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hippie.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hippie.png"]}}},{identifier:"imgly_sticker_emoticons_hitman",defaultName:"Hitman",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_hitman.png"],width:64,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_hitman.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_hitman.png"]}}},{identifier:"imgly_sticker_emoticons_humourous",defaultName:"Humourous",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_humourous.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_humourous.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_humourous.png"]}}},{identifier:"imgly_sticker_emoticons_idea",defaultName:"Idea",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_idea.png"],width:64,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_idea.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_idea.png"]}}},{identifier:"imgly_sticker_emoticons_impatient",defaultName:"Impatient",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_impatient.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_impatient.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_impatient.png"]}}},{identifier:"imgly_sticker_emoticons_kiss",defaultName:"Kiss",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kiss.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kiss.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kiss.png"]}}},{identifier:"imgly_sticker_emoticons_kisses",defaultName:"Kisses",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_kisses.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_kisses.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_kisses.png"]}}},{identifier:"imgly_sticker_emoticons_laugh",defaultName:"Laugh",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_laugh.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_laugh.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_laugh.png"]}}},{identifier:"imgly_sticker_emoticons_loud_cry",defaultName:"Loud Cry",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loud_cry.png"],width:64,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loud_cry.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loud_cry.png"]}}},{identifier:"imgly_sticker_emoticons_loving",defaultName:"Loving",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_loving.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_loving.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_loving.png"]}}},{identifier:"imgly_sticker_emoticons_masked",defaultName:"Masked",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_masked.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_masked.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_masked.png"]}}},{identifier:"imgly_sticker_emoticons_music",defaultName:"Music",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_music.png"],width:62,height:54},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_music.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_music.png"]}}},{identifier:"imgly_sticker_emoticons_nerd",defaultName:"Nerd",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_nerd.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_nerd.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_nerd.png"]}}},{identifier:"imgly_sticker_emoticons_ninja",defaultName:"Ninja",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_ninja.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_ninja.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_ninja.png"]}}},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",defaultName:"Not Speaking To You",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_not_speaking_to_you.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_not_speaking_to_you.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_not_speaking_to_you.png"]}}},{identifier:"imgly_sticker_emoticons_pig",defaultName:"Pig",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pig.png"],width:63,height:41},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pig.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pig.png"]}}},{identifier:"imgly_sticker_emoticons_pumpkin",defaultName:"Pumpkin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_pumpkin.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_pumpkin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_pumpkin.png"]}}},{identifier:"imgly_sticker_emoticons_question",defaultName:"Question",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_question.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_question.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_question.png"]}}},{identifier:"imgly_sticker_emoticons_rabbit",defaultName:"Rabbit",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_rabbit.png"],width:65,height:47},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_rabbit.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_rabbit.png"]}}},{identifier:"imgly_sticker_emoticons_sad",defaultName:"Sad",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sad.png"]},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sad.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sad.png"]}}},{identifier:"imgly_sticker_emoticons_sick",defaultName:"Sick",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sick.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sick.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sick.png"]}}},{identifier:"imgly_sticker_emoticons_skateboard",defaultName:"Skateboard",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skateboard.png"],width:62,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skateboard.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skateboard.png"]}}},{identifier:"imgly_sticker_emoticons_skull",defaultName:"Skull",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_skull.png"],width:62,height:62},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_skull.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_skull.png"]}}},{identifier:"imgly_sticker_emoticons_sleepy",defaultName:"Sleepy",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sleepy.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sleepy.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sleepy.png"]}}},{identifier:"imgly_sticker_emoticons_smile",defaultName:"Smile",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smile.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smile.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smile.png"]}}},{identifier:"imgly_sticker_emoticons_smoking",defaultName:"Smoking",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_smoking.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_smoking.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_smoking.png"]}}},{identifier:"imgly_sticker_emoticons_sobbing",defaultName:"Sobbing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sobbing.png"],width:62,height:59},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sobbing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sobbing.png"]}}},{identifier:"imgly_sticker_emoticons_star",defaultName:"Star",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_star.png"],width:64,height:64},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_star.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_star.png"]}}},{identifier:"imgly_sticker_emoticons_steaming_furious",defaultName:"Steaming Furious",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_steaming_furious.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_steaming_furious.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_steaming_furious.png"]}}},{identifier:"imgly_sticker_emoticons_sunbathing",defaultName:"Sunbathing",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_sunbathing.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_sunbathing.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_sunbathing.png"]}}},{identifier:"imgly_sticker_emoticons_tired",defaultName:"Tired",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tired.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tired.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tired.png"]}}},{identifier:"imgly_sticker_emoticons_tongue_out_wink",defaultName:"Tongue Out Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_tongue_out_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_tongue_out_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_tongue_out_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wave",defaultName:"Wave",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wave.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wave.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wave.png"]}}},{identifier:"imgly_sticker_emoticons_wide_grin",defaultName:"Wide Grin",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wide_grin.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wide_grin.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wide_grin.png"]}}},{identifier:"imgly_sticker_emoticons_wink",defaultName:"Wink",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wink.png"],width:62,height:58},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wink.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wink.png"]}}},{identifier:"imgly_sticker_emoticons_wrestler",defaultName:"Wrestler",images:{mediaThumb:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/thumbs/imgly_sticker_emoticons_wrestler.png"],width:62,height:60},mediaBase:{uris:["stickers/emoticons/stickers/imgly_sticker_emoticons_wrestler.svg","stickers/emoticons/stickers/base/imgly_sticker_emoticons_wrestler.png"]}}}]},{identifier:"imgly_sticker_shapes",defaultName:"Shapes",metaData:{backgroundImage:"stickers/shapes/background.png"},stickers:[{identifier:"imgly_sticker_shapes_arrow_02",defaultName:"Arrow 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_02.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_02.png"],width:2e3,height:1236}}},{identifier:"imgly_sticker_shapes_arrow_03",defaultName:"Arrow 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_arrow_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_arrow_03.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_01",defaultName:"Badge 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_01.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_04",defaultName:"Badge 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_04.png"],width:2e3,height:1589}}},{identifier:"imgly_sticker_shapes_badge_06",defaultName:"Badge 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_06.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_06.png"],width:2e3,height:1733}}},{identifier:"imgly_sticker_shapes_badge_08",defaultName:"Badge 4",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_08.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_08.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_11",defaultName:"Badge 5",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_11.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_11.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_12",defaultName:"Badge 6",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_12.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_12.png"],width:2001,height:1903}}},{identifier:"imgly_sticker_shapes_badge_13",defaultName:"Badge 7",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_13.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_13.png"],width:2e3,height:1718}}},{identifier:"imgly_sticker_shapes_badge_15",defaultName:"Badge 8",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_15.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_15.png"],width:1618,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_18",defaultName:"Badge 9",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_18.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_18.png"],width:1198,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_19",defaultName:"Badge 10",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_19.png"],width:2127,height:481},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_19.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_19.png"],width:2127,height:481}}},{identifier:"imgly_sticker_shapes_badge_20",defaultName:"Badge 11",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_20.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_20.png"],width:2e3,height:1404}}},{identifier:"imgly_sticker_shapes_badge_28",defaultName:"Badge 12",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_28.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_28.png"],width:2e3,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_32",defaultName:"Badge 13",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_32.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_32.png"],width:1960,height:2e3}}},{identifier:"imgly_sticker_shapes_badge_35",defaultName:"Badge 14",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_35.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_35.png"],width:2e3,height:2002}}},{identifier:"imgly_sticker_shapes_badge_36",defaultName:"Badge 15",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_badge_36.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_badge_36.png"],width:2e3,height:1668}}},{identifier:"imgly_sticker_shapes_spray_01",defaultName:"Spray 1",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_01.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_01.png"],width:1912,height:2039}}},{identifier:"imgly_sticker_shapes_spray_03",defaultName:"Spray 2",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_03.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_03.png"],width:1681,height:1779}}},{identifier:"imgly_sticker_shapes_spray_04",defaultName:"Spray 3",tintMode:"solid",images:{mediaThumb:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/thumbs/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248},mediaBase:{uris:["stickers/shapes/stickers/imgly_sticker_shapes_spray_04.svg","stickers/shapes/stickers/base/imgly_sticker_shapes_spray_04.png"],width:1407,height:2248}}}]}]}}}));function Ai(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function Mi(){return new Ai(null)}function Pi(e,t,n,i,r,o){for(;--o>=0;){var a=t*this[e++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r}function zi(e,t,n,i,r,o){for(var a=32767&t,s=t>>15;--o>=0;){var l=32767&this[e],u=this[e++]>>15,c=s*l+u*a;r=((l=a*l+((32767&c)<<15)+n[i]+(1073741823&r))>>>30)+(c>>>15)+s*u+(r>>>30),n[i++]=1073741823&l}return r}function Bi(e,t,n,i,r,o){for(var a=16383&t,s=t>>14;--o>=0;){var l=16383&this[e],u=this[e++]>>14,c=s*l+u*a;r=((l=a*l+((16383&c)<<14)+n[i]+r)>>28)+(c>>14)+s*u,n[i++]=268435455&l}return r}function Li(e){return ai.charAt(e)}function Ni(e,t){var n=si[e.charCodeAt(t)];return null==n?-1:n}function Ui(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function Gi(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function Hi(e){var t=Mi();return t.fromInt(e),t}function Wi(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,r=!1,o=0;--i>=0;){var a=8==n?255&e[i]:Ni(e,i);a<0?"-"==e.charAt(i)&&(r=!0):(r=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&Ai.ZERO.subTo(this,this)}function Vi(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function qi(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(r=!0,o=Li(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&i,s<=0&&(s+=this.DB,--a)),n>0&&(r=!0),r&&(o+=Li(n));return r?o:"0"}function Ki(){var e=Mi();return Ai.ZERO.subTo(this,e),e}function Xi(){return this.s<0?this.negate():this}function Yi(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function Qi(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Zi(){return this.t<=0?0:this.DB*(this.t-1)+Qi(this[this.t-1]^this.s&this.DM)}function Ji(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function $i(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function er(e,t){var n,i=e%this.DB,r=this.DB-i,o=(1<<r)-1,a=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>r|s,s=(this[n]&o)<<i;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()}function tr(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,r=this.DB-i,o=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<r,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&o)<<r),t.t=this.t-n,t.clamp()}}function nr(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function ir(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&Ai.ZERO.subTo(t,t)}function rr(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function or(e,t,n){var i=e.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=Mi());var o=Mi(),a=this.s,s=e.s,l=this.DB-Qi(i[i.t-1]);l>0?(i.lShiftTo(l,o),r.lShiftTo(l,n)):(i.copyTo(o),r.copyTo(n));var u=o.t,c=o[u-1];if(0!=c){var f=c*(1<<this.F1)+(u>1?o[u-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,m=n.t,g=m-u,y=null==t?Mi():t;for(o.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),Ai.ONE.dlShiftTo(u,y),y.subTo(o,o);o.t<u;)o[o.t++]=0;for(;--g>=0;){var v=n[--m]==c?this.DM:Math.floor(n[m]*d+(n[m-1]+p)*h);if((n[m]+=o.am(0,v,n,g,0,u))<v)for(o.dlShiftTo(g,y),n.subTo(y,n);n[m]<--v;)n.subTo(y,n)}null!=t&&(n.drShiftTo(u,t),a!=s&&Ai.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&Ai.ZERO.subTo(n,n)}}}function ar(e){var t=Mi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Ai.ZERO)>0&&e.subTo(t,t),t}function sr(e){this.m=e}function lr(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function ur(e){return e}function cr(e){e.divRemTo(this.m,null,e)}function fr(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function dr(e,t){e.squareTo(t),this.reduce(t)}function hr(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t}function pr(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function mr(e){var t=Mi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Ai.ZERO)>0&&this.m.subTo(t,t),t}function gr(e){var t=Mi();return e.copyTo(t),this.reduce(t),t}function yr(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function vr(e,t){e.squareTo(t),this.reduce(t)}function br(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function _r(){return 0==(this.t>0?1&this[0]:this.s)}function xr(e,t){if(e>4294967295||e<1)return Ai.ONE;var n=Mi(),i=Mi(),r=t.convert(this),o=Qi(e)-1;for(r.copyTo(n);--o>=0;)if(t.sqrTo(n,i),(e&1<<o)>0)t.mulTo(i,r,n);else{var a=n;n=i,i=a}return t.revert(n)}function kr(e,t){var n;return n=e<256||t.isEven()?new sr(t):new pr(t),this.exp(e,n)}function wr(){var e=Mi();return this.copyTo(e),e}function Or(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function Sr(){return 0==this.t?this.s:this[0]<<24>>24}function Cr(){return 0==this.t?this.s:this[0]<<16>>16}function jr(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Tr(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Er(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=Hi(n),r=Mi(),o=Mi(),a="";for(this.divRemTo(i,r,o);r.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,r.divRemTo(i,r,o);return o.intValue().toString(e)+a}function Dr(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),r=!1,o=0,a=0,s=0;s<e.length;++s){var l=Ni(e,s);l<0?"-"==e.charAt(s)&&0==this.signum()&&(r=!0):(a=t*a+l,++o>=n&&(this.dMultiply(i),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),r&&Ai.ZERO.subTo(this,this)}function Ir(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(Ai.ONE.shiftLeft(e-1),Lr,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Ai.ONE.shiftLeft(e-1),this);else{var i=new Array,r=7&e;i.length=1+(e>>3),t.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function Rr(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,r=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[r++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(t[r++]=n);return t}function Fr(e){return 0==this.compareTo(e)}function Ar(e){return this.compareTo(e)<0?this:e}function Mr(e){return this.compareTo(e)>0?this:e}function Pr(e,t,n){var i,r,o=Math.min(e.t,this.t);for(i=0;i<o;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(r=e.s&this.DM,i=o;i<this.t;++i)n[i]=t(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=o;i<e.t;++i)n[i]=t(r,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function zr(e,t){return e&t}function Br(e){var t=Mi();return this.bitwiseTo(e,zr,t),t}function Lr(e,t){return e|t}function Nr(e){var t=Mi();return this.bitwiseTo(e,Lr,t),t}function Ur(e,t){return e^t}function Gr(e){var t=Mi();return this.bitwiseTo(e,Ur,t),t}function Hr(e,t){return e&~t}function Wr(e){var t=Mi();return this.bitwiseTo(e,Hr,t),t}function Vr(){for(var e=Mi(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function qr(e){var t=Mi();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function Kr(e){var t=Mi();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function Xr(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function Yr(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+Xr(this[e]);return this.s<0?this.t*this.DB:-1}function Qr(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function Zr(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=Qr(this[n]^t);return e}function Jr(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function $r(e,t){var n=Ai.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function eo(e){return this.changeBit(e,Lr)}function to(e){return this.changeBit(e,Hr)}function no(e){return this.changeBit(e,Ur)}function io(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()}function ro(e){var t=Mi();return this.addTo(e,t),t}function oo(e){var t=Mi();return this.subTo(e,t),t}function ao(e){var t=Mi();return this.multiplyTo(e,t),t}function so(){var e=Mi();return this.squareTo(e),e}function lo(e){var t=Mi();return this.divRemTo(e,t,null),t}function uo(e){var t=Mi();return this.divRemTo(e,null,t),t}function co(e){var t=Mi(),n=Mi();return this.divRemTo(e,t,n),new Array(t,n)}function fo(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function ho(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function po(){}function mo(e){return e}function go(e,t,n){e.multiplyTo(t,n)}function yo(e,t){e.squareTo(t)}function vo(e){return this.exp(e,new po)}function bo(e,t,n){var i,r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()}function _o(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)}function xo(e){this.r2=Mi(),this.q3=Mi(),Ai.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function ko(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Mi();return e.copyTo(t),this.reduce(t),t}function wo(e){return e}function Oo(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function So(e,t){e.squareTo(t),this.reduce(t)}function Co(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function jo(e,t){var n,i,r=e.bitLength(),o=Hi(1);if(r<=0)return o;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new sr(t):t.isEven()?new xo(t):new pr(t);var a=new Array,s=3,l=n-1,u=(1<<n)-1;if(a[1]=i.convert(this),n>1){var c=Mi();for(i.sqrTo(a[1],c);s<=u;)a[s]=Mi(),i.mulTo(c,a[s-2],a[s]),s+=2}var f,d,h=e.t-1,p=!0,m=Mi();for(r=Qi(e[h])-1;h>=0;){for(r>=l?f=e[h]>>r-l&u:(f=(e[h]&(1<<r+1)-1)<<l-r,h>0&&(f|=e[h-1]>>this.DB+r-l)),s=n;0==(1&f);)f>>=1,--s;if((r-=s)<0&&(r+=this.DB,--h),p)a[f].copyTo(o),p=!1;else{for(;s>1;)i.sqrTo(o,m),i.sqrTo(m,o),s-=2;s>0?i.sqrTo(o,m):(d=o,o=m,m=d),i.mulTo(m,a[f],o)}for(;h>=0&&0==(e[h]&1<<r);)i.sqrTo(o,m),d=o,o=m,m=d,--r<0&&(r=this.DB-1,--h)}return i.revert(o)}function To(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var r=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(r<o&&(o=r),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n}function Eo(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n}function Do(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return Ai.ZERO;for(var n=e.clone(),i=this.clone(),r=Hi(1),o=Hi(0),a=Hi(0),s=Hi(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(r.isEven()&&o.isEven()||(r.addTo(this,r),o.subTo(e,o)),r.rShiftTo(1,r)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(i)>=0?(n.subTo(i,n),t&&r.subTo(a,r),o.subTo(s,o)):(i.subTo(n,i),t&&a.subTo(r,a),s.subTo(o,s))}return 0!=i.compareTo(Ai.ONE)?Ai.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s}function Io(e){var t,n=this.abs();if(1==n.t&&n[0]<=ci[ci.length-1]){for(t=0;t<ci.length;++t)if(n[0]==ci[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<ci.length;){for(var i=ci[t],r=t+1;r<ci.length&&i<fi;)i*=ci[r++];for(i=n.modInt(i);t<r;)if(i%ci[t++]==0)return!1}return n.millerRabin(e)}function Ro(e){var t=this.subtract(Ai.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var i=t.shiftRight(n);(e=e+1>>1)>ci.length&&(e=ci.length);for(var r=Mi(),o=0;o<e;++o){r.fromInt(ci[Math.floor(Math.random()*ci.length)]);var a=r.modPow(i,this);if(0!=a.compareTo(Ai.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(Ai.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0}var Fo=z((function(){for(ri={},ri="undefined"!==typeof window?window.navigator:{},0xdeadbeefcafe,!0,"Microsoft Internet Explorer"==ri.appName?(Ai.prototype.am=zi,oi=30):"Netscape"!=ri.appName?(Ai.prototype.am=Pi,oi=26):(Ai.prototype.am=Bi,oi=28),Ai.prototype.DB=oi,Ai.prototype.DM=(1<<oi)-1,Ai.prototype.DV=1<<oi,52,Ai.prototype.FV=Math.pow(2,52),Ai.prototype.F1=52-oi,Ai.prototype.F2=2*oi-52,ai="0123456789abcdefghijklmnopqrstuvwxyz",si=new Array,li="0".charCodeAt(0),ui=0;ui<=9;++ui)si[li++]=ui;for(li="a".charCodeAt(0),ui=10;ui<36;++ui)si[li++]=ui;for(li="A".charCodeAt(0),ui=10;ui<36;++ui)si[li++]=ui;sr.prototype.convert=lr,sr.prototype.revert=ur,sr.prototype.reduce=cr,sr.prototype.mulTo=fr,sr.prototype.sqrTo=dr,pr.prototype.convert=mr,pr.prototype.revert=gr,pr.prototype.reduce=yr,pr.prototype.mulTo=br,pr.prototype.sqrTo=vr,Ai.prototype.copyTo=Ui,Ai.prototype.fromInt=Gi,Ai.prototype.fromString=Wi,Ai.prototype.clamp=Vi,Ai.prototype.dlShiftTo=Ji,Ai.prototype.drShiftTo=$i,Ai.prototype.lShiftTo=er,Ai.prototype.rShiftTo=tr,Ai.prototype.subTo=nr,Ai.prototype.multiplyTo=ir,Ai.prototype.squareTo=rr,Ai.prototype.divRemTo=or,Ai.prototype.invDigit=hr,Ai.prototype.isEven=_r,Ai.prototype.exp=xr,Ai.prototype.toString=qi,Ai.prototype.negate=Ki,Ai.prototype.abs=Xi,Ai.prototype.compareTo=Yi,Ai.prototype.bitLength=Zi,Ai.prototype.mod=ar,Ai.prototype.modPowInt=kr,Ai.ZERO=Hi(0),Ai.ONE=Hi(1),po.prototype.convert=mo,po.prototype.revert=mo,po.prototype.mulTo=go,po.prototype.sqrTo=yo,xo.prototype.convert=ko,xo.prototype.revert=wo,xo.prototype.reduce=Oo,xo.prototype.mulTo=Co,xo.prototype.sqrTo=So,fi=(1<<26)/(ci=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997])[ci.length-1],Ai.prototype.chunkSize=jr,Ai.prototype.toRadix=Er,Ai.prototype.fromRadix=Dr,Ai.prototype.fromNumber=Ir,Ai.prototype.bitwiseTo=Pr,Ai.prototype.changeBit=$r,Ai.prototype.addTo=io,Ai.prototype.dMultiply=fo,Ai.prototype.dAddOffset=ho,Ai.prototype.multiplyLowerTo=bo,Ai.prototype.multiplyUpperTo=_o,Ai.prototype.modInt=Eo,Ai.prototype.millerRabin=Ro,Ai.prototype.clone=wr,Ai.prototype.intValue=Or,Ai.prototype.byteValue=Sr,Ai.prototype.shortValue=Cr,Ai.prototype.signum=Tr,Ai.prototype.toByteArray=Rr,Ai.prototype.equals=Fr,Ai.prototype.min=Ar,Ai.prototype.max=Mr,Ai.prototype.and=Br,Ai.prototype.or=Nr,Ai.prototype.xor=Gr,Ai.prototype.andNot=Wr,Ai.prototype.not=Vr,Ai.prototype.shiftLeft=qr,Ai.prototype.shiftRight=Kr,Ai.prototype.getLowestSetBit=Yr,Ai.prototype.bitCount=Zr,Ai.prototype.testBit=Jr,Ai.prototype.setBit=eo,Ai.prototype.clearBit=to,Ai.prototype.flipBit=no,Ai.prototype.add=ro,Ai.prototype.subtract=oo,Ai.prototype.multiply=ao,Ai.prototype.divide=lo,Ai.prototype.remainder=uo,Ai.prototype.divideAndRemainder=co,Ai.prototype.modPow=jo,Ai.prototype.modInverse=Do,Ai.prototype.pow=vo,Ai.prototype.gcd=To,Ai.prototype.isProbablePrime=Io,Ai.prototype.square=so,di=Ai}));var Ao,Mo,Po,zo,Bo,Lo,No,Uo,Go,Ho,Wo,Vo,qo=z((function(){})),Ko=z((function(){Ao=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g,Mo=/^(0|[1-9]\d*)\.(0|[1-9]\d*)(\.(0|[1-9]\d*))?(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/g,Po=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(k.a)(this,e);var i=n?Mo:Ao,r=i.exec(t);i.lastIndex=0,this._major=r[1],this._minor=r[2],this._patch=r[3]||0}return Object(w.a)(e,[{key:"major",get:function(){return this._major}},{key:"minor",get:function(){return this._minor}},{key:"patch",get:function(){return this._patch}}]),Object(w.a)(e,[{key:"equals",value:function(e){return this._major===e._major&&this._minor===e._minor&&this._patch===e._patch}},{key:"isMoreRecentThan",value:function(e){return!(this._major<e.major)&&(this._major>e.major||!(this._minor<e.minor)&&(this._minor>e.minor||!(this._patch<=e.patch)&&(this._patch>e.patch||void 0)))}}]),e}()}));var Xo,Yo,Qo,Zo,Jo,$o,ea,ta,na,ia=z((function(){at(),Fo(),qo(),qe(),Ko(),Ke(),zo=function(e){return ke.byteArrayToString(be.decode(e))},"TDNSeVlXTnJQMkZ3YVV0bGVUMD0=","ZW50ZXJwcmlzZV9saWNlbnNl",Bo="YXBwX2lkZW50aWZpZXJz","cGxhdGZvcm0=",Lo="ZmVhdHVyZXM=",No="ZXhwaXJlc19hdA==","ZG9tYWlucw==","YXBpX3Rva2Vu",Uo="c2lnbmF0dXJl",Go="dmVyc2lvbg==",Ho=function(){function e(t){Object(k.a)(this,e),this._version="2.4",this._l="string"===typeof t?t.trim():t,this._e=this._parseBigInt("65537",10),this._n=this._parseBigInt("681984042382424091378806337544846672160292647422517223678775230983366046720611873368204040735766698395282492937192783016867164773742859209434481353888637963692711665138989982680829529436715362566735813634679619274059040232728883894511099669775400556584329435375723951309340934658571478665059403241851229195311069345899870108307225910988692123234379186643268583453907260879685992156955936561142314233983397819356937109343127504441076920088455337597736475086676246750168976219763398350254797168313954762459542746440628077261880980924552698138857743609502132632199713575442848784271304503226045319991689413234228439044522583790713890093165912455428688507463773064216328753265963237930998706891042679105987175588970202082466871461192706070321938250462103821558100761330890228135620208935801286878657384108721268761878694436895194628411397454202904351577771506916746612289964053490210990342857409030179406810634136188751670648983222653319056818302012063874664196648868156305696644664362171542503665321455971335955948698828939948786720193132672749776162913092000667953299803216404664087988046584107737900256954976744353601826341965438148646041640662195744770544094748295945844184507459808803114917301124088082458306086473490516969815873631",10),this._parseLicense()}return Object(w.a)(e,[{key:"v",value:function(){return this._sigValid()&&!this.isExp()}},{key:"_jsonValid",value:function(){try{this._decLic=JSON.parse(this._l)}catch(rS){return this._decLic={},!1}return!0}},{key:"_hostnameValid",value:function(){if("undefined"===typeof window)return!0;if(!this._decLic[zo(Bo)].length)return!0;var e=window.location.hostname,t=!1;return this._decLic[zo(Bo)].forEach((function(n){ke.wildCardMatch(e,n)&&(t=!0)})),t}},{key:"_platformValid",value:function(){return"HTML5"===this._decLic[zo("cGxhdGZvcm0=")]}},{key:"c",value:function(){var e=this;return new Promise((function(t,n){var i=e._validateError();null!==i&&n(i),t()}))}},{key:"validate",value:function(){return null===this._validateError()}},{key:"_validateError",value:function(){if("string"!==typeof this._l||!this._jsonValid()){var e=new Error;return e.code="ELICINVFMT",e}if(!this._sigValid()){var t=new Error;return t.code="ELICINV",t}if(!this._hostnameValid()){var n=new Error;return n.code="ELICINVHOST",n}if(!this._platformValid()){var i=new Error;return i.code="ELICINVPLAT",i}if(this.isExp()){var r=new Error;return r.code="ELICEXP",r}return null}},{key:"isToolAllowed",value:function(e){return this._includesFeature(e)}},{key:"isWhiteLabel",value:function(){return this._includesFeature("whitelabel",new Po("2.4",!0))}},{key:"areCustomAssetsAllowed",value:function(){return this._includesFeature("customassets",new Po("2.4",!0))}},{key:"t",value:function(){if(this._decLic.enterprise_license)return Promise.resolve();if(this._includesFeature("noexporttracking",new Po("2.4",!0)))return Promise.resolve();var e=this._decLic[zo("ZG9tYWlucw==")][0]+zo(zo("TDNSeVlXTnJQMkZ3YVV0bGVUMD0="))+this._decLic[zo("YXBpX3Rva2Vu")],t=new rt(e);return t.load().catch((function(){}))}},{key:"isENT",value:function(){return!!this._decLic&&this._decLic[zo("ZW50ZXJwcmlzZV9saWNlbnNl")]}},{key:"_sigValid",value:function(){return this._verify(this._message,this._sig)}},{key:"exp",value:function(){return!!this._decLic[zo(No)]}},{key:"dl",value:function(){return Math.ceil((this._expAt()-Date.now())/864e5)}},{key:"isExp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return null!==this._decLic[zo(No)]&&e>this._expAt()}},{key:"_expAt",value:function(){return 1e3*this._decLic[zo(No)]}},{key:"_verify",value:function(e,t){return this._encodeMessage(e)===this._decodeSignature(t).substr(-64)}},{key:"_encodeMessage",value:function(e){return function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,t){return e>>>t|e<<32-t}function i(e,t){return e>>>t}function r(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e){return n(e,2)^n(e,13)^n(e,22)}function s(e){return n(e,6)^n(e,11)^n(e,25)}function l(e){return n(e,7)^n(e,18)^i(e,3)}function u(e){return n(e,17)^n(e,19)^i(e,10)}return function(e){for(var t="0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>8*(3-i%4)+4&15)+t.charAt(e[i>>2]>>8*(3-i%4)&15);return n}(function(e,n){var i,c,f,d,h,p,m,g,y,v,b=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),_=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);e[n>>5]|=128<<24-n%32,e[15+(n+64>>9<<4)]=n;for(var k=0;k<e.length;k+=16){i=_[0],c=_[1],f=_[2],d=_[3],h=_[4],p=_[5],m=_[6],g=_[7];for(var w=0;w<64;w++)x[w]=w<16?e[w+k]:t(t(t(u(x[w-2]),x[w-7]),l(x[w-15])),x[w-16]),y=t(t(t(t(g,s(h)),r(h,p,m)),b[w]),x[w]),v=t(a(i),o(i,c,f)),g=m,m=p,p=h,h=t(d,y),d=f,f=c,c=i,i=t(y,v);_[0]=t(i,_[0]),_[1]=t(c,_[1]),_[2]=t(f,_[2]),_[3]=t(d,_[3]),_[4]=t(h,_[4]),_[5]=t(p,_[5]),_[6]=t(m,_[6]),_[7]=t(g,_[7])}return _}(function(e){for(var t=Array(),n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<24-n%32;return t}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e)),8*e.length))}(e)}},{key:"_decodeSignature",value:function(e){return e=function(e){return e.map((function(e){return"0".concat((255&e).toString(16)).slice(-2)})).join("")}(e=be.decode(e)),(e=this._parseBigInt(e,16)).modPowInt(this._e,this._n).toString(16)}},{key:"_parseBigInt",value:function(e,t){return new di(e,t)}},{key:"_parseLicense",value:function(){"string"===typeof this._l&&this._jsonValid()&&(this._sig=this._decLic[zo(Uo)]||"",delete this._decLic[zo(Uo)],this._sig=this._sig.replace(/[^A-Za-z0-9+/=]/g,""),this._message=this._l.replace(new RegExp(',"'.concat(zo(Uo),'":"([^"]*)"')),""))}},{key:"_includesFeature",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Po("1.0",!0),n=new Po(this._decLic[zo(Go)],!0);return!!t.isMoreRecentThan(n)||this._decLic[zo(Lo)]&&-1!==this._decLic[zo(Lo)].indexOf(e)}}]),e}(),Wo=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,[{key:"v",value:function(){return!0}},{key:"c",value:function(){return Promise.resolve()}},{key:"isToolAllowed",value:function(e){return!0}},{key:"isWhiteLabel",value:function(){return!1}},{key:"areCustomAssetsAllowed",value:function(){return!0}},{key:"t",value:function(){return Promise.resolve()}},{key:"isENT",value:function(){return!1}},{key:"exp",value:function(){return!1}},{key:"dl",value:function(){return 0}},{key:"isExp",value:function(){arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return!1}}]),e}(),Vo=Ho})),ra=z((function(){Xo="undefined"===typeof window?e:window,Yo=Xo.requestAnimationFrame,Qo=Xo.cancelAnimationFrame,Zo=0,Jo=["ms","moz","webkit","o"];for(var t=0;t<Jo.length&&!Yo;++t)Yo=Xo["".concat(Jo[t],"RequestAnimationFrame")],Qo=Xo["".concat(Jo[t],"CancelAnimationFrame")]||Xo["".concat(Jo[t],"CancelRequestAnimationFrame")];Yo&&(Yo=Yo.bind(Xo)),Qo&&(Qo=Qo.bind(Xo)),Yo||(Yo=function(e,t){var n=(new Date).getTime(),i=Math.max(0,16-(n-Zo)),r=setTimeout((function(){e(n+i)}),i);return Zo=n+i,r}),Qo||(Qo=function(e){clearTimeout(e)})})),oa=z((function(){Xe(),Dt(),$o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gt(0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new gt(1,1),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new gt(2,-1),r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new gt(2,0);Object(k.a)(this,e),this._p0=t.clone(),this._p1=n.clone(),this._p2=i.clone(),this._p3=r.clone(),this._segments=[],this._length=-1,this._sample=[]}return Object(w.a)(e,[{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gt(0,0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new gt(1,1),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new gt(2,1),i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new gt(2,0);this._p0=e.clone(),this._p1=t.clone(),this._p2=n.clone(),this._p3=i.clone()}},{key:"getLength",value:function(){return this._length}},{key:"calculateSegments",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=0,n=0,i=[],r=1/e,o=this._p0.clone(),a=1;a<=e;a++){var s=[];s.push({t:t,s:n,point:o}),t+=r,t=Math.min(t,1);var l=this.evalAt(t),u=l.clone().subtract(o);n+=u.len(),s.push({t:t,s:n,point:l}),i.push(s),o=l}return this._segments=i,this._length=n,n}},{key:"evalAt",value:function(e){e=this.normalizeParameter(e);var t=this._p0.clone().multiply(Math.pow(1-e,3)),n=this._p1.clone().multiply(3*(1-e)*(1-e)*e),i=this._p2.clone().multiply(3*(1-e)*e*e),r=this._p3.clone().multiply(e*e*e);return t.add(n).add(i).add(r)}},{key:"isInSegment",value:function(e,t){return(e=this.normalizeArcLength(e))>=t[0].s&&e<=t[1].s}},{key:"getArcLengthSegment",value:function(e){e=this.normalizeArcLength(e);for(var t=0;t<this._segments.length;t++){var n=this._segments[t];if(this.isInSegment(e,n))return n}return null}},{key:"normalizeArcLength",value:function(e){return Math.max(Math.min(this._length,e),0)}},{key:"normalizeParameter",value:function(e){return Math.max(Math.min(1,e),0)}},{key:"getParameterForArcLength",value:function(e){var t=this.normalizeArcLength(e),n=this.getArcLengthSegment(t);if(!n)return Ee.warn("CubicBezierCurve#getParameterForArcLength","Segment not found."),-1;var i=(t-n[1].s)/(n[0].s-n[1].s);return i*n[0].t+(1-i)*n[1].t}},{key:"evalAtArcLength",value:function(e){return this.evalAt(this.getParameterForArcLength(e))}},{key:"approximateAtArcLength",value:function(e){var t=this.normalizeArcLength(e),n=this.getArcLengthSegment(t);if(!n)return-1;var i=(t-n[1].s)/(n[0].s-n[1].s);return n[0].point.clone().multiply(i).add(n[1].point.clone().multiply(1-i))}},{key:"parameterSample",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=1/e,n=[],i=0,r=0;r<=e+1;r++)n.push(this.evalAt(i)),i+=t;return this._sample=n,[].concat(n)}},{key:"arcLengthApproxSample",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._length/e,r=[],o=0,a=t?1:0;a<e+1;a++)r.push(this.approximateAtArcLength(o)),o+=i;return n&&r.pop(),this._sample=r,[].concat(r)}}]),e}()})),aa=z((function(){ea=function(){function e(t,n){Object(k.a)(this,e),this.min=t,this.max=n}return Object(w.a)(e,[{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"getLength",value:function(){return this.max-this.min}},{key:"contains",value:function(e){return this.min<=e&&e<=this.max}}]),e}()})),sa=z((function(){na=ta=function(){function e(t,n,i){Object(k.a)(this,e),this.x=t,this.y=n,this.z=i,"undefined"===typeof this.x&&(this.x=0),"undefined"===typeof this.y&&(this.y=0),"undefined"===typeof this.z&&(this.z=0)}return Object(w.a)(e,[{key:"set",value:function(e,t,n){return this.x=e,this.y=t,this.z=n,this}},{key:"clone",value:function(){return new ta(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"clamp",value:function(e,t){var n=null!==e&&"undefined"!==typeof e,i=null!==t&&"undefined"!==typeof t;return e instanceof ta||!n||(e=new ta(e,e,e)),t instanceof ta||!i||(t=new ta(t,t,t)),n&&(this.x=Math.max(e.x,this.x),this.y=Math.max(e.y,this.y),this.z=Math.max(e.z,this.z)),i&&(this.x=Math.min(t.x,this.x),this.y=Math.min(t.y,this.y),this.z=Math.min(t.z,this.z)),this}},{key:"divide",value:function(e){return e instanceof ta?(this.x/=e.x,this.y/=e.y,this.z/=e.z):(this.x/=e,this.y/=e,this.z/=e),this}},{key:"subtract",value:function(e){return e instanceof ta?(this.x-=e.x,this.y-=e.y,this.z-=e.z):(this.x-=e,this.y-=e,this.z-=e),this}},{key:"multiply",value:function(e){return e instanceof ta?(this.x*=e.x,this.y*=e.y,this.z*=e.z):(this.x*=e,this.y*=e,this.z*=e),this}},{key:"add",value:function(e){return e instanceof ta?(this.x+=e.x,this.y+=e.y,this.z+=e.z):(this.x+=e,this.y+=e,this.z+=e),this}},{key:"equals",value:function(e){return e instanceof ta?e.x===this.x&&e.y===this.y&&e.z===this.z:e===this.x&&e===this.y&&e===this.z}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"fract",value:function(){return this.x%=1,this.y%=1,this.z%=1,this}},{key:"toInt",value:function(){return this.x|=0,this.y|=0,this.z|=0,this}},{key:"abs",value:function(){return this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z),this}},{key:"len",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"min",value:function(){return Math.min(Math.min(this.x,this.y),this.z)}},{key:"max",value:function(){return Math.max(Math.max(this.x,this.y),this.z)}},{key:"toObject",value:function(){return{x:this.x,y:this.y,z:this.z}}},{key:"toString",value:function(){return"Vector3({ x: ".concat(this.x,", y: ").concat(this.y,", z: ").concat(this.z," })")}},{key:"roundDecimal",value:function(e){return this.x=parseFloat(this.x.toFixed(e)),this.y=parseFloat(this.y.toFixed(e)),this.z=parseFloat(this.z.toFixed(e)),this}}],[{key:"fromObject",value:function(e){return new ta(e.x,e.y,e.z)}},{key:"NULL",get:function(){return new ta(0,0,0)}}]),e}()})),la={};L(la,{ColorMatrix:function(){return Bt},CubicBezierCurve:function(){return $o},Matrix:function(){return yt},Range:function(){return ea},Rectangle:function(){return vt},Vector2:function(){return gt},Vector3:function(){return na}});var ua=z((function(){pn(),oa(),It(),aa(),Rt(),Dt(),sa()})),ca={};L(ca,{Base64:function(){return be},Color:function(){return ut},ColorMatrix:function(){return Bt},Configurable:function(){return Nt},Constants:function(){return $},CubicBezierCurve:function(){return $o},Engine:function(){return ha},EventEmitter:function(){return ct},Events:function(){return ni},FreeLicenseChecker:function(){return Wo},GLUtils:function(){return ft},LicenseChecker:function(){return Vo},Log:function(){return Ee},Matrix:function(){return yt},Range:function(){return ea},Rectangle:function(){return vt},Utils:function(){return ke},Vector2:function(){return gt},Vector3:function(){return na},cancelAnimationFrame:function(){return Qo},requestAnimationFrame:function(){return Yo}});var fa,da,ha,pa,ma,ga,ya,va,ba,_a,xa,ka,wa,Oa,Sa,Ca,ja,Ta,Ea,Da,Ia,Ra,Fa,Aa,Ma,Pa,za,Ba,La=z((function(){Xe(),Fi(),se(),Ga(),qe(),Ct(),mn(),jt(),Tt(),ia(),Ke(),ra(),ua()})),Na=z((function(){Mt(),Ua(),Ri(),La(),fa=function(){function e(){Object(k.a)(this,e),this._container=new kt,this._sprite=new da,this._container.addChild(this._sprite)}return Object(w.a)(e,[{key:"render",value:function(e,t,n){var i=n.getDimensions(),r=this._getNextHighestPOT(i);this._renderTexture?this._renderTexture.resizeTo(r):this._renderTexture=new ti(e,r.x,r.y);var o=this._renderTexture.getDimensions();this._sprite.setTexture(n),this._sprite.updateTransform(),this._renderTexture.clear(),this._renderTexture.render(this._container),this._updateSprite(e,t,i,o)}},{key:"_updateSprite",value:function(e,t,n,i){t.setTexture(this._renderTexture),this._renderTexture.setFrame(new vt(0,0,n.x,n.y))}},{key:"_getNextHighestPOT",value:function(e){return new gt(ke.nextHighestPOT(e.x),ke.nextHighestPOT(e.y))}},{key:"getRenderTexture",value:function(){return this._renderTexture}},{key:"dispose",value:function(){this._renderTexture&&(this._renderTexture.dispose(),delete this._renderTexture)}}]),e}()})),Ua=z((function(){Na(),Mt(),Ft(),da=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this))._shader=null,i._width=0,i._height=0,i._anchor=new gt(0,0),i._canvasSmoothingEnabled=!0,i._smoothDownscaling=!1,i._onTextureUpdate=i._onTextureUpdate.bind(Object(O.a)(i)),i.setTexture(e),i}return Object(w.a)(n,[{key:"_onTextureUpdate",value:function(){this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"_renderWebGL",value:function(e){var t=e.save();this._smoothDownscaling&&(this._potRenderer||(this._potRenderer=new fa),this._texture&&this._potRenderer.render(e,this,this._texture)),e.restore(t),e.setObjectRenderer(e.renderers.sprite),e.renderers.sprite.render(this)}},{key:"_renderCanvas",value:function(e){if(this._texture){var t=this._worldTransform,n=this._texture.getFrame(),i=n.width,r=n.height,o=e.getCurrentRenderTarget().getPixelRatio(),a=this._anchor.x*-i|0,s=this._anchor.y*-r|0,l=e.getContext();if(l.setTransform(t.a,t.b,t.c,t.d,t.tx*o,t.ty*o),l.globalAlpha=this.getWorldAlpha(),this._texture){var u=this._texture.getBaseTexture(),c=u.getPixelRatio(),f=u.getSource();l.imageSmoothingEnabled=this._canvasSmoothingEnabled,"beforeDraw"in e&&e.beforeDraw(l),l.drawImage(f,0,0,(f.naturalWidth||i)*c,(f.naturalHeight||r)*c,a*o,s*o,i*o,r*o)}}}},{key:"isAtPosition",value:function(e){if(this._texture){var t=this._worldTransform.applyInverseToVector(e),n=this._texture.getFrame(),i=n.width,r=n.height,o=new gt(-i,-r);o.multiply(this._anchor);var a=o.clone().add(i,r);return!(t.x<o.x||t.x>a.x||t.y<o.y||t.y>a.y)}}},{key:"getLocalBounds",value:function(){if(this._localBoundsNeedUpdate&&this._texture){var e=this._localBounds,t=this._texture.getFrame();e.x=-t.width*this._anchor.x,e.y=-t.height*this._anchor.y,e.width=t.width,e.height=t.height,this._localBoundsNeedUpdate=!1}return this._localBounds.clone()}},{key:"getBounds",value:function(){if(this._boundsNeedUpdate&&this._texture){var e=this._bounds,t=this._texture.getFrame(),n=this._worldTransform,i=this._anchor,r=n.rectangleToCoordinates(t,i),o=r[0].x,a=r[0].y,s=o,l=a;r.forEach((function(e){var t=e.x,n=e.y;o=Math.min(o,t),a=Math.min(a,n),s=Math.max(s,t),l=Math.max(l,n)})),e.x=o,e.width=Math.abs(s-o),e.y=a,e.height=Math.abs(l-a),this._boundsNeedUpdate=!1}return this._bounds.clone()}},{key:"getTexture",value:function(){return this._texture}},{key:"clearTexture",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._texture&&(this._texture.off("update",this._onTextureUpdate),e&&this._texture.dispose(),this._texture=null,this._potRenderer&&(e&&this._potRenderer.dispose(),delete this._potRenderer))}},{key:"setTexture",value:function(e){e&&(this._texture&&this._texture.off("update",this._onTextureUpdate),this._potRenderer&&this._potRenderer.getRenderTexture().getBaseTexture().setDirty(!0),this._texture=e,e.getBaseTexture().isLoaded()&&this._onTextureUpdate(),e.on("update",this._onTextureUpdate))}},{key:"getShader",value:function(){return this._shader}},{key:"setShader",value:function(e){this._shader=e}},{key:"getWidth",value:function(){return this._width}},{key:"setWidth",value:function(e){this._texture&&(this._scale.x=e/this._texture.getFrame().width,this._width=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0)}},{key:"getHeight",value:function(){return this._height}},{key:"setHeight",value:function(e){this._texture&&(this._scale.y=e/this._texture.getFrame().height,this._height=e,this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0)}},{key:"getDimensions",value:function(){return new gt(this._width,this._height)}},{key:"getAnchor",value:function(){return this._anchor}},{key:"setAnchor",value:function(e,t){this._anchor.set(e,t),this._boundsNeedUpdate=!0,this._localBoundsNeedUpdate=!0}},{key:"isSmoothDownscaling",value:function(){return this._smoothDownscaling}},{key:"setSmoothDownscaling",value:function(e){this._smoothDownscaling=e}},{key:"dispose",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._texture&&this._texture.off("update",this._onTextureUpdate),(e||t)&&this._texture&&this._texture.dispose(t),this._potRenderer&&this._potRenderer.dispose()}}]),n}(kt)})),Ga=z((function(){Mt(),hi(),xn(),gi(),_i(),Ei(),Ua(),pi(),Ri(),Ii(),mi(),ue(),We(),wi(),ha={CanvasFilterManager:Mn,Container:kt,BaseTexture:Fn,Texture:$n,RenderTexture:ti,WebGLRenderTarget:Wn,CanvasRenderTarget:An,Sprite:da,Filter:Kt,Filters:Dn,PixelArrayImage:ne,autoDetectRenderer:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return de.isSupported()?new Zn(e,t,n):new Un(e,t,n)},canvasRenderer:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Un(e,t,n)}}})),Ha=z((function(){pa=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"current",value:function(){return Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).ENV}},{key:"isTest",value:function(){return"test"===Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).ENV}},{key:"isDevelopment",value:function(){return"development"===Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).ENV}},{key:"isProduction",value:function(){return"production"===Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).ENV||!this.isTest()&&!this.isDevelopment()}}]),e}()})),Wa=z((function(){ma=function(){function e(t){Object(k.a)(this,e),this._head=0,this._buf=t}return Object(w.a)(e,[{key:"peekInt8",value:function(){return this._buf[this._head]}},{key:"peekInt16",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._buf[this._head],n=this._buf[this._head+1];return e?(n<<8)+t:(t<<8)+n}},{key:"peekInt24",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._buf[this._head],n=this._buf[this._head+1],i=this._buf[this._head+2];return e?(i<<16)+(n<<8)+t:(t<<16)+(n<<8)+i}},{key:"peekInt32",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._buf[this._head],n=this._buf[this._head+1],i=this._buf[this._head+2],r=this._buf[this._head+3];return e?(r<<32)+(i<<16)+(n<<8)+t:(t<<32)+(n<<16)+(i<<8)+r}},{key:"writeInt8",value:function(e){this._buf[this._head]=255&e}},{key:"writeInt16",value:function(e){this._buf[this._head]=e>>8,this._buf[this._head+1]=255&e}},{key:"readInt8",value:function(){var e=this.peekInt8();return this._head+=1,e}},{key:"readInt16",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.peekInt16(e);return this._head+=2,t}},{key:"readInt24",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.peekInt24(e);return this._head+=3,t}},{key:"readInt32",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.peekInt32(e);return this._head+=4,t}},{key:"readString",value:function(e){for(var t="",n=0;n<e;n++){var i=this.readInt8();t+=String.fromCharCode(i)}return t}},{key:"getHead",value:function(){return this._head}},{key:"setHead",value:function(e){this._head=e}}]),e}()})),Va=z((function(){ga={MARKERS:{SOI:65496,SOS:65498,APP0:65504,APP1:65505,JFIF:65504,EXIF:65505},EXIF_TAGS:{256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"}}})),qa=z((function(){Wa(),Ke(),Va(),ya=ke.invariant;var e=ga;va=e.MARKERS,ba=e.EXIF_TAGS,_a=function(){function e(t){Object(k.a)(this,e),this._buf=t,this._stream=new ma(this._buf),this._stream.setHead(0),this._parse(),this._bigEndian=!1}return Object(w.a)(e,[{key:"isValid",value:function(){return this._stream.setHead(0),this._stream.readInt16()===va.EXIF&&(this._stream.readInt16()>0&&"Exif"===this._stream.readString(4))}},{key:"_parse",value:function(){if(this.isValid()){this._stream.setHead(10);var e=this._stream.getHead();this._bigEndian=!1;var t=this._stream.readInt16();18761===t?this._bigEndian=!1:19789===t?this._bigEndian=!0:ya(!1,"Invalid TIFF data: No endian type found"),ya(42===this._stream.readInt16(!this._bigEndian),"Invalid TIFF data: No 0x002A");var n=this._stream.readInt32(!this._bigEndian);ya(n>=8,"Invalid TIFF data: First IFD offset < 8");var i=e+n,r=this._readTags(this._stream,e,i,this._bigEndian);this._tags=r.tags,this._tagData=r.tagData}}},{key:"getTags",value:function(){return this._tags}},{key:"getTagData",value:function(){return this._tagData}},{key:"setOrientation",value:function(e){if(this._tagData.Orientation){var t=this._tagData.Orientation.entryOffset;this._stream.setHead(t+8),this._stream.writeInt16(this._bigEndian?e:(255&e)<<8|e>>8&255)}}},{key:"_readTags",value:function(e,t,n,i){e.setHead(n);for(var r=e.readInt16(!i),o={},a=[],s=0;s<r;s++){var l=n+12*s+2;e.setHead(l);var u=e.readInt16(!i),c=void 0,f=void 0,d=void 0;if(ba[u]){u=ba[u],c=e.readInt16(!i),f=e.readInt32(!i),d=e.readInt32(!i)+t;var h=null;switch(c){case 1:case 7:if(1===f)h=e.readInt8(!i);else{h=[];for(var p=0;p<f;p++)h.push(e.readInt8(!i))}break;case 2:e.setHead(f>4?d:l+8),h=e.readString(f);break;case 3:if(e.setHead(f>2?d:l+8),1===f)h=e.readInt16(!i);else{h=[];for(var m=0;m<f;m++)h.push(e.readInt16(!i))}break;case 4:case 9:if(e.setHead(f>1?d:l+8),1===f)h=e.readInt32(!i);else{h=[];for(var g=0;g<f;g++)h.push(e.readInt32(!i))}break;case 5:case 10:if(e.setHead(d),1===f){h=e.readInt32(!i)/e.readInt32(!i)}else{h=[];for(var y=0;y<f;y++){var v=e.readInt32(!i)/e.readInt32(!i);h.push(v)}}}o[u]=h,a[u]={value:h,numValues:f,entryOffset:l,valueOffset:d,type:c}}}return{tags:o,tagData:a}}},{key:"getBuffer",value:function(){return this._buf}}]),e}()})),Ka=z((function(){Wa(),Va(),xa=ga.MARKERS,ka=function(){function e(t){Object(k.a)(this,e),this._buf=t,this._stream=new ma(this._buf),this._stream.setHead(0)}return Object(w.a)(e,[{key:"isValid",value:function(){if(this._stream.setHead(0),this._stream.readInt16()!==xa.APP0)return!1;if(!(this._stream.readInt16()>=16))return!1;var e=this._stream.readString(4),t=this._stream.readInt8();return"JFIF"===e&&0===t}},{key:"setUnitDensity",value:function(e){this._stream.setHead(11),this._stream.writeInt8(e)}},{key:"setDensityX",value:function(e){this._stream.setHead(12),this._stream.writeInt16(e)}},{key:"setDensityY",value:function(e){this._stream.setHead(14),this._stream.writeInt16(e)}},{key:"getUnitDensity",value:function(){return this._stream.setHead(11),this._stream.readInt8()}},{key:"getDensityX",value:function(){return this._stream.setHead(12),this._stream.readInt16()}},{key:"getDensityY",value:function(){return this._stream.setHead(14),this._stream.readInt16()}},{key:"getBuffer",value:function(){return this._buf}}]),e}()})),Xa=z((function(){Wa(),qe(),Va(),qa(),Ka(),Ke(),ke.invariant,wa=ga.MARKERS,Oa="data:image/jpeg;base64,",Sa=new RegExp("^".concat(Oa),"i"),ja=Ca=function(){function e(t){Object(k.a)(this,e),this._buf=t,this._stream=new ma(this._buf),this._stream.setHead(0),this._segments=this._sliceIntoSegments(this._buf),this._exifData=new _a(this._getMarkerBuffer(wa.EXIF)),this._jfifData=new ka(this._getMarkerBuffer(wa.JFIF))}return Object(w.a)(e,[{key:"restoreSegmentsInArray",value:function(e){return e=this.restoreExifTagsToImageData(e),this.restoreJfifSegmentToImageData(e)}},{key:"restoreSegments",value:function(e){var t=Ca.fromDataURL(e);return t=this.restoreSegmentsInArray(t),Ca.toDataURL(t)}},{key:"restoreExifTagsToImageData",value:function(e){if(!this._exifData.isValid())return e;var t=this._sliceIntoSegments(e)[1][0],n=e.slice(0,t),i=e.slice(t),r=n.concat(this._exifData.getBuffer());return r=r.concat(i)}},{key:"restoreJfifSegmentToImageData",value:function(e){if(!this._jfifData.isValid())return e;var t=this._sliceIntoSegments(e),n=this._findSegment(wa.JFIF,t);if(!n)return e;var i=n[0],r=n[1],o=e.slice(0,i),a=e.slice(i,r),s=e.slice(r),l=new ka(a);return l.setDensityX(this._jfifData.getDensityX()),l.setDensityY(this._jfifData.getDensityY()),l.setUnitDensity(this._jfifData.getUnitDensity()),o.concat(a).concat(s)}},{key:"restoreExifTags",value:function(e){var t=Ca.fromDataURL(e),n=this.restoreExifTagsToImageData(t);return Ca.toDataURL(n)}},{key:"restoreJfifSegment",value:function(e){if(!this._jfifData.isValid())return e;var t=Ca.fromDataURL(e),n=this.restoreJfifSegmentToImageData(t);return Ca.toDataURL(n)}},{key:"setOrientation",value:function(e){return this._exifData.setOrientation(e)}},{key:"_findSegment",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._segments,n=0;n<t.length;n++){var i=t[n][0],r=t[n][1];this._stream.setHead(i);var o=this._stream.peekInt16();if(o===e)return[i,r]}return!1}},{key:"_getLastSegment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._segments;return e[e.length-1]}},{key:"_getMarkerBuffer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._segments,n=this._findSegment(e,t);if(n){var i=n[0],r=n[1];return this._buf.slice(i,r)}return!1}},{key:"_sliceIntoSegments",value:function(e){for(var t=new ma(e),n=[];t.getHead()<e.length;){var i=t.readInt16();if(i!==wa.SOI){if(i===wa.SOS)break;if(!(i>=65280&&i<=65535))throw new Error("Invalid marker: 0x".concat(i.toString(16)));var r=t.readInt16(),o=t.getHead()+r-2;n.push([t.getHead()-4,o]),t.setHead(o)}}return this._stream.setHead(0),n}},{key:"getTags",value:function(){return this._exifData.getTags()}},{key:"getTagData",value:function(){return this._exifData.getTagData()}},{key:"dispose",value:function(){this._buf=[],this._segments=[]}}],[{key:"toDataURL",value:function(e){return Oa+be.encode(e)}},{key:"fromDataURL",value:function(e){var t=e.replace(Oa,"");return be.decode(t)}},{key:"isJPEG",value:function(e){return Sa.test(e)}},{key:"bufferIsJPEG",value:function(e){return 255===e[0]&&216===e[1]&&255===e[2]}},{key:"fromBase64String",value:function(e){var t=e.replace(Oa,""),n=be.decode(t);return new Ca(n)}}]),e}()})),Ya=z((function(){Ta="undefined"!==typeof window&&window.Image,Ea=Ta})),Qa=z((function(){La(),jt(),Ia=Da=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(k.a)(this,n),(e=t.call(this))._onOperationUpdate=e._onOperationUpdate.bind(Object(O.a)(e)),e._cacheEnabled=!0,e._stack=i,e._stack.forEach((function(t){t.on("update",e._onOperationUpdate)})),e}return Object(w.a)(n,[{key:"clear",value:function(){var e=this;this.forEach((function(t){return e.remove(t)})),this._stack=[]}},{key:"hasChanges",value:function(){return this._stack.filter((function(e){return!!e})).some((function(e){return e.hasChanges()}))}},{key:"_onOperationUpdate",value:function(e,t){this.emit(ni.OPERATION_UPDATED,e,t)}},{key:"enableCache",value:function(){this._cacheEnabled=!0}},{key:"disableCache",value:function(){this._cacheEnabled=!1}},{key:"forEach",value:function(e){return this._stack.filter((function(e){return!!e})).forEach(e)}},{key:"render",value:function(e,t){var n=this,i=t,r=this._stack.filter((function(e){return!!e})).filter((function(e){return e.getEnabled()}));r.reverse();var o=r.filter((function(t){return!t.isDirtyForRenderer(e.getRenderer())}))[0],a=r.indexOf(o);r.reverse();var s=0;-1!==a&&(s=r.length-a-1);for(var l=0;l<s;l++)Ee.info(this.constructor.name,"Skipping ".concat(r[l].constructor.name));for(var u=Promise.resolve(i),c=function(e){var t=r[e],i=void 0,o=void 0;u=u.then((function(e){return t.render(e).then((function(e){return i&&e!==i&&!n._cacheEnabled&&o.disposeRenderTextures(),i=e,o=t,e}))}))},f=s;f<r.length;f++)c(f);return u.then((function(t){return{outputTexture:t,renderDone:!r.some((function(t){return t.isDirtyForRenderer(e.getRenderer())}))}}))}},{key:"validateSettings",value:function(){return Promise.all(this._stack.filter((function(e){return!!e})).map((function(e){return e.validateSettings()})))}},{key:"setAllToDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.forEach((function(t){return t.setDirty(!0,e)}))}},{key:"updateDirtinessForRenderer",value:function(e){for(var t=!1,n=0;n<this._stack.length;n++){var i=this._stack[n];i&&(i.isDirtyForRenderer(e)&&(t=!0),t&&i.setDirtyForRenderer(!0,e))}}},{key:"push",value:function(e){this._stack.push(e),e.on("update",this._onOperationUpdate)}},{key:"pop",value:function(){var e=this._stack.pop();e&&(e.off("update",this._onOperationUpdate),e.dispose())}},{key:"unshift",value:function(e){this._stack.unshift(e),e.on("update",this._onOperationUpdate)}},{key:"clone",value:function(){return new Da(this._stack.slice(0))}},{key:"get",value:function(e){return this._stack[e]}},{key:"getByIdentifier",value:function(e){return ke.Array.find(this._stack,(function(t){return t&&t.constructor.identifier===e}))}},{key:"getIndexByIdentifier",value:function(e){return ke.Array.findIndex(this._stack,(function(t){return t&&t.constructor.identifier===e}))}},{key:"moveToTop",value:function(e){var t=ke.Array.findIndex(this._stack,(function(t){return t&&t.constructor.identifier===e}));if(!(t<0||t===this._stack.length-1)){var n=this.getByIdentifier(e);this._stack.splice(t,1),this._stack[this._stack.length]=n}}},{key:"set",value:function(e,t){this._stack[e]&&(this._stack[e].off("update",this._onOperationUpdate),this._stack[e].dispose()),this._stack[e]=t,t.on("update",this._onOperationUpdate)}},{key:"remove",value:function(e){var t=this._stack.indexOf(e);-1!==t&&(this._stack[t]&&(this._stack[t].off("update",this._onOperationUpdate),this._stack[t].dispose()),this._stack.splice(t,1))}},{key:"removeAt",value:function(e){this._stack[e]&&(this._stack[e].off("update",this._onOperationUpdate),this._stack[e].dispose()),delete this._stack[e]}},{key:"getStack",value:function(){return this._stack}},{key:"dispose",value:function(){this.forEach((function(e){e.dispose()}))}}]),n}(ct)})),Za=z((function(){La(),Ra="undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):yi(),Fa=function(){function e(t,n){Object(k.a)(this,e),this._tag=t,this._name=n,this._start=Ra()}return Object(w.a)(e,[{key:"stop",value:function(){var e=Ra()-this._start,t=Math.round(1e3/e);Ee.info(this._tag,"".concat(this._name," took ").concat(e.toFixed(2),"ms (").concat(t," FPS)"))}}]),e}()})),Ja=z((function(){Xe(),se(),Ga(),mn(),Za(),(Aa=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(k.a)(this,n),(i=t.call(this,r,{enabled:{type:"boolean",default:!0,serializable:!1}}))._sdk=e,i._cacheEnabled=!1,i._dirtiness={},i._sprite=new ha.Sprite,i._container=new ha.Container,i._container.addChild(i._sprite),i}return Object(w.a)(n,[{key:"_onOptionsChange",value:function(){this.setDirty(!0)}},{key:"render",value:function(e){var t=this;if(!this.getEnabled())return Ee.info(this.constructor.name,"Disabled - skipping"),Promise.resolve(e);if(!this._renderTexture){var n=e.getDimensions().floor();this._renderTexture=new ha.RenderTexture(this._sdk.getRenderer(),n.x,n.y)}var i,r,o=this._sdk.getRenderer();if(Ee.canLog("info")&&(r=new Fa(this.constructor.name,"Rendering")),this.isDirtyForRenderer(o)){this._sprite.setTexture(e);var a=this.getNewDimensions(e.getDimensions()).floor();this._renderTexture.resizeTo(a),this._renderTexture.clear(),i=this._render(e).then((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t.setDirtyForRenderer(e,o),t._renderTexture}))}else Ee.info(this.constructor.name,"Rendering from cache"),i=Promise.resolve(this._renderTexture);return i.then((function(e){return r&&r.stop(),e}))}},{key:"_render",value:function(e){return(this._sdk.getRenderer().isOfType("webgl")?this._renderWebGL.bind(this):this._renderCanvas.bind(this))(e)}},{key:"_renderWebGL",value:function(e){throw new Error("Operation#_renderWebGL is abstract and not implemented in inherited class.")}},{key:"_renderCanvas",value:function(e){throw new Error("Operation#_renderCanvas is abstract and not implemented in inherited class.")}},{key:"getNewDimensions",value:function(e){return e.clone()}},{key:"onBeforeExport",value:function(){this.transform&&this._tempTransformChange&&this.transform(this._tempTransformChange),this._onBeforeExport()}},{key:"onAfterExport",value:function(){this.transform&&this._tempInverseTransformChange&&this.transform(this._tempInverseTransformChange),this._onAfterExport()}},{key:"_onBeforeExport",value:function(){}},{key:"_onAfterExport",value:function(){}},{key:"setTemporaryTransformChange",value:function(e,t){this._tempTransformChange=e,this._tempInverseTransformChange=t}},{key:"reset",value:function(){this._dirty=!0,this._glslPrograms={}}},{key:"isDirtyForRenderer",value:function(e){var t=this._dirtiness[e.id];return"undefined"===typeof t||t}},{key:"setDirtyForRenderer",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._dirtiness[t.id]=e}},{key:"setDirty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in this._dirtiness)this.setDirtyForRenderer(e,{id:n},t)}},{key:"getSDK",value:function(){return this._sdk}},{key:"getInputDimensions",value:function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this._sdk.getInputDimensions();return n&&i.multiply(this._sdk.getZoom()).floor(),this._sdk.getOperationsStack().forEach((function(n){e||(n!==t?i=n.getNewDimensions(i):e=!0)})),i.floor()}},{key:"clone",value:function(){return new(0,this.constructor)(this._sdk,this.serializeOptions())}},{key:"disposeRenderTextures",value:function(){this._renderTexture&&this._renderTexture.dispose(),this._renderTexture=null}},{key:"dispose",value:function(){this.disposeRenderTextures(),this._sprite.dispose()}}]),n}(Nt)).identifier=null,Ma=Aa})),$a=z((function(){La(),Dt(),Ja(),Pa=$.OptionType,(za=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getRotation",value:function(){var e=0;switch(this.getTags().Orientation){case 7:case 8:e=-90;break;case 3:case 4:e=-180;break;case 5:case 6:e=90}return e}},{key:"_getFlipVertically",value:function(){var e=this.getTags().Orientation;return-1!==[5,7].indexOf(e)}},{key:"_getFlipHorizontally",value:function(){var e=this.getTags().Orientation;return-1!==[2,4].indexOf(e)}},{key:"_getFinalOptions",value:function(){return{rotation:this.getRotation(),flipVertically:this._getFlipVertically(),flipHorizontally:this._getFlipHorizontally()}}},{key:"_render",value:function(e){var t=this._getFinalOptions(),n=t.rotation%360*(Math.PI/180);this._sprite.setScale(t.flipHorizontally?-1:1,t.flipVertically?-1:1),this._sprite.setRotation(n),this._sprite.setAnchor(.5,.5),this._sprite.updateTransform();var i=this._sprite.getBounds();return this._renderTexture.resizeTo(new gt(i.width,i.height)),this._sprite.setPosition(this._renderTexture.getDimensions().divide(2)),this._renderTexture.render(this._container),Promise.resolve()}},{key:"getNewDimensions",value:function(e){var t=this._getFinalOptions();return e=e.clone(),t.rotation%180&&e.flip(),e}},{key:"applyTo",value:function(e){var t=this._getFinalOptions(),n=ke.createCanvas();90===Math.abs(t.rotation%180)?(n.width=e.height,n.height=e.width):(n.width=e.width,n.height=e.height);var i=n.getContext("2d"),r=t.rotation*Math.PI/180,o=.5*(n.width-e.width),a=.5*(n.height-e.height);return i.translate(o,a),i.translate(.5*e.width,.5*e.height),i.rotate(r),i.translate(-.5*e.width,-.5*e.height),t.flipVertically&&(i.translate(0,e.height),i.scale(1,-1)),t.flipHorizontally&&(i.translate(e.width,0),i.scale(-1,1)),i.drawImage(e,0,0),n}}]),n}(Ma)).identifier="exif-orientation",za.prototype.availableOptions={tags:{type:Pa.OBJECT,default:{}}},Ba=za})),es={};L(es,{ExifOrientationOperation:function(){return Ba}});var ts,ns,is,rs,os,as,ss,ls,us,cs,fs,ds,hs,ps,ms,gs,ys,vs,bs,_s,xs,ks,ws,Os,Ss=z((function(){$a()})),Cs=z((function(){V(),se(),Ga(),Ct(),mn(),Ya(),Ke(),(ts=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(k.a)(this,n),(i=t.call(this,r))._sdk=e,i}return Object(w.a)(n,[{key:"export",value:function(){var e=this,t=this._options,n=t.imageFormat,i=t.transparent;return this.validateSettings().then((function(){return e._prepareSDK().then((function(t){return function t(n){return n.renderDone?n:e._sdk.render().then((function(e){return t(e)}))}(t)}))})).then((function(t){var r=t.outputTexture,o=(t.renderDone,e._sdk.getRenderer()),a=o.getClearColor();"image/png"===n&&i&&o.setClearColor(new ut(0,0,0,0));var s=o.getCanvas();return o.isOfType("webgl")&&(s=e._createCanvasFromTexture(r)),o.setClearColor(a),e._encodeImageFormat(s)})).then((function(t){return e._restoreExifMetadata(t,n)})).then((function(t){return e._restoreSDK().then((function(){return t}))}))}},{key:"_restoreExifMetadata",value:function(e,t,n){if(t===u.JPEG){var i=this._sdk.getExif();if(i)"string"===typeof e&&(e=i.restoreSegments(e))}return Promise.resolve(e)}},{key:"_encodeAsDataURL",value:function(e,t,n){if(ke.isBrowser){var i=e.toDataURL(t,n);return o(e),Promise.resolve(i)}try{var r=e.toDataURL(t,n);return o(e),Promise.resolve(r)}catch(i){return Promise.error(i)}}},{key:"_encodeAsHTMLImage",value:function(e,t,n){return this._encodeAsDataURL(e,t,n).then((function(t){var n=new Ea;return n.src=t,o(e),Promise.resolve(n)}))}},{key:"_encodeAsBuffer",value:function(e,t,n){return Promise.reject(new Error("Unsupported platform for RenderType"))}},{key:"_encodeAsMSBlob",value:function(e,t,n){var i=e.msToBlob();return o(e),Promise.resolve(i)}},{key:"_encodeAsBLOB",value:function(e,t,n){return new Promise((function(i,r){e.toBlob((function(e){i(e)}),t,n)}))}},{key:"_encodeImageFormat",value:function(e){var t=this._options,n=t.imageFormat,i=t.quality,r=this._options.renderType;switch(r===l.BLOB&&e.msToBlob&&!e.toBlob&&(r=l.MSBLOB),r){case l.IMAGE:return this._encodeAsHTMLImage(e,n,i);case l.DATAURL:return this._encodeAsDataURL(e,n,i);case l.BUFFER:return this._encodeAsBuffer(e,n,i);case l.MSBLOB:return this._encodeAsMSBlob(e,n,i);case l.BLOB:return this._encodeAsBLOB(e,n,i)}return Promise.reject(new Error("Unsupported RenderType: ".concat(r,"!")))}},{key:"_prepareSDK",value:function(){var e=this._sdk.getRenderer();this._sdkSettings={dimensions:e.getDimensions().clone(),textureQuality:this._sdk.getTextureQuality(),rendererPixelRatio:e.getPixelRatio(),renderMode:this._sdk.getRenderMode()},this._sdk.setRenderMode("export"),this._sdk.setTextureQuality(1);var t=e.isOfType("canvas");e.setPixelRatio(1),e.resizeTo(this._sdk.getFinalDimensions(),t),this._sdk.setAllOperationsToDirty(!0);var n=this._sdk.getOperationsStack();return n.forEach((function(e){e.disposeRenderTextures()})),n.disableCache(),this._sdk.render()}},{key:"_restoreSDK",value:function(){this._sdk.getOperationsStack().enableCache(),this._sdk.setRenderMode(this._sdkSettings.renderMode);var e=this._sdk.getRenderer(),t=e.isOfType("canvas");return e.setPixelRatio(this._sdkSettings.rendererPixelRatio),e.resizeTo(this._sdkSettings.dimensions,t),this._sdk.setTextureQuality(this._sdkSettings.textureQuality),this._sdk.setAllOperationsToDirty(!0),this._sdk.render()}},{key:"_createCanvasFromTexture",value:function(e){var t=this._sdk.getRenderer(),n=this._sdk.getFinalDimensions(),i=this._sdk.getRenderer().getContext(),r=i.createFramebuffer();i.bindFramebuffer(i.FRAMEBUFFER,r);var o=e.getBaseTexture().getGLTextureForRenderer(t);i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,o,0);var a,s=new Uint8Array(n.x*n.y*4);if(i.readPixels(0,0,n.x,n.y,i.RGBA,i.UNSIGNED_BYTE,s),this._checkPixelsForTransparency(s)){var l=new ha.Sprite(e);l.setFilters([new ha.Filters.UnpremultiplyFilter]);var u=new ha.Container;u.addChild(l),(a=new ha.RenderTexture(t,n.x,n.y)).render(u);var c=a.getBaseTexture().getGLTextureForRenderer(t);i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,c,0),i.readPixels(0,0,n.x,n.y,i.RGBA,i.UNSIGNED_BYTE,s),t.setRenderTarget(),a.dispose()}var f=ke.createCanvas();f.width=n.x,f.height=n.y;var d=f.getContext("2d"),h=d.createImageData(n.x,n.y);return h.data.set(s),d.putImageData(h,0,0),i.deleteFramebuffer(r),f}},{key:"_checkPixelsForTransparency",value:function(e){for(var t=this._sdk.getFinalDimensions(),n=t.x*t.y*4,i=3;i<n;i+=4)if(255!==e[i])return!0;return!1}}]),n}(Nt)).prototype.availableOptions={renderType:{type:"string",available:ke.values(l),default:l.IMAGE},imageFormat:{type:"string",available:ke.values(u),default:u.PNG},quality:{type:"number",default:.8},transparent:{type:"boolean",default:!0}},ns=ts})),js=z((function(){La(),Xa(),Ya(),Cs(),Qa(),Za(),Ss(),is=ca.Rectangle,rs=ca.Constants,os=ca.Engine,as=ca.Utils,ss=ca.EventEmitter,ls=ca.Events,us=ca.Vector2,cs=ca.Log,fs=ca.Base64,ca.Color,ds=function(e){return as.byteArrayToString(fs.decode(e))};var e=rs;hs=e.RenderType,ps=e.ImageFormat,ms=e.RendererType,gs=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(k.a)(this,n),i=t.call(this),W(Object(O.a)(i),"_onContextLost",(function(){i.emit("context-lost")})),W(Object(O.a)(i),"_initWatermark",(function(){i._options.watermark&&i._options.watermark.watermarkURI&&(i._watermarkOperation=i.createOperation("watermark",{watermarkURI:i._options.watermark.watermarkURI,alignment:i._options.watermark.alignment,inset:i._options.watermark.inset,size:i._options.watermark.size,crossOrigin:i._options.crossOrigin}))})),i._onOperationUpdate=i._onOperationUpdate.bind(Object(O.a)(i)),i._onContextRestored=i._onContextRestored.bind(Object(O.a)(i)),i.version="3.9.0",i[ds("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=!0,i._preferredRenderer=e,i._options=Object(T.a)({},r,{extensions:{},renderMode:"dynamic",versionCheck:!0,displayWelcomeMessage:!0,image:null,canvas:null,transparent:!1,textureQuality:1,zoom:1,spriteScale:1,rotation:0,smoothDownscaling:!1,smoothUpscaling:!1,crossOrigin:"anonymous",logLevel:"warn",pixelRatio:Math.max("undefined"!==typeof window&&window.devicePixelRatio||1,1)}),i._options.smoothUpscaling&&(os.BaseTexture.DefaultMagFilter=os.BaseTexture.LinearFilter),i._options.extensions=Object.assign(i._options.extensions,{operations:[],controls:[],languages:[]}),cs.setLevel(i._options.logLevel),i[ds("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=!1,i[ds("X29wdGlvbnM=")][ds("bGljZW5zZQ==")]){var o=ca[ds("TGljZW5zZUNoZWNrZXI=")];i._l=new o(i[ds("X29wdGlvbnM=")][ds("bGljZW5zZQ==")]),i._cv(!0).then((function(){i._ct()})).catch((function(e){cs.error(ds("TGljZW5zaW5n"),e.message)}))}else i[ds("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]=!0,i._l=new(ca[ds("RnJlZUxpY2Vuc2VDaGVja2Vy")]);i._defaultRenderMode=i._options.renderMode,i._renderMode=i._options.renderMode,i._textureQuality=i._options.textureQuality,i._offset=new us,i._zoom=i._options.zoom,i._spriteScale=i._options.spriteScale,i._rotation=i._options.rotation,i._operations={},i._operationsStack=null,i.setOperationsStack(new Ia),i._container=new os.Container,i._sprite=new os.Sprite,i._container.addChild(i._sprite),i._inputTexture=i._options.inputTexture,i._currentInputTexture=null,i._currentTexture=null,i._resizedTexture=null,i._resizedContainer=new os.Container,i._resizedSprite=new os.Sprite,i._resizedContainer.addChild(i._resizedSprite),i._texturesToDispose=[],i.setSmoothDownscaling(i._options.smoothDownscaling),i._registerOperations(),i._initRenderer();i._renderer.constructor.type;return i._options.displayWelcomeMessage,i[ds("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]&&cs.log(ds("VGhlIFBob3RvRWRpdG9yIFNESyBpcyBhIGNvbW1lcmNpYWwgcHJvZHVjdC4gQmVmb3JlIGJlaW5nIGFibGUgdG8gdXNlIGl0IHdpdGhvdXQgbGltaXRhdGlvbnMsIHlvdSBuZWVkIHRvIHVubG9jayB0aGUgU0RLIHdpdGggYSBsaWNlbnNlIGZpbGUuIFlvdSBjYW4gb2J0YWluIGEgdGltZS1saW1pdGVkIGV2YWx1YXRpb24gbGljZW5zZSBieSBzdGFydGluZyBhIHRyaWFsIGF0IGh0dHBzOi8vd3d3LmltZy5seS9zaWdudXAgb3IgeW91IGNhbiBwdXJjaGFzZSBhIGxpY2Vuc2UgYnkgcmVxdWVzdGluZyBhIHF1b3RlIGF0IGh0dHBzOi8vd3d3LmltZy5seS9wcmljaW5nLgoKQmVjYXVzZSB5b3UgZGlkIG5vdCBzcGVjaWZ5IGEgbGljZW5zZSBmaWxlIHlldCwgdGhlIFNESyB3aWxsIG5vdyBkaXNwbGF5IGEgd2F0ZXJtYXJrIGltYWdlIG9uIHRvcCBvZiBhbnkgcGhvdG9zIHlvdSBkaXNwbGF5IG9yIGV4cG9ydCB3aXRoIGl0LiBGb3IgaW5zdHJ1Y3Rpb25zIGZvciBob3cgdG8gdW5sb2NrIHRoZSBTREssIHBsZWFzZSB2aXNpdCBodHRwczovL2ltZy5seS9kb2NzL3Blc2RrL3dlYi9pbnRyb2R1Y3Rpb24vZ2V0dGluZ19zdGFydGVkLg==")),i._options.image&&i.setImage(i._options.image,i._options.exif),i}return Object(w.a)(n,[{key:"_ct",value:function(){this._l.exp()&&(this._l.isExp()?cs.error(ds("TGljZW5zaW5n"),ds("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg==")):cs.warn(ds("TGljZW5zaW5n"),ds("WW91ciB0cmlhbCBsaWNlbnNlIHdpbGwgZXhwaXJlIGluICVkIGRheXMu").replace("%d",this._l.dl())))}},{key:"_cv",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._l.c().catch((function(n){e[ds("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=!1;var i=ds("SW52YWxpZCBsaWNlbnNlLg==");throw t&&(i="ELICEXP"===n.code?ds("WW91ciB0cmlhbCBsaWNlbnNlIGhhcyBleHBpcmVkLiBQbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5Lg=="):"ELICINVHOST"===n.code?ds("VGhlIGJ1bmRsZSBpZGVudGlmaWVycyB0aGF0IHlvdSBzcGVjaWZpZWQgaW4geW91ciBsaWNlbnNlIGZpbGUgZG8gbm90IG1hdGNoIHRoZSBhcHAncyBidW5kbGUgaWRlbnRpZmllci4gUGxlYXNlIHVwZGF0ZSBhbmQgcmVkb3dubG9hZCB5b3VyIGxpY2Vuc2UgZnJvbSB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZCBhdCBodHRwczovL3d3dy5pbWcubHkvbG9naW4u"):"ELICINVPLAT"===n.code?ds("VGhlIGxpY2Vuc2UgdGhhdCB5b3Ugc3BlY2lmaWVkIGlzIGZvciBhbm90aGVyIHBsYXRmb3JtLiBQbGVhc2UgZG93bmxvYWQgeW91ciBsaWNlbnNlIGZvciB0aGUgd2ViIHBsYXRmb3JtIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg=="):"ELICINVFMT"===n.code?ds("SW52YWxpZCBsaWNlbnNlIGZvcm1hdC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UncmUgcGFzc2luZyB5b3VyIGxpY2Vuc2UgYXMgYSBzdHJpbmcsIG5vdCBhcyBgJGZvcm1hdGAu").replace("$format",typeof e._options.license):"ELICINV"===n.code?ds("VGhlIHNpZ25hdHVyZSBvZiB5b3VyIGxpY2Vuc2UgaXMgbm90IHZhbGlkLiBQbGVhc2UgdHJ5IHRvIHJlZG93bmxvYWQgeW91ciBsaWNlbnNlIGZyb20geW91ciBjdXN0b21lciBkYXNoYm9hcmQgYXQgaHR0cHM6Ly93d3cuaW1nLmx5L2xvZ2luLg=="):ds("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhIGxpY2Vuc2UgeWV0LCBwbGVhc2UgY29udGFjdCBvdXIgc2FsZXMgc3RhZmYgYXQgc2FsZXNAaW1nLmx5IHRvIG9idGFpbiBhIGxpY2Vuc2Ugb3IgbG9nIGluIHRvIHlvdXIgY3VzdG9tZXIgZGFzaGJvYXJkLg==")),n.message=i,new Error(n)}))}},{key:"_t",value:function(){this._l.t()}},{key:"_fl",value:function(){return this[ds("Wm5KbFpVeHBZMlZ1YzAxdlpHVT0=")]}},{key:"_onOperationUpdate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.emit.apply(this,[ls.OPERATION_UPDATED].concat(t))}},{key:"_onContextRestored",value:function(){cs.warn(this.constructor.name,"Trying to re-render after WebGL context has been restored."),this.setAllOperationsToDirty(),this._operationsStack.forEach((function(e){e.disposeRenderTextures()})),this.render()}},{key:"export",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hs.DATAURL,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ps.PNG,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this._cv(!0).then((function(){return e.hasChanges()&&!o&&e._t(),e._operationsStack.forEach((function(e){e.onBeforeExport()})),new ns(e,{renderType:t,imageFormat:n,quality:i,transparent:r}).export().then((function(t){return e._operationsStack.forEach((function(e){e.onAfterExport()})),Promise.resolve(t)}))}))}},{key:"render",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this._inputTexture)throw new Error("You need to set an image before calling PhotoEditorSDK#render.");var n,i=this._renderer.getContext();i.startFrame&&i.startFrame(),cs.canLog("info")&&(n=new Fa("\u26a1\u26a1\u26a1","Frame rendering")),cs.info("\u26a1\u26a1\u26a1","Rendering starts");var r=this._operationsStack;return r.updateDirtinessForRenderer(this._renderer),this._prepareTexture().then((function(t){"export"===e._renderMode&&(t=e._inputTexture),e._currentTexture=t,e._sprite.setTexture(t),e._container.updateTransform()})).then((function(){return r.validateSettings()})).then((function(){return!e._fl()&&e[ds("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]||(r.getByIdentifier("license-watermark")?r.moveToTop("license-watermark"):e.createOperation("license-watermark")),r.getByIdentifier("watermark")?r.moveToTop("watermark"):e._initWatermark(),r.render(e,e._currentTexture)})).then((function(n){var i=n.outputTexture;switch(e._currentTexture=i,e._sprite.setTexture(e._currentTexture),e._renderMode){case"dynamic":var r=e._renderer.getDimensions().clone().divide(2).add(e._offset);e._container.setScale(e._zoom/e.getTextureScale(),e._zoom/e.getTextureScale()),e._container.setPosition(r),e._sprite.setAnchor(.5,.5),e._sprite.setScale(e._spriteScale,e._spriteScale),e._sprite.setRotation(e._rotation);break;case"export":e._container.setScale(1,1),e._container.setPosition(0,0),e._sprite.setAnchor(0,0),e._sprite.setPosition(0,0),e._sprite.setScale(e._spriteScale,e._spriteScale),e._sprite.setRotation(0);break;case"adapter":e._container.setScale(1,1),e._container.setPosition(0,0),e._sprite.setAnchor(0,0),e._sprite.setPosition(0,0),e._sprite.setScale(1,1),e._sprite.setRotation(0)}return t&&e._renderer.render(e._container),n})).then((function(t){return n&&n.stop(),i.endFrame&&i.endFrame(),e._disposeTextures(),t}))}},{key:"getTextureScale",value:function(){return Math.min(1,this._textureQuality*this._options.pixelRatio)}},{key:"_prepareTexture",value:function(){var e=this;return new Promise((function(t,n){var i=e.getTextureScale();if(1===e._textureQuality)return t(e._inputTexture);var r,o=e.getInputDimensions().multiply(i).floor();e._resizedTexture?e._resizedTexture.getDimensions().equals(o)||(e._resizedTexture.resizeTo(o),r=!0):(e._resizedTexture=new os.RenderTexture(e._renderer,o.x,o.y),r=!0),r&&(e._resizedSprite.setScale(i,i),e._resizedSprite.setTexture(e._inputTexture),e._resizedTexture.render(e._resizedContainer)),t(e._resizedTexture)}))}},{key:"_registerOperations",value:function(){for(var e in this._operations={},es){var t=es[e];this._operations[t.identifier]=t}this._operations=Object(T.a)({},this._operations,{},this._options.extensions.operations)}},{key:"registerOperations",value:function(e){var t=this;e.forEach((function(e){t._operations[e.identifier]=e}))}},{key:"setAllOperationsToDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._operationsStack.setAllToDirty(e)}},{key:"createOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this._operations[e];if(!i)throw new Error("No operation with identifier `".concat(e,"` found."));var r=new i(this,t);return n&&this.addOperation(r),r}},{key:"addOperation",value:function(e){this._operationsStack.push(e)}},{key:"removeOperation",value:function(e){this._operationsStack.remove(e)}},{key:"getInputDimensions",value:function(){var e=this._inputTexture.getFrame();return new us(e.width,e.height)}},{key:"getFinalDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getInputDimensions(),n=this._operationsStack;return n.forEach((function(e){e.getEnabled()&&(t=e.getNewDimensions(t))})),e&&t.multiply(this._spriteScale),t.floor()}},{key:"getOutputDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getFinalDimensions(e).clone().multiply(this._zoom).floor()}},{key:"getOutputTextureDimensions",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.getTextureScale(),t=this.getInputDimensions().multiply(e).floor();return this._operationsStack.forEach((function(e){t=e.getNewDimensions(t)})),t}},{key:"getCrossOrigin",value:function(){return as.getCrossOrigin(this._options.crossOrigin||"Anonymous")}},{key:"_initRenderer",value:function(){var e,t,n={canvas:this._options.canvas,pixelRatio:this._options.pixelRatio,debug:this._options.debug,transparent:this._options.transparent,clearColor:this._options.clearColor};if("export"!==this._renderMode&&this._options.canvas){var i=this._options.canvas;e=i.width,t=i.height}else if(this._inputTexture){var r=this.getFinalDimensions();e=r.x,t=r.y}else e=1,t=1;switch(this._preferredRenderer){case ms.WEBGL:this._renderer=os.autoDetectRenderer(e,t,n),this._renderer.on("context-restored",this._onContextRestored),this._renderer.on("context-lost",this._onContextLost);break;case ms.CANVAS:this._renderer=os.canvasRenderer(e,t,n),this._renderer.on("context-restored",this._onContextRestored);break;default:cs.warn("PhotoEditorSDK","PhotoEditorSDK Error: Renderer `".concat(this._preferredRenderer,"` not supported. Falling back to automatically detected renderer.")),this._renderer=os.autoDetectRenderer(e,t,n)}}},{key:"resizeTo",value:function(e){this._renderer.resizeTo(e,!0)}},{key:"reset",value:function(){this._operationsStack.clear()}},{key:"parseExif",value:function(e){if(e){var t=e.src,n=null;if(n=t,ja.isJPEG(t)){var i=null;try{i=ja.fromBase64String(n)}catch(nO){}if(!i)return;return i}}}},{key:"_handleExifOrientation",value:function(){var e=this._exif.getTags();if(e&&e.Orientation){var t=1!==e.Orientation&&2!==e.Orientation,n=-1!==[2,4,5,7].indexOf(e.Orientation);if(t||n){if("undefined"===typeof navigator)this._exifOperation||(this._exifOperation=this.createOperation("exif-orientation")),this._exifOperation.setTags(e);else{var i=window&&window.navigator&&window.navigator.userAgent||"";!i.match(/msie|trident/i)&&-1===i.indexOf("Edge")&&CSS.supports("image-orientation","from-image")||(this._exifOperation||(this._exifOperation=this.createOperation("exif-orientation")),this._exifOperation.setTags(e))}this._exif.setOrientation(1)}}}},{key:"correctExifOrientation",value:function(e){var t=this.parseExif(e);if(!t)return e;var n=t.getTags();if(n&&n.Orientation){var i=1!==n.Orientation&&2!==n.Orientation,r=-1!==[2,4,5,7].indexOf(n.Orientation);if(i||r){if("undefined"===typeof navigator){var o=this.createOperation("exif-orientation",{},!1);o.setTags(n),e=o.applyTo(e)}else{var a=window&&window.navigator&&window.navigator.userAgent||"";if(a.match(/msie|trident/i)||-1!==a.indexOf("Edge")||!CSS.supports("image-orientation","from-image")){var s=this.createOperation("exif-orientation",{},!1);s.setTags(n),e=s.applyTo(e)}}return t.setOrientation(1),n.Orientation=1,e}}return e}},{key:"hasImage",value:function(){return null!==this._image&&"undefined"!==typeof this._image}},{key:"getImage",value:function(){return this._image}},{key:"disposeTexture",value:function(e){this._texturesToDispose.push(e)}},{key:"_disposeTextures",value:function(){for(var e=0;e<this._texturesToDispose.length;e++)this._texturesToDispose[e].dispose();this._texturesToDispose=[]}},{key:"setImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._disposeTextures(),this._exifOperation&&(this.removeOperation(this._exifOperation),this._exifOperation=null),this._options.image=e,this._image=e,this._exif=t||this.parseExif(e),this._exif&&this._handleExifOrientation();var i=new os.BaseTexture(this._image),r=new is(0,0,this._image.naturalWidth||this._image.width,this._image.naturalHeight||this._image.height);n&&(r.width=n.x,r.height=n.y),this._resizedTexture&&this._resizedTexture.dispose(),this._resizedTexture=null,this._inputTexture&&this.disposeTexture(this._inputTexture.getBaseTexture()),this._inputTexture=new os.Texture(i,r),this._currentTexture=this._inputTexture,this._sprite.clearTexture(!1),this._sprite.setTexture(this._inputTexture),this.emit("new-image"),this.setAllOperationsToDirty(!0)}},{key:"setInputTexture",value:function(e){this._inputTexture=e}},{key:"getCanvas",value:function(){return this._renderer.getCanvas()}},{key:"setCanvas",value:function(e){this._renderer.setCanvas(e)}},{key:"getSprite",value:function(){return this._sprite}},{key:"getContainer",value:function(){return this._container}},{key:"getOperationsStack",value:function(){return this._operationsStack}},{key:"setOperationsStack",value:function(e){this._operationsStack&&this._operationsStack.off(ls.OPERATION_UPDATED,this._onOperationUpdate),this._operationsStack=e,this._operationsStack.on(ls.OPERATION_UPDATED,this._onOperationUpdate)}},{key:"getOperations",value:function(){return this._operations}},{key:"getRenderer",value:function(){return this._renderer}},{key:"getOffset",value:function(){return this._offset}},{key:"setOffset",value:function(e,t){e instanceof us?this._offset.copy(e):this._offset.set(e,t)}},{key:"getRenderMode",value:function(){return this._renderMode}},{key:"setRenderMode",value:function(e){this._renderMode=e}},{key:"getZoom",value:function(){return this._zoom}},{key:"setZoom",value:function(e){this._zoom=e,this._container.setScale(this._zoom,this._zoom),this._container.updateTransform()}},{key:"getTextureQuality",value:function(){return"export"===this._renderMode?1:this._textureQuality}},{key:"setTextureQuality",value:function(e){e!==this._textureQuality&&this.setAllOperationsToDirty(!0),this._textureQuality=Math.min(1,e),1===this._textureQuality&&this._resizedTexture&&(this._resizedTexture.dispose(),this._resizedTexture=null)}},{key:"getSpriteScale",value:function(){return this._spriteScale}},{key:"setSpriteScale",value:function(e){this._spriteScale=e,this._sprite.setScale(e,e),this._sprite.updateTransform()}},{key:"getPixelRatio",value:function(){return this._options.pixelRatio}},{key:"getExif",value:function(){return this._exif}},{key:"getOptions",value:function(){return this._options}},{key:"getInputTexture",value:function(){return this._inputTexture}},{key:"setSmoothDownscaling",value:function(e){this._options.smoothDownscaling=e,this._sprite.setSmoothDownscaling(e),this._resizedSprite.setSmoothDownscaling(e)}},{key:"setRotation",value:function(e){this._rotation=e}},{key:"getRotation",value:function(){return this._rotation}},{key:"hasChanges",value:function(){return this.getOperationsStack().hasChanges()}},{key:"dispose",value:function(){this._operationsStack.dispose(),this._renderer.dispose(),this._exif&&this._exif.dispose(),this._resizedTexture&&this._resizedTexture.dispose()}}]),n}(ss)})),Ts=z((function(){Xe(),St(),se(),Ga(),qe(),Ct(),mn(),Ha(),jt(),Xa(),Ya(),ia(),ua(),Qa(),Ke(),Ss(),Ja(),js(),gs.version="3.9.0",gs.Math=la,gs.Operations=es,gs.Engine=ha,gs.Color=ut,gs.LicenseChecker=Vo,gs.Operation=Ma,gs.EventEmitter=ct,gs.Utils=ke,gs.Env=pa,gs.OperationsStack=Ia,gs.EXIF=ja,gs.Image=Ea,gs.Configurable=Nt,gs.Log=Ee,gs.Loaders=st,gs.RenderType=l,gs.ImageFormat=u,gs.OptionType=c,gs.RendererType=d,gs.UniformType=f,gs.Base64=be,ys={},gs.UI=ys,vs=gs})),Es=z((function(){Ts(),Ts()})),Ds=z((function(){bs="precision highp float;\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform float u_gamma;\nuniform float u_shadows;\nuniform float u_highlights;\nuniform float u_whites;\nuniform float u_blacks;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.0000001;\n\nfloat calculateLuminance(vec3 rgb) {\n    // This is the luminance calculation part of the RGB to HSL formular.\n    vec4 p = mix(\n        vec4(rgb.gb, 0.0, -1.0 / 3.0),\n        vec4(rgb.bg, -1.0, 2.0 / 3.0),\n        vec4(rgb.g < rgb.b)\n    );\n\n    vec4 q = mix(\n        vec4(rgb.r, p.yzx),\n        vec4(p.xyw, rgb.r),\n        vec4(rgb.r < p.x)\n    );\n\n    float croma = q.x - min(q.w, q.y);\n    float luminance = q.x - croma * 0.5;\n    return luminance;\n}\n\nvec3 map(vec3 x, float in_min, float in_max, float out_min, float out_max){\n  return (x - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nvoid main() {\n\n  vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON); // Revert premultiplied alpha\n\n  // Apply gamma\n  if (u_gamma != 1.0) {\n    color.rgb = pow(color.rgb, vec3(1.0 / max(u_gamma, EPSILON)));\n  }\n\n  // Apply shadows and highlights\n  float luminance = calculateLuminance(color.rgb);\n\n  float shadow = u_shadows >= 0.0\n    ? clamp(\n          pow(luminance, 1.0 / (u_shadows + 1.0))\n          + pow(luminance, 2.0 / (u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(u_shadows, 1.0))\n    : -clamp(\n          pow(luminance, 1.0 / (-u_shadows + 1.0))\n          + pow(luminance, 2.0 / (-u_shadows + 1.0)) * -0.76\n          - luminance\n    , 0.0, max(-u_shadows, 1.0));\n\n  float highlight = u_highlights < 0.0\n    ? clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 - u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 - u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0)\n    : -clamp(\n          1.0\n          - pow(1.0 - luminance, 1.0 / (1.0 + u_highlights))\n          - pow(1.0 - luminance, 2.0 / (1.0 + u_highlights)) * -0.8\n          - luminance\n     , -1.0, 0.0);\n\n  // Bright color need more contrast and dark color need more brightness.\n  // This is to keep saturatation because the color information of a dark colors is lost.\n  float shadowContrast   = shadow * luminance * luminance;\n  float shadowBrightness = shadow - shadowContrast;\n\n  float offset = luminance + shadowContrast + highlight;\n  color.rgb = clamp(offset * ((color.rgb + shadowBrightness) / max(luminance, EPSILON)), 0.0, 1.0);\n  \n  // Apply Color Matrix\n  color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n  color.rgb = map(color.rgb, 0.0, 1.0, u_blacks / 2.0, 1.0 + u_whites / 2.0);\n  color = clamp(color, 0.0, 1.0);\n  color.rgb *= color.a; // Reset premultiplied alpha\n\n  gl_FragColor = color;\n}\n"}));function Is(e,t,n,i,r){return(e-t)*(r-i)/(n-t)+i}var Rs,Fs,As,Ms,Ps,zs,Bs,Ls,Ns,Us,Gs,Hs,Ws,Vs,qs,Ks,Xs,Ys,Qs,Zs,Js,$s,el,tl,nl,il,rl,ol,al,sl,ll,ul,cl,fl,dl,hl,pl,ml,gl,yl,vl,bl,_l,xl,kl,wl,Ol,Sl,Cl,jl,Tl,El,Dl,Il,Rl,Fl,Al,Ml,Pl,zl,Bl,Ll,Nl,Ul,Gl,Hl,Wl,Vl,ql,Kl,Xl,Yl,Ql,Zl,Jl,$l,eu,tu,nu,iu,ru,ou,au,su,lu,uu,cu,fu,du,hu,pu=z((function(){Es(),Ds(),_s=la.ColorMatrix,xs=1e-7,ks=function(e){return(Math.max(e.r,e.g,e.b)+Math.min(e.r,e.g,e.b))/2},(ws=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=bs,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options,l=s.colorMatrix,u=s.gamma,c=s.shadows,f=s.highlights,d=s.whites,h=s.blacks,p=1!==u,m=0!==c||0!==f,g=new ut(0,0,0,0),y=0;y<i.width*i.height;y++){var v=4*y;if(g.r=a.data[v]/255,g.g=a.data[v+1]/255,g.b=a.data[v+2]/255,p&&(g.r=Math.pow(g.r,1/Math.max(u,xs)),g.g=Math.pow(g.g,1/Math.max(u,xs)),g.b=Math.pow(g.b,1/Math.max(u,xs))),m){var b=ks(g),_=c>=0?ke.clamp(Math.pow(b,1/(c+1))+-.76*Math.pow(b,2/(c+1))-b,0,Math.max(c,1)):-ke.clamp(Math.pow(b,1/(1-c))+-.76*Math.pow(b,2/(1-c))-b,0,Math.max(-c,1)),x=f<0?ke.clamp(1-Math.pow(1-b,1/(1-f))- -.8*Math.pow(1-b,2/(1-f))-b,-1,0):-ke.clamp(1-Math.pow(1-b,1/(1+f))- -.8*Math.pow(1-b,2/(1+f))-b,-1,0),k=_*b*b,w=_-k,O=b+k+x;g.r=ke.clamp(O*((g.r+w)/Math.max(b,xs)),0,1),g.g=ke.clamp(O*((g.g+w)/Math.max(b,xs)),0,1),g.b=ke.clamp(O*((g.b+w)/Math.max(b,xs)),0,1)}(g=l.apply(g).clamp(0,1)).r=Is(g.r,0,1,h/2,1+d/2),g.g=Is(g.g,0,1,h/2,1+d/2),g.b=Is(g.b,0,1,h/2,1+d/2),a.data[v]=255*g.r,a.data[v+1]=255*g.g,a.data[v+2]=255*g.b}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={gamma:{type:"number",default:1,uniformType:"f"},shadows:{type:"number",default:0,uniformType:"f"},highlights:{type:"number",default:1,uniformType:"f"},whites:{type:"number",default:0,uniformType:"f"},blacks:{type:"number",default:0,uniformType:"f"},colorMatrix:{type:"color-matrix",default:new _s,uniformType:"mat4"},colorOffset:{type:"array",default:[],uniformType:"4f"}},Os=ws})),mu=z((function(){Rs="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Size of one pixel == vec2(1.0 / u_image.width, 1.0 / u_image.height)\nuniform vec2 u_pixelDimension;\n\n// Range (-1.0 - 1.0)\nuniform float u_clarity;\n\nvarying vec2 v_texCoord;\n\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorOffset;\n\nconst float EPSILON = 0.000001;\n\nvec4 unpremultiply(vec4 col) {\n    col.rgb /= max(col.a, EPSILON);\n    return col;\n}\n\nvoid main() {\n    vec4 color = texture2D(u_image, v_texCoord);\n    color = unpremultiply(color);\n\n    // L = Left, R = Right, C = Center, T = Top, B = Bottom\n    vec4 colLB = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colLC = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,                 0.0));\n    vec4 colLT = texture2D(u_image, v_texCoord + vec2(-u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 colCL = texture2D(u_image, v_texCoord + vec2(                0.0, -u_pixelDimension.y));\n    vec4 colCR = texture2D(u_image, v_texCoord + vec2(                0.0,  u_pixelDimension.y));\n    \n    vec4 colRB = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x, -u_pixelDimension.y));\n    vec4 colRC = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,                 0.0));\n    vec4 colRT = texture2D(u_image, v_texCoord + vec2( u_pixelDimension.x,  u_pixelDimension.y));\n\n    vec4 mergedColor = color;\n    mergedColor.rgb += unpremultiply(colLB).rgb + unpremultiply(colLC).rgb + unpremultiply(colLT).rgb;\n    mergedColor.rgb += unpremultiply(colCL).rgb + unpremultiply(colCR).rgb;\n    mergedColor.rgb += unpremultiply(colRB).rgb + unpremultiply(colRC).rgb + unpremultiply(colRT).rgb;\n\n    mergedColor /= 9.0;\n\n    float grayValue = clamp(color.r * 0.3 + color.g * 0.59 + color.b * 0.1, 0.111111, 0.999999);\n    // 1.0 and 0.0 result in white not black, therefore we clamp\n\n    // Here we create a function that will map values below 0.1 to 0. Values above 0.2 will be mapped to 1,\n    // and for values between 0.1 and 0.2 it will produce a gradient.\n    // The funtion is mirror at 0.5, meaning values between 0.8 and 0.9 will result in a decending gradient.\n    // And values above 0.9 will be mapped to 0.\n    float frequenceFactor = min(smoothstep(1.0 - grayValue, 0.0, 0.11), smoothstep(grayValue, 0.0, 0.11));\n\n    // here we apply the high pass filter. Its strength is determined by the uniform ,\n    // and the frequence factor. That means the only the mid tones are affected by this filter.\n    // Clarity input is ranging from -1 to 1. But we want to strengthen the effect.\n    // Therefore we see this little magic number '3.7'.\n    color.rgb = clamp(color + clamp((color - mergedColor) * u_clarity * 3.7 * frequenceFactor, 0.0, 10.0), 0.0, 1.0).rgb;\n\n    // apply exposure but only to the mid tones.\n    color.rgb = color.rgb * pow(2.0, u_clarity * 0.27 * frequenceFactor);\n\n    // apply contrast and desaturation matrix\n    color.rgb = clamp(color * u_colorMatrix + u_colorOffset, 0.0, 1.0).rgb;\n\n    color.rgb *= color.a; // Premultiply alpha\n\n    gl_FragColor = clamp(color, 0.0, 1.0);\n}\n"})),gu=z((function(){Es(),mu(),Fs=la.Vector2,As=la.ColorMatrix,(Ms=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Rs,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=n.getContext(),r=t.getCanvas(),o=t.getContext(),a=this._options.clarity,s=this._options.colorMatrix,l=new ut(this._options.colorOffset[0],this._options.colorOffset[1],this._options.colorOffset[2],this._options.colorOffset[3]),u=r.width,c=r.height,f=o.getImageData(0,0,u,c),d=i.createImageData(u,c);this.canvasShader(f,d,a,s,l),i.putImageData(d,0,0)}},{key:"canvasShader",value:function(e,t,n,i,r){for(var o=function(e,t,n){return Math.min(Math.max(e,t),n)},a=function(e,t,n){var i=o((n-e)/(t-e),0,1);return i*i*(3-2*i)},s=4*e.width,l=e.data.length,u=l-1,c=e.data,f=t.data,d=new ut,h=2295,p=function(e){return c[e=(e=e<0?0:e)>u?u:e]},m=0;m<l;m+=4){var g=p(m+0),y=p(m+1),v=p(m+2),b=p(m+3),_=(g+p(m-4-s+0)+p(m-4+0)+p(m-4+s+0)+p(m-s+0)+p(m+s+0)+p(m+4-s+0)+p(m+4+0)+p(m+4+s))/h,x=(y+p(m-4-s+1)+p(m-4+1)+p(m-4+s+1)+p(m-s+1)+p(m+s+1)+p(m+4-s+1)+p(m+4+1)+p(m+4+s+1))/h,k=(v+p(m-4-s+2)+p(m-4+2)+p(m-4+s+2)+p(m-s+2)+p(m+s+2)+p(m+4-s+2)+p(m+4+2)+p(m+4+s+2))/h,w=(b+p(m-4-s+3)+p(m-4+3)+p(m-4+s+3)+p(m-s+3)+p(m+s+3)+p(m+4-s+3)+p(m+4+3)+p(m+4+s+3))/h;b/=255;var O=o(.3*(g/=255)+.59*(y/=255)+.1*(v/=255),.111111,.999999),S=Math.min(a(1-O,0,.11),a(O,0,.11)),C=3.7*n*S,j=Math.pow(2,.27*n*S),T=o(g+o((g-_)*C,0,10),0,1)*j,E=o(y+o((y-x)*C,0,10),0,1)*j,D=o(v+o((v-k)*C,0,10),0,1)*j,I=o(b+o((b-w)*C,0,10),0,1);d.set(T,E,D,I);var R=i.apply(d).clamp(0,1);f[m+0]=255*R.r,f[m+1]=255*R.g,f[m+2]=255*R.b,f[m+3]=255*R.a}}}]),n}(ha.Filter)).prototype.availableOptions={clarity:{type:"number",default:0,uniformType:"f"},pixelDimension:{type:"vector2",default:new Fs(100,100),uniformType:"2f"},colorMatrix:{type:"color-matrix",default:new As,uniformType:"mat4"},colorOffset:{type:"array",default:[],uniformType:"4f"}},Ps=Ms})),yu=z((function(){zs="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec2 u_pixelDimension;\nuniform float u_sharpness;\n \nconst float EPSILON = 0.000001;\n \nvoid main() {\n    vec4 color = clamp(texture2D(u_image, v_texCoord), 0.0, 1.0);\n\n    float factor        = mix(0.2, -1.0, float(u_sharpness > 0.0));\n    vec4 sharpenedColor = mix(0.2,  5.0, float(u_sharpness > 0.0)) * color;\n \n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2(-1.0,  0.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0, -1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 0.0,  1.0)), 0.0, 1.0);\n    sharpenedColor += factor * clamp(texture2D(u_image, v_texCoord + u_pixelDimension * vec2( 1.0,  0.0)), 0.0, 1.0);\n \n    color.rgb /= max(color.a, EPSILON); // unpremultiply\n    sharpenedColor.rgb /= max(sharpenedColor.a, EPSILON); // unpremultiply\n \n    sharpenedColor = clamp(sharpenedColor, 0.0, 1.0);\n \n    color = clamp(mix(color, sharpenedColor, abs(u_sharpness)), 0.0, 1.0);\n      \n    gl_FragColor = vec4(color.rgb * color.a, color.a); // premultiply\n}"})),vu=z((function(){Es(),yu(),Bs=la.Vector2,(Ls=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=zs,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=n.getContext(),r=t.getCanvas(),o=t.getContext(),a=this._options.sharpness,s=r.width,l=r.height,u=o.getImageData(0,0,s,l),c=i.createImageData(s,l);this.canvasShader(u,c,a),i.putImageData(c,0,0)}},{key:"canvasShader",value:function(e,t,n){for(var i=function(e,t,n){return Math.min(Math.max(e,t),n)},r=e.width,o=e.height,a=e.data,s=t.data,l=function(e,t,n){return e*(1-n)+t*n},u=function(e){return i(a[e]/255,0,1)},c=function(e,t){var n=i(e,0,r-1),a=i(t,0,o-1);return 4*(n+r*a)},f=[],d=[],h=[-1,0,0,1],p=[0,-1,1,0],m=n>0?-1:.2,g=n>0?5:.2,y=Math.abs(n),v=0;v<r;v++)for(var b=0;b<o;b++){var _=c(v,b);f[0]=u(_+0),f[1]=u(_+1),f[2]=u(_+2),f[3]=u(_+3),d[0]=g*f[0]*f[3],d[1]=g*f[1]*f[3],d[2]=g*f[2]*f[3],d[3]=g*f[3];for(var x=0;x<4;x++){var k=c(v+h[x],b+p[x]),w=u(k+3);d[3]+=m*w;for(var O=0;O<3;O++)d[O]+=m*u(k+O)*w}for(var S=0;S<3;S++)d[S]/=Math.max(d[3],1e-6),d[S]=i(d[S],0,1);d[3]=i(d[3],0,1);for(var C=0;C<4;C++)f[C]=i(l(f[C],d[C],y),0,1),s[_+C]=255*f[C]}}}]),n}(ha.Filter)).prototype.availableOptions={sharpness:{type:"number",default:0,uniformType:"f"},pixelDimension:{type:"vector2",default:new Bs(100,100),uniformType:"2f"}},Ns=Ls})),bu=z((function(){Us="precision mediump float;\n\n// Input Image with config WRAP_S and WRAP_T: CLAMP_TO_EDGE\nuniform sampler2D u_image;\n\n// Range (-1.0 - 1.0)\nuniform float u_temperature;\n\nconst lowp vec3 warmFilter = vec3(0.93, 0.54, 0.0);\n\nconst mediump mat3 RGBtoYIQ = mat3(0.299, 0.587, 0.114, 0.596, -0.274, -0.322, 0.212, -0.523, 0.311);\nconst mediump mat3 YIQtoRGB = mat3(1.0, 0.956, 0.621, 1.0, -0.272, -0.647, 1.0, -1.105, 1.702);\n\nconst float EPSILON = 0.0000001;\n\nvarying vec2 v_texCoord;\nvoid main() {\n  float temperature = u_temperature;\n  const float tint = 0.0;\n  vec4 source = texture2D(u_image, v_texCoord);\n\n  source.rgb /= max(source.a, EPSILON);   // Revert premultiplied alpha\n\n  vec3 yiq = RGBtoYIQ * source.rgb;\n  yiq.b = clamp(yiq.b + tint*0.5226*0.1, -0.5226, 0.5226);\n  vec3 rgb = YIQtoRGB * yiq;\n\n  vec3 processed = mix(\n    (1.0 - 2.0 * (1.0 - rgb) * (1.0 - warmFilter)),\n    (2.0 * rgb * warmFilter),\n    vec3(rgb.r < 0.5, rgb.g < 0.5, rgb.b < 0.5)\n  );\n\n  vec4 color = vec4(mix(rgb, processed, temperature), source.a);\n\n  color.rgb *= color.a;   // Premultiply alpha again\n\n  gl_FragColor = color;\n}\n"})),_u=z((function(){Es(),bu(),la.Vector3,(Gs=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Us,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=n.getContext(),r=t.getCanvas(),o=t.getContext(),a=this._options.temperature,s=r.width,l=r.height,u=o.getImageData(0,0,s,l),c=i.createImageData(s,l);this.canvasShader(u,c,a),i.putImageData(c,0,0)}},{key:"canvasShader",value:function(e,t,n){for(var i=function(e,t,n){return Math.min(Math.max(e,t),n)},r=function(e,t,n){return e*(1-n)+t*n},o=function(e,t){return[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]]},a=e.data.length,s=a-1,l=e.data,u=t.data,c=function(e){return l[e=(e=e<0?0:e)>s?s:e]},f=[.93,.54,0],d=[.299,.587,.114,.596,-.274,-.322,.212,-.523,.311],h=[1,.956,.621,1,-.272,-.647,1,-1.105,1.702],p=0;p<a;p+=4){var m=c(p+0)/255,g=c(p+1)/255,y=c(p+2)/255,v=c(p+3)/255,b=o(d,[m,g,y]);b.z=i(b.z+0,-.5226,.5226);var _=o(h,b),x=[_[0]<.5?2*_[0]*f[0]:1-2*(1-_[0])*(1-f[0]),_[1]<.5?2*_[1]*f[1]:1-2*(1-_[1])*(1-f[1]),_[2]<.5?2*_[2]*f[2]:1-2*(1-_[2])*(1-f[2])];u[p+0]=255*r(_[0],x[0],n),u[p+1]=255*r(_[1],x[1],n),u[p+2]=255*r(_[2],x[2],n),u[p+3]=255*v}}}]),n}(ha.Filter)).prototype.availableOptions={temperature:{type:"number",default:0,uniformType:"f"}},Hs=Gs})),xu=z((function(){Es(),pu(),gu(),vu(),_u(),Ws=la.ColorMatrix,(Vs=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._clarityFilter=new Ps,e._temperatureFilter=new Hs,e._sharpnessFilter=new Ns,e._filter=new Os,e._sprite.setFilters([e._clarityFilter,e._temperatureFilter,e._filter]),e}return Object(w.a)(n,[{key:"_render",value:function(e){var t=e.getDimensions();t.x=1/t.x,t.y=1/t.y;var n=new Ws;n.multiply(Ws.createSaturationMatrix(-.3*this._options.clarity+1)),n.multiply(Ws.createContrastMatrix(.1*this._options.clarity+1)),this._clarityFilter.set({clarity:this._options.clarity,pixelDimension:t,colorMatrix:n,colorOffset:n.getOffsets()}),this._temperatureFilter.set({temperature:this._options.temperature}),this._sharpnessFilter.set({sharpness:this._options.sharpness,pixelDimension:t});var i=new Ws;i.multiply(Ws.createExposureMatrix(this._options.exposure)),i.multiply(Ws.createSaturationMatrix(this._options.saturation+1)),i.multiply(Ws.createContrastMatrix((this._options.contrast>0?2*this._options.contrast:this._options.contrast)+1)),i.multiply(Ws.createBrightnessMatrix(this._options.brightness)),this._filter.set({gamma:this._options.gamma,shadows:this._options.shadows,highlights:this._options.highlights,whites:this._options.whites,blacks:this._options.blacks,colorMatrix:i,colorOffset:i.getOffsets()});var r=[];return 0!==this._options.clarity&&r.push(this._clarityFilter),0!==this._options.sharpness&&r.push(this._sharpnessFilter),0!==this._options.temperature&&r.push(this._temperatureFilter),r.push(this._filter),this._sprite.setFilters(r),this._renderTexture.render(this._container),Promise.resolve()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._filter.dispose(),this._clarityFilter.dispose(),this._temperatureFilter.dispose(),this._sharpnessFilter.dispose()}}]),n}(Ma)).identifier="adjustments",Vs.prototype.availableOptions={brightness:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},saturation:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},contrast:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},gamma:{type:"number",default:1,minValue:.5,midValue:1,maxValue:2},exposure:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},shadows:{type:"number",default:0,minValue:-2,midValue:0,maxValue:2},highlights:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},clarity:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},whites:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},blacks:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},temperature:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1},sharpness:{type:"number",default:0,minValue:-1,midValue:0,maxValue:1}},vs.Operations.AdjustmentsOperation=Vs,qs=Vs})),ku=z((function(){Ks="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n    float radius = u_blurRadius;\n\n    const float steps = 30.0;\n\n    for (float t = -steps; t <= steps; t++) {\n        float percent = (t + offset - 0.5) / steps;\n        float weight = 1.0 - abs(percent);\n\n        // Somehow `sample` is a keyword in headless-gl\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n"})),wu=z((function(){Es(),ku(),Xs=la.Vector2,(Ys=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=Ks,e._lastBlurRadius=null,e._lastDimensions=new Xs(0,0),e._blurredRenderTarget=new ha.CanvasRenderTarget(100,100,1),e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if("low"!==this._options.blurQuality){var o=t.getCanvas(),a=t.getContext(),s=n.getContext();this._lastBlurRadius===this._options.blurRadius&&s.drawImage(o,0,0);for(var l=a.getImageData(0,0,o.width,o.height),u=s.getImageData(0,0,o.width,o.height),c=this._options.blurRadius,f=this._options.delta,d=30,h=0;h<o.width;h++)for(var p=0;p<o.height;p++){var m=h+p*o.width,g=4*m,y=0,v=0,b=0,_=0,x=0;r&&(c=r(h/o.width,p/o.height));for(var k=this._random(h,1-p/o.height),w=-d;w<=d;w++){var O=(w+k-.5)/d,S=1-Math.abs(O),C=f.x*O*c,j=f.y*O*c,T=Math.max(Math.min(h+C,o.width-1),0),E=Math.max(Math.min(p+j,o.height-1),0),D=4*(Math.round(E)*o.width+Math.round(T)),I=l.data[D+3],R=I*l.data[D],F=I*l.data[D+1],A=I*l.data[D+2];y+=R*S,v+=F*S,b+=A*S,_+=I*S,x+=S}y/=x,v/=x,b/=x,_/=x,u.data[g]=y/_,u.data[g+1]=v/_,u.data[g+2]=b/_,u.data[g+3]=_}s.putImageData(u,0,0),this._lastDimensions.copy(new Xs(o.width,o.height))}else this._renderLQBlur(e,t,n,i)}},{key:"_renderLQBlur",value:function(e,t,n,i){var r=t.getDimensions(),o=!this._lastDimensions.equals(r);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),n.setPixelRatio(t.getPixelRatio()),n.resizeTo(t.getDimensions()),(this._lastBlurRadius!==this._options.blurRadius||o)&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),n.getContext().drawImage(this._blurredRenderTarget.getCanvas(),0,0),this._lastDimensions.copy(r)}},{key:"_random",value:function(e,t){var n=12.9898*e+78.233*t,i=n-3.14*Math.floor(n/3.14),r=43758.5453*Math.sin(i);return r-Math.floor(r)}}]),n}(ha.Filter)).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},delta:{type:"vector2",default:new Xs(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new Xs(100,100),uniformType:"2f"},blurQuality:{type:"string",default:"low"}},Qs=Ys})),Ou=z((function(){Es(),wu(),Zs=la.Vector2,(Js=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=t.call.apply(t,[this].concat(r)))._lastBlurRadius=e._options.blurRadius;var a={blurQuality:{type:"string"}};return e._horizontalFilter=new Qs({},a),e._verticalFilter=new Qs({},a),e._sprite.setFilters([e._horizontalFilter,e._verticalFilter]),e._horizontalFilter.setDelta(new Zs(.5,.5)),e._verticalFilter.setDelta(new Zs(-.5,.5)),e._filter=new Qs({},a),e}return Object(w.a)(n,[{key:"_renderWebGL",value:function(e){return this._renderBlur(e)}},{key:"_renderCanvas",value:function(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}},{key:"_renderBlur",value:function(e){var t=e.getDimensions(),n=t.min(),i={blurRadius:this._options.blurRadius*n,texSize:t,blurQuality:"high"};return this._horizontalFilter.set(i),this._verticalFilter.set(i),this._renderTexture.render(this._container),Promise.resolve()}},{key:"_renderLQCanvasBlur",value:function(e){var t=this._options.blurRadius,n=e.getDimensions();return this._filter.set({blurRadius:t,texSize:n,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}},{key:"transform",value:function(e){var t=this.getBlurRadius(),n=e.applyToRelativeSize(t);this.set({blurRadius:n},!1)}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}},{key:"hasChanges",value:function(){return!0}}]),n}(Ma)).identifier="blur",Js.prototype.availableOptions={blurRadius:{type:"number",default:.025},highQualityCanvasBlur:{type:"boolean",default:!1}},vs.Operations.BlurOperation=Js,$s=Js})),Su=z((function(){el="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filteredImage;\nuniform float u_intensity;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filteredImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, u_intensity);\n}\n"})),Cu=z((function(){Es(),Su(),(tl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=el,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getCanvas(),r=n.getContext(),o=this._options.filteredCanvas;r.save(),r.drawImage(i,0,0),r.globalAlpha=this._options.intensity,r.drawImage(o,0,0),r.restore()}}]),n}(ha.Filter)).prototype.availableOptions={filteredImage:{type:"number",default:1,uniformType:"i"},filteredCanvas:{type:"object",default:null},intensity:{type:"number",default:1,uniformType:"f"}},nl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(k.a)(this,e),this._intensity=t,this._stack=[],this._dirtiness={},this._renderTextures={},this._container=new ha.Container,this._sprite=new ha.Sprite,this._container.addChild(this._sprite),this._blendFilter=new tl}return Object(w.a)(e,[{key:"push",value:function(e){this._stack.push(e)}},{key:"clear",value:function(){this._stack=[]}},{key:"render",value:function(e,t,n){if(this.isEmpty())return Promise.resolve();var i=e.getRenderer();this._sprite.setTexture(t);var r=this._renderTextures[i.id];if(!r){var o=e.getSprite().getTexture().getFrame();r=new ha.RenderTexture(e.getRenderer(),o.width,o.height),this._renderTextures[i.id]=r}var a=n.getDimensions();r.resizeTo(a);var s=this.isDirtyForRenderer(i);if(s){this._stack.forEach((function(t){t.update(e)}));var l=this._stack.map((function(e){return e.getFilter()}));this._sprite.setFilters(l),r.render(this._container),this.setDirtyForRenderer(!1,i)}if(this._blendFilter.setIntensity(this._intensity),i.isOfType("canvas"))this._blendFilter.setFilteredCanvas(r.getRenderTarget().getCanvas());else if(i.isOfType("webgl")){var u=r.getBaseTexture();u.setGLUnit(this._blendFilter.getFilteredImage()),i.updateTexture(u,!1)}return this._sprite.setFilters([this._blendFilter]),n.clear(ut.TRANSPARENT),n.render(this._container),s&&this.disposeRenderTextures(),Promise.resolve()}},{key:"setIntensity",value:function(e){this._intensity=e}},{key:"isEmpty",value:function(){return 0===this._stack.length}},{key:"isDirtyForRenderer",value:function(e){return e.id in this._dirtiness||(this._dirtiness[e.id]=!0),this._dirtiness[e.id]}},{key:"setDirtyForRenderer",value:function(e,t){this._dirtiness[t.id]=e}},{key:"setDirty",value:function(e){for(var t in this._dirtiness)this._dirtiness[t]=e}},{key:"disposeRenderTextures",value:function(){for(var e in this._renderTextures)this._renderTextures[e].dispose(),delete this._renderTextures[e]}},{key:"dispose",value:function(){this.disposeRenderTextures(),this._stack.forEach((function(e){return e.dispose()})),this._stack=[],this._blendFilter.dispose(),this._sprite.dispose()}}]),e}()})),ju=z((function(){Es(),Cu(),(il=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(k.a)(this,n),(e=t.call(this,i,Object(T.a)({intensity:{type:"number",default:1,setter:function(e){return this._stack&&this._stack.setIntensity(e),e}},dirty:{type:"boolean",default:!0}},r)))._stack=new nl(e._options.intensity),e}return Object(w.a)(n,[{key:"render",value:function(e,t,n){var i=this;return this._stack.render(e,t,n).then((function(e){return i.setDirty(!1),e}))}},{key:"setDirtyForRenderer",value:function(e,t){this._stack.setDirtyForRenderer(e,t)}},{key:"disposeRenderTextures",value:function(){this._stack.disposeRenderTextures()}},{key:"dispose",value:function(){this._stack.dispose()}}]),n}(Nt)).identifier=null,il.isIdentity=!1,il.displayName=null,il.PrimitivesStack=nl,rl=il})),Tu=z((function(){ol="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_brightness;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4((texColor.rgb + vec3(u_brightness) * texColor.a), texColor.a);;\n}\n"})),Eu=z((function(){Es(),al=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"update",value:function(){}},{key:"getFilter",value:function(){return this._filter}},{key:"dispose",value:function(){this._filter&&(this._filter.dispose(),this._filter=null)}}]),n}(Nt)})),Du=z((function(){Es(),Tu(),Eu(),(sl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=ol,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options.brightness;if(0!==s){s*=255;for(var l=0;l<i.width*i.height;l++){var u=4*l;a.data[u]+=s,a.data[u+1]+=s,a.data[u+2]+=s}o.putImageData(a,0,0)}else o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={brightness:{type:"number",default:0,uniformType:"f"}},(ll=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new sl,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setBrightness(this._options.brightness)}}]),n}(al)).prototype.availableOptions=sl.prototype.availableOptions,ul=ll})),Iu=z((function(){cl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_contrast;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(((texColor.rgb - vec3(0.5)) * u_contrast + vec3(0.5) * texColor.a), texColor.a);\n}\n"})),Ru=z((function(){Es(),Iu(),Eu(),(fl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=cl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options.contrast;if(1!==s){for(var l=0;l<i.width*i.height;l++){var u=4*l;a.data[u]=(a.data[u]-127)*s+127,a.data[u+1]=(a.data[u+1]-127)*s+127,a.data[u+2]=(a.data[u+2]-127)*s+127}o.putImageData(a,0,0)}}}]),n}(ha.Filter)).prototype.availableOptions={contrast:{type:"number",default:1,uniformType:"f"}},(dl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new fl,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setContrast(this._options.contrast)}}]),n}(al)).prototype.availableOptions=fl.prototype.availableOptions,hl=dl})),Fu=z((function(){pl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform mat4 u_colorMatrix;\nuniform vec4 u_colorMatrixOffset;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = texColor * u_colorMatrix + u_colorMatrixOffset;\n}\n"})),Au=z((function(){Es(),Fu(),Eu(),ml=la.ColorMatrix,(gl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=pl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options.colorMatrix,l=new ut(0,0,0,0),u=0;u<i.width*i.height;u++){var c=4*u;l.r=a.data[c]/255,l.g=a.data[c+1]/255,l.b=a.data[c+2]/255,l=s.apply(l),a.data[c]=255*l.r,a.data[c+1]=255*l.g,a.data[c+2]=255*l.b}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={colorMatrix:{type:"color-matrix",default:new ml,uniformType:"mat4"},colorMatrixOffset:{type:"array",default:[],uniformType:"4f"}},(yl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new gl,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setColorMatrix(this._options.colorMatrix)}}]),n}(al)).prototype.availableOptions=gl.prototype.availableOptions,vl=yl})),Mu=z((function(){bl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_desaturation;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n  vec3 gray = vec3(dot(grayXfer, texColor.xyz));\n  gl_FragColor = vec4(mix(texColor.xyz, gray, u_desaturation) * texColor.a, texColor.a);\n}\n"})),Pu=z((function(){Es(),Mu(),Eu(),(_l=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=bl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=[.3,.59,.11],l=this._options.desaturation,u=0;u<i.width*i.height;u++){var c=4*u,f=s[0]*a.data[c]/255+s[1]*a.data[c+1]/255+s[2]*a.data[c+2]/255;a.data[c]+=(255*f-a.data[c])*l,a.data[c+1]+=(255*f-a.data[c+1])*l,a.data[c+2]+=(255*f-a.data[c+2])*l}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={desaturation:{type:"number",default:1,uniformType:"f"}},(xl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new _l,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setDesaturation(this._options.desaturation)}}]),n}(al)).prototype.availableOptions=_l.prototype.availableOptions,kl=xl})),zu=z((function(){wl='precision highp float;\n\nuniform sampler2D u_image;\nuniform vec4 u_lightColor;\nuniform vec4 u_darkColor;\nuniform float u_intensity;\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.0000001;\nconst vec3 GRAYSCALE_WEIGHTS = vec3(0.2126, 0.7152, 0.0722);\n\nvec4 duotoneKernel(vec4 sampledCol, vec4 light, vec4 dark, float intensity) {\n  vec4 color = clamp(sampledCol, 0.0, 1.0);\n  color.rgb /= max(color.a, EPSILON);\n  color = clamp(color, 0.0, 1.0); // necessary to get rid of all extended sRGB issues with OpenGL ES\n \n  // Apply intensity as "symmetric gamma"\n  if (intensity > 0.0) {\n    color.rgb = 1.0 - pow(1.0 - color.rgb, vec3(max(intensity + 1.0, EPSILON)));\n  } else {\n    color.rgb = pow(color.rgb, vec3(max(-intensity + 1.0, EPSILON)));\n  }\n \n  // Colorimetric (perceptual luminance-preserving) RGB to grayscale conversion\n  // https://en.wikipedia.org/wiki/Grayscale#Colorimetric_(perceptual_luminance-preserving)_conversion_to_grayscale\n  float luminance = dot(GRAYSCALE_WEIGHTS, color.rgb);\n \n  // Apply DuoTone\n  vec4 duotone = mix(dark, light, clamp(luminance, 0.0, 1.0));\n  duotone.a *= color.a;\n  \n  duotone.rgb *= duotone.a;\n\n  return duotone;\n}\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = duotoneKernel(texColor, u_lightColor, u_darkColor, u_intensity);\n}'})),Bu=z((function(){Es(),zu(),Eu(),(Ol=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=wl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options,l=s.lightColor,u=s.darkColor,c=s.intensity,f=0;f<i.width*i.height;f++){var d=4*f,h=a.data[d]/255,p=a.data[d+1]/255,m=a.data[d+2]/255,g=a.data[d+3]/255,y=new ut(h,p,m,g),v=this._duoToneKernel(y,l,u,c);a.data[d]=255*v.r,a.data[d+1]=255*v.g,a.data[d+2]=255*v.b,a.data[d+3]=255*v.a}o.putImageData(a,0,0)}},{key:"_duoToneKernel",value:function(e,t,n,i){if(e.clone().clamp(0,1),i>0){var r=Math.max(i+1,1e-7);e.r=1-Math.pow(1-e.r,r),e.g=1-Math.pow(1-e.g,r),e.b=1-Math.pow(1-e.b,r)}else{var o=Math.max(1-i,1e-7);e.r=Math.pow(e.r,o),e.g=Math.pow(e.g,o),e.b=Math.pow(e.b,o)}var a=.2126*e.r+.7152*e.g+.0722*e.b,s=Math.min(Math.max(a,0),1),l=n.clone().mix(t,s);return l.a*=e.a,l}}]),n}(ha.Filter)).prototype.availableOptions={lightColor:{type:"color",default:ut.RED,uniformType:"4f"},darkColor:{type:"color",default:ut.BLACK,uniformType:"4f"},intensity:{type:"number",default:.5,uniformType:"f"}},(Sl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Ol,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setLightColor(this._options.lightColor),this._filter.setDarkColor(this._options.darkColor);var e=2*this._options.intensity-1;this._filter.setIntensity(e)}}]),n}(al)).prototype.availableOptions=Ol.prototype.availableOptions,Cl=Sl})),Lu=z((function(){jl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_gamma;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 rgb = vec3(texColor.r, texColor.g, texColor.b);\n  rgb = pow(rgb, u_gamma);\n  gl_FragColor = vec4(rgb * texColor.a, texColor.a);;\n}\n"})),Nu=z((function(){Es(),Lu(),Eu(),(Tl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=jl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options.gamma,l=new Float32Array(256),u=0;u<256;u++)l[u]=255*Math.pow(u/255,s.r);for(var c=new Float32Array(256),f=0;f<256;f++)c[f]=255*Math.pow(f/255,s.g);for(var d=new Float32Array(256),h=0;h<256;h++)d[h]=255*Math.pow(h/255,s.b);for(var p=0;p<i.width*i.height;p++){var m=4*p;a.data[m]=l[a.data[m]],a.data[m+1]=c[a.data[m+1]],a.data[m+2]=d[a.data[m+2]]}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={gamma:{type:"color",default:ut.WHITE,uniformType:"3f"}},(El=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Tl,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setGamma(this._options.gamma)}}]),n}(al)).prototype.availableOptions=Tl.prototype.availableOptions,Dl=El})),Uu=z((function(){Il="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n\n  vec2 textureCoord = v_texCoord - vec2(0.5, 0.5);\n  textureCoord /= 0.75;\n\n  float d = 1.0 - dot(textureCoord, textureCoord);\n  d = clamp(d, 0.2, 1.0);\n  vec3 newColor = texColor.rgb * d * u_color.rgb;\n  gl_FragColor = vec4(vec3(newColor) * texColor.a, texColor.a);\n}\n"})),Gu=z((function(){Es(),Uu(),Eu(),(Rl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Il,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i,r=t.getCanvas(),o=t.getContext(),a=n.getContext(),s=o.getImageData(0,0,r.width,r.height),l=this._options.color,u=0;u<r.width;u++)for(var c=0;c<r.height;c++){var f=4*(r.width*c+u),d=u/r.width,h=c/r.height,p=(d-.5)/.75,m=(h-.5)/.75,g=p*p,y=m*m;i=1-(g+y),i=Math.min(Math.max(i,.1),1),s.data[f]*=i*l.r,s.data[f+1]=s.data[f+1]*(i*l.g),s.data[f+2]=s.data[f+2]*(i*l.b),s.data[f+3]=255}a.putImageData(s,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={color:{type:"color",default:ut.WHITE,uniformType:"3f"}},(Fl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Rl,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setColor(this._options.color)}}]),n}(al)).prototype.availableOptions=Rl.prototype.availableOptions,Al=Fl})),Hu=z((function(){Ml="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  texColor.b = texColor.g * 0.33;\n  texColor.r = texColor.r * 0.6;\n  texColor.b += texColor.r * 0.33;\n  texColor.g = texColor.g * 0.7;\n  gl_FragColor = texColor;\n}\n"})),Wu=z((function(){Es(),Hu(),Eu(),Pl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Ml,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=0;s<i.width;s++)for(var l=0;l<i.height;l++){var u=4*(i.width*l+s);a.data[u+2]=.33*a.data[u+1],a.data[u]*=.6,a.data[u+2]+=.33*a.data[u],a.data[u+1]=.7*a.data[u+1],a.data[u+3]=255}o.putImageData(a,0,0)}}]),n}(ha.Filter),zl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Pl,e}return n}(al)})),Vu=z((function(){Bl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, W);\n  gl_FragColor = vec4(vec3(luminance) * texColor.a, texColor.a);\n}\n"})),qu=z((function(){Es(),Vu(),Eu(),Ll=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Bl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=0;s<i.width;s++)for(var l=0;l<i.height;l++){var u=4*(i.width*l+s),c=.2125*a.data[u]+.7154*a.data[u+1]+.0721*a.data[u+2];a.data[u]=c,a.data[u+1]=c,a.data[u+2]=c}o.putImageData(a,0,0)}}]),n}(ha.Filter),Nl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Ll,e}return n}(al)})),Ku=z((function(){Ul="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float r = texture2D(u_lookupTable, vec2(texColor.r, 0.0)).r;\n  float g = texture2D(u_lookupTable, vec2(texColor.g, 0.0)).g;\n  float b = texture2D(u_lookupTable, vec2(texColor.b, 0.0)).b;\n\n  gl_FragColor = vec4(vec3(r, g, b) * texColor.a, texColor.a);\n}\n"})),Xu=z((function(){Es(),Ku(),Eu(),(Gl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=Ul,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options.lookupTableData,l=0;l<i.width*i.height;l++){var u=4*l,c=a.data[u];a.data[u]=s[4*c];var f=a.data[u+1];a.data[u+1]=s[1+4*f];var d=a.data[u+2];a.data[u+2]=s[2+4*d]}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={lookupTable:{type:"number",default:1,uniformType:"i"},lookupTableData:{type:"array",default:[]}},Hl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Gl({lookupTable:e._options.textureGLUnit}),e._textures={},e._renderers={},e}return Object(w.a)(n,[{key:"update",value:function(e){var t=e.getRenderer();t.isOfType("webgl")?this._updateWebGLTexture(e):t.isOfType("canvas")&&this._filter.setLookupTableData(this._options.data)}},{key:"_updateWebGLTexture",value:function(e){if("undefined"===typeof this._options.data)throw new Error("LookupTable: No data specified.");var t=new Uint8Array(this._options.data),n=e.getRenderer(),i=n.id;this._renderers[i]=n,this._textures[i]||(this._textures[i]=new ha.BaseTexture);var r=this._textures[i],o=new ha.PixelArrayImage(256,1,t);r.setSource(o),r.setGLUnit(this._options.textureGLUnit),n.isOfType("webgl")&&n.updateTexture(r)}},{key:"dispose",value:function(){for(var e in Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._textures)this._textures[e].dispose(),delete this._textures[e];delete this._options.data}}]),n}(al)})),Yu=z((function(){Wl="/**\n * Based off of GPUImage's LookupFilter:\n * https://github.com/BradLarson/GPUImage/blob/master/framework/Source/GPUImageLookupFilter.m\n */\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float blueColor = texColor.b * 63.0;\n\n  vec2 quad1;\n  quad1.y = floor(floor(blueColor) / 8.0);\n  quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n  vec2 quad2;\n  quad2.y = floor(ceil(blueColor) / 8.0);\n  quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n  vec2 texCoord1;\n  texCoord1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec2 texCoord2;\n  texCoord2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec4 newColor1 = texture2D(u_lookupTable, texCoord1);\n  vec4 newColor2 = texture2D(u_lookupTable, texCoord2);\n\n  vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n  gl_FragColor = mix(texColor, vec4(newColor.rgb, texColor.w), texColor.a);\n}\n"})),Qu=z((function(){Es(),Yu(),Eu(),Vl=la.Vector2,3,(ql=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._precomputeQuads(),e._fragmentSource=Wl,e}return Object(w.a)(n,[{key:"_precomputeQuads",value:function(){this._quads=[];for(var e=0;e<256;e++){var t=e/255*63,n=new Vl;n.y=.125*(0|t)|0,n.x=(0|t)-8*n.y,this._quads.push(n)}}},{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=this._options.lookupTableImage,s=this._createImageCanvas(a),l=s.getContext("2d"),u=r.getImageData(0,0,i.width,i.height),c=l.getImageData(0,0,a.width,a.height),f=new Vl,d=0;d<i.width*i.height*4;d+=4){var h=u.data[d],p=u.data[d+1],m=u.data[d+2],g=u.data[d+3]/255,y=this._quads[m],v=64;f.x=y.x*v,f.y=y.y*v,f.x+=Math.floor(h/4),f.y+=Math.floor(p/4);var b=4*(a.width*f.y+f.x)|0,_=c.data[b];_=h*(1-g)+_*g;var x=c.data[b+1];x=p*(1-g)+x*g;var k=c.data[b+2];k=m*(1-g)+k*g,u.data[d]=_,u.data[d+1]=x,u.data[d+2]=k}o.putImageData(u,0,0)}},{key:"_createImageCanvas",value:function(e){var t=ke.createCanvas();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}}]),n}(ha.Filter)).prototype.availableOptions={lookupTable:{type:"number",default:3,uniformType:"i"},lookupTableImage:{type:"image",uniformType:null}},(Kl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new ql,e._textures={},e}return Object(w.a)(n,[{key:"update",value:function(e){var t=e.getRenderer();t.isOfType("webgl")?this._updateWebGLTexture(e):t.isOfType("canvas")&&this._filter.setLookupTableImage(this._options.image)}},{key:"_updateWebGLTexture",value:function(e){var t=e.getRenderer(),n=t.id;this._textures[n]||(this._textures[n]=new ha.BaseTexture);var i=this._textures[n];i.setSource(this._options.image),i.setGLUnit(3),t.updateTexture(i)}},{key:"dispose",value:function(){for(var e in Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._textures)delete this._textures[e]}}]),n}(al)).prototype.availableOptions={image:{type:"image"}},Xl=Kl})),Zu=z((function(){Yl="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_saturation;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, luminanceWeighting);\n\n  vec3 greyScaleColor = vec3(luminance);\n\n  gl_FragColor = vec4(mix(greyScaleColor, texColor.rgb, u_saturation) * texColor.a, texColor.a);\n}\n"})),Ju=z((function(){Es(),Zu(),Eu(),(Ql=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Yl,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=this._options.saturation,l=0;l<i.width;l++)for(var u=0;u<i.height;u++){var c=4*(i.width*u+l),f=.2125*a.data[c]+.7154*a.data[c+1]+.0721*a.data[c+2];a.data[c]=f*(1-s)+a.data[c]*s,a.data[c+1]=f*(1-s)+a.data[c+1]*s,a.data[c+2]=f*(1-s)+a.data[c+2]*s}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={saturation:{type:"number",default:0,uniformType:"f"}},(Zl=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new Ql,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setSaturation(this._options.saturation)}}]),n}(al)).prototype.availableOptions=Ql.prototype.availableOptions,Jl=Zl})),$u=z((function(){$l="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec4 overlayVec4 = vec4(u_color, texColor.a);\n  gl_FragColor = max(overlayVec4 * texColor.a, texColor);\n}\n"})),ec=z((function(){Es(),$u(),Eu(),(eu=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=$l,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=0;s<i.width;s++)for(var l=0;l<i.height;l++){var u=4*(i.width*l+s);a.data[u]=Math.max(255*this._options.color.r,a.data[u]),a.data[u+1]=Math.max(255*this._options.color.g,a.data[u+1]),a.data[u+2]=Math.max(255*this._options.color.b,a.data[u+2])}o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={color:{type:"color",default:ut.WHITE,uniformType:"3f"}},(tu=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new eu,e}return Object(w.a)(n,[{key:"update",value:function(){this._filter.setColor(this._options.color)}}]),n}(al)).prototype.availableOptions=eu.prototype.availableOptions,nu=tu})),tc=z((function(){Es(),Xu(),(iu=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._options.rgbControlPoints||(e._options.rgbControlPoints={red:e._options.controlPoints,green:e._options.controlPoints,blue:e._options.controlPoints}),e._updateLookupTable(),e}return Object(w.a)(n,[{key:"_updateLookupTable",value:function(){var e=this._calculateSplineCurve(this._options.rgbControlPoints.red),t=this._calculateSplineCurve(this._options.rgbControlPoints.green),n=this._calculateSplineCurve(this._options.rgbControlPoints.blue);this._options.data=this._buildLookupTable(e,t,n)}},{key:"_buildLookupTable",value:function(e,t,n){for(var i=[],r=0;r<256;r++)i.push(Math.min(Math.max(r+e[r],0),255)),i.push(Math.min(Math.max(r+t[r],0),255)),i.push(Math.min(Math.max(r+n[r],0),255)),i.push(255);return i}},{key:"_calculateSplineCurve",value:function(e){e=e.sort((function(e,t){return e[0]>t[0]}));var t,n=this._getSplineCurve(e),i=n[0];if(i[0]>0)for(t=0;t<i[0];t++)n.unshift([0,0]);var r=[];for(t=0;t<n.length;t++){var o=n[t],a=[o[0],o[0]],s=Math.sqrt(Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2));a[1]>o[1]&&(s=-s),r.push(s)}return r}},{key:"_getSplineCurve",value:function(e){var t,n=this._secondDerivative(e),i=n.length,r=[];for(t=0;t<i;t++)r[t]=n[t];var o=[];for(t=0;t<i-1;t++)for(var a=e[t],s=e[t+1],l=a[0];l<s[0];l++){var u=(l-a[0])/(s[0]-a[0]),c=1-u,f=u,d=s[0]-a[0],h=c*a[1]+f*s[1]+d*d/6*((c*c*c-c)*r[t]+(f*f*f-f)*r[t+1]);h>255?h=255:h<0&&(h=0),o.push([l,h])}return 255===o.length&&o.push(e[e.length-1]),o}},{key:"_secondDerivative",value:function(e){var t=e.length;if(t<=0||1===t)return null;var n,i,r=[],o=[];for(r[0]=[0,1,0],n=1;n<t-1;n++){var a=e[n-1],s=e[n],l=e[n+1];r[n]=r[n]||[],r[n][0]=(s[0]-a[0])/6,r[n][1]=(l[0]-a[0])/3,r[n][2]=(l[0]-s[0])/6,o[n]=(l[1]-s[1])/(l[0]-s[0])-(s[1]-a[1])/(s[0]-a[0])}for(o[0]=0,o[t-1]=0,r[t-1]=[0,1,0],n=1;n<t;n++)i=r[1][0]/r[n-1][1],r[n][1]-=i*r[n-1][2],r[n][0]=0,o[n]-=i*o[n-1];for(n=t-2;n>0;n--)i=r[n][2]/r[n+1][1],r[n][1]-=i*r[n+1][0],r[n][2]=0,o[n]-=i*o[n+1];var u=[];for(n=0;n<t;n++)u[n]=o[n]/r[n][1];return u}}]),n}(Hl)).prototype.availableOptions={rgbControlPoints:{type:"object"},controlPoints:{type:"array",default:[]},textureGLUnit:{type:"number",default:1}},ru=iu})),nc=z((function(){ou="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float gray = texColor.r * 0.3 + texColor.g * 0.3 + texColor.b * 0.3;\n  gray -= 0.2;\n  gray = clamp(gray, 0.0, 1.0);\n  gray += 0.15;\n  gray *= 1.4;\n  gl_FragColor = vec4(vec3(gray) * texColor.a, texColor.a);\n}\n"})),ic=z((function(){Es(),nc(),Eu(),au=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=ou,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i=t.getCanvas(),r=t.getContext(),o=n.getContext(),a=r.getImageData(0,0,i.width,i.height),s=0;s<i.width;s++)for(var l=0;l<i.height;l++){var u=4*(i.width*l+s),c=a.data[u]/255*.3+a.data[u+1]/255*.3+a.data[u+2]/255*.3;c-=.2,c=Math.max(0,Math.min(1,c)),c+=.15,c*=1.4,c*=255,a.data[u]=c,a.data[u+1]=c,a.data[u+2]=c}o.putImageData(a,0,0)}}]),n}(ha.Filter),su=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new au,e}return n}(al)})),rc=z((function(){lu="precision highp float;\n\nuniform sampler2D u_image;\n\nuniform sampler2D u_lookupTable;\n\nuniform float u_resolution;     // Texture-Resolution, must be power of 2: 64, 128, 256, 512, 1024, 2048, 4096\nuniform float u_horizontalTileCount; // Horizontal Blue Tiles\nuniform float u_verticalTileCount; // Vertical Blue Tiles\n\nvarying vec2 v_texCoord;\n\nconst float EPSILON = 0.000001;\n\n// Try to get the exact pixel of the lut map image\nvec3 lutColor(int texPosX, int texPosY) {\n    return texture2D(u_lookupTable, (0.5 / u_resolution) + vec2(float(texPosX), float(texPosY)) / u_resolution).rgb;\n}\n\nvec3 bilinearInterpolate(vec3 cRfGf, vec3 cRfGc, vec3 cRcGf, vec3 cRcGc, float redFract, float greenFract) {\n    return mix(mix(cRfGf, cRcGf, redFract), mix(cRfGc, cRcGc, redFract), greenFract);\n}\n\nvoid main() {\n    vec4 inputColor = clamp(texture2D(u_image, v_texCoord.xy), 0.0, 1.0);\n\n    vec3 sourceColor = vec3(inputColor.rgb / max(inputColor.a, EPSILON)); \n\n    vec3 ranges = vec3(\n        floor(u_resolution / u_horizontalTileCount - 1.0),\n        floor(u_resolution / u_verticalTileCount - 1.0),\n        floor(u_horizontalTileCount * u_horizontalTileCount - 1.0)\n    );\n    \n    vec3 tmp = sourceColor * ranges;\n    ivec3 floors = ivec3(tmp);\n    ivec3 ceils = ivec3(ceil(tmp));\n    vec3 fracts = fract(tmp);\n\n    // Map tile index to tile pixel pos.\n    ivec2 pixelsPerTile = ivec2(\n        u_resolution / u_horizontalTileCount, \n        u_resolution / u_verticalTileCount\n      );\n\n    ivec2 tileFloor; // Blue tile index\n    tileFloor.y = floors.z / int(u_horizontalTileCount);\n    tileFloor.x = (floors.z - (tileFloor.y * int(u_horizontalTileCount)));\n\n    ivec2 tileCeil; // Blue tile index\n    tileCeil.y = ceils.z / int(u_horizontalTileCount);\n    tileCeil.x = (ceils.z - (tileCeil.y * int(u_horizontalTileCount)));\n    \n    tileFloor *= pixelsPerTile;\n    tileCeil *= pixelsPerTile; \n    \n    \n    // Interpolate between red and green\n    vec3 lutColorFB = bilinearInterpolate(\n        lutColor(tileFloor.x + floors.x, tileFloor.y + floors.y),\n        lutColor(tileFloor.x + floors.x, tileFloor.y + ceils.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + floors.y),\n        lutColor(tileFloor.x + ceils.x,  tileFloor.y + ceils.y),\n        fracts.x, fracts.y\n    );\n    vec3 lutColorCB = bilinearInterpolate(\n        lutColor(tileCeil.x + floors.x, tileCeil.y + floors.y),\n        lutColor(tileCeil.x + floors.x, tileCeil.y + ceils.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + floors.y),\n        lutColor(tileCeil.x + ceils.x,  tileCeil.y + ceils.y),\n        fracts.x, fracts.y\n    );\n\n    // Interpolate between the blue values\n    vec3 interpolation = mix(lutColorFB, lutColorCB, fracts.z);\n\n    // Round Color Values to prevent that for ex. 254.999999 is cutting to 254 instead of 255;\n    interpolation = clamp(floor(interpolation * 255. + .5) / 255., 0.0, 1.0);\n\n    gl_FragColor = vec4(interpolation.rgb * inputColor.a, inputColor.a);\n}\n"})),oc=z((function(){Es(),rc(),Eu(),uu=la.Vector2,cu=la.Vector3,3,(fu=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._precomputeQuads(),e._fragmentSource=lu,e}return Object(w.a)(n,[{key:"_precomputeQuads",value:function(){this._quads=[];for(var e=0;e<256;e++){var t=e/255*63,n=new uu;n.y=.125*(0|t)|0,n.x=(0|t)-8*n.y,this._quads.push(n)}}},{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=this._options,r=i.resolution,o=i.horizontalTileCount,a=i.verticalTileCount,s=t.getCanvas(),l=t.getContext(),u=n.getContext(),c=this._options.lookupTableImage,f=this._createImageCanvas(c),d=f.getContext("2d"),h={width:128,height:128};r?h={width:r,height:r}:c.width&&c.height&&(h={width:c.width,height:c.height});for(var p=l.getImageData(0,0,s.width,s.height),m=d.getImageData(0,0,h.width,h.height),g=new cu(h.width/o-1|0,h.height/a-1|0,o*a-1|0),y=new ut,v=new ut,b=new ut,_=new ut,x=new ut,k=new ut,w=new ut,O=new ut,S=new uu,C=new uu,j=function(e,t,n,i){e.r=t.r*(1-i)+n.r*i,e.g=t.g*(1-i)+n.g*i,e.b=t.b*(1-i)+n.b*i},T=function(e,t,n){t=.5+t|0;var i=4*((n=.5+n|0)*h.width+t);e.r=m.data[i]/255,e.g=m.data[i+1]/255,e.b=m.data[i+2]/255,e.a=m.data[i+3]/255},E=new ut,D=new ut,I=function(e,t,n,i,r,o,a){j(E,t,i,o),j(D,n,r,o),j(e,E,D,a)},R=new uu(h.width,h.height).divide(o,a).floor(),F=0;F<s.width*s.height*4;F+=4){y.set(p.data[F]/255,p.data[F+1]/255,p.data[F+2]/255,p.data[F+3]/255);var A=new cu(y.r*g.x,y.g*g.y,y.b*g.z),M=A.clone().floor().toInt(),P=A.clone().ceil().toInt(),z=A.clone().fract();S.y=M.z/o|0,S.x=M.z-S.y*o|0,C.y=P.z/o|0,C.x=P.z-C.y*o|0,S.multiply(R),C.multiply(R),T(x,S.x+M.x,S.y+M.y),T(k,S.x+M.x,S.y+P.y),T(w,S.x+P.x,S.y+M.y),T(O,S.x+P.x,S.y+P.y),I(b,x,k,w,O,z.x,z.y),T(x,C.x+M.x,C.y+M.y),T(k,C.x+M.x,C.y+P.y),T(w,C.x+P.x,C.y+M.y),T(O,C.x+P.x,C.y+P.y),I(_,x,k,w,O,z.x,z.y),j(v,b,_,z.z),p.data[F]=Math.ceil(255*v.r),p.data[F+1]=Math.ceil(255*v.g),p.data[F+2]=Math.ceil(255*v.b)}u.putImageData(p,0,0)}},{key:"_createImageCanvas",value:function(e){var t=ke.createCanvas();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}}]),n}(ha.Filter)).prototype.availableOptions={lookupTable:{type:"number",default:3,uniformType:"i"},lookupTableImage:{type:"image",uniformType:null},resolution:{type:"number",uniformType:"f"},horizontalTileCount:{type:"number",default:5,uniformType:"f"},verticalTileCount:{type:"number",default:5,uniformType:"f"}},(du=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._filter=new fu,e._textures={},e}return Object(w.a)(n,[{key:"update",value:function(e){var t=e.getRenderer();t.isOfType("webgl")?this._updateWebGLTexture(e):t.isOfType("canvas")&&this._filter.setLookupTableImage(this._options.image);var n=this._options,i=n.resolution,r=n.verticalTileCount,o=n.horizontalTileCount,a=n.image;this._filter.set({resolution:i||a.width,verticalTileCount:r,horizontalTileCount:o})}},{key:"_updateWebGLTexture",value:function(e){var t=e.getRenderer(),n=t.id;this._textures[n]||(this._textures[n]=new ha.BaseTexture);var i=this._textures[n];i.setSource(this._options.image),i.setGLUnit(3),i.setMinFilter(ha.BaseTexture.NearestFilter),t.updateTexture(i)}},{key:"dispose",value:function(){for(var e in Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._textures)delete this._textures[e]}}]),n}(al)).prototype.availableOptions={image:{type:"image"},resolution:{type:"number"},horizontalTileCount:{type:"number",default:5},verticalTileCount:{type:"number",default:5}},hu=du})),ac={};L(ac,{Brightness:function(){return ul},ColorMatrixPrimitive:function(){return vl},Contrast:function(){return hl},Desaturation:function(){return kl},DuoTone:function(){return Cl},Gamma:function(){return Dl},Glow:function(){return Al},Gobblin:function(){return zl},Grayscale:function(){return Nl},LookupTable:function(){return Hl},LookupTableImage:function(){return Xl},Saturation:function(){return Jl},SoftColorOverlay:function(){return nu},ThreeDLookupTableImage:function(){return hu},ToneCurve:function(){return ru},X400:function(){return su}});var sc,lc,uc,cc,fc,dc,hc,pc,mc,gc,yc,vc,bc,_c,xc,kc,wc,Oc,Sc,Cc,jc,Tc,Ec,Dc,Ic,Rc,Fc,Ac,Mc,Pc,zc,Bc,Lc,Nc,Uc,Gc,Hc,Wc,Vc,qc,Kc,Xc,Yc,Qc,Zc,Jc,$c,ef,tf,nf,rf,of,af,sf,lf,uf,cf,ff,df,hf,pf,mf,gf,yf,vf,bf,_f,xf=z((function(){Du(),Ru(),Au(),Pu(),Bu(),Nu(),Gu(),Wu(),qu(),Xu(),Qu(),Ju(),ec(),tc(),ic(),oc()})),kf=z((function(){ju(),xf(),(sc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ul({brightness:0})),e}return Object(w.a)(n,[{key:"render",value:function(e,t,i){return this._stack.isEmpty()&&this._stack.push(new ul({brightness:0})),Object(m.a)(Object(p.a)(n.prototype),"render",this).call(this,e,t,i)}}]),n}(rl)).isIdentity=!0,sc.identifier="identity",lc=sc})),wf=z((function(){ju(),xf(),(uc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new hl({contrast:.63})),e._stack.push(new ul({brightness:.12})),e._stack.push(new ru({rgbControlPoints:{red:[[0,38],[94,94],[148,142],[175,187],[255,255]],green:[[0,0],[77,53],[171,190],[255,255]],blue:[[0,10],[48,85],[174,228],[255,255]]}})),e}return n}(rl)).identifier="a15",cc=uc})),Of=z((function(){ju(),xf(),(fc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new kl({desaturation:.5})),e._stack.push(new ru({rgbControlPoints:{red:[[0,0],[170,170],[212,219],[234,242],[255,255]],green:[[0,0],[170,168],[234,231],[255,255]],blue:[[0,0],[170,170],[212,208],[255,255]]}})),e}return n}(rl)).identifier="breeze",dc=fc})),Sf=z((function(){ju(),xf(),(hc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new Nl),e}return n}(rl)).identifier="bw",pc=hc})),Cf=z((function(){ju(),xf(),(mc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new Nl),e._stack.push(new hl({contrast:1.5})),e}return n}(rl)).identifier="bwhard",gc=mc})),jf=z((function(){ju(),xf(),(yc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,69],[55,110],[202,230],[255,255]],green:[[0,44],[89,93],[185,141],[255,189]],blue:[[0,76],[39,82],[218,138],[255,171]]}})),e}return n}(rl)).identifier="celsius",vc=yc})),Tf=z((function(){ju(),xf(),(bc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[44,44],[124,143],[221,204],[255,255]],green:[[0,0],[130,127],[213,199],[255,255]],blue:[[0,0],[51,52],[219,204],[255,255]]}})),e}return n}(rl)).identifier="chest",_c=bc})),Ef=z((function(){Es(),ju(),xf(),(xc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r,[{intensity:{type:"number",default:.5,required:!0,setter:function(e){return this._filterPrimitive&&(this._filterPrimitive.setIntensity(e),this._stack.setIntensity(1)),this._dirty=!0,e}}}])))._filterPrimitive=new Cl({lightColor:e._options.lightColor||ut.WHITE,darkColor:e._options.darkColor||ut.BLACK,intensity:e._options.intensity||.5}),e._stack.push(e._filterPrimitive),e}return n}(rl)).prototype.availableOptions={lightColor:{type:"color",default:ut.WHITE,required:!0,setter:function(e){return this._filterPrimitive&&this._filterPrimitive.setLightColor(e),this.setDirty&&this.setDirty(!0),e}},darkColor:{type:"color",default:ut.BLACK,required:!0,setter:function(e){return this._filterPrimitive&&this._filterPrimitive.setDarkColor(e),this.setDirty&&this.setDirty(!0),e}},intensity:{type:"number",default:.5,required:!0}},xc.identifier="duotone",kc=xc})),Df=z((function(){ju(),xf(),(wc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[44,28],[63,48],[128,132],[235,248],[255,255]],green:[[0,0],[20,10],[60,45],[190,209],[211,231],[255,255]],blue:[[0,31],[41,62],[150,142],[234,212],[255,224]]}})),e}return n}(rl)).identifier="fixie",Oc=wc})),If=z((function(){ju(),xf(),(Sc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new Jl({saturation:1.35})),e._stack.push(new hl({contrast:1.1})),e}return n}(rl)).identifier="food",Cc=Sc})),Rf=z((function(){ju(),xf(),(jc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,9],[21,11],[45,24],[255,220]],green:[[0,12],[21,21],[42,42],[150,150],[170,173],[255,210]],blue:[[0,28],[43,72],[128,185],[255,220]]}})),e}return n}(rl)).identifier="fridge",Tc=jc})),Ff=z((function(){ju(),xf(),(Ec=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,65],[28,67],[67,113],[125,183],[187,217],[255,229]],green:[[0,52],[42,59],[104,134],[169,209],[255,240]],blue:[[0,52],[65,68],[93,104],[150,153],[255,198]]}})),e}return n}(rl)).identifier="front",Dc=Ec})),Af=z((function(){ju(),xf(),(Ic=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new hl({contrast:1.1})),e._stack.push(new ru({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[127,127],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}})),e}return n}(rl)).identifier="glam",Rc=Ic})),Mf=z((function(){ju(),xf(),(Fc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new zl),e}return n}(rl)).identifier="gobblin",Ac=Fc})),Pf=z((function(){ju(),xf(),(Mc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({controlPoints:[[0,0],[53,32],[91,80],[176,205],[255,255]]})),e._stack.push(new Jl({saturation:.9})),e}return n}(rl)).identifier="k1",Pc=Mc})),zf=z((function(){Es(),ju(),xf(),(zc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({controlPoints:[[0,0],[54,33],[77,82],[94,103],[122,126],[177,193],[229,232],[255,255]]})),e._stack.push(new nu({color:new ut(40/255,40/255,40/255)})),e}return n}(rl)).identifier="k2",Bc=zc})),Bf=z((function(){ju(),xf(),(Lc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new Jl({saturation:.5})),e}return n}(rl)).identifier="k6",Nc=Lc})),Lf=z((function(){ju(),xf(),(Uc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({controlPoints:[[0,0],[17,27],[46,69],[90,112],[156,200],[203,243],[255,255]]})),e._stack.push(new Jl({saturation:.7})),e}return n}(rl)).identifier="kdynamic",Gc=Uc})),Nf=z((function(){ju(),xf(),(Hc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new kl({desaturation:.4})),e._stack.push(new ru({rgbControlPoints:{red:[[0,20],[40,20],[106,111],[129,153],[190,223],[255,255]],green:[[0,20],[40,20],[62,41],[106,108],[132,159],[203,237],[255,255]],blue:[[0,40],[40,40],[73,60],[133,160],[191,297],[203,237],[237,239],[255,255]]}})),e}return n}(rl)).identifier="lenin",Wc=Hc})),Uf=z((function(){ju(),xf(),(Vc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({controlPoints:[[0,0],[87,20],[131,156],[183,205],[255,200]]})),e}return n}(rl)).identifier="lomo",qc=Vc})),Gf=z((function(){ju(),xf(),(Kc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[41,84],[87,134],[255,255]],green:[[0,0],[255,216]],blue:[[0,0],[255,131]]}})),e}return n}(rl)).identifier="mellow",Xc=Kc})),Hf=z((function(){Es(),ju(),xf(),Yc=la.ColorMatrix,(Qc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];e=t.call.apply(t,[this].concat(r));var a=new Yc(.8158218291630716,0,0,0,-.01779810181190647,0,.8098360655737704,0,0,.0916393442622953,0,0,.4596336773932402,0,.12760574782432707,0,0,0,1,0);e._stack.push(new vl({colorMatrix:a}));var s=new ut(.8,.6,.9);return e._stack.push(new Dl({gamma:s})),e}return n}(rl)).identifier="metal",Zc=Qc})),Wf=z((function(){ju(),xf(),(Jc=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,40],[255,230]],green:[[0,10],[255,225]],blue:[[0,20],[255,181]]}})),e._stack.push(new Al),e}return n}(rl)).identifier="morning",$c=Jc})),Vf=z((function(){ju(),xf(),(ef=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[115,130],[195,215],[255,255]],green:[[0,0],[148,153],[172,215],[255,255]],blue:[[0,46],[58,75],[178,205],[255,255]]},textureGLUnit:2})),e._stack.push(new ru({controlPoints:[[0,0],[117,151],[189,217],[255,255]],textureGLUnit:3})),e._stack.push(new kl({desaturation:.65})),e}return n}(rl)).identifier="orchid",tf=ef})),qf=z((function(){ju(),xf(),(nf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[34,34],[99,76],[176,190],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}})),e._stack.push(new Jl({saturation:.8})),e._stack.push(new hl({contrast:1.5})),e}return n}(rl)).identifier="pola",rf=nf})),Kf=z((function(){ju(),xf(),(of=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[56,18],[196,209],[255,255]],green:[[0,38],[71,84],[255,255]],blue:[[0,0],[131,133],[204,211],[255,255]]}})),e._stack.push(new Jl({saturation:.8})),e._stack.push(new hl({contrast:1.5})),e}return n}(rl)).identifier="pola669",af=of})),Xf=z((function(){ju(),xf(),(sf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new kl({desaturation:.65})),e._stack.push(new ru({rgbControlPoints:{red:[[0,50],[40,78],[118,170],[181,211],[255,255]],green:[[0,27],[28,45],[109,157],[157,195],[179,208],[206,212],[255,240]],blue:[[0,50],[12,55],[46,103],[103,162],[194,182],[241,201],[255,219]]}})),e}return n}(rl)).identifier="quozi",lf=sf})),Yf=z((function(){ju(),xf(),(uf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,129],[75,153],[181,227],[255,255]],green:[[0,8],[111,85],[212,158],[255,226]],blue:[[0,5],[75,22],[193,90],[255,229]]}})),e._stack.push(new Al),e}return n}(rl)).identifier="semired",cf=uf})),Qf=z((function(){ju(),xf(),(ff=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,0],[62,82],[141,154],[255,255]],green:[[0,39],[56,96],[192,176],[255,255]],blue:[[0,0],[174,99],[255,235]]},textureGLUnit:2})),e._stack.push(new ru({controlPoints:[[0,0],[55,20],[158,191],[255,255]],textureGLUnit:3})),e}return n}(rl)).identifier="sunny",df=ff})),Zf=z((function(){ju(),xf(),(hf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new ru({rgbControlPoints:{red:[[0,72],[89,99],[176,212],[255,237]],green:[[0,49],[255,192]],blue:[[0,72],[255,151]]}})),e}return n}(rl)).identifier="texas",pf=hf})),Jf=z((function(){ju(),xf(),(mf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._stack.push(new su),e}return n}(rl)).identifier="x400",gf=mf})),$f=z((function(){Es(),ju(),xf(),(yf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._lutPrimitive=new Xl({image:e._options.image}),e._stack.push(e._lutPrimitive),e}return n}(rl)).prototype.availableOptions={image:{type:"image",required:!0,setter:function(e){return this._lutPrimitive&&this._lutPrimitive.setImage(e),this.setDirty(!0),e}}},yf.identifier="lut",vf=yf})),ed=z((function(){Es(),ju(),xf(),(bf=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=(e=t.call.apply(t,[this].concat(r)))._options,s=a.image,l=a.resolution,u=a.verticalTileCount,c=a.horizontalTileCount;return e._lutPrimitive=new hu({image:s,resolution:l,verticalTileCount:u,horizontalTileCount:c}),e._stack.push(e._lutPrimitive),e}return n}(rl)).prototype.availableOptions={image:{type:"image",required:!0,setter:function(e){return this._lutPrimitive&&this._lutPrimitive.setImage(e),this.setDirty(!0),e}},resolution:{type:"number"},horizontalTileCount:{type:"number",default:5},verticalTileCount:{type:"number",default:5}},bf.identifier="3d-lut",_f=bf})),td={};L(td,{A15Filter:function(){return cc},BWFilter:function(){return pc},BWHardFilter:function(){return gc},BreezeFilter:function(){return dc},CelsiusFilter:function(){return vc},ChestFilter:function(){return _c},DuoToneFilter:function(){return kc},FixieFilter:function(){return Oc},FoodFilter:function(){return Cc},FridgeFilter:function(){return Tc},FrontFilter:function(){return Dc},GlamFilter:function(){return Rc},GobblinFilter:function(){return Ac},IdentityFilter:function(){return lc},K1Filter:function(){return Pc},K2Filter:function(){return Bc},K6Filter:function(){return Nc},KDynamicFilter:function(){return Gc},LUTFilter:function(){return vf},LeninFilter:function(){return Wc},LomoFilter:function(){return qc},MellowFilter:function(){return Xc},MetalFilter:function(){return Zc},MorningFilter:function(){return $c},OrchidFilter:function(){return tf},Pola669Filter:function(){return af},PolaFilter:function(){return rf},QuoziFilter:function(){return lf},SemiredFilter:function(){return cf},SunnyFilter:function(){return df},TexasFilter:function(){return pf},ThreeDLUTFilter:function(){return _f},X400Filter:function(){return gf}});var nd,id,rd,od,ad,sd,ld,ud,cd,fd,dd,hd,pd,md,gd,yd,vd,bd,_d,xd,kd,wd,Od,Sd,Cd,jd,Td,Ed,Dd,Id,Rd,Fd,Ad,Md,Pd,zd,Bd,Ld,Nd,Ud,Gd,Hd,Wd,Vd,qd,Kd,Xd,Yd,Qd,Zd,Jd,$d,eh,th,nh,ih,rh,oh,ah,sh,lh,uh,ch,fh,dh,hh,ph,mh,gh,yh,vh,bh,_h,xh,kh,wh,Oh,Sh,Ch,jh,Th,Eh,Dh,Ih,Rh,Fh,Ah,Mh,Ph,zh,Bh,Lh,Nh,Uh,Gh,Hh,Wh,Vh,qh,Kh,Xh,Yh,Qh,Zh,Jh,$h,ep,tp,np,ip,rp,op,ap,sp,lp,up,cp,fp,dp,hp,pp,mp,gp,yp,vp,bp,_p,xp,kp,wp,Op,Sp,Cp,jp,Tp,Ep,Dp,Ip,Rp,Fp,Ap,Mp,Pp,zp,Bp,Lp,Np,Up,Gp,Hp,Wp,Vp,qp,Kp,Xp,Yp,Qp,Zp,Jp,$p,em,tm,nm,im,rm,om,am,sm,lm,um,cm,fm,dm,hm,pm,mm,gm,ym,vm,bm,_m,xm,km=z((function(){kf(),wf(),Of(),Sf(),Cf(),jf(),Tf(),Ef(),Df(),If(),Rf(),Ff(),Af(),Mf(),Pf(),zf(),Bf(),Lf(),Nf(),Uf(),Gf(),Hf(),Wf(),Vf(),qf(),Kf(),Xf(),Yf(),Qf(),Zf(),Jf(),$f(),ed()})),wm=z((function(){Es(),km(),ju(),kf(),xf(),(nd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_render",value:function(e){return this._selectedFilter.render(this._sdk,e,this._renderTexture)}},{key:"render",value:function(e){return this._selectedFilter.getDirty()&&this.setDirty(!0),this.getEnabled()?Object(m.a)(Object(p.a)(n.prototype),"render",this).call(this,e):(this.setDirtyForRenderer(!1,this._sdk.getRenderer()),Promise.resolve(e))}},{key:"setDirtyForRenderer",value:function(e,t){Object(m.a)(Object(p.a)(n.prototype),"setDirtyForRenderer",this).call(this,e,t),this._selectedFilter.setDirtyForRenderer(e,t)}},{key:"disposeRenderTextures",value:function(){Object(m.a)(Object(p.a)(n.prototype),"disposeRenderTextures",this).call(this),this._selectedFilter&&this._selectedFilter.disposeRenderTextures()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._selectedFilter&&this._selectedFilter.dispose()}},{key:"restoreSnapshot",value:function(e){var t=Object(T.a)({},e);if(delete t.filter,e.filter){var n=e.filter.constructor;"3d-lut"===n.identifier?this.setFilter(new n({image:e.filter.getImage(),resolution:e.filter.getResolution(),horizontalTileCount:e.filter.getHorizontalTileCount(),verticalTileCount:e.filter.getVerticalTileCount()})):"duotone"===n.identifier?this.setFilter(new n({lightColor:e.filter.getLightColor(),darkColor:e.filter.getDarkColor(),intensity:e.filter.getIntensity()})):this.setFilter(new n)}this.set(t)}},{key:"resetToDefaultFilterIntensity",value:function(){var e=this._selectedFilter&&this._selectedFilter.availableOptions,t=e&&e.intensity.default;this.setIntensity(t||1)}}]),n}(Ma)).identifier="filter",nd.prototype.availableOptions={identifier:{type:"string",default:"identity"},intensity:{type:"number",default:1,setter:function(e){return this._selectedFilter&&this._selectedFilter.setIntensity(e),e}},filter:{type:"object",default:new lc,setter:function(e){return this._selectedFilter&&(this._selectedFilter.dispose(),this._selectedFilter=null),this._selectedFilter=e,"undefined"!==typeof this._options.intensity&&this._selectedFilter.set({intensity:this._options.intensity}),e}}},nd.FilterPrimitives=ac,nd.Filters=td,nd.Filter=rl,vs.Operations.FilterOperation=nd,id=nd})),Om=z((function(){Es(),la.Vector2,(rd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._flipContainer=new ha.Container,e}return Object(w.a)(n,[{key:"_render",value:function(e){var t=this._options,n=(t.outputResolution,t.flipHorizontally),i=t.flipVertically;if(n||i){var r=e.getDimensions();this._flipRenderTexture?this._flipRenderTexture.resizeTo(r):(this._flipRenderTexture=new ha.RenderTexture(this._sdk.getRenderer(),r.x,r.y),this._flipSprite=new ha.Sprite(this._flipRenderTexture),this._flipContainer.addChild(this._flipSprite));var o=n?-1:1,a=i?-1:1;this._flipSprite.setScale(o,a),this._flipSprite.setPivot(0,0),this._flipSprite.setPosition(r.x*(1-o)*.5,r.y*(1-a)*.5),this._flipRenderTexture.clear(),this._flipRenderTexture.render(this._container),this._renderTexture.render(this._flipContainer)}else this._renderTexture.render(this._container);return Promise.resolve()}}]),n}(Ma)).identifier="flip",rd.prototype.availableOptions={flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1}},vs.Operations.FlipOperation=rd,od=rd})),Sm=z((function(){Es(),ad=la.Vector2,(sd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._colorOverlayFilter=new ha.Filters.ColorOverlayFilter({color:e.getTintColor()}),e._frameContainer=new ha.Container,e._resetSprites(),e._options.frame&&e._createSpritesForFrame(e._options.frame),e}return Object(w.a)(n,[{key:"_resetSprites",value:function(){this._spriteGroups={top:{},left:{},right:{},bottom:{}},this._sprites=[],this._repeatSprites={top:[],left:[],right:[],bottom:[]}}},{key:"_createSpritesForFrame",value:function(e){var t=this;if(!e)return this._disposeSprites();var n=e.imageGroups,i=e.layoutMode;this._layoutMode=i||"horizontal-inside",this._disposeSprites(),["top","left","right","bottom"].forEach((function(e){"undefined"!==typeof n[e]&&["start","mid","end"].forEach((function(i){if("undefined"!==typeof n[e][i]){var r=n[e][i];"image"in r&&(r=r.image);var o=ha.Texture.fromImage(r),a=new ha.Sprite(o);t._spriteGroups[e][i]=a,t._sprites.push(a),t._frameContainer.addChild(a)}}))}))}},{key:"_render",value:function(e){var t=this._renderTexture.getDimensions();return this._options.frame&&(this._colorOverlayFilter.setColor(this.getTintColor()),this._updateSprites(e)),this._frameRenderTexture?this._frameRenderTexture.resizeTo(t):(this._frameRenderTexture=new ha.RenderTexture(this._sdk.getRenderer(),t.x,t.y),this._frameSprite=new ha.Sprite(this._frameRenderTexture),this._container.addChild(this._frameSprite)),this._frameSprite.setAlpha(this._options.alpha),this._options.frame&&this._options.frame.tintable?this._frameSprite.setFilters([this._colorOverlayFilter]):this._frameSprite.setFilters([]),this._frameRenderTexture.clear(),this._frameRenderTexture.render(this._frameContainer),this._renderTexture.render(this._container),Promise.resolve()}},{key:"_updateSprites",value:function(e){var t=e.getDimensions();this._frameWidth=Math.ceil(e.getDimensions().min()*this._options.scale),this._updateHorizontalSpriteGroup(e,"top",0),this._updateHorizontalSpriteGroup(e,"bottom",t.y-this._frameWidth),this._updateVerticalSpriteGroup(e,"left",0),this._updateVerticalSpriteGroup(e,"right",t.x-this._frameWidth)}},{key:"_updateHorizontalSpriteGroup",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e.getDimensions(),a="vertical-inside"===this._layoutMode,s=this._spriteGroups[t].start,l=this._spriteGroups[t].mid,u=this._spriteGroups[t].end,c=0,f=0;if(s){i=(n=s.getTexture().getDimensions()).y/n.x,c=Math.floor(this._frameWidth/i);var d=new ad(0,r);d.x=a?this._frameWidth:0,s.setPosition(d),s.setHeight(this._frameWidth),s.setWidth(c)}if(u){i=(n=u.getTexture().getDimensions()).y/n.x,f=Math.floor(this._frameWidth*i);var h=new ad(o.x-f,r);h.x-=a?this._frameWidth:0,u.setPosition(h),u.setHeight(this._frameWidth),u.setWidth(f)}if(l){i=(n=l.getTexture().getDimensions()).y/n.x;var p=new ad(c,r),m=o.x-c-f;if(a&&(p.x+=this._frameWidth,m-=2*this._frameWidth),l.setPosition(p),l.setWidth(m),l.setHeight(this._frameWidth),"repeat"===this._options.frame.imageGroups[t].mid.mode){var g=this._frameWidth/i,y=Math.ceil(m/g),v=0;if(-1!==y){var b=Math.round(m/y);l.setWidth(b),v+=b,this._ensureRepeatSpritesExist(y-1,t,l);for(var _=0;_<y-1;_++){b=Math.round((m-v)/(y-_-1));var x=this._repeatSprites[t][_],k=p.clone().add(v,0).floor();x.setPosition(k),x.setWidth(b),x.setHeight(this._frameWidth),v+=b}}}}}},{key:"_ensureRepeatSpritesExist",value:function(e,t,n){var i=this;n.getTexture().setMaxListeners(e+1);var r=this._repeatSprites[t].length;if(e>r)for(var o=e-r,a=0;a<o;a++){var s=new ha.Sprite(n.getTexture());this._repeatSprites[t].push(s),this._frameContainer.addChild(s),this._sprites.push(s)}else if(e<r){this._repeatSprites[t].splice(e).forEach((function(e){var t=i._sprites.indexOf(e);-1!==t&&(i._sprites.splice(t,1),i._frameContainer.removeChild(e),e.dispose())}))}}},{key:"_updateVerticalSpriteGroup",value:function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e.getDimensions(),a="horizontal-inside"===this._layoutMode,s=this._spriteGroups[t].start,l=this._spriteGroups[t].mid,u=this._spriteGroups[t].end,c=0,f=0;if(s){i=(n=s.getTexture().getDimensions()).y/n.x,c=Math.floor(this._frameWidth*i);var d=new ad(r,0);d.y=a?this._frameWidth:0,s.setPosition(d),s.setWidth(this._frameWidth),s.setHeight(c)}if(u){i=(n=u.getTexture().getDimensions()).y/n.x,f=Math.floor(this._frameWidth*i);var h=new ad(r,o.y-f);h.y-=a?this._frameWidth:0,u.setPosition(h),u.setWidth(this._frameWidth),u.setHeight(f)}if(l){i=(n=l.getTexture().getDimensions()).y/n.x;var p=new ad(r,c),m=o.y-c-f;if(a&&(p.y+=this._frameWidth,m-=2*this._frameWidth),l.setPosition(p),l.setHeight(m),l.setWidth(this._frameWidth),"repeat"===this._options.frame.imageGroups[t].mid.mode){var g=this._frameWidth*i,y=Math.ceil(m/g),v=0;if(-1!==y){var b=Math.round(m/y);l.setHeight(b),v+=b,this._ensureRepeatSpritesExist(y-1,t,l);for(var _=0;_<y-1;_++){b=Math.round((m-v)/(y-_-1));var x=this._repeatSprites[t][_],k=p.clone().add(0,v).floor();x.setPosition(k),x.setHeight(b),x.setWidth(this._frameWidth),v+=b}}}}}},{key:"_disposeSprites",value:function(){var e=this;this._sprites.forEach((function(t){e._frameContainer.removeChild(t),t.getTexture().dispose(),t.dispose()})),this._resetSprites()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._disposeSprites(),this._colorOverlayFilter&&this._colorOverlayFilter.dispose(),this._frameRenderTexture&&this._frameRenderTexture.dispose()}}],[{key:"validateFrame",value:function(e){if(e){var t=e.imageGroups,n=e.layoutMode;if("string"!==typeof e.identifier)throw new Error("Frame needs a property `identifier` of type String.");if("object"!==typeof e.imageGroups)throw new Error("Frame needs a property `imageGroups` of type Object.");var i=function(e){var n=t[e],i=n.start,r=n.end,o=n.mid;if("undefined"!==typeof t[e]){if("object"!==typeof t[e])throw new Error("Frame: `imageGroups.".concat(e,"` needs to be of type Object."));if("undefined"!==typeof i&&!(i instanceof Ea||"undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement))throw new Error("Frame: `imageGroups.".concat(e,".start` needs to be of type Image."));if("undefined"!==typeof o&&!(i instanceof Ea||"undefined"!==typeof HTMLImageElement&&i instanceof HTMLImageElement)&&"object"!==typeof o)throw new Error("Frame: `imageGroups.".concat(e,".mid` needs to be of type Image or Object."));if("undefined"!==typeof r&&!(r instanceof Ea||"undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement))throw new Error("Frame: `imageGroups.".concat(e,".end` needs to be of type Image."))}};if("undefined"!==typeof n&&-1===["vertical-inside","horizontal-inside"].indexOf(n))throw new Error("Frame: `layoutMode` must be one of vertical-inside, horizontal-inside");if("undefined"!==typeof tintable&&"boolean"!==typeof tintable)throw new Error("Frame: `tintable` needs to be of type Boolean.");i("top"),i("left"),i("right"),i("bottom")}}}]),n}(Ma)).identifier="frame",sd.prototype.availableOptions={frame:{type:"object",validation:sd.validateFrame,setter:function(e,t){return t||this._createSpritesForFrame(e),e},default:null},alpha:{type:"number",default:1},tintColor:{type:"color",default:new ut(1,1,1,0)},scale:{type:"number",default:.1}},vs.Operations.FrameOperation=sd,ld=sd})),Cm=z((function(){ud="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAAAAADRE4smAAAsTElEQVR4Ae1d4bHjOM5ECAgBISgEZLDOwMrAysDMwMpAzkCTAUNQCAyBIfCr2ifI1DNh+c1tfTMg3b9udtZXC7tJdgMgCP8foJAUBIJx92eoEy5puAKkHH1jX0AchqoJcLwGlv1fDVAnyKtfQMoB1WLQKBBCyuCgVvQhvQGoF3RPb2Bs/AsgEDS6BqbGvwACaHsT+AV1AK/4W18AQy3gCxTAR2vAQxW4xHSD3/kC/qlI9NK7hqg6H8SLspiPv4C+kv0v6ouZQuUEEMfndUtcOQH6qJ9nR2sg1kD+FSdQ4GLS4MA82B+uZvJJRQXkFwT8uRp2VQl99xuGiOyTX4//+AuYqtj/BBGPiVITATjtEel4pdRFAJ/2uP08K9KBYXwPaT5OC9Vlg/kneQ0cUwHcQvz6F7BAXVuA/3GNsG8ofqBQmw3uUg7dCglcZQSgJHizvO1qy4OM3wPCH64BV1fnR8QfdkqAcWD86Q86KP9+o/EjGMfwrhVSpPPUWvy9YoMbsEIqAVrSgXBSCFC3FdK/sV+txc/Kv93OEpgrawiYfybsSWkIaMcK3SurB1P8Ufyk2OB2rNCoEKCV+BW2tGOFXG2N0RiUkkgZUfmumrFCfW0EgNOPKlxB6YtvQAcqRrix+BfFBjdjhVgnQL3xk+cyWwYQVG6FLjOs6PTjotaSCF5T8iUXJLSo3gqxT4kLPig6BKheB1/+/dvzEwGi/KParSDN+arAtMFTA/Gz3+8KTiF/tVZoaxx034zwwlAPvsc/7cifx+8U8tdqhfqwXxVihOMAgnp1sJA/lzu9Tv4KrRD7fFVki2VE+IuB3anvT0z/Y/x9KBRKexPkJ+77njv835YA3kvuaPm79z+6zDGtiP5Mv1sSObMv7gr8l5MfkMclCZaJf9sK0TUWd4U58N8b/NWnb5jo9+KPShM4EvzN4DGmPcL5p1ZIgVghhr8VNBZjuP4P8Rsr/fReGW72UyukIKDJeRYz/rQkoiAYHWkSTz+2QgrOVq657bG8xYAlHWBEQzcdf+OH43SAcPp7o3/N3un34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQV8iu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6P3wT5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvJT0y5+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1Wp5DfxAqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD5ZIL8gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mhfyaTOQKZl7e9RWg1ggnVO4D/TJ+q5UV8mstLX0Fjz/E1wW/Uo/EoGb9gu1O5vhWgTzqBGAwAER9C3RKj4SqlIO5sacEpPNfJ38OBstHAIdJlwD/vDXk3wNYPQLwFmHO/6wE9rKwPWilv2DkcRNWy9esng45olr9PhuYbQ+JtQ3Qq4VdTSo6S+FvZ5pXNSC/1+NL2ZdkpuNXDjTI42f9BNPj90ohMRh42UyYqhRuemUJ6GJ3MLMC5ECDlAaFAPG9MnEoN9IFMvCymaxUhQCjniXL0ZeXiTPR8Qqi449nNnL5ik8oCqURDb1l7RQCeM0kRX2jGIKBxP8lJgHk8XdpB1eO32F8ofV49H6+oKWXfVIkpRkCi0sgcP/qpOhn7ye2sfmlBLmKobK8FbB0RATbo037qCazx9dL4L4WtXtrCS/dzcLuN4yvbcy4bmzRMgHQv0hmDOoSEB044pMaYMvsh10I/nUqE4fCRjFazfaWWNwdXF7tu8JGgXbHdwkBgvK3DgowvQFq15WGstWLeFw0DaYn14DEf/zwn1ozNoZRKWm8//Bfb3i0JZYJIPHHN24BX5NxDfjqzdrhjQkGFCxvgaFIgHRTVsd01DR5tj7OX0D7M0CXeLiYrvneiwSQ0h0fzoK4Ku0AhhBfpbTno1kQtNh+7HZQCOA1hRToVUnU2Z/jK2BtpsFVSaLZ1ECsEECPP02kNgQGsj/NXxBUkxDOek+UA2NAjQABdZPkXX/qR68PSrG8BjYM+t+G+XLq+zEqrDGFRSFAcppE0jGBRWAqI6JmE3WQ9Unu8BS/SwewpADZB3p/eNdNqXtbHXOHt3Q9ssHwvJ6X9CYCWah7BDq+AK1YoUO4v7/j5Xpgg+FZB1Os4/cXyRo6RQWqVnCs4fdnr031jBoBJH6u4vfvo+bks5KPL2d9vPXfP/frE2rFkCWmBCVR36djeAQ7Qx4HbXKRi0VVg0s6RBysdLwspKjA6FKCoqrrjZ9+eE97XBUn5IdyXMcMCJ2dmn8gpSDIIUH5dz2F4zlxpobcXpU1AF6p/45mh9yyks0tqMChT6DUfynYnHCqXuCasOiEmLXUxhBNDrnFosWJXdEG/wIPapf/EEwOeew0AbdQcQ08VQb4cFh6OMNfC3XC97lUDInAcNfiB3IFCsSRrOV5BYEKTsg/uV5/MC7cn420O+mH4JAnPlCLv/BcQvQXNFbvVhiQrQFwL9YK3UPKEUa2NOFBYQDv7JF7md1EdrMPIYRlujDaerNSV+5Z0AwYXia4u370SwghzGNPxjL9Snsb7u4vY1B0sFW4N6a8nnK+99YrvDr/leaeZdf3zjXEj1d+a9bt9fsa8HJwmn6+mafCAa8L4fu++uHtlzgvMS1lHagwIORrgBUrZAXkc/EejvP3w/7A72zHL2p9KEhh9SS857ZHt0I2Nr+9cuHjCk73Le0xWo4faM7Fi8SnY8anNaBbIRObn3bFWU8JbfFGoEL8wRT/47a2VSnsn05CzoTwgRUyUvSKqPW9h+fhlz4JYJAzwaYO7PPgOk0KB/d9H8QkiGDXCtFccHmFzMY+umu+QmASX2AvfmVqcYnRw/CNAVnEnS0rpBe9WOV/950BfRJALAoHYZOxtJcqhSP2307CMd/ubVohWf7H/Hffyts3SgJYI/UmdeC91KWqMLqLiiz4VSSTN8j/k6YDI+KeLXNGgKHUCBjPNtNeuhRm9SnIWBSOHu2lfXX+T2qNBNJUEA4zGU376lLY6z0O3TOZ4mCc/4Uit1MIEOX/TG93MPTEmS6FWWOAeL7BzstmgkGb51AocisMgE3uDAr5jZX/dSmMGgN+fSuReDJ3zUsw61ZQYUA2KNIL+U3Bvy+FtUeR445Mgc3zX81suCIBpJDEOvkrkcLajLDu8YE41ML/U0kf9CUCxE04LDr565DCYh2VxC/FEcEWKCqxKEVujs8E2HIeevD1SOHiPvgL7H4Dig9Si9xdeCZADzoqk8JlBkQQVMN/vchL4YkAE+ioTAorDOgq4n8ijRsLFBgAevW3Vil8XP21rwOVMAsMAL32V6UUVh74a4v/uRkG/U3LOqWwMCPqN32sTz0LKjduz6MOQc/7ViqFV3RRz/tWy//0/DAC6KhZCstJeFz3qq0kJhiVza8RKSwMsL//6SUxhf8Cp2x+DUhhAS0D1IGT4mtf9vs6ZfNrRQofo9KSmIrWpDA0wf/3+30blMI6Ki6JKfxvUwq/j6q6IxW0I4W7tvgfj940b0wK+w5qRFAHeTtlvGGbUjgw6KjUB0VlvF2DUjg6bJD/vbL5tSeFp5r5T/pkOK9sfo1JYc/N8l/Z/JqSwvHcMP/vyubXkBRmhHpx3B3JoKANHdgAlO5IDQ1JYQUf/rcmhQUf/rcqhVsAxWb5r0hhT9AU3NGzNm1J4cAN8l/J+zYohaOD9tD/DZvfnyUe/3n+I8Ifg//jmx/58Oel8B/N+/Z/cu/hP7z54e2Pdx5STOEEfwzs/2zn3f3PHv7zX9B5ODj80zJs+pPzY/nPZ2Ju0CrEifEn/laBsc0cHLYXv/IN9E3m4Pp43WViTtAY8Ba3aWON5aBlbvuMz/ETNIJrfFxG4awdA7GJ6LNHqfL4Ox8RWgCG3ZNU960d4xKnlkpwgTIrSHhrxw/E7DaK6KD5a2PklhLQoXsUJZfYkB9Y8iepxAr5NmryMq81PMSvU14eqBf37QsI9O2emkeoFnilx0Ocp7AdgxhaqUjy7WF9fP9gADexAK4xzY8dcKAHA06///KAwSc7ZQ/E/nEO+tpvIsmUJd52QL/NXcKv+MOp+txHSml57IH/iBgaVkZ4qt/6+G0HjCgMWAi4bvLnfn/Y9sARoM+e5lu4kfhlB2S4xM0O9tRKE27ETQUC3pMwAIdm4pcdcPZJMEETkNKnJMBvMQn+qTrvG1OcSF7rcPtGvFC/9cOrT2m5kGTAut3LJUvlhz/N35+gpWz06Ii01H74c5CDLit94sP29YFrJn9MgnMW/yC2r3p0Pr90MmzZzlCr7dMf645Z/Czjh6ov+n67f71I6fMuJ38D5J8uX0d+v/I+rDtggMohNic697Xgs9LnIJaoWuD2sJ4YgCmLP3z54KpB4FehIwWvTqzQ15dT+eE/SLCS650yK3iv/hoe+Yji+0T2sjBhAqxXAIjyjbj6PiHAmFnhE9du/f4N8+H7vPwP6YJ1VP3hL/HTVgeQ+CO1cfh3m+85i+hZrdDYgvL14vtWLzjRGn/1RV8vJn/1PYPPHtzoK099bQl+3l++li9gEPdfd+pLCL8kwfbizFz34S+hFudwTQSC6lNfJymBtTSD4ZYEAfP4fWil4yskgcvvX8dx/Yula2XulNuXAF1sYgOA8fvYPfF9dK99A5D4w2nO4xcrTN5zI1f9PIv4391+7MOI9ccfHK6kn9+4/VkhJYaFt6CPbz8i16J888O9EP8vRS8PUAl4waf+t+Xw9ieHiJUo3/Acv89aoEnRyxGrSX255/dIhk0HRYdKwuxWS9F3F3+/i39hvVTsqkl9RVL6/4DTiHrCrKsj7RUH0OLHF59yWE3qy3dPfkiWd/fiU1xH3nfCkh90x58yD17KGR6pg+gJsypsYU5jhAx3PX4RhvHfT3FXw0VXh/IFvDf6xT0WAF7R8JAT9+hz9f4p/tAdTQbqvOXZGLj7nS9xeIpx1oLbbMIlJmdV+fot/q9N/Vv8+gEvNgFvpnXgJQ6yBZwK8/5C8nx0TYa9yEeTh/9Z6n1TfJr3h8W0FxLhI/5oeEjc+ovLiJv5WfTwAOVvQGSyIJ6sKt8t/jcFbf81lvUs8RuWwXSXXzyvf+BhxiSk9HVNhvRP2VK+nBf7jz8ldyS6/FNosugr7L2r87aVT8k1GfmUtS+A/I6582O0Q3c7/pQwYFTkowWcQj5imzJPc+GDTwmmVT4tIiYMYc74fpL4py9ZwMfk37eLiZiwBIyZ9esyT8OKpxHJkGOQazIiJuyAokg39om3+C9Rv+zRxfV37/u7XBTL5WNAm/Nt8RrD5mlo1j2NNMdF11+CXJRaFPloJf5/A172I45id5j56cQ5B7ONUlLs4vBlfk+Zp5mV/f9pKNgAbPCRenfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK88OKdURvy4Bb+uxIuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs2QjE60giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOloBkfkwhT10PUv8BD8BBL9/KtoEwbicF4GIsfKV5fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYC3zozWvbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgvhhge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSsxu/fo/7JfjRJDz0KSWULJB5DBLIYfzrybeElDxYjl8J7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxtwtxfk3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaCBw98KPvjggw8++OCDDz744IMPPvjggw8++OCDDz744IMP8NZD22APDeMaU9sEIN9w+4k81dAu8CpjdxqAPoqpVcgYcmyY/A01oOlz+Klh8rdLAJqTgNokv+AXtAH9AT5ul/zN3kAKSdDiDaQh5QjQHkLK0TfH/+YJsKQcAzSGLuWIrd6/EbRnhCntAO1hVAZWt4KYchBA2yqoPSMcWifAqXECzClHB82hS40ZYTzrGqiNPAjvosSUY2kh7xsIHnAt2WCpe11VFRQaKPru3W7fFAGk7hVIUUGxhaJvyq/dc8rhWql7hbOigmonvyB0xUSAa6bulW5YVEFYPfkFcg4244Kk7iUIVFJBVD/5BQs9H4FTE0VfwbWggromyJ+fg0vK4Nso+u6kUFe/ERbyP+EmR2DlBOh8KiMwANXvgygkBYFgbMEGu6ThCqAQoI0vIA6DToAm1sBCoYWGAPLqF9CIDR40CoTQhhHuQ3oDUC/ont7A2PgXQCBodA1MjX8BBND2JvCrmrwHvvsFVGqD+aJUw17DV5P3vcHvfAH/VCR66V1DVJ0P4kVZzMdfQF9R3tfrjlBHqMfxedUS106APurn2dEaiBUVPU6gwMWkwdVU9wov14iCCsgvCPhzNTxWJfTdbxgiqqjo637uCKeqir4RD4hSGQE47RHpYKVURwBfKHf+cA10NdzyEMwHaaHqbDD/JK+BYyqAW4hf/wIWqGsL8D+uEfYtxK9/AaGqez5ihXS4yghA6RuGHzYKhLou++pWSF0Drq7Oj4g/7JQA48D40x900P/9FuNHMI7hXSukSOeptfh73QY3YIV0ArSiA+GkEKBuK6R/Y79ai5/1f7uRJTBX1hAw/0zYk94Q0IgVuldWD6b4o/hJt8GNWKFRJ0AT8etsacQKudoaozHoJZECov5dtWGF+toIAKcfVbiC3hDQhg7UjXAb8S+6DW7DCrFCgKrjJ89ltgwgqNwKXWZlXK4QoNaSiEyL8SUXJLSo3gqxT4kLPig6BKhcB8u0mPMTAaL8o9qtIM35qsC0wVMD8bPf7wpOIX+1VmhrHHTfjPDCFc4AFkw5+XfxO4X8tVqhPuxXhRjhOICgXh0s5M/lTq+Qv04rxD5fFdliGRH+YmB36vsT0/8Yfx8KhdLeBPmJ+77nDv+3JYD3kjta/u79jy5zTCuiP9PvlkTO7Iu7Av/l5AfkcUmCZeLftkJ0jcVdYQ789wZ/9YXZZr8Vf1SawJHgbwaPsTje7n0rpEKsEMPfChqLMVz/h/iNlX56rww3+6kVUhDQ5DyLGX9aElEQjI40iacfWyEFZ1OzTTcs+LMX0RSMaGm87c9/OE4HCKe/fbK/hun34zeS98Vbeonu51ZIYCHve/tPhvl4e+QXdP/JMB9KOkRN/42gJf0ni5eiNfILzjH9J4t3NLn/0QH737etzhj5Bdf0GhP9XlXMRt2Lwu+TX4/fUtH3+t+Jl0H/Co3+/hPmQomPjJQJ8uu//9Hi5fk3rJAnU3VMnfyXeJzI8HbIL7i8vf+RT8m9a4WsFH3vzzFPzo3LM/mXlN6I3xL5NeXqJ+fmIP/9+0xJfHsJ2Cj69tqap/BE/lILG49z8CMXCGWl6Bu0Ne/2//19LDa942lalvlMZUKNaOBhA0Xw4578xZQQzvsXoSR+Qx0PFz1b2ZXThFxMoF0LVsh3IDCSALqjPg1QwEX6hC1WZ4L8ygqIp+MyiS/rx+m7FQps7l7j+E6O3Jf1Y8DdPxXy23IAsXunTHIqH6BD/k/lJDGlABaN/Epd5FpuBD4J+S0gHJd8TkGr6VIoN8J6cc/Gwqf3aoRz+dMRBLNDm62c03s1wshlBe0en2GLQ84mjfyKTOQKZl7e9RWg1ggnVO4D/TJ+q5U18istLX0Fjz9EreCnP4E5qFm/YLuTOb5VII86ARgMAFHfAp3aI6Eo5WBu7CkB6fzXyZ+DwfIRwGHSJcA/bw359wBWjwC8RZjzP2uBvSpsD1rpLxh53ITV8jWrp0OOqFa/zwZm20NibQP0emFXkYrOUvjbmeZVDcjv9fhS9iWZ6fiVAw3y+Fk/wfT4vVJIDAZeNhOmKoWbXlsCqtgdzKwAOdAgpUEhQHyvTBzKjXSBDLxsJitVIcCoZ8ly9OVl4kx0vILo+OOZjVy+4hOKQmlEQ29ZO4UAXjNJUd8ohmAg8X+JSQB5/F3awZXjdxhfaD0evZ8vaOllnxRJaYbA4hII3L86KfrZ+4ltbH4pQa5iqCxvBSwdEcH2aNM+qsns8fUSuK9F7d5gwktxs7D7DeNrGzOuG1u0TAD0L5IZg7oERAeO+KQG2DL7YReCf53KxKGwUYxWs70lFncHl1f7rrBRoN3xXUKAoPytgwIMb4D6daWhbPUiHhdNg+nJNSDxHz/8p9aMjWFUShrvP/zXGx5tiWUCSPzxjVvA12RcA756tHh4Y4IBBctbYCgSIN2U1TEdNU2erY/zF9D+DNAlHi6ma773IgGkdMeHsyCuSjuAIcRXKe35aBYELbYfux0UAnhNIQV6VRJ19uf4ClibaXBVkmg2NRArBNDjTxOpDYGB7E/zFwTVJISz3hPlwBhQI0BA3SR515/60WuDUmyvgQ2D/rdhvpz6fowKa0xhUQiQnC6RNExgEZjKiKjbRA1kfZI7PMXv0gEsKUD2gd4f3nXT694mx9zhLV2PbDA8r+clvYlAFuoegY4vQCtW6BDu7+94uR7YYHjWwRTr+P1FsoZOVYGKFRxr+P3Za1M9o0YAiZ+r+P37qDj5vOTjy1kfb/33z/36hFoxZIkpQUnU9+kYHsHOkMdBm1zkYlHV4JIOEQcrHS8LKSowupSgqOp646cf3tMeV8UJ+aEc1zEDQmen5h9IKQhySFD+XU/heE6cqSG3V2UNgFfqv6PZIbesZHMLKnDoEyj1XwomJ5zqF7gmLDohZi21MUSTQ26xaHFiV7TBv8CD2uU/BJNDHjtNwC1UXANPlQE+HJYezvDXQp3wfS4VQyIw3LX4gVyBAnEka3leQaCCE/JPrtcfjAv3ZyPtTvohOOSJDyzErz2XEP0FbdW7FQbkawDci7VC95ByhJEtTXhQGMA7e+ReZjeR3exDCGGZLozW3qxUlHseNAOGlwnurh/9EkII89iTsUy/0t6Gu/vLGBQdbBXujSmvp5zvvfUKr85/pbln2fW9cw3x45XfmnV7/b4GvBycpp9v5qlwwOtC+L6vfnj7Jc5LTEtZByoMCPkaYMUKWQH5XLyH4/z9sD/wO9vxi1ofClJYPQnvue1RrJCZzW+vXPi4gtN9S3uMluMHmnPxIvHpmPFpDShWyMjmp15x1lNCW7wRqBB/MMX/uK1tVQr7p5OQMyF8YIWMFL0ian3v4Xn4pU8CGORMsKkD+zy4TpPCwX3fBzEJIti1QjQXXF4hs7GP7pqvEJjEFxiLX59aXGL0MHxjQBZxZ84KKUUvVvnffWdAnwQQi8JB2GQs7aVK4Yj9t5NwzLZ7o1ZIlv8x/9238vaNkgDWSL1JHXgvdakqjO6iIgt+FcnkDfL/pOnAiLhny5wRYCg1AsazzbSXLoVZfQoyFoWjR3tpX53/k1ojgTQVhMNMRtO+uhT2eo9D90ymOBjnf6HI7RQCRPk/09odTD1xpkth1hggnm+w87KZYNDmORSK3AoDYJM7g0J+Y+V/XQqjxoBf30oknsxd8xLMuhVUGJANivRCflPw70th7VHkuCNTYPP8VzMbrkgAKSSxQv56pLA2I6x7fCAOtfD/VNIHfYkAcRMOi0L+aqSwWEcl8UtxRLAFikosSpGb4zMBtpyHEnxVUri4D/4C5Ruw7IOUIncXngnQg4L6pHCZAREENfFfKfJSeCLABDoqk8IKA7qK+J9I48YCBQaAXv2tVQofV3/t60AlzAIDQK/9VSuF9Qf+GuF/boZBf9OyTikszIjaTR/7U8+Cyo3b86hD0PO+lUrhFV1U8r418z89P4wAOqqVwnISHte9KiyJCUZl82tECgsD7O9/eklM4b/AKZtfA1JYQMsAdeCk+NqX/b5O2fxakcIHqLckpqI1KQxN8P/9ft/mpLCOqktiCv/blMLvo6ruSAXtSOGuLf7HozfNG5PCvoMaEdRB3k4Zb9imFA4MCur1QVEZb9egFI4OG+R/r2x+7UnhqWb+kz4ZziubX2NS2HOz/Fc2v6akcDw3zP+7svk1JIUZoWocdEcyKGhABzYAvTtSQ0NSWMGH/61J4Q//Bc1J4YZAsU3+61LYEzQFd/SsTVtSOHCD/Ffyvg1K4eigPfTK5tcQuG3++9Y2P+Ur8Nwy/6ODhkExhRM0i7tsfu1icNgy/2eGD+zDMhAaByI0DPIB2kbfsgbDmxSiWwV7aURoErNy/aSxXNwErYKU6yetpeP5E3/bW4BvL+724le+gb7JQmwfr7ty3Kk99Ru7PBcdsDXlm2Z8jp+gBci77UNejnINpQSu2cukefydb8QPYNi9S3rfenIvcWqpDytQZgUJb+34gZhdSRYdNH9tjNxSF0LoHp1pS2zIDyz5u6RihXwbjZkytD88xK/Tn5+qFPftCwj0bViBR6gWeKXHa+ynsB2DGFppS+Pbw/r4/sEAbmIBXGOaHzvgQA8GnH7/+SmD77bLHoj94xz0tV9Hl1GbvO2Afhu+iV/xh1P1uY+U0vLYA/8RMTSsjPBUv/Xx2w4YURiwEHDd5M/9/rDtgSNAn73PvHAj8csOyHCJmx3sqZX204ibCgS8J2EADs3ELzvg7JNgaqv0KQnwW0yCf6rO+8YUJ5In29z+Nkao3/rh1ae0XEgyYN3u+bql8sOfZtnlJH7K5s+PSEvthz8HOeiy0ic+bF8fuGbyxyQ4Z/EP1ds+Qefzm8fDlu0MVds+QR/SAzGLn2UGZQstjxscwCKlz7uc/A2Qf7p8Hfn9yvuw7oABKofYnOjc14LPSp+DWKJqgdvrymIApiz+8OWDqwaBX4WOFLw6sUJfX07lh/8gwUqud8qs4L3668jkI4rvE9nLwoQJsF4BIMo3ovi+lQBjZoVPXLv1+zfMh+/z8j+kC9ZR9Ye/xE9bHUDij9TG4d9tvucsome1QmMLyteL71u94ERr/NUXfb2Y/NX3DD57da2vPPW1Jfh5P4FHvoChbvcvqS8h/JI2yLODc92Hv4RaHMY6EQiqT32dpATW0iCuWxIEzOP3oZWOr5AELh/CE8f1L5auleGjbl8CdLGJDQDG77OXxffRvfYNQOIPpzmPX6wwec+NXPXzLOJ/d/uxDyPWH39wuJJ+fuP2Z4WUGBbegj6+/Yhci/LND/dC/L8UvTxAJeAFn/rflsPbnxwiVqJ8w3P8PmuBJkUvR6wm9eWeH6UbNh0UHSoJs1stRd9d/P0u/oX1UrGrJvUVSen/A04j6gmzro60VxxAix9ffMphNakv3z35IVne3YtPcR153wlLftAdf8o8eClneKQOoifMqrCFOY0RMtz1+EUYxn8/xV0NF10dyhfw3ugX91gAeEXDQ07co8/V+6f4Q3c0Gajzlmdj4O53vsThKcZZC26zCZeYnFXl67f4vzb1b/HrB7zYBLyZ1oGXOMgWcCrM+wvJ89E1GfYiH00e/mep903xad4fFtNeSISP+KMoJbsTHmXEzfwseniA8jcgMlkQT1aV7xb/m4K2/5rNf5b4Dctgussvntc/8DBjElL6uiZD+qdsKV/Oi/3Hn5I7El3+KTRZ9BX23oXK9Oan5JqMfMraF0B+x9z5Mdqhux1/ShgwavLRAE4hf2eFMk9z4YNPCaZVPi0iJgxhzvh+kvinL1nAx+Tft4uJmLAEjJn16zJPw+JpFMmQY5BrMvbGRVMU6cY+8Rb/JeqXPbq4/u59f5eLYrl8DGhzvi1eY9g8Dc26p5HmuOj6S5CLUosmH43E/2/Ay37EUewOMz+dOOdgtlFKil0cvszvKfM0s7L/Pw0FG3L56DuwAXfakh8hyineHwpaKYlmi4GA7clgvjjHWzhLklPcK29PKtURvy4Bb+vFSuwdpBTE/GdKwB/L4HwgbFwvRnr5lC31u9AWsZSzOP+DQKmOyP8Om3x0aGa8LaxVXr9nLms05svk5wt9i19uxpJ8ythN3yC716OcNWq1LR5nP55R/pVI24youB4GExrq94Z11+e0tfmwJ4B7isML4TtRPhAXZukXcnEwlfoSeDH/538NzgyAMXnWPxSuu6oBytGB0bMp6w8Sv/R90vzvH9Gh1iMu2lAG4kohBE3NxpYk1ipc+REOh6+Oz4KTpSVtWDBrlOu3wUhkavOLad3HNvN/jXrH55QyxO4R/1XCN1f09bxecxw3KS/aRp2MKBDbs+QjE40giFeTfYwkfhl1qc+EFwTxTp1fTYAZIEmT5+bn/N78zqT//hucVAAvsnnYwJbp+ueh5kni1zUsbbnyPmTxC5ylAZ9LbmM7Ocn5oJx1F4tLd8n8+DwZbsb5cN7kS1u677TJYD38WTKHYnsFg62WxyGzsZeNv/5lEgtlLE6W+SFTv79k8ANmQz6zfm+vkR+3Y4PyE5SAraW9HotXbOwqhxhkL3CofAGn/DqEX/8w2kp99WvRY0tjMWT85fJVT1688D/sOgdZrPDZ3E3fEcXGbk99fDl75b7DWVa9yxPBYbOCZGrMwcIy2DKsNlCGvKPiF3mVABFWeKmdREuN4FK+9ZSVAPOcL7LyqSDdkmOuiMJXGjywpc1PjrgxzwPozucqtT2UnXJHAHCewAzu+zy9S3uMimbK58B5UdKbifDO1kXvEXclcJi6+yvlG5LEL1bn4QjAGih71pe7VQpHpiDfjP61RQLOl4BkfiwhT10PUv8BD8BBL9/KtoEwbicF4GIpfL15fZPCTu9kRMkMSMmUHhVwNvqmLV5jOq2LG9IZAHsEBYMk/8XxTMyXYCvzozevbxVd4sMJIbzSJ1z4tJ4lRvnPIT2sIKSIr56D4rTFP37PgxlE3ugRsnn3BZDb7YHJ56lCo6PxwiP6dP7iP5QzGBzWfDBmme/F/O+fp65G3Iq+xQUg3T6DeMUBurgrhlge+BN4lXLgFL8o9n5JaZLh8LP92VicZ3ul6KtVfRda9f64HhVdSAJPhvkfnZwJUd0nRfGNKXknR2UfzN8BH/eZ6+GstkmL4ospDXHd9Ogek1yFsQiSSrZc9iJVLQoD+pQiSfwAXe8ujGAXIoVfYsgz/D6lsd9kL/LF9WSc/x28GX+6/ssZHlTRY9cKvoTPTvoxpQBeoU1l/BcsW5p8wpiSMx2/co/7JfjRJDz0KSWULJB5DIeBSPzrybeElDyYjV8P7o3LUotL6UsD93Cv5EkUeePmHbXopQUmAsxS9K0AXkzgYdZ4cFuZgGIlM+F5LQe+Fb8wgIFiPVOB6R0PtzoflyRp5ORT1uFVD1+In4Lsl4xQDbq3s8Y3EcQIyLXwH99Xiw5oEfnXGsT59dI/2Wj8uMiR0RrE+XRRJEOb8cM4QJPgrXY8c8vxNwtxfm3HP0G7wCgjENoExRQYWoaTJ1EaxeCgbaC5w/+DDz744IMPPvjggw8++OCDDz744IMPDABvPbQN9tAwrjG1TQDyDdceZU53u8CrzFxoAPocjlYhM2ixXfK31H2gD2GmhsnfLgFoTgJqk/yCX9AMlNeXuF3yN9t+HpKgxfbzIeUI0B5CytE3x//mCbCkHAM0hi7liK02XwvaM8KUdoD2MCrTSltBTDkIoG0V1J4RDq0T4NQ4AeaUo4Pm0KXGjDCeFQ3UTB6Ed1FiyrG0kPcNBA+4lmyw1L2uqgoKLRR9d263b4oAUvcKpKig2ELRN+V3LjnlcK3UvcJZUUG1k18QumIiwDVT90o3LKogrJ78AjkHm3FBUvcSBCqpIKqf/IKFno/AqYmir+BaUEFdE+TPz8ElZfBtFH13Uqir3wgL+Z9wkyOwcgJ0PpURGID+qA/6P9HpZtdg1QgHAAAAAElFTkSuQmCC"})),jm=z((function(){cd="uniform sampler2D u_image;\nuniform sampler2D u_watermarkTex;\n\nvarying vec2 v_texCoord;\n\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  vec4 watermarkColor = texture2D(u_watermarkTex, v_texCoord);\n\n  if (watermarkColor.r > 0.8) {\n    gl_FragColor = mix(color, watermarkColor, 0.3);\n  } else {\n    gl_FragColor = color;\n  }\n}\n"})),Tm=z((function(){Es(),jm(),(fd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=cd,e}return Object(w.a)(n,[{key:"_applyWebGL",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.getContext(),o=(r.canvas,this.getShaderForRenderer(e)),a=t.getFrame(),s=this._watermarkCanvas;s&&a.width===s.width&&a.height===s.height||this._createWatermarkCanvas(a.width,a.height);var l=ha.Texture.fromCanvas(this._watermarkCanvas),u=l.getBaseTexture();e.updateTexture(u),u.setGLUnit(1),e.setRenderTarget(n),i&&n.clear(),e.setShader(o);var c=e.getCurrentRenderTarget().getProjectionMatrix().toArray();o.setUniform("u_projMatrix",c),o.syncUniforms(),r.uniform1i(r.getUniformLocation(o.getProgram(),"u_watermarkTex"),1),r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,t.getTexture()),r.activeTexture(r.TEXTURE1),r.bindTexture(r.TEXTURE_2D,u.getGLTextureForRenderer(e)),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),l.dispose()}},{key:"_createWatermarkCanvas",value:function(e,t){var n=this._options.watermarkImage,i=ke.createCanvas();i.width=e,i.height=t;var r=i.getContext("2d"),o=r.createPattern(n,"repeat");r.fillStyle=o,r.fillRect(0,0,i.width,i.height),this._watermarkCanvas=i,this._watermarkContext=r}},{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getCanvas(),r=t.getContext(),o=n.getContext();this._options.watermarkImage;this._createWatermarkCanvas(i.width,i.height);for(var a=r.getImageData(0,0,i.width,i.height),s=this._watermarkContext.getImageData(0,0,i.width,i.height),l=new ut,u=new ut,c=new ut,f=0;f<i.width*i.height*4;f+=4)l.set(a.data[f]/255,a.data[f+1]/255,a.data[f+2]/255,a.data[f+3]/255),u.set(s.data[f]/255,s.data[f+1]/255,s.data[f+2]/255,s.data[f+3]/255),u.r>.8?c.copy(l.clone().mix(u,.3)):c.copy(l),a.data[f]=255*c.r,a.data[f+1]=255*c.g,a.data[f+2]=255*c.b,a.data[f+3]=255*c.a;o.putImageData(a,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={watermarkImage:{type:"object",required:!0}}})),Em=z((function(){Es(),Cm(),Tm(),(dd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),W(Object(O.a)(e),"_applyWatermarkFilter",(function(){return e._watermarkFilter||(e._watermarkFilter=new fd({watermarkImage:e._watermarkImage})),e._sprite.setFilters([e._watermarkFilter]),e._renderTexture.render(e._container),Promise.resolve()})),W(Object(O.a)(e),"_loadWatermarkImage",(function(){return e._watermarkImage?Promise.resolve():new Promise((function(t,n){e._watermarkImage=new Ea,e._watermarkImage.onload=t,e._watermarkImage.src=ud}))})),e._watermarkFilter=null,e._watermarkImage=null,e}return Object(w.a)(n,[{key:"_render",value:function(e){return this._loadWatermarkImage().then(this._applyWatermarkFilter)}},{key:"dispose",value:function(){this._watermarkFilter&&this._watermarkFilter.dispose(),Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this)}}]),n}(Ma)).identifier="license-watermark",dd.prototype.availableOptions={},vs.Operations.LicenseWatermarkOperation=dd,hd=dd})),Dm=z((function(){pd="/*!\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_controlPoint1;\nuniform vec2 u_controlPoint2;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 vector = u_controlPoint2 - u_controlPoint1;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    float radius = smoothstep(0.0, 1.0,\n      abs(\n        clamp(dot(v_texCoord - u_controlPoint1, vector) / dot(vector, vector), 0.0, 1.0)\n      )\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n      float percent = (t + offset - 0.5) / 30.0;\n      float weight = 1.0 - abs(percent);\n      vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n      color += _sample * weight;\n      total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n"})),Im=z((function(){Es(),wu(),Dm(),md=la.Vector2,(gd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=pd,e._lastBlurRadius=null,e._lastControlPoint1=new md,e._lastControlPoint2=new md,e._blurFilter=new Qs,e._blurredRenderTarget=new ha.CanvasRenderTarget(100,100,1),e._maskRenderTarget=new ha.CanvasRenderTarget(100,100,1),e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("low"!==this._options.blurQuality){var o=t.getDimensions(),a=!n.getDimensions().equals(o),s=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||a;if(s){var l=new md(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(l);var u={blurRadius:this._options.blurRadius,texSize:o},c=function(e,t,n){return Math.min(Math.max(e,t),n)},f=function(e,t,n){var i=c((n-e)/(t-e),0,1);return i*i*(3-2*i)},d=this._options.controlPoint2.clone().subtract(this._options.controlPoint1.clone()),h=this._options.blurRadius,p=function(e,t){return f(0,1,Math.abs(c(new md(e,t).subtract(i._options.controlPoint1).dot(d)/d.dot(d),0,1)))*h};this._blurFilter.set(u),this._blurFilter._applyCanvas(e,t,n,r,p),this._lastBlurRadius=this._options.blurRadius}}else this._renderLQBlur(e,t,n,r)}},{key:"_renderLQBlur",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getDimensions(),r=!this._blurredRenderTarget.getDimensions().equals(i);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());var o=!this._lastControlPoint1.equals(this._options.controlPoint1)||!this._lastControlPoint2.equals(this._options.controlPoint2)||r,a=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||r;o&&(this._renderMask(),this._lastControlPoint1=this._options.controlPoint1.clone(),this._lastControlPoint2=this._options.controlPoint2.clone()),a&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,n)}},{key:"_renderMask",value:function(){var e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),n=new md(e.width,e.height),i=this._options.controlPoint1.clone().multiply(n),r=this._options.controlPoint2.clone().multiply(n),o=t.createLinearGradient(i.x,i.y,r.x,r.y);o.addColorStop(0,"#FFFFFF"),o.addColorStop(1,"#000000"),t.fillStyle=o,t.fillRect(0,0,e.width,e.height)}},{key:"_applyMask",value:function(e,t){for(var n,i=t.getContext(),r=e.getCanvas(),o=e.getContext(),a=this._blurredRenderTarget.getContext(),s=this._maskRenderTarget.getContext(),l=o.getImageData(0,0,r.width,r.height),u=l.data,c=a.getImageData(0,0,r.width,r.height).data,f=s.getImageData(0,0,r.width,r.height).data,d=0;d<r.width*r.height*4;d+=4)n=f[d]/255,u[d]=n*u[d]+(1-n)*c[d],u[d+1]=n*u[d+1]+(1-n)*c[d+1],u[d+2]=n*u[d+2]+(1-n)*c[d+2];i.putImageData(l,0,0)}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._blurFilter.dispose(),this._blurredRenderTarget.dispose(),this._maskRenderTarget.dispose()}}]),n}(ha.Filter)).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},controlPoint1:{type:"vector2",default:new md(0,.5),uniformType:"2f"},controlPoint2:{type:"vector2",default:new md(1,.5),uniformType:"2f"},delta:{type:"vector2",default:new md(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new md(100,100),uniformType:"2f"}},yd=gd})),Rm=z((function(){Es(),Im(),vd=la.Vector2,(bd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=t.call.apply(t,[this].concat(r)))._lastBlurRadius=e._options.blurRadius,e._lastControlPoint1=e._options.controlPoint1.clone(),e._lastControlPoint2=e._options.controlPoint2.clone();var a={blurQuality:{type:"string"}};return e._horizontalFilter=new yd({},a),e._verticalFilter=new yd({},a),e._sprite.setFilters([e._horizontalFilter,e._verticalFilter]),e._horizontalFilter.setDelta(new vd(.5,.5)),e._verticalFilter.setDelta(new vd(-.5,.5)),e._filter=new yd({},a),e}return Object(w.a)(n,[{key:"rotate",value:function(e){var t=this._options.controlPoint1,n=this._options.controlPoint2;90===e?(t.flip(),t.x=1-t.x,n.flip(),n.x=1-n.x):-90===e&&(t.flip(),t.y=1-t.y,n.flip(),n.y=1-n.y),this.set({controlPoint1:t,controlPoint2:n})}},{key:"flip",value:function(e){var t=this._options.controlPoint1,n=this._options.controlPoint2;switch(e){case"horizontal":t.x=1-t.x,n.x=1-n.x;break;case"vertical":t.y=1-t.y,n.y=1-n.y}this.set({controlPoint1:t,controlPoint2:n})}},{key:"transform",value:function(e){var t=this,n={};["controlPoint1","controlPoint2"].forEach((function(i){var r=t.getOption(i);n[i]=e.applyToRelativePoint(r)})),["blurRadius"].forEach((function(i){var r=t.getOption(i);n[i]=e.applyToRelativeSize(r)})),this.set(n,!1)}},{key:"_renderWebGL",value:function(e){return this._renderBlur(e)}},{key:"_renderCanvas",value:function(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}},{key:"_renderBlur",value:function(e){var t=e.getDimensions(),n=t.min(),i=this._options,r=i.blurRadius,o=i.controlPoint1,a=i.controlPoint2,s={blurRadius:r*n,controlPoint1:o.clone(),controlPoint2:a.clone(),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(s),this._verticalFilter.set(s),this._renderTexture.render(this._container),Promise.resolve()}},{key:"_renderLQCanvasBlur",value:function(e){var t=e.getDimensions(),n=this._options,i=n.blurRadius,r=n.controlPoint1,o=n.controlPoint2;return this._filter.set({blurRadius:i,controlPoint1:r.clone(),controlPoint2:o.clone(),texSize:t,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}},{key:"hasChanges",value:function(){return!0}}]),n}(Ma)).identifier="linear-focus",bd.prototype.availableOptions={controlPoint1:{type:"vector2",default:new vd(0,.5)},controlPoint2:{type:"vector2",default:new vd(1,.5)},blurRadius:{type:"number",default:.025},highQualityCanvasBlur:{type:"boolean",default:!1}},vs.Operations.LinearFocusOperation=bd,_d=bd})),Fm=z((function(){xd="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform float u_gradientSize;\nuniform float u_size;\nuniform vec2 u_start;\nuniform vec2 u_end;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    vec2 normal = normalize(vec2(u_start.y - u_end.y, u_end.x - u_start.x));\n    float radius = smoothstep(0.0, 1.0,\n      (abs(\n        dot(v_texCoord * u_texSize - u_start, normal)\n      ) - u_size) / u_gradientSize\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n}\n"})),Am=z((function(){Es(),wu(),Fm(),kd=la.Vector2,(wd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=xd,e._lastBlurRadius=null,e._lastGradientRadius=null,e._lastStart=new kd,e._lastEnd=new kd,e._blurFilter=new Qs,e._blurredRenderTarget=new ha.CanvasRenderTarget(100,100,1),e._maskRenderTarget=new ha.CanvasRenderTarget(100,100,1),e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("low"!==this._options.blurQuality){var r=t.getDimensions(),o=!n.getDimensions().equals(r),a=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||o;if(a){var s=new kd(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(s);var l={blurRadius:this._options.blurRadius,texSize:r},u=function(e,t,n){return Math.min(Math.max(e,t),n)},c=function(e,t,n){var i=u((n-e)/(t-e),0,1);return i*i*(3-2*i)},f=this._options,d=f.blurRadius,h=f.gradientSize,p=f.size,m=f.start,g=f.end,y=f.texSize,v=new kd(m.y-g.y,g.x-m.x);v.divide(v.len());var b=function(e,t){return c(0,1,(Math.abs(y.clone().multiply(e,t).subtract(m).dot(v))-p)/h)*d};this._blurFilter.set(l),this._blurFilter._applyCanvas(e,t,n,i,b),this._lastBlurRadius=this._options.blurRadius}}else this._renderLQBlur(e,t,n,i)}},{key:"_renderLQBlur",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getDimensions(),r=!this._blurredRenderTarget.getDimensions().equals(i);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());var o=!this._lastStart.equals(this._options.start)||!this._lastEnd.equals(this._options.end)||this._lastGradientRadius!==this._options.size||r,a=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||r;o&&(this._renderMask(),this._lastStart=this._options.start.clone(),this._lastEnd=this._options.end.clone(),this._lastGradientRadius=this._options.size),a&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,n)}},{key:"_renderMask",value:function(){var e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),n=this._maskRenderTarget.getPixelRatio(),i=new kd(e.width,e.height),r=this._options.size*i.min()*n,o=this._options.gradientSize*i.min()*n,a=this._options.start.clone().multiply(i),s=this._options.end.clone().multiply(i).clone().subtract(a),l=a.clone().add(s.clone().divide(2)),u=s.len(),c=s.clone().divide(u),f=l.clone().add((r+o)*c.y,-(r+o)*c.x),d=l.clone().add(-(r+o)*c.y,(r+o)*c.x),h=t.createLinearGradient(f.x,f.y,d.x,d.y),p=d.clone().subtract(f).len();h.addColorStop(0,"#000000"),h.addColorStop(o/2/p,"#FFFFFF"),h.addColorStop(1-o/2/p,"#FFFFFF"),h.addColorStop(1,"#000000"),t.fillStyle=h,t.fillRect(0,0,e.width,e.height)}},{key:"_applyMask",value:function(e,t){for(var n,i=t.getContext(),r=e.getCanvas(),o=e.getContext(),a=this._blurredRenderTarget.getContext(),s=this._maskRenderTarget.getContext(),l=o.getImageData(0,0,r.width,r.height),u=l.data,c=a.getImageData(0,0,r.width,r.height).data,f=s.getImageData(0,0,r.width,r.height).data,d=0;d<r.width*r.height*4;d+=4)n=f[d]/255,u[d]=n*u[d]+(1-n)*c[d],u[d+1]=n*u[d+1]+(1-n)*c[d+1],u[d+2]=n*u[d+2]+(1-n)*c[d+2];i.putImageData(l,0,0)}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._blurFilter.dispose()}}]),n}(ha.Filter)).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},size:{type:"number",default:50,uniformType:"f"},gradientSize:{type:"number",default:50,uniformType:"f"},start:{type:"vector2",default:new kd(0,.5),uniformType:"2f"},end:{type:"vector2",default:new kd(1,.5),uniformType:"2f"},delta:{type:"vector2",default:new kd(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new kd(100,100),uniformType:"2f"}},Od=wd})),Mm=z((function(){Es(),Am(),Sd=la.Vector2,(Cd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=t.call.apply(t,[this].concat(r)))._lastBlurRadius=e._options.blurRadius,e._lastSize=e._options.size,e._lastGradientSize=e._options.gradientSize;var a={blurQuality:{type:"string"}};return e._horizontalFilter=new Od({},a),e._verticalFilter=new Od({},a),e._sprite.setFilters([e._horizontalFilter,e._verticalFilter]),e._horizontalFilter.setDelta(new Sd(.5,.5)),e._verticalFilter.setDelta(new Sd(-.5,.5)),e._filter=new Od({},a),e._renderBlur.bind(Object(O.a)(e)),e}return Object(w.a)(n,[{key:"rotate",value:function(e){var t=this._options.start,n=this._options.end;90===e?(t.flip(),t.x=1-t.x,n.flip(),n.x=1-n.x):-90===e&&(t.flip(),t.y=1-t.y,n.flip(),n.y=1-n.y),this.set({start:t,end:n})}},{key:"flip",value:function(e){var t=this._options.start,n=this._options.end;switch(e){case"horizontal":t.x=1-t.x,n.x=1-n.x;break;case"vertical":t.y=1-t.y,n.y=1-n.y}this.set({start:t,end:n})}},{key:"transform",value:function(e){var t=this,n={};["start","end"].forEach((function(i){var r=t.getOption(i);n[i]=e.applyToRelativePoint(r)})),["blurRadius","size","gradientSize"].forEach((function(i){var r=t.getOption(i);n[i]=e.applyToRelativeSize(r)})),this.set(n,!1)}},{key:"_renderWebGL",value:function(e){return this._renderBlur(e)}},{key:"_renderCanvas",value:function(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}},{key:"_renderBlur",value:function(e){var t=e.getDimensions(),n=t.min(),i=this._options.start.clone(),r=this._options.end.clone(),o=this._options,a={blurRadius:o.blurRadius*n,size:o.size*n,gradientSize:o.gradientSize*n,start:i.clone().multiply(t),end:r.clone().multiply(t),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(a),this._verticalFilter.set(a),this._renderTexture.render(this._container),Promise.resolve()}},{key:"_renderLQCanvasBlur",value:function(e){var t=e.getDimensions(),n=this._options,i=n.blurRadius,r=n.size,o=n.gradientSize,a=n.start,s=n.end;return this._filter.set({blurRadius:i,gradientSize:o,size:r,start:a.clone(),end:s.clone(),texSize:t,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}},{key:"hasChanges",value:function(){return!0}}]),n}(Ma)).identifier="mirrored-focus",Cd.prototype.availableOptions={start:{type:"vector2",default:new Sd(0,.5)},end:{type:"vector2",default:new Sd(1,.5)},blurRadius:{type:"number",default:.025},size:{type:"number",default:.1},gradientSize:{type:"number",default:.1},highQualityCanvasBlur:{type:"boolean",default:!1}},vs.Operations.MirroredFocusOperation=Cd,jd=Cd})),Pm=z((function(){Es(),Td=la.Vector2,(Ed=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_render",value:function(e){var t=this._options.rotation%360,n=t*(Math.PI/180),i=90===t||270===t,r=this._options.flipHorizontally!==this._options.flipVertically,o=i&&r?!this._options.flipVertically:this._options.flipVertically,a=i&&r?!this._options.flipHorizontally:this._options.flipHorizontally;this._sprite.setScale(a?-1:1,o?-1:1),this._sprite.setRotation(n),this._sprite.setAnchor(.5,.5),this._sprite.updateTransform();var s=this._sprite.getBounds();return this._renderTexture.resizeTo(new Td(s.width,s.height)),this._sprite.setPosition(this._renderTexture.getDimensions().divide(2).round()),this._renderTexture.render(this._container),Promise.resolve()}},{key:"getNewDimensions",value:function(e){return e=e.clone(),this._options.rotation%180&&e.flip(),e}},{key:"flip",value:function(e){var t=this._options.rotation;switch(90!==t&&270!==t||(e="vertical"===e?"horizontal":"vertical"),e){case"vertical":this.setFlipVertically(!this.getFlipVertically());break;case"horizontal":this.setFlipHorizontally(!this.getFlipHorizontally())}}}]),n}(Ma)).identifier="orientation",Ed.prototype.availableOptions={rotation:{type:"number",default:0,validation:function(e){if(e%90!==0)throw new Error("OrientationOperation: `rotation` has to be a multiple of 90.")},setter:function(e){return(e+360)%360}},flipVertically:{type:"boolean",default:!1},flipHorizontally:{type:"boolean",default:!1}},vs.Operations.OrientationOperation=Ed,Dd=Ed})),zm=z((function(){Es(),Id=la.Vector2,(Rd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._flipContainer=new ha.Container,e}return Object(w.a)(n,[{key:"_render",value:function(e){var t=this._options,n=t.position,i=t.rotation,r=t.scale,o=t.pivot,a=t.outputResolution,s=this._sdk.getTextureScale(),l=a.clone().multiply(s).ceil();return this._renderTexture.resizeTo(l),this._sprite.setRotation(i),this._sprite.setPosition(n),this._sprite.setPivot(o),this._sprite.setScale(r),this._renderTexture.render(this._container),Promise.resolve()}},{key:"getNewDimensions",value:function(e){var t=this._sdk.getTextureScale();return this._options.outputResolution.clone().multiply(t).ceil()}}]),n}(Ma)).identifier="output",Rd.prototype.availableOptions={position:{type:"vector2",default:new Id(0,0)},rotation:{type:"number",default:0},scale:{type:"vector2",default:new Id(1,1)},pivot:{type:"vector2",default:new Id(0,0)},outputResolution:{type:"vector2",default:new Id(100,100)}},vs.Operations.OutputOperation=Rd,Fd=Rd})),Bm=z((function(){Es(),Ad=ha.Filters.OverlayFilter,Md=la.Vector2,4,(Pd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._overlayTexture=ha.Texture.fromImage(e._options.image),e._overlayContainer=new ha.Container,e._overlaySprite=new ha.Sprite,e._overlaySprite.setTexture(e._overlayTexture),e._overlaySprite.setAnchor(0,0),e._overlayContainer.addChild(e._overlaySprite),e._overlayFilter=new ha.Filters.OverlayFilter({overlayImage:e._overlayTexture.getBaseTexture().getGLUnit(),overlayTexture:e._overlayTexture}),e._sprite.setFilters([e._overlayFilter]),e._renderedOverlaySprite=new ha.Sprite,e._renderedOverlayContainer=new ha.Container,e._renderedOverlayContainer.addChild(e._renderedOverlaySprite),e._overlayRendered=!1,e._lastInputDimensions=new Md(0,0),e}return Object(w.a)(n,[{key:"setOption",value:function(e,t){if(Object(m.a)(Object(p.a)(n.prototype),"setOption",this).call(this,e,t),"image"===e&&t&&this._sdk){var i=this._sdk.getRenderer(),r=this._overlayTexture.getBaseTexture();r.setSource(t),i.isOfType("webgl")&&i.updateTexture(r),this._overlayRendered=!1}}},{key:"_render",value:function(e){var t=e.getDimensions(),n=this._options,i=n.image,r=n.alpha,o=n.blendMode;return i?(this._overlayRendered&&this._lastInputDimensions.equals(t)||(this._renderOverlayToRenderTexture(e),this._overlayRendered=!0,this._lastInputDimensions.copy(t)),this._overlayFilter.set({blendMode:o,overlayImage:this._overlayRenderTexture.getBaseTexture().getGLUnit(),overlayTexture:this._overlayRenderTexture,alpha:r}),this._sprite.setFilters([this._overlayFilter]),this._renderTexture.render(this._container),Promise.resolve()):(this._sprite.setFilters([]),this._renderTexture.render(this._container),Promise.resolve())}},{key:"_renderOverlayToRenderTexture",value:function(e){var t=this._sdk.getRenderer(),n=e.getDimensions();this._overlayRenderTexture||(this._overlayRenderTexture=new ha.RenderTexture(t,n.x,n.y),this._renderedOverlaySprite.setTexture(this._overlayRenderTexture));var i=this._options.image,r=i.width,o=i.height,a=ke.resizeVectorToFill(new Md(r,o),n),s=this._options,l=s.flipHorizontally?-1:1,u=s.flipVertically?-1:1;this._overlaySprite.setWidth(a.x*l),this._overlaySprite.setHeight(a.y*u),this._overlaySprite.setPosition(n.x*(1-l)*.5,n.y*(1-u)*.5);var c=this._overlayRenderTexture.getBaseTexture();this._overlayRenderTexture.resizeTo(n),t.isOfType("webgl")&&(c.setGLUnit(4),t.updateTexture(c,!1)),this._overlayRenderTexture.render(this._overlayContainer)}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._overlaySprite&&this._overlaySprite.dispose(),this._overlayRenderTexture&&this._renderedOverlaySprite.dispose(),this._overlayFilter&&this._overlayFilter.dispose(),this._overlayTexture&&this._overlayTexture.dispose(),this._overlayRenderTexture&&this._overlayRenderTexture.dispose(),this._renderedOverlaySprite&&this._renderedOverlaySprite.dispose()}}]),n}(Ma)).identifier="overlay",Pd.BLEND_MODES=Ad.BLEND_MODES,Pd.prototype.availableOptions={identifier:{type:"string"},image:{type:"image"},blendMode:{type:"number",default:Ad.BLEND_MODES.MULTIPLY,available:Object.keys(Ad.BLEND_MODES).map((function(e){return Ad.BLEND_MODES[e]}))},alpha:{type:"number",default:1},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1}},vs.Operations.OverlayOperation=Pd,zd=Pd})),Lm=z((function(){Bd="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_radius;\nuniform float u_blurRadius;\nuniform float u_gradientRadius;\nuniform vec2 u_position;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nconst float blurSteps = 30.0;\nconst float EPSILON = 0.000000001;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    vec2 coord = v_texCoord * u_texSize;\n    vec2 diff = coord - u_position;\n    float dist = sqrt(diff.x * diff.x + diff.y * diff.y);\n\n    float blurPercentage = smoothstep( \n      0.0, 1.0,\n      (abs(dist) - u_radius) / u_gradientRadius\n    );\n\n    float radius = blurPercentage * u_blurRadius;\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    for (float t = -blurSteps; t <= blurSteps; t++) {\n        float percent = (t + offset - 0.5) / blurSteps;\n        float weight = 1.0 - abs(percent);\n        vec4 _sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        color += _sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / max(total, EPSILON);\n}\n"})),Nm=z((function(){Es(),wu(),Lm(),Ld=la.Vector2,(Nd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._fragmentSource=Bd,e._lastBlurRadius=null,e._lastGradientRadius=null,e._lastPosition=new Ld,e._blurFilter=new Qs,e._blurredRenderTarget=new ha.CanvasRenderTarget(100,100,1),e._maskRenderTarget=new ha.CanvasRenderTarget(100,100,1),e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("low"!==this._options.blurQuality){var o=t.getDimensions(),a=!n.getDimensions().equals(o),s=this._options,l=s.blurRadius,u=s.position,c=s.texSize,f=s.gradientRadius,d=t.getBaseTexture().isDirty()||this._lastBlurRadius!==l||a;if(d){var h=new Ld(this._options.delta.x,this._options.delta.y);this._blurFilter.setDelta(h);var p={blurRadius:l,texSize:o},m=function(e,t,n){return Math.min(Math.max(e,t),n)},g=function(e,t,n){var i=m((n-e)/(t-e),0,1);return i*i*(3-2*i)},y=function(e,t){return g(0,1,(Math.abs(c.clone().multiply(e,t).subtract(u).len())-i._options.radius)/(2*f))*l};this._blurFilter.set(p),this._blurFilter._applyCanvas(e,t,n,r,y),this._lastBlurRadius=l}}else this._renderLQBlur(e,t,n,r)}},{key:"_renderLQBlur",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i=t.getDimensions(),r=!this._blurredRenderTarget.getDimensions().equals(i);this._blurredRenderTarget.setPixelRatio(t.getPixelRatio()),this._blurredRenderTarget.resizeTo(t.getDimensions()),this._maskRenderTarget.setPixelRatio(t.getPixelRatio()),this._maskRenderTarget.resizeTo(t.getDimensions());var o=!this._lastPosition.equals(this._options.position)||this._lastGradientRadius!==this._options.gradientRadius||r,a=t.getBaseTexture().isDirty()||this._lastBlurRadius!==this._options.blurRadius||r;o&&(this._renderMask(),this._lastPosition=this._options.position.clone(),this._lastGradientRadius=this._options.gradientRadius),a&&(this._blurImage(t,this._blurredRenderTarget,this._options.blurRadius),this._lastBlurRadius=this._options.blurRadius),this._applyMask(t,n)}},{key:"_renderMask",value:function(){var e=this._maskRenderTarget.getCanvas(),t=this._maskRenderTarget.getContext(),n=new Ld(e.width,e.height),i=this._maskRenderTarget.getPixelRatio(),r=this._options.position.clone().multiply(n),o=this._options,a=o.radius,s=o.gradientRadius;a*=e.height,s*=e.height;var l=t.createRadialGradient(r.x,r.y,0,r.x,r.y,(a+s)*i);l.addColorStop(0,"#FFFFFF"),l.addColorStop(a/(a+s),"#FFFFFF"),l.addColorStop(1,"#000000"),t.fillStyle=l,t.fillRect(0,0,n.x,n.y)}},{key:"_applyMask",value:function(e,t){for(var n,i=t.getContext(),r=e.getCanvas(),o=e.getContext(),a=this._blurredRenderTarget.getContext(),s=this._maskRenderTarget.getContext(),l=o.getImageData(0,0,r.width,r.height),u=l.data,c=a.getImageData(0,0,r.width,r.height).data,f=s.getImageData(0,0,r.width,r.height).data,d=0;d<r.width*r.height*4;d+=4)n=f[d]/255,u[d]=n*u[d]+(1-n)*c[d],u[d+1]=n*u[d+1]+(1-n)*c[d+1],u[d+2]=n*u[d+2]+(1-n)*c[d+2];i.putImageData(l,0,0)}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._blurFilter.dispose(),this._blurredRenderTarget.dispose(),this._maskRenderTarget.dispose()}}]),n}(ha.Filter)).prototype.availableOptions={blurRadius:{type:"number",default:30,uniformType:"f"},radius:{type:"number",default:50,uniformType:"f"},gradientRadius:{type:"number",default:25,uniformType:"f"},position:{type:"vector2",default:new Ld(.5,.5),uniformType:"2f"},delta:{type:"vector2",default:new Ld(1,1),uniformType:"2f"},texSize:{type:"vector2",default:new Ld(100,100),uniformType:"2f"}},Ud=Nd})),Um=z((function(){Es(),Nm(),Gd=la.Vector2,(Hd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=t.call.apply(t,[this].concat(r)))._lastBlurRadius=e._options.blurRadius,e._lastGradientRadius=e._options.gradientRadius;var a={blurQuality:{type:"string"}};return e._horizontalFilter=new Ud({},a),e._verticalFilter=new Ud({},a),e._sprite.setFilters([e._horizontalFilter,e._verticalFilter]),e._horizontalFilter.setDelta(new Gd(.5,.5)),e._verticalFilter.setDelta(new Gd(-.5,.5)),e._filter=new Ud({},a),e}return Object(w.a)(n,[{key:"rotate",value:function(e){var t=this._options.position;90===e?(t.flip(),t.x=1-t.x):-90===e&&(t.flip(),t.y=1-t.y),this.set({position:t})}},{key:"flip",value:function(e){var t=this._options.position;switch(e){case"horizontal":t.x=1-t.x;break;case"vertical":t.y=1-t.y}this.set({position:t})}},{key:"transform",value:function(e){var t=this,n={},i=this.getPosition();n.position=e.applyToRelativePoint(i),["radius","blurRadius","gradientRadius"].forEach((function(i){var r=t.getOption(i);n[i]=e.applyToRelativeSize(r)})),this.set(n,!1)}},{key:"_renderWebGL",value:function(e){return this._renderBlur(e)}},{key:"_renderCanvas",value:function(e){return this._options.highQualityCanvasBlur?this._renderBlur(e):this._renderLQCanvasBlur(e)}},{key:"_renderBlur",value:function(e){var t=e.getDimensions(),n=t.min(),i=this._options,r=i.position,o={blurRadius:i.blurRadius*n,radius:i.radius*n,gradientRadius:i.gradientRadius*n,position:r.clone().multiply(t),texSize:t,blurQuality:"high"};return this._horizontalFilter.set(o),this._verticalFilter.set(o),this._renderTexture.render(this._container),Promise.resolve()}},{key:"_renderLQCanvasBlur",value:function(e){var t=this._options,n=t.blurRadius,i=t.radius,r=t.gradientRadius,o=t.position,a=e.getDimensions();return this._filter.set({blurRadius:n,radius:i,gradientRadius:r,position:o,texSize:a,blurQuality:"low"}),this._sprite.setFilters([this._filter]),this._renderTexture.render(this._container),Promise.resolve()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._filter.dispose(),this._verticalFilter.dispose(),this._horizontalFilter.dispose()}},{key:"hasChanges",value:function(){return!0}}]),n}(Ma)).identifier="radial-focus",Hd.prototype.availableOptions={position:{type:"vector2",default:new Gd(.5,.5)},radius:{type:"number",default:.25},gradientRadius:{type:"number",default:.125},blurRadius:{type:"number",default:.025},highQualityCanvasBlur:{type:"boolean",default:!1}},vs.Operations.RadialFocusOperation=Hd,Wd=Hd})),Gm=z((function(){Vd="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filterImage;\nuniform sampler2D u_maskImage;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filterImage, v_texCoord);\n  vec4 mask = texture2D(u_maskImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, mask);\n}\n"})),Hm=z((function(){Es(),Gm(),(qd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(k.a)(this,n),(e=t.call(this))._fragmentSource=Vd,e}return Object(w.a)(n,[{key:"_applyCanvas",value:function(e,t,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var i,r=t.getCanvas(),o=t.getContext(),a=n.getContext(),s=this._options,l=s.maskCanvas,u=s.filterCanvas,c=l.getContext("2d"),f=u.getContext("2d"),d=c.getImageData(0,0,r.width,r.height).data,h=o.getImageData(0,0,r.width,r.height),p=h.data,m=f.getImageData(0,0,r.width,r.height).data,g=0;g<r.width*r.height*4;g+=4)i=d[g]/255,p[g]=i*m[g]+(1-i)*p[g],p[g+1]=i*m[g+1]+(1-i)*p[g+1],p[g+2]=i*m[g+2]+(1-i)*p[g+2];a.putImageData(h,0,0)}}]),n}(ha.Filter)).prototype.availableOptions={maskImage:{type:"number",default:1,uniformType:"i"},maskCanvas:{type:"object",default:null},filterImage:{type:"number",default:2,uniformType:"i"},filterCanvas:{type:"object",default:null}},Kd=qd})),Wm=z((function(){Es(),Xd=la.Vector2,Yd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(k.a)(this,n),(r=t.call(this,i))._isDisposed=!1,r._operation=e,r._dirtiness={},r.id=ke.getUUID(),r._renderTextures={},r._identitySprite=new ha.Sprite,r._sprite=new ha.Sprite,r._hitTestSprite=new ha.Sprite,r._renderers=[],r}return Object(w.a)(n,[{key:"applyScale",value:function(e){}},{key:"applyRotation",value:function(e){var t=this._operation.getInputDimensions(),n=180*this.getRotation()/Math.PI;n+=e,this.setRotation(n*Math.PI/180);var i=(e+360)%360*Math.PI/180,r=Math.cos(i),o=Math.sin(i),a=this._options.position.clone().subtract(.5).multiply(t),s=new Xd(a.x*r-a.y*o,a.x*o+a.y*r).divide(t.clone().flip());this.setPosition(new Xd(.5,.5).add(s))}},{key:"applyFlip",value:function(e){var t=this.getPosition().clone();switch(e){case"horizontal":t.x=1-this._options.position.x;break;case"vertical":t.y=1-this._options.position.y}this.setPosition(t)}},{key:"applyTransform",value:function(e){var t={};t.rotation=e.applyToRotation(this.getRotation()),t.position=e.applyToRelativePoint(this.getPosition()),this._options.dimensions&&(t.dimensions=e.applyToDimensions(this.getDimensions())),this.set(t,!1)}},{key:"getDisplayObject",value:function(){return this._sprite}},{key:"getHitTestDisplayObject",value:function(){return this._sprite}},{key:"_getTexture",value:function(){throw new Error("Sprite#_getTexture is abstract and not implemented in child class.")}},{key:"_prepareRenderTexture",value:function(e){if(this._renderTexture)this._renderTexture.clear();else{var t=this._getTexture();this._renderTextureContainer=new ha.Container,this._renderTextureSprite=new ha.Sprite(t),this._renderTextureContainer.addChild(this._renderTextureSprite),this._renderTexture=this._getRenderTexture(e.getRenderer(),t.getDimensions())}}},{key:"_rendersToRenderTexture",value:function(e){return e.getOptions().smoothDownscaling&&e.getRenderer().isOfType("webgl")}},{key:"_optionEquals",value:function(e,t){return"type"===e||Object(m.a)(Object(p.a)(n.prototype),"_optionEquals",this).call(this,e,t)}},{key:"update",value:function(e,t){this._isDisposed||(this._rendersToRenderTexture(e)&&(this._prepareRenderTexture(e),this._renderToRenderTexture(e)),this._updateSprite(t))}},{key:"_updateSprite",value:function(e){var t=this;[this._sprite,this._hitTestSprite].forEach((function(n){if(n.getTexture()){n.setAnchor(t._options.anchor),n.setPosition(t._options.position.clone().multiply(e)),"undefined"!==typeof t._options.alpha&&n.setAlpha(t._options.alpha);var i=t._options.dimensions;i&&(i=i.clone().multiply(t._operation.getSDK().getTextureScale()),n.setWidth(i.x),n.setHeight(i.y)),n.updateTransform();var r=n.getTexture().getFrame(),o=new Xd(r.width,r.height);n.setPivot(t._options.pivot.clone().multiply(o)),n.setRotation(t._options.rotation),n.updateTransform()}}))}},{key:"_renderToRenderTexture",value:function(e){var t=this._getTexture().getDimensions(),n=this._getRenderTexture(e.getRenderer(),t),i=t.clone();if(this._options.smoothDownscaling&&(i.x=ke.nextHighestPOT(i.x),i.y=ke.nextHighestPOT(i.y)),this._renderTexture.resizeTo(i),this._renderTexture.render(this._renderTextureContainer),this._options.smoothDownscaling){var r=i.clone().subtract(t.x,t.y).divide(i),o=n.getUVs().getUVs();o[0].x=o[3].x=0,o[1].x=o[2].x=1-r.x,o[0].y=o[1].y=0,o[2].y=o[3].y=1-r.y}this._sprite.setTexture(n)}},{key:"isDirtyForRenderer",value:function(e){return e.id in this._dirtiness||(this._dirtiness[e.id]=!0),this._dirtiness[e.id]}},{key:"setDirtyForRenderer",value:function(e,t){this._renderers[t.id]=t,this._dirtiness[t.id]=e}},{key:"setDirty",value:function(e){for(var t in this._dirtiness)this.setDirtyForRenderer(e,this._renderers[t])}},{key:"_getRenderTexture",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Xd(100,100);return this._renderTextures[e.id]||(this._renderTextures[e.id]=new ha.RenderTexture(e,t.x,t.y,1)),this._renderTextures[e.id]}},{key:"dispose",value:function(){for(var e in this._isDisposed=!0,this._renderTextures)this._renderTextures[e].dispose()}},{key:"canBeDuplicated",value:function(){return!0}},{key:"canBeDeleted",value:function(){return!0}},{key:"canMaskCanvas",value:function(){return!1}},{key:"canAdjustPadding",value:function(){return!1}},{key:"canBeTakenToFront",value:function(){return!0}},{key:"canBeFlippedHorizontally",value:function(){return!0}}]),n}(Nt)})),Vm=z((function(){Es(),Qd=la.Vector2,(Zd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._lastOptions={},e._lastInputDimensions=new Qd(0,0),e._brush=null,e}return Object(w.a)(n,[{key:"getBrushImage",value:function(e){if(this._brush&&this.optionsEqual(this._lastOptions)&&e.equals(this._lastInputDimensions))return this._brush;var t=this._options,n=t.image,i=t.size;n.width=n.height=Math.ceil(i*e.min());var r=ke.createCanvas();r.width=n.width,r.height=n.height;var o=r.getContext("2d");o.drawImage(n,0,0,r.width,r.height);var a=this._tintImageData(o.getImageData(0,0,r.width,r.height),r.width,r.height);return o.putImageData(a,0,0),this._lastOptions=this.serializeOptions(["size","color"]),this._brush=r,this._lastInputDimensions=e.clone(),r}},{key:"_tintImageData",value:function(e){for(var t=this._options.color,n=0;n<e.data.length;n+=4)e.data[n]+=(255*t.r-e.data[n])*t.a,e.data[n+1]+=(255*t.g-e.data[n+1])*t.a,e.data[n+2]+=(255*t.b-e.data[n+2])*t.a;return e}},{key:"clone",value:function(){return new(0,this.constructor)(this._options)}}]),n}(Nt)).prototype.availableOptions={identifier:{type:"string"},image:{type:"image"},size:{type:"number",default:.05},color:{type:"color",default:ut.RED}}})),qm=z((function(){Es(),Vm(),(Jd=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getBrushImage",value:function(e){if(this._brush&&this.optionsEqual(this._lastOptions)&&e.equals(this._lastInputDimensions))return this._brush;var t=this._options,n=t.size,i=t.hardness,r=t.color,o=ke.createCanvas();o.width=o.height=Math.ceil(n*e.min());var a=o.getContext("2d");if((r=r.clone()).a=1,1===o.width)a.fillStyle=r.toRGBA(),a.fillRect(0,0,1,1);else{var s=a.createRadialGradient(o.width/2,o.height/2,Math.min(o.width/2-1,o.width/2*i),o.width/2,o.height/2,o.width/2);s.addColorStop(0,r.toRGBA());var l=r.clone();l.a=0,s.addColorStop(1,l.toRGBA()),a.fillStyle=s,a.fillRect(0,0,o.width,o.height)}return this._lastOptions=this.serializeOptions(["size","color","hardness"]),this._brush=o,this._lastInputDimensions=e.clone(),o}}]),n}(Zd)).identifier="imgly_brush_radial",Jd.prototype.availableOptions=Object(T.a)({},Zd.prototype.availableOptions,{hardness:{type:"number",default:1}})})),Km=z((function(){Es(),$d=la.Vector2,eh=la.CubicBezierCurve,th=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;Object(k.a)(this,e),this._path=t,this._drawnCanvases=[],this._position=n,this._smooth=i}return Object(w.a)(e,[{key:"getBezierCurve",value:function(e,t,n,i){if(!t)return null;var r,o,a,s;i?(r=(i.x-t.x)/this._smooth,o=(i.y-t.y)/this._smooth):(r=(n.x-t.x)/this._smooth,o=(n.y-t.y)/this._smooth),e?(a=(n.x-e.x)/this._smooth,s=(n.y-e.y)/this._smooth):(a=(n.x-t.x)/this._smooth,s=(n.y-t.y)/this._smooth);var l=t.clone().add(a,s),u=n.clone().subtract(r,o);return new eh(t,l,u,n)}},{key:"renderToCanvas",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;if(-1===this._drawnCanvases.indexOf(t)){var a,s=new $d(t.width,t.height),l=t.getContext("2d"),u=this._position.clone().multiply(s),c=i?i.getPosition().clone().multiply(s):null,f=n?n.getPosition().clone().multiply(s):null,d=r?r.getPosition().clone().multiply(s):null,h=(u.clone().subtract(c).len(),e.width/10),p=this.getBezierCurve(f,c,u,d);if(p){p.calculateSegments(20);var m=p.getLength();a=p.arcLengthApproxSample(Math.ceil(m/h))}else a=[u];for(var g=0;g<a.length;g++){var y=a[g],v=.5*e.width/(2*h);v=1/(1+(v*=1-o)),l.globalAlpha=v,l.drawImage(e,y.x-e.width/2,y.y-e.height/2,e.width,e.height)}l.globalAlpha=1,this._drawnCanvases.push(t)}}},{key:"setPosition",value:function(e){this._position=e}},{key:"getPosition",value:function(){return this._position.clone()}},{key:"setDirty",value:function(){this._drawnCanvases=[]}}]),e}()})),Xm=z((function(){Es(),Km(),(nh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,i))._operation=e,o._canvas=r||ke.createCanvas(),o._context=o._canvas.getContext("2d"),o}return Object(w.a)(n,[{key:"serializeOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"controlPoints"===e?this._options.controlPoints.map((function(e){var n=e.getPosition();return t?n.toObject():n.clone()})):Object(m.a)(Object(p.a)(n.prototype),"serializeOption",this).call(this,e,t)}},{key:"_optionEquals",value:function(e,t){if("controlPoints"===e){for(var i=this._options.controlPoints,r=0,o=i.length;r<o;r++)if(!i[r].getPosition().equals(t[r]))return!1;return!0}return Object(m.a)(Object(p.a)(n.prototype),"_optionEquals",this).call(this,e,t)}},{key:"render",value:function(e){var t=this._options,n=t.controlPoints,i=t.size;if(!(n.length<2)){var r,o,a,s,l=this.getBrush(),u=l&&l.getHardness?l.getHardness():1;ke.ensureCanvasDimensions(this._canvas,e),this._brush&&this._lastBrushSize===i&&e.equals(this._brushInputDimensions)||(this._brushInputDimensions=e.clone(),this._lastBrushSize=i);for(var c=0;c<n.length;c++)r=n[c-2],o=n[c-1],a=n[c],s=n[c+1],a.renderToCanvas(this._options.brush.getBrushImage(e),this._canvas,r,o,s,u)}}},{key:"_createBrush",value:function(e){var t=this._options,n=t.size,i=t.hardness,r=t.color,o=ke.createCanvas();o.width=o.height=Math.ceil(n*e.min());var a=o.getContext("2d");if((r=r.clone()).a=1,1===o.width)a.fillStyle=r.toRGBA(),a.fillRect(0,0,1,1);else{var s=a.createRadialGradient(o.width/2,o.height/2,Math.min(o.width/2-1,o.width/2*i),o.width/2,o.height/2,o.width/2);s.addColorStop(0,r.toRGBA());var l=r.clone();l.a=0,s.addColorStop(1,l.toRGBA()),a.fillStyle=s,a.fillRect(0,0,o.width,o.height)}return o}},{key:"addControlPoint",value:function(e){var t=new th(this,e);this._options.controlPoints.push(t),this.emit("update",this)}},{key:"getCanvas",value:function(){return this._canvas}},{key:"setCanvas",value:function(e){this._canvas=e,this._context=e.getContext("2d")}},{key:"setDirty",value:function(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._options.controlPoints.forEach((function(e){e.setDirty()}))}},{key:"forEachControlPoint",value:function(e){this._options.controlPoints.forEach(e)}},{key:"renderToCanvas",value:function(e){var t=e.getContext("2d");t.save(),t.globalAlpha=this._options.brush.getColor().a,t.drawImage(this._canvas,0,0),t.restore()}},{key:"getCanvasDimensions",value:function(){return this._canvasDimensions}}]),n}(Nt)).prototype.availableOptions={id:{type:"string",default:function(){return ke.getUUID()}},brush:{type:"object",required:!0},controlPoints:{type:"array",default:[]},closed:{type:"boolean",default:!1}},ih=nh})),Ym=z((function(){Es(),Wm(),Vm(),qm(),Xm(),rh=la.Vector2,(oh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._persistedPaths=[],e._outputCanvasDirty=!0,e._outputCanvas=ke.createCanvas(),e._outputContext=e._outputCanvas.getContext("2d"),e._persistCanvas=ke.createCanvas(),e._persistContext=e._persistCanvas.getContext("2d"),e._nextCanvas=ke.createCanvas(),e._texture=ha.Texture.fromCanvas(e._outputCanvas),e._sprite.setTexture(e._texture),e._onPathUpdate=e._onPathUpdate.bind(Object(O.a)(e)),e}return Object(w.a)(n,[{key:"applyFlip",value:function(e){this._options.paths.forEach((function(t){t.forEachControlPoint((function(t){var n=t.getPosition().clone();switch(e){case"horizontal":n.x=1-n.x;break;case"vertical":n.y=1-n.y}t.setPosition(n)})),t.setDirty(!0)})),this._reset()}},{key:"applyRotation",value:function(e){this._options.paths.forEach((function(t){t.forEachControlPoint((function(t){var n=t.getPosition().clone();90===e?(n.flip(),n.x=1-n.x):-90===e&&(n.flip(),n.y=1-n.y),t.setPosition(n)})),t.setDirty(!0)})),this._reset()}},{key:"applyTransform",value:function(e){var t=null;this._options.paths.forEach((function(n){n.forEachControlPoint((function(t){t.setPosition(e.applyToRelativePoint(t.getPosition()))}));var i=n.getBrush();i!==t&&(i.setSize(e.applyToRelativeSize(i.getSize())),t=i),n.setDirty(!0)})),this._reset()}},{key:"clearCanvas",value:function(){if(this._outputCanvas){this._outputCanvasDirty=!0;var e=this._outputCanvas,t=e.width,n=e.height;this._outputContext.clearRect(0,0,t,n)}}},{key:"clearPersistCanvas",value:function(){if(this._persistCanvas){var e=this._persistCanvas,t=e.width,n=e.height;this._persistContext.clearRect(0,0,t,n)}}},{key:"serializeOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object(m.a)(Object(p.a)(n.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="brush"),i}},{key:"serializeOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"paths"===e?this._options.paths.map((function(e){return e.serializeOptions(void 0,t)})):Object(m.a)(Object(p.a)(n.prototype),"serializeOption",this).call(this,e,t)}},{key:"createPath",value:function(e){var t=new ih(this._operation,{brush:e},this._nextCanvas);return t.on("update",this._onPathUpdate),this._options.paths.push(t),this.setDirty(!0),t}},{key:"_onPathUpdate",value:function(){this._operation.setDirty(!0),this.setDirty(!0)}},{key:"_onPathPersist",value:function(e){e.renderToCanvas(this._persistCanvas),this._nextCanvas=e.getCanvas(),this._nextCanvas.getContext("2d").clearRect(0,0,this._nextCanvas.width,this._nextCanvas.height),this._persistedPaths.push(e)}},{key:"_getTexture",value:function(){return this._texture}},{key:"setDirtyForRenderer",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(m.a)(Object(p.a)(n.prototype),"setDirtyForRenderer",this).call(this,e,t,i),e&&i&&(this._persistedPaths=[],this.clearPersistCanvas(),this._options.paths.forEach((function(e){e.setDirty(!0)})))}},{key:"setDirty",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in this._dirtiness)this.setDirtyForRenderer(e,this._renderers[n],t)}},{key:"render",value:function(e){var t=this,n=this._operation.getSDK().getRenderer();this.isDirtyForRenderer(n)&&(ke.ensureCanvasDimensions(this._outputCanvas,e),ke.ensureCanvasDimensions(this._persistCanvas,e),this._options.paths.forEach((function(n){n.render(e),n.getClosed()&&-1===t._persistedPaths.indexOf(n)&&t._onPathPersist(n)})),this.clearCanvas(),this._outputContext.drawImage(this._persistCanvas,0,0),this._options.paths.forEach((function(e){e.getClosed()||e.renderToCanvas(t._outputCanvas)})),this.setDirtyForRenderer(!1,n))}},{key:"update",value:function(e,t){t&&(ke.ensureCanvasDimensions(this._outputCanvas,t),ke.ensureCanvasDimensions(this._persistCanvas,t),this._texture.getBaseTexture().update()),this.render(t);var i=e.getRenderer();i.isOfType("webgl")&&i.updateTexture(this._texture.getBaseTexture()),Object(m.a)(Object(p.a)(n.prototype),"update",this).call(this,e,t)}},{key:"_reset",value:function(){this._persistedPaths=[],this._operation&&this._operation.setDirty(!0),this.setDirty(!0),this.clearCanvas(),this.clearPersistCanvas()}},{key:"getCanvas",value:function(){return this._outputCanvas}},{key:"_createRadialBrush",value:function(){return new Jd}},{key:"_getTempCanvas",value:function(){return this._nextCanvas}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._texture&&this._texture.getBaseTexture().dispose()}}]),n}(Yd)).prototype.availableOptions={id:{type:"string",default:function(){return ke.getUUID()}},position:{type:"vector2",default:new rh(0,0)},scale:{type:"vector2",default:new rh(1,1)},anchor:{type:"vector2",default:new rh(0,0)},pivot:{type:"vector2",default:new rh(0,0)},rotation:{type:"number",default:0},paths:{type:"array",default:[],setter:function(e){var t=this;return e=e.map((function(e){if(e instanceof ih)return e;var n=e.brush,i=e.closed,r=new ih(t._operation,{brush:n,closed:i},t._nextCanvas);return e.controlPoints.forEach((function(e){r.addControlPoint(e)})),r})),this._reset(),e}}},oh.type="brush",oh.Brush=Zd,oh.Path=ih,oh.Brushes={RadialBrush:Jd},ah=oh})),Qm=z((function(){Es(),wu(),Hm(),Ym(),sh=la.Vector2,(lh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=(e=t.call.apply(t,[this].concat(r)))._sdk.getRenderer();e._lastBlurRadius=null,e._blurredRenderTexture=new ha.RenderTexture(a,100,100,1),e._maskRenderTexture=new ha.RenderTexture(a,100,100,1),e._brushSprite=new ah(Object(O.a)(e)),e._brushSpriteContainer=new ha.Container;var s=e._brushSprite.getDisplayObject();if(e._brushSpriteContainer.addChild(s),e._outputSprite=new ha.Sprite,e._outputContainer=new ha.Container,e._outputContainer.addChild(e._outputSprite),e._maskFilter=new Kd,a.isOfType("webgl")){e._horizontalFilter=new Qs,e._verticalFilter=new Qs,e._sprite.setFilters([e._horizontalFilter,e._verticalFilter]),e._horizontalFilter.setDelta(new sh(1,1)),e._verticalFilter.setDelta(new sh(-1,1));var l=e._maskRenderTexture.getBaseTexture();l.setGLUnit(e._maskFilter.getMaskImage()),a.updateTexture(l,!1),(l=e._blurredRenderTexture.getBaseTexture()).setGLUnit(e._maskFilter.getFilterImage()),a.updateTexture(l,!1)}else a.isOfType("canvas")&&(e._blurFilter=new Qs,e._sprite.setFilters([e._blurFilter]),e._maskFilter.setMaskCanvas(e._maskRenderTexture.getRenderTarget().getCanvas()),e._maskFilter.setFilterCanvas(e._blurredRenderTexture.getRenderTarget().getCanvas()));return e._outputSprite.setFilters([e._maskFilter]),e}return Object(w.a)(n,[{key:"flip",value:function(e){this._brushSprite.applyFlip(e),this.setDirty(!0,!0),this._lastBlurRadius=null}},{key:"rotate",value:function(e){this._brushSprite.applyRotation(e),this.setDirty(!0,!0),this._lastBlurRadius=null}},{key:"transform",value:function(e,t){this._brushSprite.applyTransform(e,t),this.setDirty(!0,!0),this._lastBlurRadius=null}},{key:"_render",value:function(e){return this._renderBlur(e),this._renderMask(e),this._outputSprite.setTexture(e),this._renderTexture.render(this._outputContainer),Promise.resolve()}},{key:"_renderMask",value:function(e){var t=e.getDimensions();this._maskRenderTexture.getDimensions().equals(t)||this._maskRenderTexture.resizeTo(t),this._brushSprite.update(this._sdk,t),this._maskRenderTexture.clear(ut.BLACK),this._maskRenderTexture.render(this._brushSpriteContainer);var n=this._sdk.getRenderer();n.isOfType("webgl")&&n.updateTexture(this._maskRenderTexture.getBaseTexture(),!1)}},{key:"_renderBlur",value:function(e){var t=e.getDimensions(),n=this._blurredRenderTexture.getDimensions();n.equals(t)||this._blurredRenderTexture.resizeTo(t);var i=this._options.blurRadius;if(this._lastBlurRadius!==i||!n.equals(t)){var r,o=this._sdk.getRenderer();if(o.isOfType("webgl"))r={blurRadius:i*t.min(),texSize:t},this._horizontalFilter.set(r),this._verticalFilter.set(r);else o.isOfType("canvas")&&(r={blurRadius:i},this._blurFilter.set(r));this._blurredRenderTexture.render(this._container),this._lastBlurRadius=i}var a=this._sdk.getRenderer();a.isOfType("webgl")&&a.updateTexture(this._blurredRenderTexture.getBaseTexture(),!1)}},{key:"getBrush",value:function(){return this._brushSprite}},{key:"createPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new ah.Brushes.RadialBrush({size:e,hardness:t,color:ut.WHITE}),i=this._brushSprite.createPath(n);return this._options.paths.push(i),this.setDirty(!0),i}},{key:"setDirtyForRenderer",value:function(e,t,i){Object(m.a)(Object(p.a)(n.prototype),"setDirtyForRenderer",this).call(this,e,t,i),this._brushSprite.setDirtyForRenderer(e,t,i)}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._sdk.getRenderer().isOfType("webgl")?(this._verticalFilter.dispose(),this._horizontalFilter.dispose()):this._blurFilter.dispose(),this._brushSprite.dispose(),this._maskFilter.dispose(),this._blurredRenderTexture.dispose(),this._maskRenderTexture.dispose()}},{key:"hasChanges",value:function(){return!0}}]),n}(Ma)).identifier="selective-blur",lh.prototype.availableOptions={blurRadius:{type:"number",default:.05},paths:{type:"array",default:[],setter:function(e){return this._brushSprite&&this._brushSprite.setPaths(e),e}}},vs.Operations.SelectiveBlurOperation=lh,uh=lh})),Zm=z((function(){Es(),pu(),Wm(),ch=la.Vector2,fh=la.ColorMatrix,(dh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];var a=(e=t.call.apply(t,[this].concat(r)))._options.image,s=a.src||a.filePath||a.toDataUrl&&a.toDataURL();return e._isSVG=s&&(!!s.match(/\w+\.svg(?=\?|$)/i)||s.match(/data:image\/svg/i)),e._isSVG&&(e._canvas=ke.createCanvas(),e._context=e._canvas.getContext("2d"),e._options.smoothDownscaling=!1),a&&e._onImageUpdate(),e._tintFilter=new ha.Filters.TintFilter,e._adjustmentsFilter=new Os,e._lastRenderedDimensions=ch.NULL,e._lastRenderedInputDimensions=ch.NULL,e._onOptionsChange=e._onOptionsChange.bind(Object(O.a)(e)),e._options.adjustments.on("update",e._onOptionsChange),e}return Object(w.a)(n,[{key:"applyScale",value:function(e){this.setDimensions(this.getDimensions().multiply(e))}},{key:"serializeOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object(m.a)(Object(p.a)(n.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="sticker"),i}},{key:"_rendersToRenderTexture",value:function(e){return this._options.smoothDownscaling&&!this._isSVG&&e.getRenderer().isOfType("webgl")||this._hasAdjustments()||"none"!==this._options.tintMode}},{key:"_getTexture",value:function(){return this._inputTexture}},{key:"update",value:function(e,t){var n=this._options,i=n.dimensions,r=n.image;if(i.equals(ch.NULL)&&i.set(r.width,r.height),this._sprite.setSmoothDownscaling(!this._isSVG&&this.getSmoothDownscaling()),(!this._lastRenderedInputDimensions.equals(t)||!this._lastRenderedDimensions.equals(i)||this._lastRenderedImage!==r)&&this._isSVG&&e.getRenderer().isOfType("webgl")){r.width=Math.round(i.x),r.height=Math.round(i.y);var o=4096,a=r.width/r.height;r.width>o&&(r.width=o,r.height=Math.round(r.width/a)),r.height>o&&(r.height=o,r.width=Math.round(r.height*a)),this._canvas.width=r.width,this._canvas.height=r.height,this._context.clearRect(0,0,r.width,r.height),this._context.drawImage(r,0,0,r.width,r.height),this._inputTexture.getBaseTexture().update()}this._rendersToRenderTexture(e)&&this._prepareRenderTexture(e);var s=[];if(this._rendersToRenderTexture(e)){if(this._hasAdjustments()){s.push(this._adjustmentsFilter);var l=this._options.adjustments,u=new fh;u.multiply(fh.createBrightnessMatrix(l.getBrightness())),u.multiply(fh.createSaturationMatrix(l.getSaturation())),u.multiply(fh.createContrastMatrix(l.getContrast())),this._adjustmentsFilter.set({colorMatrix:u})}this._options.tintMode&&"none"!==this._options.tintMode&&(s.push(this._tintFilter),this._tintFilter.set({mode:ha.Filters.TintFilter.MODES[this._options.tintMode.toUpperCase()],color:this._options.tintColor}),this._sprite.getTexture()&&this._sprite.getTexture()._baseTexture&&this._sprite.getTexture()._baseTexture.setDirty(!0)),this._renderTextureSprite.setFilters(s)}this._rendersToRenderTexture(e)?this._renderToRenderTexture(e):this._sprite.setTexture(this._inputTexture),this._updateSprite(t),this._applyFlip(),this._lastRenderedDimensions.copy(i),this._lastRenderedInputDimensions.copy(t),this._lastRenderedImage=r}},{key:"_applyFlip",value:function(){var e=this._sprite.getScale(),t=this._options,n=t.flipHorizontally,i=t.flipVertically;(n&&e.x>0||!n&&e.x<0)&&(e.x*=-1),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1),this._sprite.setScale(e)}},{key:"applyFlip",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"applyFlip",this).call(this,e);var t={rotation:this._options.rotation},i=-1*(t.rotation/Math.PI*180);switch(t.rotation=i*Math.PI/180,e){case"horizontal":t.flipHorizontally=!this._options.flipHorizontally,this.set(t);break;case"vertical":t.flipVertically=!this._options.flipVertically,this.set(t)}}},{key:"_hasAdjustments",value:function(){var e=this._options.adjustments;return 0!==e.getBrightness()||1!==e.getSaturation()||1!==e.getContrast()}},{key:"_onImageUpdate",value:function(){var e=this._options.image,t=this._operation.getSDK().getRenderer();this._isSVG&&t.isOfType("webgl")&&(e=this._canvas),this._inputTexture&&(this._inputTexture.dispose(),this._inputTexture=null),this._inputTexture=ha.Texture.fromImage(e),this._identitySprite.setTexture(this._inputTexture),this._sprite.setTexture(this._inputTexture),this._renderTexture&&(this._renderTextureSprite.setTexture(this._inputTexture),this._renderTexture.resizeTo(this._inputTexture.getDimensions())),this.setDirty(!0)}},{key:"scalesUniformly",value:function(){return"keepAspect"===this._options.resizeMode}},{key:"setOption",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Object(m.a)(Object(p.a)(n.prototype),"setOption",this).call(this,e,t,i),"image"===e&&this._identitySprite&&this._onImageUpdate()}},{key:"_onOptionsChange",value:function(){var e=this._dirtiness;for(var t in e)e[t]=!0}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._inputTexture&&(this._inputTexture.dispose(),this._inputTexture=null),this._tintFilter.dispose(),this._adjustmentsFilter.dispose(),this._options.adjustments.off("updated",this._onOptionsChange)}}]),n}(Yd)).prototype.availableOptions={id:{type:"string",default:function(){return ke.getUUID()}},identifier:{type:"string",default:""},image:{type:"image",required:!0},position:{type:"vector2",default:ch.NULL},dimensions:{type:"vector2",default:ch.NULL},anchor:{type:"vector2",default:new ch(0,0)},pivot:{type:"vector2",default:new ch(.5,.5)},rotation:{type:"number",default:0},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1},smoothDownscaling:{type:"boolean",default:!1},tintColor:{type:"color",default:ut.WHITE},tintMode:{type:"string",default:"none",available:["none","solid","colorized"]},resizeMode:{type:"string",default:"keepAspect",available:["keepAspect","unrestricted"]},alpha:{type:"number",default:1},adjustments:{type:"configurable",structure:{brightness:{type:"number",default:0},saturation:{type:"number",default:1},contrast:{type:"number",default:1}}}},dh.type="sticker",hh=dh})),Jm=z((function(){W(mh=ph=function(){function e(t){Object(k.a)(this,e),this._seed=void 0===t?ph.TimeSeed():t}return Object(w.a)(e,[{key:"seed",value:function(e){this._seed=void 0===e?ph.TimeSeed():e}},{key:"next",value:function(){var e=0|this._seed,t=e/ph.SEED_DIVIDER|0,n=e%ph.SEED_DIVIDER|0;return(e=ph.SEED_LOW_MULTIPLY*n-ph.SEED_HIGH_MULTIPLY*t)<=0&&(e+=ph.MAX),-1===e&&(e=ph.MAX-1),this._seed=e,e}},{key:"nextInRange",value:function(e,t){return void 0===t&&(t=e,e=0),e+this.next()%(t-e+1)}},{key:"nextBool",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.nextInRange(e+t-1)>=e}},{key:"pickNext",value:function(e){return Array.isArray(e)?e[this.next()%e.length]:null}}],[{key:"TimeSeed",value:function(){return Date.now()}}]),e}(),"MAX",2147483647),W(mh,"SEED_DIVIDER",127773),W(mh,"SEED_LOW_MULTIPLY",16807),W(mh,"SEED_HIGH_MULTIPLY",2836)})),$m=z((function(){Es(),gh=la.Rectangle,yh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(k.a)(this,e),this.width=t,this.height=n}return Object(w.a)(e,[{key:"set",value:function(e,t){this.width=e,this.height=t}},{key:"aspect",value:function(){return this.width/this.height}},{key:"rectangle",value:function(e,t){return new gh(e,t,this.width,this.height)}},{key:"clone",value:function(){return new yh(this.width,this.height)}},{key:"scale",value:function(e,t){return void 0===t&&(t=e),this.width*=e,this.height*=t,this}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this}},{key:"fitInWidthWithOther",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new yh;return this.copy(yh.fitTwoInWidth(e,this,t)[0]),this}}],[{key:"fitTwoInWidth",value:function(e,t,n){var i=t.width*n.height+t.height*n.width,r=n.height*e/i,o=t.width*r,a=t.height*r;return[new yh(o,a),new yh(e-o,a)]}}]),e}()})),eg=z((function(){Es(),vh=U(J()),(bh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"loadImages",value:function(){var e=Object(v.a)(_.a.mark((function e(t){var n=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,vh.default)(t,function(){var e=Object(v.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.addImage(t.path,t.fullPath,t.image));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addImage",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"anonymous",r=this.getImages();return n?(r[e]={fullPath:t,image:n},Promise.resolve({fullPath:t,image:n})):new Promise((function(o,a){(n=new Ea).onload=function(){r[e]={fullPath:t,image:n},o({fullPath:t,image:n})},n.crossOrigin=ke.getCrossOriginValue(i),n.onerror=a,n.src=t}))}},{key:"getImage",value:function(e){var t=this.getImages()[e];return t?t.image:null}},{key:"getVariation",value:function(e){return this.getFonts()[e]}},{key:"addFont",value:function(e,t){return this.getFonts()[e]=t,t}}]),n}(Nt)).prototype.availableOptions={images:{type:"object",default:{}},fonts:{type:"object",default:{}}},_h=new bh})),tg=z((function(){Es(),$m(),eg(),xh=function(e,t,n,i){var r=n*(4*i)+4*t;return{r:e[r],g:e[r+1],b:e[r+2],a:e[r+3]}},kh=function(e){return e.a<=254},wh=function(e,t,n){for(var i=!0,r=0;r<n;r++){var o=xh(e,r,t,n);if(!kh(o)){i=!1;break}}return i},Oh=function(e,t,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=0,a=i+1;a<n;a++)if(wh(e,a,t)){if(r)break}else o=a-i+1;return o},Sh=function(e,t,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=0,a=i-1;a>=0;a--)if(wh(e,a,t)){if(r)break}else o=i-a;return o},Ch=function(e,t,n,i,r){e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.stroke()},jh=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"red";e.save(),e.strokeStyle=r,Ch(e,n,t,i,t),e.restore()},Th=function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"blue";e.save(),e.strokeStyle=o,e.strokeRect(t,n,i,r),e.restore()},(Eh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;Object(k.a)(this,n),i=t.call(this,e);var r=_h.getVariation(i.getFontIdentifier());return r||Ee.warn("TextDesignFont: Unable to find font '".concat(i._fontIdentifier,"'")),i.set({fontVariation:r}),i._metrics=null,i._canvas=ke.createCanvas(),i._context=i._canvas.getContext("2d"),i._isDirty=!0,i}return Object(w.a)(n,[{key:"_onOptionsChange",value:function(){this._isDirty=!0}},{key:"setOption",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(m.a)(Object(p.a)(n.prototype),"setOption",this).call(this,e,t,i,r),"fontIdentifier"!==e||r||this.updateFontVariation()}},{key:"updateFontVariation",value:function(){var e=_h.getVariation(this.getFontIdentifier());return e||Ee.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.setFontVariation(e),e}},{key:"setOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Object(T.a)({},this._options,{},e),this._isDirty=!0}},{key:"_applyTextOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._context,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(T.a)({},this._options,{},t),i=n.fontSize,r=n.fontVariation,o=n.lineHeight,a=n.textColor,s=n.alignment,l=r.serializeOptions(),u=l.fontStyle,c=l.fontWeight,f=l.fontFamily;e.font="".concat(u," ").concat(c," ").concat(i,"px / ").concat(o," ").concat(f),e.fillStyle=a,e.textBaseline="alphabetic",e.textAlign=s||"left"}},{key:"getTextMetrics",value:function(){return this._metrics&&!this._isDirty||this._calculateTextMetrics(),Object(T.a)({},this._metrics)}},{key:"getSizeValue",value:function(){return this._metrics&&!this._isDirty||this._calculateTextMetrics(),new yh(this._metrics.width,this._metrics.height)}},{key:"fitWidth",value:function(e){if(this.getFontVariation()){this._applyTextOptions(this._context,{fontSize:50});var t=e/this._context.measureText(this.getText()).width,n=Math.floor(50*t);return this.setFontSize(n),this._calculateTextMetrics(),this.getTextMetrics()}Ee.warn("TextDesignFont#fitText: missing font variation")}},{key:"fitHeight",value:function(e){if(this.getFontVariation()){var t=e/this._calculateTextMetrics({fontSize:50}).height,n=Math.floor(50*t);return this.setFontSize(n),this._calculateTextMetrics(),this.getTextMetrics()}Ee.warn("TextDesignFont#fitText: missing font variation")}},{key:"_calculateTextMetrics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._canvas,n=this._context,i=Object(T.a)({},this._options,{},e),r=this.getText();this._applyTextOptions(n,i);var o=Math.ceil(n.measureText(r).width),a=Math.floor(o+2*i.fontSize),s=Math.floor(3*i.fontSize);t.width=a,t.height=s;var l=Math.floor(i.fontSize),u=Math.floor(.6*s);this._applyTextOptions(n,i),n.fillText(r,l,u);var c=n.getImageData(0,0,t.width,t.height).data,f=Sh(c,a,s,u,this._options.excludeAccents),d=Oh(c,a,s,u,this._options.excludeAccents),h=o,p=f+d;return this._metrics={width:h,height:p,ascender:f,descender:d},this._isDirty=!1,Object(T.a)({},this._metrics)}},{key:"draw",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._context,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.save(),this._metrics&&!this._isDirty||this._calculateTextMetrics(),this._applyTextOptions(e,i),e.fillText(this.getText(),t,n+this._metrics.ascender),r&&(Th(e,t,n,this._metrics.width,this._metrics.height),jh(e,n+this._metrics.ascender,t,t+this._metrics.width)),e.restore()}}]),n}(Nt)).prototype.availableOptions={text:{type:"string",default:""},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"},fontVariation:{type:"object",default:null},lineHeight:{type:"number",default:1},fontSize:{type:"number",default:22},textColor:{type:"string",default:"black"},strokeStyle:{type:"string",default:"black"},outlineWidth:{type:"number",default:0},textBaseline:{type:"string",default:"alphabetic"},excludeAccents:{type:"boolean",default:!1}}})),ng=z((function(){Es(),(Dh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(Nt)).prototype.availableOptions={text:{type:"string",default:""},frame:{type:"object",default:null},font:{type:"object",default:null}}})),ig=z((function(){Es(),(Ih=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(Nt)).prototype.availableOptions={tintColor:{type:"color",default:ut.BLACK},textColor:{type:"color",default:ut.BLACK},alignment:{type:"string",default:"left",available:["left","center","right"]},lineSpacing:{type:"number",default:1},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"}}})),rg=z((function(){Es(),$m(),ig(),Rh=la.Rectangle,(Fh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this,e)).setSize(new yh(i.getWidth(),0)),i.serverImageSmoothingFix=!1,i}return Object(w.a)(n,[{key:"_getFrame",value:function(){var e=this.getSize();return new Rh(0,0,e.width,e.height)}},{key:"_getTextFrame",value:function(){return this._getFrame()}},{key:"_getTextFrameForElement",value:function(e){return e.getFrame().clone()}},{key:"_calculateLayoutElements",value:function(){Ee.warn("TextDesignRow is an abstract class.")}},{key:"_getLayoutElements",value:function(){return this._options.elements.length<=0&&this.layout(),this.getElements()}},{key:"_fontSize",value:function(e){return Ee.warn("TextDesignRow#_fontSize not implemented. @TODO: Is it necessary?"),0}},{key:"layout",value:function(){return this.setElements(this._calculateLayoutElements()),this}},{key:"textFrame",value:function(e,t){return e.getFrame().clone()}},{key:"willRender",value:function(e){}},{key:"didRender",value:function(e){}},{key:"render",value:function(e){var t=this;e.save(),this._getLayoutElements().forEach((function(n){var i=n.serializeOptions(),r=(i.text,i.frame),o=i.font,a=t.getAttributes();o.draw(e,r.x,r.y,{textColor:a.getTextColor().toRGBA(),alignment:a.getAlignment()})})),e.restore()}}]),n}(Nt)).prototype.availableOptions={words:{type:"object",default:null},width:{type:"number",default:100},attributes:{type:"configurable",default:new Ih},shearingAngle:{type:"number",default:0},elements:{type:"array",default:[]},size:{type:"object",default:null}}})),og=z((function(){Es(),tg(),ng(),rg(),Ah=la.Rectangle,W(Ph=Mh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_calculateLayoutElements",value:function(){if(this.getWords().size()<=0)return[];var e=this.serializeOptions(),t=e.orientation,n=e.width,i=e.size,r=e.relativeRowOffset,o=e.attributes.fontIdentifier,a=this.getWords().joined(3),s=t===Mh.Orientations.Left?[a[0],a[1],a[2]]:[a[1],a[2],a[0]],l=ke.Array.range(0,2).map((function(e){return new Eh({text:s[e],fontIdentifier:o,fontSize:60})})),u=l.map((function(e){return e.getSizeValue()})),c=u[0].width>u[1].width?0:1,f=(c+1)%2;l[f].fitWidth(u[c].width),u[f]=l[f].getSizeValue();var d=(u[f].height+u[c].height)/(1-r),h=new Eh({text:s[2],fontIdentifier:o});h.fitHeight(d);var p=h.getSizeValue().width,m=u[c].width,g=n/(p+m),y=g*p,v=g*m,b=g*d,_=r*b;i.set(n,b);var x=ke.Array.range(0,3).map((function(e){return new Eh({text:s[e],fontIdentifier:o})}));x[0].fitWidth(v),x[1].fitWidth(v),x[2].fitWidth(y);var k=t===Mh.Orientations.Left?0:y,w=[k,k,t===Mh.Orientations.Left?v:0],O=[0,x[0].getSizeValue().height+_,0],S=x.map((function(e,t){return new Ah(w[t],O[t],e.getSizeValue().width,e.getSizeValue().height)}));return x.map((function(e,t){return new Dh({text:s[t],font:x[t],frame:S[t]})}))}}]),n}(Fh),"Orientations",{Right:"RIGHT",Left:"LEFT"}),Ph.prototype.availableOptions=Object(T.a)({},Fh.prototype.availableOptions,{orientation:{type:"string",default:Ph.Orientations.Left,available:[Ph.Orientations.Right,Ph.Orientations.Left]},relativeRowOffset:{type:"number",default:.05}})})),ag=z((function(){Es(),zh=la.Rectangle,Bh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(k.a)(this,e),this.top=t,this.left=n,this.bottom=i,this.right=r}return Object(w.a)(e,[{key:"multiply",value:function(e){this.top*=e,this.left*=e,this.bottom*=e,this.right*=e}},{key:"toObject",value:function(){return Object(T.a)({},this)}},{key:"equals",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.abs(e.top-this.top)<=t&&Math.abs(e.left-this.left)<=t&&Math.abs(e.bottom-this.bottom)<=t&&Math.abs(e.right-this.right)<=t}},{key:"scale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return void 0===t&&(t=e),this.top*=t,this.bottom*=t,this.left*=e,this.right*=e,this}},{key:"clone",value:function(){return new Bh(this.top,this.left,this.bottom,this.right)}},{key:"applyToRectangle",value:function(e){return new zh(e.x+this.left,e.y+this.top,e.width-this.left-this.right,e.height-this.top-this.bottom)}}],[{key:"ZERO",get:function(){return new Bh(0,0,0,0)}}]),e}()})),sg=z((function(){Es(),tg(),ag(),ng(),rg(),(Lh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_calculateLayoutElements",value:function(){var e=this.serializeOptions(),t=e.attributes,n=e.imageInsets,i=e.size,r=(e.width,this.getWords().joined(1)[0]||""),o=t.fontIdentifier,a=new Eh({text:r,fontIdentifier:o});a.fitWidth(this._getTextFrame().width);var s=a.getTextMetrics().height+n.top+n.bottom;i.height=s;var l=this._getTextFrame();return[new Dh({text:r,frame:l,font:a})]}}]),n}(Fh)).prototype.availableOptions=Object(T.a)({},Fh.prototype.availableOptions,{imageInsets:{type:"object",default:new Bh}})})),lg=z((function(){Es(),Nh=la.Rectangle,Uh=la.Vector2,Gh=function(e,t,n,i){e.drawImage(t,n.x,n.y,n.width,n.height,i.x,i.y,i.width,i.height)},Hh=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"source-over",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e.save(),e.fillStyle=n.toRGBA(),e.globalCompositeOperation=i,e.fillRect(t.x,t.y,t.width,t.height),r&&(e.strokeStyle=n.toRGBA(),e.strokeWith=1,e.strokeRect(t.x,t.y,t.width,t.height)),e.restore()},Wh=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"source-over",o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e.save(),e.fillStyle=i.toRGBA(),e.globalCompositeOperation=r,n=Math.min(Math.max(n,0),.5*Math.min(t.height,t.width));var a=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;e.beginPath(),e.moveTo(a+n,l),e.arcTo(s,l,s,u,n),e.arcTo(s,u,a,u,n),e.arcTo(a,u,a,l,n),e.arcTo(a,l,s,l,n),e.closePath(),e.fill(),o&&e.stroke(),e.restore()},Vh=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;e.save(),e.strokeStyle=n.toRGBA(),e.lineWidth=i,e.strokeRect(t.x,t.y,t.width,t.height),e.restore()},qh=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"source-over";e.save();var r=t.height/2,o=t.y+r,a=t.x+r,s=t.x+t.width;for(e.fillStyle=n.toRGBA(),e.globalCompositeOperation=i;a<s;)e.beginPath(),e.arc(a,o,r,0,2*Math.PI),e.fill(),a+=4*r;e.restore()},Kh=function(e,t){var n=t.applyToRectangle(e),i=e.x,r=e.y,o=e.width,a=e.height;return{corners:[Nh.FromDiagonalPoints(new Uh(0,0),new Uh(n.x,n.y)),Nh.FromDiagonalPoints(new Uh(0,n.y+n.height),new Uh(n.x,a)),Nh.FromDiagonalPoints(new Uh(n.x+n.width,n.y+n.height),new Uh(o,a)),Nh.FromDiagonalPoints(new Uh(n.x+n.width,0),new Uh(o,n.y))].map((function(e){return e.translate(i,r)})),bars:[Nh.FromDiagonalPoints(new Uh(n.x,0),new Uh(n.x+n.width,n.y)),Nh.FromDiagonalPoints(new Uh(0,n.y),new Uh(n.x,n.y+n.height)),Nh.FromDiagonalPoints(new Uh(n.x,n.y+n.height),new Uh(n.x+n.width,a)),Nh.FromDiagonalPoints(new Uh(n.x+n.width,n.y),new Uh(o,n.y+n.height))].map((function(e){return e.translate(i,r)})),center:n}},Xh=function(e,t,n,i){var r=t.naturalWidth||t.width,o=t.naturalHeight||t.height,a=Kh(new Nh(0,0,r,o),i),s=Kh(n,i);Gh(e,t,a.center,s.center),ke.Array.zip(a.corners,s.corners).forEach((function(n){var i=Object(y.a)(n,2),r=i[0],o=i[1];return Gh(e,t,r,o)})),ke.Array.zip(a.bars,s.bars).forEach((function(n){var i=Object(y.a)(n,2),r=i[0],o=i[1];return Gh(e,t,r,o)}))},Yh=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"source-atop";if(e.save(),i&&(e.globalAlpha=i.a),e.drawImage(t,n.x,n.y,n.width,n.height),i&&(e.globalAlpha=1),i){var o=i.clone();o.a=1,Hh(e,n,o,r)}e.restore()}})),ug=z((function(){Es(),lg(),ag(),sg(),(Qh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_getTextColor",value:function(){return this.getAutoAdjustTextColor()&&!this.getIsMasked()?this.getBackgroundColor().equals(ut.WHITE)?ut.BLACK:ut.WHITE:this.getAttributes().getTextColor().clone()}},{key:"_getTextFrame",value:function(){return this.getImageInsets().applyToRectangle(this._getFrame())}},{key:"_getTextFrameForElement",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_getTextFrameForElement",this).call(this,e),i=this.getImageInsets();return(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&(t.y-=i.top),t}},{key:"willRender",value:function(e){this.getAttributes().setTextColor(this._getTextColor());var t=this.getImage();if(t){var n=this.getCapInsets(),i=this._getFrame();n&&!n.equals(Bh.ZERO)?Xh(e,t,i,n):e.drawImage(t,i.x,i.y,i.width,i.height),Hh(e,i,this.getBackgroundColor(),"source-atop",!0)}(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&t&&(e.save(),e.globalCompositeOperation="destination-out")}},{key:"didRender",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"didRender",this).call(this,e),(this.getIsMasked()||this.getIsUsedInInvertedLayout())&&e.restore()}}]),n}(Lh)).prototype.availableOptions=Object(T.a)({},Lh.prototype.availableOptions,{image:{type:"image",default:null},capInsets:{type:"object",default:new Bh},backgroundColor:{type:"color",default:ut.WHITE},autoAdjustTextColor:{type:"boolean",default:!0},isMasked:{type:"boolean",default:!0},isUsedInInvertedLayout:{type:"boolean",default:!1}})})),cg=z((function(){Es(),ag(),(Zh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"insetsForWidth",value:function(e){return this.getRelativeInsets().clone().scale(e)}}],[{key:"Small",get:function(){return new Zh({imagePath:"text-design/images/imgly_text_design_asset_banderole_small.png",fontIdentifier:"imgly_font_outfit_bold",relativeInsets:new Bh(.05,.2,.05,.2)})}},{key:"Rectangle",get:function(){return new Zh({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",fontIdentifier:"imgly_font_outfit_bold",relativeInsets:new Bh(.05,.05,.05,.05),needsImageSmoothingFix:!0})}},{key:"Celebrate1",get:function(){return new Zh({imagePath:"text-design/images/imgly_text_design_asset_celebrate_01.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new Bh(.05,.2,.05,.2)})}},{key:"Celebrate2",get:function(){return new Zh({imagePath:"text-design/images/imgly_text_design_asset_celebrate_02.png",fontIdentifier:"imgly_font_rasa_500",relativeInsets:new Bh(.05,.2,.05,.2)})}}]),n}(Nt)).prototype.availableOptions={image:{type:"image",default:null},imagePath:{type:"string",default:null},relativeInsets:{type:"object",default:new Bh},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"},needsImageSmoothingFix:{type:"boolean",default:!1}}})),fg=z((function(){Es(),ag(),$m(),(Jh=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getSize",value:function(){var e=this.getRows(),t=this.getWidth(),n=e.length-1,i=e.reduce((function(e,t){return e+t.getSize().height}),0);i+=(n+1)*this.getRelativeLineSpacing()*t;var r=this.getRelativeInsets().clone().scale(t);return i+=r.top+r.bottom,new yh(t,i)}}]),n}(Nt)).prototype.availableOptions={text:{type:"string",default:""},lines:{type:"array",default:[]},relativeInsets:{type:"object",default:new Bh},relativeLineSpacing:{type:"number",default:0},rows:{type:"object",default:[]},background:{type:"object",default:null},width:{type:"number",default:0}}})),dg=z((function(){Es(),$h=function(){function e(t){Object(k.a)(this,e),this.words=[],t&&this.splitIntoWords(t)}return Object(w.a)(e,[{key:"splitIntoWords",value:function(e){return this.words=e.match(/\S+/g)||[],Object(x.a)(this.words)}},{key:"get",value:function(){return Object(x.a)(this.words)}},{key:"getWord",value:function(e){return this.words[e]}},{key:"set",value:function(e){return this.words=Object(x.a)(e),this}},{key:"slice",value:function(e,t){return $h.fromWords(this.words.slice(e,t))}},{key:"getLowerCase",value:function(){return this.words.map((function(e){return e.toLowerCase()}))}},{key:"getUpperCase",value:function(){return this.words.map((function(e){return e.toUpperCase()}))}},{key:"size",value:function(){return this.words.length}},{key:"countNumberOfCharacters",value:function(){return this.words.reduce((function(e,t){return e+t.length}),0)}},{key:"joined",value:function(e){var t=this,n=this.size(),i=Math.floor(n/e),r=n%e,o=0,a=0;return ke.Array.range(0,e).map((function(e){o=a;var s=i+(e<r?1:0);return a=Math.min(o+s,n),ke.Array.range(o,a).reduce((function(e,n){return e+(n===o?"":" ")+t.words[n]}),"")}))}}],[{key:"fromWords",value:function(e){var t=new $h;return t.words=Object(x.a)(e),t}}]),e}()})),hg=z((function(){Es(),Jm(),ag(),sg(),ig(),fg(),dg(),10,4,.4,W(ep=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this,e))._relativeInsets=new Bh,i._background=null,i._fontRandomizer=new mh(0),i._lineNumberRandomizer=new mh(0),i._wordsPerLineRandomizer=new mh(0),i._seedPool=[i._fontRandomizer,i._lineNumberRandomizer,i._wordsPerLineRandomizer],i}return Object(w.a)(n,[{key:"seed",value:function(e){this._seedPool.forEach((function(t){return t.seed(e)}))}},{key:"getImagePaths",value:function(){return[]}},{key:"onImagesLoaded",value:function(){}},{key:"getMaximumNumberOfTries",value:function(){return 10}},{key:"getMinLineCountOfRandom",value:function(){return 4}},{key:"getRandomAdditionalLinePercentage",value:function(){return.4}},{key:"_fontForRow",value:function(e,t){return this._fontRandomizer.pickNext(this.getFontIdentifiers())}},{key:"_modifiedText",value:function(e){return e.replace("\n"," ").replace("\t"," ")}},{key:"_minimumNumberOfLines",value:function(e){return Math.ceil(Math.sqrt(e.size()))}},{key:"_maximumNumberOfLines",value:function(e){return e.size()}},{key:"_calculatedNumberOfLines",value:function(e){var t=this._minimumNumberOfLines(e);if(e.size()>=this.getMinLineCountOfRandom()){var n=Math.floor(Math.max(1,t*this.getRandomAdditionalLinePercentage()));t+=this._lineNumberRandomizer.nextInRange(0,n)}return Math.min(t,this._maximumNumberOfLines(e))}},{key:"_randomizedNumberOfWordsPerLine",value:function(e,t){var n=this;if(e>t)return Ee.warn("TextDesign#_randomizedNumberOfWordsPerLine: Invalid number of lines"),t;var i=ke.Array.repeat(1,e);return ke.Array.range(e,t).forEach((function(t){var r=n._wordsPerLineRandomizer.nextInRange(0,e-1);i[r]+=1})),i}},{key:"_textLines",value:function(e){var t=new $h(e),n=this._calculatedNumberOfLines(t);return this._randomizedNumberOfWordsPerLine(n,t.size()).reduce((function(e,n){return{index:e.index+n,lines:[].concat(Object(x.a)(e.lines),[t.slice(e.index,Math.min(e.index+n,t.size()))])}}),{index:0,lines:[]}).lines}},{key:"_validTextLines",value:function(e){var t=this._textLines(e),n=0;do{if((n=ke.Array.findIndex(t,(function(e){return e.countNumberOfCharacters()<3})))>=0){var i=t[n-1],r=t[n+1];(i?i.countNumberOfCharacters():Number.MAX_SAFE_INTEGER)<(r?r.countNumberOfCharacters():Number.MAX_SAFE_INTEGER)&&i?(i.words=[].concat(Object(x.a)(i.words),Object(x.a)(t[n].words)),t=[].concat(Object(x.a)(t.slice(0,n)),Object(x.a)(t.slice(n+1)))):r&&(r.words=[].concat(Object(x.a)(t[n].words),Object(x.a)(r.words)),t=[].concat(Object(x.a)(t.slice(0,n)),Object(x.a)(t.slice(n+1))))}}while(n>-1&&t.length>1);return t}},{key:"_modifiedLines",value:function(e){return e}},{key:"_getBackground",value:function(){return this._background}},{key:"generateLayoutData",value:function(e,t){var n=this._modifiedText(e),i=this._modifiedLines(this._validTextLines(n)),r=t*(1-this._relativeInsets.left-this._relativeInsets.right),o=this._layoutRows(i,r);return new Jh({text:n,relativeInsets:this._relativeInsets.clone(),relativeLineSpacing:this.getRelativeLineSpacing(),background:this._background||this._getBackground(),lines:i,rows:o,width:t})}},{key:"_layoutRows",value:function(e,t){var n=this;return e.map((function(e,i){return n._randomLayoutRow(e,i,t,new Ih({fontIdentifier:n._fontForRow(i,e)})).layout()}))}},{key:"_randomLayoutRow",value:function(e,t,n,i){return new Lh({words:e,width:n,attributes:i})}}]),n}(Nt),"defaultFontIdentifiers",[]),W(ep,"identifier","textdesign"),ep.prototype.availableOptions={fontIdentifiers:{type:"array",default:[]},relativeLineSpacing:{type:"number",default:0}}})),pg=z((function(){Es(),Jm(),og(),sg(),ug(),ig(),cg(),eg(),hg(),tp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),W(Object(O.a)(e),"getImagePaths",(function(){var t=e.getBanderoles();return t&&t.map((function(e){return e.getImagePath()}))||[]})),W(Object(O.a)(e),"onImagesLoaded",(function(){var t=e.getBanderoles();t&&t.forEach((function(e){var t=_h.getImage(e.getImagePath());t?e.setImage(t):Ee.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(e.getImagePath(),"'"))}))})),e._rowTypeLessThan3WordsRandomizer=new mh(0),e._rowTypeMoreThan3WordsRandomizer=new mh(0),e._banderolesRandomizer=new mh(0),e._seedPool=[].concat(Object(x.a)(e._seedPool),[e._rowTypeLessThan3WordsRandomizer,e._rowTypeMoreThan3WordsRandomizer,e._banderolesRandomizer]),e}return Object(w.a)(n,[{key:"_modifiedText",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_modifiedText",this).call(this,e).toUpperCase()}},{key:"generateLayoutData",value:function(e,t){return this._options.hasMaskedText=!1,Object(m.a)(Object(p.a)(n.prototype),"generateLayoutData",this).call(this,e,t)}},{key:"_randomLayoutRow",value:function(e,t,n,i){if(e.size()<3){var r=0===this._rowTypeLessThan3WordsRandomizer.nextInRange(0,2);return this._layoutRow(e,n,i,r)}var o=this._rowTypeMoreThan3WordsRandomizer.nextInRange(0,3);switch(o){case 0:return new Ph({words:e,width:n,attributes:i,orientation:Ph.Orientations.Left});case 1:return new Ph({words:e,width:n,attributes:i,orientation:Ph.Orientations.Right});case 2:return this._layoutRow(e,n,i,!0);case 3:return new Lh({words:e,width:n,attributes:i});default:throw new Error("TextDesignBlocks#_randomLayoutRow: Invalid randomValue generated: ".concat(o,"."))}}},{key:"_layoutRow",value:function(e,t,n,i){if(this.getHasMaskedText()&&(i=!1),i){this.setHasMaskedText(!0);var r=this._banderolesRandomizer.pickNext(this.getBanderoles()),o=new Qh({words:e,width:t,attributes:new Ih({alignment:"left",fontIdentifier:r.getFontIdentifier()}),image:r.getImage(),imageInsets:r.insetsForWidth(t),capInsets:null,backgroundColor:ut.WHITE});return r.getNeedsImageSmoothingFix()&&(o.serverImageSmoothingFix=!0),o}return new Lh({words:e,width:t,attributes:n})}}]),n}(ep),W(tp,"defaultFontIdentifiers",["imgly_font_outfit_bold"]),W(tp,"identifier","imgly_text_design_blocks"),W(tp,"defaultBanderoles",[Zh.Rectangle,Zh.Small]),tp.prototype.availableOptions=Object(T.a)({},ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:tp.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025/3},hasMaskedText:{type:"boolean",default:!1},banderoles:{type:"array",default:tp.defaultBanderoles}})})),mg=z((function(){Es(),sg(),pg(),W(np=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._exclusiveFont=null,e}return Object(w.a)(n,[{key:"generateLayoutData",value:function(e,t){return this._exclusiveFont=this._fontRandomizer.pickNext(this.getFontIdentifiers()),Object(m.a)(Object(p.a)(n.prototype),"generateLayoutData",this).call(this,e,t)}},{key:"_fontForRow",value:function(e,t){return this._exclusiveFont||Object(m.a)(Object(p.a)(n.prototype),"_fontForRow",this).call(this,e,t)}},{key:"_layoutRow",value:function(e,t,n,i){return new Lh({words:e,width:t,attributes:n})}}]),n}(tp),"defaultFontIdentifiers",["imgly_font_ostrich_sans_heavy","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_black"]),W(np,"identifier","imgly_text_design_blocks_condensed"),np.prototype.availableOptions=Object(T.a)({},tp.prototype.availableOptions,{fontIdentifiers:{type:"array",default:np.defaultFontIdentifiers}})})),gg=z((function(){Es(),lg(),$m(),ng(),rg(),ip=la.Rectangle,W(op=rp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).setSize(new yh(e.getWidth(),e.getHeight())),e}return Object(w.a)(n,[{key:"_calculateLayoutElements",value:function(){return[new Dh({frame:this._getTextFrame()})]}},{key:"render",value:function(e){var t=this._getFrame(),n=this.getType(),i=this.getAttributes().getTextColor(),r=t.height/3,o=new ip(t.x,t.y,t.width,r),a=new ip(t.x,t.y+2*r,t.width,r);switch(n){case rp.FormType.Rect:Hh(e,t,i);break;case rp.FormType.DoubleRect:Hh(e,o,i),Hh(e,a,i);break;case rp.FormType.DoubleRectFirstPunctuated:qh(e,o,i),Hh(e,a,i);break;case rp.FormType.DoubleRectSecondPunctuated:Hh(e,o,i),qh(e,a,i);break;case rp.FormType.LongLine:var s=t.height/2,l=new ip(t.x,t.y,t.width,s);Wh(e,l,.5*l.height,i);break;case rp.FormType.LongAndShortLine:var u=.2*t.height,c=.75*u;o=new ip(t.x,t.y+u,t.width,u);var f=t.x+.25*t.width,d=t.y+t.height-c;a=new ip(f,d,.5*t.width,c),Wh(e,o,.5*o.height,i),Wh(e,a,.5*a.height,i)}}}]),n}(Fh),"FormType",{Rect:"RECT",DoubleRect:"DOUBLE_RECT",DoubleRectFirstPunctuated:"DOUBLE_RECT_FIRST_PUNCTUATED",DoubleRectSecondPunctuated:"DOUBLE_RECT_SECOND_PUNCTUATED",LongLine:"LONG_LINE",LongAndShortLine:"LONG_AND_SHORT_LINE"}),op.prototype.availableOptions=Object(T.a)({},Fh.prototype.availableOptions,{height:{type:"number",default:100},type:{type:"string",default:op.FormType.Rect,available:ke.values(op.FormType)}})})),yg=z((function(){Es(),sg(),gg(),pg(),W(ap=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_layoutRow",value:function(e,t,n,i){return new Lh({words:e,width:t,attributes:n})}},{key:"_layoutRows",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_layoutRows",this).call(this,e,t),r=.08*t,o=new op({width:t,height:.032*t,type:op.FormType.LongLine,shearingAngle:0}).layout(),a=new op({width:t,height:r,type:op.FormType.LongAndShortLine,shearingAngle:0}).layout();return[o].concat(Object(x.a)(i),[a])}}]),n}(tp),"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]),W(ap,"identifier","imgly_text_design_blocks_light"),ap.prototype.availableOptions=Object(T.a)({},tp.prototype.availableOptions,{fontIdentifiers:{type:"array",default:ap.defaultFontIdentifiers}})})),vg=z((function(){Es(),sg(),ig(),yg(),W(sp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_layoutRows",value:function(e,t){var n=this;return e.map((function(e,i){return n._randomLayoutRow(e,i,t,new Ih({fontIdentifier:n._fontForRow(i,e)})).layout()}))}},{key:"_layoutRow",value:function(e,t,n,i){return new Lh({words:e,width:t,attributes:n})}}]),n}(ap),"defaultFontIdentifiers",["imgly_font_sue_ellen_francisco"]),W(sp,"identifier","imgly_text_design_blocks_light-v3_1_0"),sp.prototype.availableOptions=Object(T.a)({},ap.prototype.availableOptions,{fontIdentifiers:{type:"array",default:sp.defaultFontIdentifiers}})})),bg=z((function(){Es(),tg(),lg(),$m(),ng(),sg(),lp=la.Rectangle,W(cp=up=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getImageSize",value:function(){var e=this.getLeftImage(),t=this.getRightImage(),n=this.getWords(),i=this.getAttributes().getFontIdentifier(),r=e?new yh(e.width,e.height):new yh,o=n.joined(1)[0];if(!o)return r;var a=new Eh({text:o,fontIdentifier:i,fontSize:50}).getSizeValue(),s=t?2:1;r.scale(s,1);var l=r.clone().fitInWidthWithOther(this._getFrame().width,a);return l.scale(1/s,1),l}},{key:"_getTextFrame",value:function(){var e=Object(m.a)(Object(p.a)(n.prototype),"_getTextFrame",this).call(this).clone(),t=this.getImageSize(),i=this.getRightImage(),r=this.getImagePosition();return i?(e.x+=t.width,e.width-=2*t.width):r===up.ImagePosition.Left&&(e.x+=t.width),e}},{key:"_calculateLayoutElements",value:function(){var e=Object(m.a)(Object(p.a)(n.prototype),"_calculateLayoutElements",this).call(this),t=this._getFrame(),i=this.getRightImage(),r=this.getImageSize(),o=this.getImagePosition(),a=this._getTextFrame(),s=this.getAttributes().getFontIdentifier(),l=new Eh({text:"stickerClock",fontIdentifier:s});l.fitWidth(this._getTextFrame().width);var u=(new lp).set(t.x,t.y,r.width,r.height);if(i||o!==up.ImagePosition.Right||(u.x+=a.width),e.push(new Dh({text:"stickerClock",frame:u,font:l})),i){var c=e[0];if(c){var f=u.clone();f.translate(c.getFrame().width+f.width,0),e.push(new Dh({text:"stickerClock",frame:f,font:l}))}}return e}},{key:"render",value:function(e){var t=this._getLayoutElements(),n=this.getAttributes(),i=n.getTextColor(),r=this.getLeftImage(),o=this.getRightImage(),a=t[0],s=t[1],l=a.serializeOptions().font,u=this._getTextFrameForElement(a);if(l.draw(e,u.x,u.y,{textColor:n.getTextColor().toRGBA(),alignment:n.getAlignment()}),r){var c=s.getFrame();e.drawImage(r,c.x,c.y,c.width,c.height),Hh(e,c,i,"source-atop")}if(t.length>2){var f=t[2].getFrame().clone();e.drawImage(o,f.x,f.y,f.width,f.height),Hh(e,f,i,"source-atop")}}}]),n}(Lh),"ImagePosition",{Left:"LEFT",right:"RIGHT"}),cp.prototype.availableOptions=Object(T.a)({},Lh.prototype.availableOptions,{leftImage:{type:"image",default:null},rightImage:{type:"image",default:null},imagePosition:{type:"string",default:cp.ImagePosition.Left,available:[cp.ImagePosition.Left,cp.ImagePosition.Right]}})})),_g=z((function(){Es(),sg(),bg(),cg(),dg(),pg(),W(dp=fp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_fontForRow",value:function(e,t){var n=this.getFontIdentifiers();return n[e%n.length]}},{key:"_minimumNumberOfLines",value:function(e){return Math.max(Math.floor(.7*Object(m.a)(Object(p.a)(n.prototype),"_minimumNumberOfLines",this).call(this,e)),1)}},{key:"_maximumNumberOfLines",value:function(e){return Math.max(Math.floor(e.countNumberOfCharacters()/5),1)}},{key:"_randomLayoutRow",value:function(e,t,n,i){return this._createSingleRow(fp.RowType.Single,e,n,i)}},{key:"_createSingleRow",value:function(e,t,n,i){var r=i.getFontIdentifier(),o="imgly_font_allison_regular"===r||"imgly_font_handycheera_regular"===r?(new $h).set(t.getLowerCase()):t;switch(e){case fp.RowType.Single:return new Lh({words:o,width:n,attributes:i});case fp.RowType.SingleImage:return new cp({words:o,width:n,attributes:i});default:return Ee.warn("TextDesignCelebrate#_createSingleRow: Invalid row type '".concat(e,"'")),null}}}]),n}(tp),"defaultFontIdentifiers",["imgly_font_handycheera_regular","imgly_font_rasa_regular"]),W(dp,"defaultBanderoles",[Zh.Celebrate1,Zh.Celebrate2]),W(dp,"identifier","imgly_text_design_celebrate"),W(dp,"RowType",{Single:"SINGLE",SingleImage:"SINGLE_IMAGE"}),dp.prototype.availableOptions=Object(T.a)({},tp.prototype.availableOptions,{relativeLineSpacing:{type:"number",default:.01875},fontIdentifiers:{type:"array",default:dp.defaultFontIdentifiers},banderoles:{type:"array",default:dp.defaultBanderoles}})})),xg=z((function(){Es(),tg(),dg(),lg(),$m(),ig(),ng(),rg(),W(hp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).setSize(new yh(e.getWidth(),e.getHeight())),e}return Object(w.a)(n,[{key:"_getImageFrame",value:function(){var e=this._getTextFrame().clone(),t=this.getImage();if(this.getDrawingModeAspectFit()&&t){var n=Math.min(e.width/t.width,e.height/t.height),i=t.width*n,r=t.height*n;e.x+=(e.width-i)/2,e.y+=(e.height-r)/2,e.width=i,e.height=r}return e}},{key:"_calculateLayoutElements",value:function(){return[new Dh({text:"",frame:this._getImageFrame(),font:new Eh})]}},{key:"render",value:function(e){var t=this.getImage(),n=this._getImageFrame(),i=this.getAttributes().getTextColor();Yh(e,t,n,i)}}]),n}(Fh),"RowImages",{decorative1:"text-design/images/imgly_text_design_asset_decorative_01.png",decorative2:"text-design/images/imgly_text_design_asset_decorative_02.png",decorative3:"text-design/images/imgly_text_design_asset_decorative_05.png",decorative4:"text-design/images/imgly_text_design_asset_decorative_06.png",celebrate1:"text-design/images/imgly_text_design_asset_celebrate_03.png",celebrate2:"text-design/images/imgly_text_design_asset_celebrate_04.png",celebrate3:"text-design/images/imgly_text_design_asset_celebrate_05.png"}),hp.prototype.availableOptions=Object(T.a)({},Fh.prototype.availableOptions,{words:{type:"object",default:new $h},height:{type:"number",default:0},image:{type:"image",default:null},imagePath:{type:"string",default:hp.RowImages.decorative1},drawingModeAspectFit:{type:"boolean",default:!1},attributes:{type:"configurable",default:new Ih}})})),kg=z((function(){Es(),Jm(),sg(),bg(),xg(),cg(),eg(),dg(),pg(),_g(),pp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),W(Object(O.a)(e),"getImagePaths",(function(){var t=e.getBanderoles();return[].concat(Object(x.a)(t&&t.map((function(e){return e.getImagePath()}))||[]),Object(x.a)(e._celebrateTypes))})),W(Object(O.a)(e),"onImagesLoaded",(function(){var t=e.getBanderoles();t&&t.forEach((function(e){var t=_h.getImage(e.getImagePath());t?e.setImage(t):Ee.warn("TextDesignBlocks#onImagesLoaded: Image not found '".concat(e.getImagePath(),"'"))}))})),e._celebrateTypes=[hp.RowImages.celebrate1,hp.RowImages.celebrate2,hp.RowImages.celebrate3],e._exclusiveFont=null,e._typeRandomizer=new mh(0),e._useMaskedRandomizer=new mh(0),e._seedPool.push(e._typeRandomizer),e._seedPool.push(e._useMaskedRandomizer),e}return Object(w.a)(n,[{key:"_fontForRow",value:function(e,t){var n=this.getFontIdentifiers();return n[e%(n.length-1)]}},{key:"_layoutRows",value:function(e,t){var i=this._typeRandomizer.pickNext(this._celebrateTypes),r=_h.getImage(i);r||Ee.warn("TextDesignCelebrateSimple#_layoutRows: Image not fount '".concat(i,"'"));var o=new hp({width:t,height:.5*t,drawingModeAspectFit:!0,image:r}).layout(),a=Object(m.a)(Object(p.a)(n.prototype),"_layoutRows",this).call(this,e,t);return[o].concat(Object(x.a)(a))}},{key:"_randomLayoutRow",value:function(e,t,i,r){var o=e.countNumberOfCharacters();o<4&&r.setFontIdentifier("imgly_font_rasa_regular");var a=this._useMaskedRandomizer.nextBool(2,1);return o<13&&a&&!this.getHasMaskedText()?this._layoutRow(e,i,r,!0):Object(m.a)(Object(p.a)(n.prototype),"_randomLayoutRow",this).call(this,e,t,i,r)}}]),n}(dp),W(pp,"identifier","imgly_text_design_celebrate_simple"),W(pp,"defaultFontIdentifiers",["imgly_font_allison_regular","imgly_font_rasa_regular","imgly_font_rasa_500"]),pp.prototype.availableOptions=Object(T.a)({},dp.prototype.availableOptions,{fontIdentifiers:{type:"array",default:pp.defaultFontIdentifiers}})})),wg=z((function(){Es(),(mp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"render",value:function(e,t,n,i,r){Ee.warn("TextDesignBackground#render: Abstract class")}}]),n}(Nt)).prototype.availableOptions={}})),Og=z((function(){Es(),eg(),lg(),wg(),gp=la.Rectangle,(yp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getImagePaths",value:function(){var e=this._options;return[e.topImagePath,e.bottomImagePath,e.leftImagePath,e.rightImagePath].filter((function(e){return""!==e}))}},{key:"render",value:function(e,t,n,i,r){var o=n.clone().scale(t.width),a=t.rectangle(0,0),s=_h.getImage(this.getTopImagePath()),l=_h.getImage(this.getLeftImagePath()),u=_h.getImage(this.getRightImagePath()),c=_h.getImage(this.getBottomImagePath());if(s){var f=s.width/s.height,d=o.top*this.getTopImageFillRate(),h=d*f,p=a.width/2,m=new gp(p-h/2,0,h,d);Yh(e,s,m,i)}if(c){var g=c.width/c.height,y=o.bottom*this.getBottomImageFillRate(),v=y*g,b=a.width/2,_=new gp(b-v/2,a.height-y,v,y);Yh(e,c,_,i)}if(l){var x=l.width/l.height,k=o.left*this.getLeftImageFillRate(),w=k/x,O=a.height/2,S=new gp(0,O-w/2,k,w);Yh(e,l,S,i)}if(u){var C=u.width/u.height,j=o.right*this.getRightImageFillRate(),T=j/C,E=a.height/2-T/2,D=new gp(a.width-j,E,j,T);Yh(e,u,D,i)}}}]),n}(mp)).prototype.availableOptions={topImagePath:{type:"string",default:""},leftImagePath:{type:"string",default:""},bottomImagePath:{type:"string",default:""},rightImagePath:{type:"string",default:""},topImageFillRate:{type:"number",default:1},leftImageFillRate:{type:"number",default:1},bottomImageFillRate:{type:"number",default:1},rightImageFillRate:{type:"number",default:1}},yp.Backgrounds=[new yp({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_2.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background1_3.png",topImageFillRate:.8,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.8}),new yp({leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background2_2.png",leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6}),new yp({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_1.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background3_2.png",topImageFillRate:.6,bottomImageFillRate:.6}),new yp({topImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_1.png",leftImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",rightImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_3.png",bottomImagePath:"text-design/images/imgly_xib_image_text_design_equal_width_background4_2.png",topImageFillRate:.1,leftImageFillRate:.6,rightImageFillRate:.6,bottomImageFillRate:.6})]})),Sg=z((function(){Es(),Og(),Jm(),ag(),sg(),dg(),hg(),W(vp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._relativeInsets=new Bh(.1,.1,.1,.1),e._alreadyContainsARowWithScriptFont=!1,e._backgroundsRandomizer=new mh(0),e._seedPool.push(e._backgroundsRandomizer),e}return Object(w.a)(n,[{key:"getImagePaths",value:function(){return ke.Array.flatten(yp.Backgrounds.map((function(e){return e.getImagePaths()})))}},{key:"_getBackground",value:function(){return this._backgroundsRandomizer.pickNext(yp.Backgrounds)}},{key:"generateLayoutData",value:function(e,t){return this._alreadyContainsARowWithScriptFont=!1,this._background=this._getBackground(),Object(m.a)(Object(p.a)(n.prototype),"generateLayoutData",this).call(this,e,t)}},{key:"_modifiedText",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_modifiedText",this).call(this,e).toUpperCase()}},{key:"_fontForRow",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_fontForRow",this).call(this,e,t);return"imgly_font_petit_formal_script"===i&&(this._alreadyContainsARowWithScriptFont&&(i="imgly_font_bungee_inline"),this._alreadyContainsARowWithScriptFont=!0),i}},{key:"_randomLayoutRow",value:function(e,t,n,i){var r="imgly_font_petit_formal_script"===i.getFontIdentifier();return new Lh({words:r?(new $h).set(e.getLowerCase()):e,width:n,attributes:i})}}]),n}(ep),"identifier","imgly_text_design_equal_width"),W(vp,"defaultFontIdentifiers",["imgly_font_ultra","imgly_font_bungee_inline","imgly_font_petit_formal_script"]),vp.prototype.availableOptions=Object(T.a)({},ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:vp.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025}})})),Cg=z((function(){Es(),ag(),Sg(),W(bp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._relativeInsets=new Bh,e}return Object(w.a)(n,[{key:"_getBackground",value:function(){return null}}]),n}(vp),"defaultFontIdentifiers",["imgly_font_ultra"]),W(bp,"identifier","imgly_text_design_equal_width_fat"),bp.prototype.availableOptions=Object(T.a)({},vp.prototype.availableOptions,{fontIdentifiers:{type:"array",default:bp.defaultFontIdentifiers}})})),jg=z((function(){Es(),ag(),(_p=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"insetsForWidth",value:function(e){return this.getRelativeInsets().clone().scale(e)}}]),n}(Nt)).prototype.availableOptions={imagePath:{type:"string",default:""},minimumHeightRatio:{type:"number",default:0},sizeToFitContent:{type:"boolean",default:!0},capInsets:{type:"object",default:new Bh},relativeInsets:{type:"object",default:new Bh}},_p.Box=new _p({imagePath:"text-design/images/imgly_text_design_asset_black_background.png",relativeInsets:new Bh(.1,.1,.1,.1)}),_p.Badge1=new _p({imagePath:"text-design/images/imgly_text_design_asset_badge1.png",relativeInsets:new Bh(.3,.18,.2,.18)}),_p.Badge2=new _p({imagePath:"text-design/images/imgly_text_design_asset_badge2.png",relativeInsets:new Bh(.3,.18,.2,.18)}),_p.Badge3=new _p({imagePath:"text-design/images/imgly_text_design_asset_badge3.png",relativeInsets:new Bh(.3,.18,.2,.18)}),_p.Badge4=new _p({imagePath:"text-design/images/imgly_text_design_asset_badge4.png",relativeInsets:new Bh(.3,.18,.2,.18)}),_p.SpeechBubble1=new _p({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small2.png",relativeInsets:new Bh(.04,.07,.12,.07),capInsets:new Bh(57,171,123,51)}),_p.SpeechBubble2=new _p({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble3.png",relativeInsets:new Bh(.04,.07,.12,.07),capInsets:new Bh(6,105,87,15)}),_p.SpeechBubble3=new _p({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble_small.png",relativeInsets:new Bh(.165664675,.2,.165664675,.2),minimumHeightRatio:.7}),_p.SpeechBubble4=new _p({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble4.png",relativeInsets:new Bh(.124800224,.2,.291200523,.2),minimumHeightRatio:.7}),_p.SpeechBubble5=new _p({imagePath:"text-design/images/imgly_text_design_asset_speech_bubble5.png",relativeInsets:new Bh(.114892823,.27,.15984926,.27)}),_p.Watercolor1=new _p({imagePath:"text-design/images/imgly_text_design_asset_watercolor_01.png",minimumHeightRatio:.7,relativeInsets:new Bh(.2,.25,.2,.25)}),_p.Watercolor2=new _p({imagePath:"text-design/images/imgly_text_design_asset_watercolor_02.png",minimumHeightRatio:.7,relativeInsets:new Bh(.08,.25,.3,.25)}),_p.Watercolor3=new _p({imagePath:"text-design/images/imgly_text_design_asset_watercolor_03.png",minimumHeightRatio:.7,relativeInsets:new Bh(.1,.2,.15,.2)})})),Tg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.arabic=void 0;var t="[".concat("\u0620-\u064a\u066e-\u066f\u0671-\u06d5\u06ee-\u06ef\u06fa-\u06ff").concat("\u0750-\u077f","]"),n="".concat(t).concat("[\u064b-\u065f\u0670]","*");e.arabic=n})),Eg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bengali=void 0;var t="[\\u{0980}-\\u{09FF}]",n="".concat(t,"(").concat("\\u{09CD}").concat(t,"|").concat("[\\u{0980}-\\u{0983}\\u{09BC}-\\u{09D7}\\u{09E2}\\u{09E3}\\u{09FE}]",")*");e.bengali=n})),Dg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.devanagari=void 0;var t="[\\u{0900}-\\u{097F}]",n="".concat(t,"(").concat("\\u{094D}").concat(t,"|").concat("[\\u{0900}-\\u{0903}\\u{093A}-\\u{0957}\\u{0962}\\u{0963}]",")*");e.devanagari=n})),Ig=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.gujarati=void 0;var t="[\\u{0A80}-\\u{0AFF}]",n="".concat(t,"(").concat("\\u{0ACD}").concat(t,"|").concat("[\\u{0A81}-\\u{0A83}\\u{0ABC}\\u{0ABE}-\\u{0ACD}\\u{0AE2}\\u{0AE3}\\u{0AFA}-\\u{0AFF}]",")*");e.gujarati=n})),Rg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hebrew=void 0;var t="".concat("[\u05d0-\u05ea]").concat("[\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7]","*");e.hebrew=t})),Fg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.japaneseKana=void 0;var t="((".concat("[\\u{30A0}-\\u{30FF}]","|").concat("[\\u{3041}-\\u{3096}\\u{309D}-\\u{309F}]",")").concat("[\\u{3099}-\\u{309A}]","?|").concat("[\\u{309B}-\\u{309C}]",")");e.japaneseKana=t})),Ag=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.kannada=void 0;var t="[\\u{0C80}-\\u{0CFF}]",n="".concat(t,"(").concat("\\u{0CCD}").concat(t,"|").concat("[\\u{0C81}-\\u{0C83}\\u{0CBC}\\u{0CBE}-\\u{0CCD}\\u{0CD5}\\u{0CD6}\\u{0CE2}\\u{0CE3}]",")*");e.kannada=n})),Mg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.khmer=void 0;var t="[\\u{1780}-\\u{17FF}]",n="".concat(t,"(").concat("\\u{17D2}").concat(t,"|").concat("[\\u{17B6}-\\u{17D1}\\u{17D3}\\u{17DD}]",")*");e.khmer=n})),Pg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.lao=void 0;var t="".concat("[\\u{0E80}-\\u{0EFF}]").concat("[\\u{0EB1}\\u{0EB4}-\\u{0EBC}\\u{0EC8}-\\u{0ECD}]","*");e.lao=t})),zg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.malayalam=void 0;var t="[\\u{0D00}-\\u{0D7F}]",n="".concat(t,"(").concat("\\u{0D4D}").concat(t,"|").concat("[\\u{0D00}-\\u{0D03}\\u{0D3B}\\u{0D3C}\\u{0D3E}-\\u{0D4D}\\u{0D57}\\u{0D62}-\\u{0D63}]",")*");e.malayalam=n})),Bg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.myanmar=void 0;var t="[\\u{1000}-\\u{109F}]",n="[".concat(["\\u{102B}-\\u{1038}","\\u{103A}-\\u{103E}","\\u{1056}-\\u{1059}","\\u{105E}-\\u{1060}","\\u{1062}-\\u{1064}","\\u{1067}-\\u{106D}","\\u{1071}-\\u{1074}","\\u{1082}-\\u{108D}","\\u{108F}","\\u{109A}-\\u{109D}"].join(""),"]"),i="".concat(t,"(").concat("\\u{1039}").concat(t,"|").concat(n,")*");e.myanmar=i})),Lg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tamil=void 0;var t="".concat("[\\u{0B80}-\\u{0BFF}]").concat("[\\u{0B82}-\\u{0B83}\\u{0BBE}-\\u{0BD7}\\u{0962}\\u{0963}]","*");e.tamil=t})),Ng=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.telugu=void 0;var t="[\\u{0C00}-\\u{0C7F}]",n="".concat(t,"(").concat("\\u{0C4D}").concat(t,"|").concat("[\\u{0C00}-\\u{0C04}\\u{0C3E}-\\u{0C56}\\u{0C62}\\u{0C63}]",")*");e.telugu=n})),Ug=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.thai=void 0;var t="".concat("[\\u0E00-\\u0E7F]").concat("[\\u0E31\\u0E33-\\u0E3A\\u0E47-\\u0E4E]","*");e.thai=t})),Gg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tibetan=void 0;var t="".concat("[\\u{0F00}-\\u{0FFF}]").concat("[\\0F18\\0F19\\0F35\\0F37\\0F39\\0F3E\\0F3F\\u{0F71}-\\u{0F87}\\u{0F8D}-\\u{0FBC}\\u{0FC6}]","*");e.tibetan=t})),Hg=B((function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.emojiVariation=e.keyCap=e.countryFlag=void 0;e.countryFlag="[\\u{1F1E6}-\\u{1F1FF}]{2}";e.keyCap="[0-9#\\*][\\u{FE0F}]?\\u{20E3}";var t="(".concat(["[\\u{2600}-\\u{26FF}]","[\\u{2700}-\\u{27BF}]","[\\u{1F300}-\\u{1F5FF}]","[\\u{1F600}-\\u{1F64F}]","[\\u{1F680}-\\u{1F6FF}]","[\\u{1F700}-\\u{1F77F}]","[\\u{1F900}-\\u{1F9FF}]"].join("|"),")"),n="".concat(t,"(").concat("\\u{200D}").concat(t,"|").concat("[\\u{1F3FB}-\\u{1F3FF}]","|").concat("[\\u{FE0E}\\u{FE0F}]",")*");e.emojiVariation=n})),Wg=B((function(e,t){var n=Tg(),i=Eg(),r=Dg(),o=Ig(),a=Rg(),s=Fg(),l=Ag(),u=Mg(),c=Pg(),f=zg(),d=Bg(),h=Lg(),p=Ng(),m=Ug(),g=Gg(),y=Hg(),v=[y.countryFlag,y.keyCap,y.emojiVariation,n.arabic,i.bengali,r.devanagari,o.gujarati,a.hebrew,s.japaneseKana,l.kannada,u.khmer,c.lao,f.malayalam,d.myanmar,h.tamil,p.telugu,m.thai,g.tibetan,"."],b=new RegExp("(".concat(v.join("|"),")"),"gu");t.exports={splitGraphemes:function(e){return e.match(b)||[]}}})),Vg=z((function(){xp=U(Wg()),kp=function(){function e(t){Object(k.a)(this,e),this._context=t,this._lastFontStyle={}}return Object(w.a)(e,[{key:"getLines",value:function(){for(var e=this,t=[],n=[],i=this._lines.length,r=0;r<i;r++){for(var o=this._lines[r],a=this._buildWords(o),s=a.length,l=0;l<s;l++){var u=a[l],c=n.concat(u).join("").replace(/\s+$/i,"");if(this._getWidth(c)>this._maxWidth){n.length>0&&(t.push(n.join("")),n=[u]);var f=u.replace(/\s+$/i,"");if(this._getWidth(f)>this._maxWidth){var d=this._splitWord(u);t=t.concat(d.lines),d.rest&&(n=[d.rest])}}else n.push(u)}t.push(n.join("")),n=[]}return t.map((function(t){return e._trimLine(t,e._context.textAlign)}))}},{key:"_trimLine",value:function(e,t){return e}},{key:"_buildWords",value:function(e){for(var t=[],n="",i=e.length,r=0;r<i;r++){var o=e[r];n+=o," "!==o&&"-"!==o&&r!==i-1||(t.push(n),n="")}return t}},{key:"_splitWord",value:function(e){for(var t={lines:[],rest:null},n=(0,xp.splitGraphemes)(e),i=n.length,r=[],o=0;o<i;o++){var a=n[o];this._getWidth(r.concat(a).join(""))>this._maxWidth?(r.length>0&&t.lines.push(r.join("")),r=[a]):r.push(a),o===i-1&&r.length>0&&(t.rest=r.join(""))}return t}},{key:"_fontStyleChanged",value:function(){return this._context.font!==this._lastFontStyle&&(this._lastFontStyle=this._context.font,!0)}},{key:"_getWidth",value:function(e){return this._context.measureText(e).width}},{key:"setText",value:function(e){this._text=e,this._lines=e.split("\n")}},{key:"setMaxWidth",value:function(e){this._maxWidth=e}}]),e}()})),qg=z((function(){Es(),Vg(),wp=la.Vector2,Op=function(){function e(t,n){Object(k.a)(this,e),this._text=t,this._operation=n,this._textOptions={},this.rotation=0,this._createCanvas(),this._createTexture()}return Object(w.a)(e,[{key:"_createCanvas",value:function(){this._canvas=ke.createCanvas(),this._context=this._canvas.getContext("2d"),this._textSplitter=new kp(this._context),this._finalCanvas=ke.createCanvas(),this._finalContext=this._finalCanvas.getContext("2d")}},{key:"_createTexture",value:function(){this._texture=ha.Texture.fromCanvas(this._canvas),this._finalTexture=ha.Texture.fromCanvas(this._finalCanvas)}},{key:"_applyTextOptions",value:function(e,t){t.font="".concat(this._text.getFontStyle()," ").concat(this._text.getFontWeight()," ").concat(e.fontSize,'px "').concat(this._text.getFontFamily(),'"'),this._text.getTextMetrics()?t.textBaseline="alphabetic":t.textBaseline="top",t.textAlign=this._text.getAlignment(),t.fillStyle=this._text.getColor().toRGBA(),t.strokeStyle=this._text.getOutlineColor().toRGBA();var n=this._text.getOutlineWidth();n>0&&(t.lineWidth=n)}},{key:"_buildOutputLines",value:function(e){return this._textSplitter.setText(this._text.getText()),this._textSplitter.setMaxWidth(e),this._textSplitter.getLines().map((function(e){return e.replace(/\s+$/i,"")}))}},{key:"_renderTextLine",value:function(e,t,n){var i=this._text.getAlignment(),r=new wp(0,t);switch(i){case"left":r.x=n;break;case"center":r.x=this._canvas.width/2;break;case"right":r.x=this._canvas.width-n}this._context.save(),this._context.translate(r.x,r.y),this._context.fillText(e,0,0),this._context.restore(),this._text.getOutlineWidth()>0&&(this._context.miterLimit=2,this._context.strokeText(e,r.x,r.y))}},{key:"update",value:function(e,t){var n=this.calculateFontStyles(e,t);if(n){var i=this._calculateText(e,n,t),r=i.dimensions,o=i.lines;this._renderText(e,r,o,n,t),this._updateFinalTexture()}}},{key:"_updateFinalTexture",value:function(){var e=this._canvas,t=e.width,n=e.height,i=this.rotation,r=Math.cos(i),o=Math.sin(i),a=new wp(Math.abs(t*r)+Math.abs(n*o),Math.abs(t*o)+Math.abs(n*r));this._finalCanvas.width=a.x,this._finalCanvas.height=a.y,this._finalContext.save(),this._finalContext.translate(this._finalCanvas.width/2,this._finalCanvas.height/2),this._finalContext.rotate(i),this._finalContext.drawImage(this._canvas,-t/2,-n/2),this._finalContext.restore()}},{key:"_renderText",value:function(e,t,n,i,r){this._canvas.width=t.x,this._canvas.height=t.y,this._text.getMaxHeight()&&(this._canvas.height=Math.min(this._text.getMaxHeight()*r.y,this._canvas.height)),this._context=this._canvas.getContext("2d"),this._context.fillStyle=this._text.getBackgroundColor().toRGBA(),this._context.fillRect(0,0,t.x,t.y),this._applyTextOptions(i,this._context);for(var o=this._padding(r),a=this._text.getTextMetrics(),s=this._text.getFontSize()*r.y,l=1/a.unitsPerEm*s,u=a.ascender*l,c=0;c<n.length;c++){var f=n[c];this._renderTextLine(f,i.topPadding+i.lineHeight*c+o+u,o)}}},{key:"calculateFontStyles",value:function(e,t){var n=this._text.getFontFamily(),i=this._text.getFontSize()*t.y,r=this._text.getAbsoluteTextHeight(t),o=r*this._text.getLineHeight(),a={fontFamily:n,fontSize:i,lineHeight:o,topPadding:r*(this._text.getLineHeight()-1)/2};return this._textOptions.fontFamily===n&&this._textOptions.fontSize===i&&this._textOptions.lineHeight===o||(this._textOptions=a),a}},{key:"_calculateText",value:function(e,t,n){var i=this._text.getMaxWidth()*n.x;this._applyTextOptions(t,this._context);var r=new wp,o=this._text.getText().split("\n");"undefined"!==typeof i&&(r.x=i,o=this._buildOutputLines(i));for(var a=0;a<o.length;a++){var s=o[a];r.x=Math.max(r.x,this._context.measureText(s).width)}var l=t.lineHeight;r.y=o.length*l;var u=this._padding(n);return r.y+=2*u,r.x+=2*u,{dimensions:r,lines:o}}},{key:"_padding",value:function(e){return.2*this._text.getAbsoluteTextHeight(e)}},{key:"getTexture",value:function(){return this._texture}},{key:"getFinalTexture",value:function(){return this._finalTexture}},{key:"getDimensions",value:function(e,t){var n=this.calculateFontStyles(e,t);return this._calculateText(e,n,t).dimensions}},{key:"dispose",value:function(){this._measurementElement&&document.body.removeChild(this._measurementElement),this._texture&&(this._texture.dispose(),this._texture=null),this._finalTexture&&(this._finalTexture.dispose(),this._finalTexture=null)}}]),e}()})),Kg=z((function(){Es(),Vg(),$m(),eg(),Sp=la.Vector2,(Cp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this,e))._textOptions={},i._createCanvas(),i}return Object(w.a)(n,[{key:"_createCanvas",value:function(){this._canvas=ke.createCanvas(),this._context=this._canvas.getContext("2d"),this._textSplitter=new kp(this._context),this._finalCanvas=ke.createCanvas(),this._finalContext=this._finalCanvas.getContext("2d"),this.updateFontVariation()}},{key:"setOption",value:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Object(m.a)(Object(p.a)(n.prototype),"setOption",this).call(this,e,t,i,r),"fontIdentifier"!==e||r||this.updateFontVariation()}},{key:"updateFontVariation",value:function(){var e=_h.getVariation(this.getFontIdentifier());return e||Ee.warn("TextDesignFont: Unable to find font '".concat(this._fontIdentifier,"'")),this.setFontVariation(e),e}},{key:"_applyTextOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._context,n=Object(T.a)({},this._options,{},e),i=n.fontSize,r=n.fontVariation,o=(n.lineHeight,n.textColor),a=n.alignment,s=r.serializeOptions(),l=s.fontStyle,u=s.fontWeight,c=s.fontFamily;t.font="".concat(l," ").concat(u," ").concat(i,'px "').concat(c,'"'),t.fillStyle=o,t.textBaseline="top",t.textAlign=a||"left"}},{key:"_buildOutputLines",value:function(e){return this._textSplitter.setText(this.getText()),this._textSplitter.setMaxWidth(e),this._textSplitter.getLines()}},{key:"_renderTextLine",value:function(e,t){var n=this.getAlignment(),i=new Sp(0,t);switch(n){case"center":i.x=this._canvas.width/2;break;case"right":i.x=this._canvas.width}this._context.fillText(e,i.x,i.y)}},{key:"update",value:function(){var e=this.calculateFontStyles();if(e){var t=this._calculateText(e),n=t.dimensions,i=t.lines;this._dimensions=n,this._renderText(n,i,e)}}},{key:"draw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.update(),e.drawImage(this._canvas,t,n,this._dimensions.x,this._dimensions.y)}},{key:"_renderText",value:function(e,t,n){this._canvas.width=e.x,this._canvas.height=e.y,this._context=this._canvas.getContext("2d"),this._applyTextOptions(n,this._context);for(var i=0;i<t.length;i++){var r=t[i];this._renderTextLine(r,n.topPadding+n.lineHeight*i)}}},{key:"getFontFamily",value:function(){return this.getFontVariation().getFontFamily()}},{key:"calculateFontStyles",value:function(){var e=this.getFontFamily(),t=this.getFontSize(),n=this.getAbsoluteTextHeight(),i={fontFamily:e,fontSize:t,textHeight:n,lineHeight:n*this.getLineHeight(),topPadding:n*(this.getLineHeight()-1)/2};return this._textOptions=Object(T.a)({},i),i}},{key:"getTextMetrics",value:function(){return this.getFontVariation().getTextMetrics()}},{key:"getAbsoluteTextHeight",value:function(){var e=this.getFontSize(),t=this.getTextMetrics();if(t){var n=1/t.unitsPerEm*e,i=t.ascender*n,r=t.descender*n;return i+Math.abs(r)}return e*this.getLineHeight()*1.1}},{key:"_calculateText",value:function(e){this._applyTextOptions(e,this._context);for(var t=new Sp,n=this.getText().split("\n"),i=0;i<n.length;i++){var r=n[i];t.x=Math.max(t.x,this._context.measureText(r).width)}var o=e.lineHeight;return t.y=n.length*o,{dimensions:t,lines:n}}},{key:"getDimensions",value:function(){var e=this.calculateFontStyles();return this._calculateText(e).dimensions}},{key:"fitMaxHeight",value:function(){this.update();var e=this.getDimensions();this.getText().split("\n"),this.getMaxHeight(),e.y}},{key:"fitMaxWidth",value:function(){var e=this.getDimensions().x,t=this.getMaxWidth()/e;this.setFontSize(this.getFontSize()*t),this._textOptions.fontSize=this.getFontSize()}},{key:"fitInFrame",value:function(e){this.setMaxWidth(e.width),this.setMaxHeight(e.height),this.fitMaxWidth(),this.fitMaxHeight()}},{key:"getSize",value:function(){var e=this.getDimensions();return new yh(e.x,e.y)}}]),n}(Nt)).prototype.availableOptions={text:{type:"string",default:""},fontIdentifier:{type:"string",default:"imgly_font_open_sans_bold"},fontVariation:{type:"object",default:null},lineHeight:{type:"number",default:1},fontSize:{type:"number",default:22},textColor:{type:"string",default:"black"},strokeStyle:{type:"string",default:"black"},outlineWidth:{type:"number",default:0},textBaseline:{type:"string",default:"alphabetic"},excludeAccents:{type:"boolean",default:!0},maxWidth:{type:"number",default:100},maxHeight:{type:"number",default:0},alignment:{type:"string",default:"left",available:["left","center","right"]}}})),Xg=z((function(){Es(),qg(),tg(),Kg(),ng(),ug(),(jp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_calculateLayoutElements",value:function(){var e=this.getWords(),t=this._getTextFrame(),n=this.getAttributes().getFontIdentifier(),i=this.getImageInsets(),r=new Eh({text:e.getWord(0),fontIdentifier:n});r.fitWidth(t.width);var o=new Dh({text:e.getWord(0),frame:t,font:r});o.setFrame(this._getTextFrameForElement(o));var a=this.getSize();return(this.getSizeToFitContent()||a.height<=1)&&(a.height=i.top+o.getFrame().height+i.bottom),a.height=Math.max(a.height,this.getMinimumHeight()),[o]}},{key:"_getTextFrameForElement",value:function(e){var t=this.getWords().getWord(0),n=this.getAttributes(),i=n.getFontIdentifier(),r=this.getImageInsets(),o=this.getImageInsets().applyToRectangle(this._getFrame()).scale(this.getTextScaleFactor()),a=new Cp({text:t,fontIdentifier:i,alignment:n.getAlignment(),lineHeight:1});a.fitInFrame(o);var s=a.getSize();o.height=s.height;var l=s.height*this.getRowScaleFactor();this.getSizeToFitContent()&&(l+=r.top+r.bottom);var u=this._getFrame(),c=n.getAlignment();if(this.getCenteredVertically())o.y=u.height/2-l/2+r.top;else switch(c){case"left":o.y=u.height-l-r.bottom;break;case"center":o.y=u.height/2-l/2+l*this.getCenterOffset(),o.x=(u.width-o.width)/2;break;case"right":o.x=u.width-o.width-r.right}return o}},{key:"render",value:function(e){var t=this;e.save(),this._getLayoutElements().forEach((function(n){var i=n.serializeOptions(),r=i.text,o=i.frame,a=t.getAttributes(),s=a.getFontIdentifier(),l=new Cp({text:r,fontIdentifier:s,alignment:a.getAlignment(),lineHeight:1,textColor:a.getTextColor().toRGBA()});o=t._getTextFrameForElement(n),l.fitInFrame(o),l.draw(e,o.x,o.y)})),e.restore()}}]),n}(Qh)).prototype.availableOptions=Object(T.a)({},Qh.prototype.availableOptions,{centerOffset:{type:"number",default:0},sizeToFitContent:{type:"boolean",default:!1},textScaleFactor:{type:"number",default:.95},rowScaleFactor:{type:"number",default:1},minimumHeight:{type:"number",default:0},centeredVertically:{type:"boolean",default:!1}})})),Yg=z((function(){Es(),jg(),Jm(),Xg(),eg(),dg(),hg(),W(Ep=Tp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._rowType=_p.Box,e._alignmentRandomizer=new mh(0),e._isMaskedRandomizer=new mh(0),e._seedPool.push(e._alignmentRandomizer),e._seedPool.push(e._isMaskedRandomizer),e}return Object(w.a)(n,[{key:"getImagePaths",value:function(){return[_p.Box.getImagePath()]}},{key:"_modifiedText",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_modifiedText",this).call(this,e).toLowerCase()}},{key:"_modifiedLines",value:function(e){var t=new $h;return t.set([e.reduce((function(e,t){return"".concat(e).concat(""===e?"":"\n").concat(t.joined(1)[0])}),"")]),[t]}},{key:"_layoutRows",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_layoutRows",this).call(this,e,t),r=i[0];if(r&&this.getSquareLayout()){var o=r.getSize();o.height=o.width}return i}},{key:"getAlignment",value:function(){return this._alignmentRandomizer.pickNext(this.constructor.ValidAlignments||Tp.ValidAlignments)}},{key:"_randomLayoutRow",value:function(e,t,n,i){var r=this.getAlignment(),o=this._rowType,a=_h.getImage(o.getImagePath());i.setAlignment(r);var s=new jp({words:e,width:n,attributes:i,image:a,imageInsets:o.insetsForWidth(n),capInsets:o.getCapInsets(),backgroundColor:ut.WHITE,centerOffset:0,textScaleFactor:.7,isMasked:this._isMaskedRandomizer.nextBool()});this._rowType===_p.Box&&(s.serverImageSmoothingFix=!0);var l=s.getSize();return this.getSquareLayout()?l.height=l.width:l.height=Math.max(l.height,l.width*o.getMinimumHeightRatio()),s}}]),n}(ep),"defaultFontIdentifiers",["imgly_font_lexend_bold"]),W(Ep,"Alignment",{Left:"left",Center:"center",Right:"right"}),W(Ep,"ValidAlignments",[Tp.Alignment.Left,Tp.Alignment.Center,Tp.Alignment.Right]),W(Ep,"identifier","imgly_text_design_masked"),Ep.prototype.availableOptions=Object(T.a)({},ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Ep.defaultFontIdentifiers},squareLayout:{type:"boolean",default:!0}})})),Qg=z((function(){Es(),jg(),Jm(),Yg(),W(Dp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._possibleRowTypes=[_p.Badge1,_p.Badge2,_p.Badge3,_p.Badge4],e._rowTypesRandomizer=new mh(0),e._isMaskedRandomizer=new mh(0),e._seedPool.push(e._rowTypesRandomizer),e._seedPool.push(e._isMaskedRandomizer),e}return Object(w.a)(n,[{key:"getImagePaths",value:function(){return this._possibleRowTypes.map((function(e){return e.getImagePath()}))}},{key:"_randomLayoutRow",value:function(e,t,i,r){this._rowType=this._rowTypesRandomizer.pickNext(this._possibleRowTypes),r.setLineSpacing(.9);var o=Object(m.a)(Object(p.a)(n.prototype),"_randomLayoutRow",this).call(this,e,t,i,r);return o.set({textScaleFactor:.9}),o}}]),n}(Ep),"defaultFontIdentifiers",["imgly_font_outfit_bold"]),W(Dp,"identifier","imgly_text_design_masked_badge"),W(Dp,"ValidAlignments",[Ep.Alignment.Center]),Dp.prototype.availableOptions=Object(T.a)({},Ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Dp.defaultFontIdentifiers}})})),Zg=z((function(){Es(),jg(),Jm(),Yg(),W(Ip=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._possibleRowTypes=[_p.SpeechBubble1,_p.SpeechBubble3],e._rowTypesRandomizer=new mh(0),e._isMaskedRandomizer=new mh(0),e._seedPool.push(e._rowTypesRandomizer),e._seedPool.push(e._isMaskedRandomizer),e}return Object(w.a)(n,[{key:"getImagePaths",value:function(){return this._possibleRowTypes.map((function(e){return e.getImagePath()}))}},{key:"_rowTypes",value:function(e){return this._possibleRowTypes}},{key:"_randomLayoutRow",value:function(e,t,i,r){this._rowType=this._rowTypesRandomizer.pickNext(this._rowTypes(e)),r.setLineSpacing(.9);var o=Object(m.a)(Object(p.a)(n.prototype),"_randomLayoutRow",this).call(this,e,t,i,r);return o.set({textScaleFactor:1,minimumHeight:i*this._rowType.getMinimumHeightRatio(),sizeToFitContent:this._rowType.getSizeToFitContent(),centeredVertically:!0}),o}}]),n}(Ep),"defaultFontIdentifiers",["imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_roboto_black","imgly_font_roboto_light"]),W(Ip,"identifier","imgly_text_design_masked_speech_bubble"),Ip.prototype.availableOptions=Object(T.a)({},Ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Ip.defaultFontIdentifiers},squareLayout:{type:"boolean",default:!1},alignment:{type:"string",default:"left",available:Ep.ValidAlignments}})})),Jg=z((function(){Es(),jg(),Yg(),Zg(),W(Rp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._possibleRowTypes=[_p.SpeechBubble2,_p.SpeechBubble4,_p.SpeechBubble2,_p.SpeechBubble4,_p.SpeechBubble5],e._possibleRowTypesForMin15=e._possibleRowTypes.slice(0,2),e._possibleRowTypesForMax14=e._possibleRowTypes.slice(2),e}return Object(w.a)(n,[{key:"_rowTypes",value:function(e){return e.countNumberOfCharacters()<15?this._possibleRowTypesForMax14:this._possibleRowTypesForMin15}}]),n}(Ip),"defaultFontIdentifiers",["imgly_font_permanent_marker"]),W(Rp,"identifier","imgly_text_design_masked_speech_bubble_comic"),Rp.prototype.availableOptions=Object(T.a)({},Ip.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Rp.defaultFontIdentifiers}})})),$g=z((function(){Es(),Xg(),Yg(),W(Fp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_modifiedText",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_modifiedText",this).call(this,e).toUpperCase()}},{key:"_randomLayoutRow",value:function(e,t,n,i){var r=this._alignmentRandomizer.pickNext(Ep.ValidAlignments);return i.setAlignment(r),new jp({words:e,width:n,attributes:i,image:null,backgroundColor:ut.WHITE,centerOffset:0,sizeToFitContent:!0,isMasked:!1,autoAdjustTextColor:!1})}}]),n}(Ep),"defaultFontIdentifiers",["imgly_font_abril_fatface_regular"]),W(Fp,"identifier","imgly_text_design_multiline"),Fp.prototype.availableOptions=Object(T.a)({},Ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Fp.defaultFontIdentifiers}})})),ey=z((function(){Es(),Ap=la.Rectangle,(Mp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getContentFrame",value:function(){var e=this.getFrame().clone(),t=.1*e.width;return e.insetBy(t,t)}},{key:"intersects",value:function(e){return this.getFrame().intersects(e.getFrame())}}]),n}(Nt)).prototype.availableOptions={frame:{type:"object",default:new Ap}}})),ty=z((function(){Es(),eg(),lg(),wg(),ey(),Pp=la.Rectangle,(zp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._MAX_TRIES=1e3,e._PRECISION=1e3,e}return Object(w.a)(n,[{key:"render",value:function(e,t,n,i,r){var o=this._options,a=o.imagePaths,s=o.relativeParticleSize;if(!(a.length<=0)){var l=t.width/t.height,u=new Pp(Math.round(n.left*this._PRECISION),Math.round(n.top*this._PRECISION*l),this._PRECISION,this._PRECISION);u.width-=u.x+Math.round(n.right*this._PRECISION),u.height-=u.y+Math.round(n.bottom*this._PRECISION*l);for(var c=[],f=0,d=0;f<this.getParticleCount()&&d<this._MAX_TRIES;){var h=s/2,p=Math.round(h*this._PRECISION),m=Math.round(h*this._PRECISION*l),g=Math.floor(this._PRECISION)-p,y=Math.floor(this._PRECISION)-m,v=r.nextInRange(p,g),b=r.nextInRange(m,y),_=new Pp(v-p,b-m,2*p,2*m);_.intersects(u)||this.hasCollision(c,_)||(c.push(new Mp({frame:_})),f+=1),d+=1}for(var x=0;x<c.length;x++){var k=c[x],w=r.pickNext(a),O=_h.getImage(w),S=r.nextInRange(140,230)/255,C=t.width/this._PRECISION,j=t.height/this._PRECISION,T=k.getContentFrame();T.x*=C,T.y*=j,T.width*=C,T.height*=j;var E=i.clone();E.a=S,Yh(e,O,T,E,"source-atop")}}}},{key:"hasCollision",value:function(e,t){for(var n=0;n<e.length;n++)if(t.intersects(e[n].getFrame()))return!0;return!1}}]),n}(mp)).prototype.availableOptions=Object(T.a)({},mp.prototype.availableOptions,{particleCount:{type:"number",default:50},relativeParticleSize:{type:"number",default:.08},imagePaths:{type:"array",default:[]}})})),ny=z((function(){Es(),ty(),W(Bp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(zp),"Images",["text-design/images/imgly_text_design_particle_brush_01.png","text-design/images/imgly_text_design_particle_brush_02.png","text-design/images/imgly_text_design_particle_brush_03.png","text-design/images/imgly_text_design_particle_brush_04.png","text-design/images/imgly_text_design_particle_brush_05.png","text-design/images/imgly_text_design_particle_brush_06.png","text-design/images/imgly_text_design_particle_brush_07.png","text-design/images/imgly_text_design_particle_brush_08.png","text-design/images/imgly_text_design_particle_brush_09.png","text-design/images/imgly_text_design_particle_brush_10.png"]),Bp.prototype.availableOptions=Object(T.a)({},zp.prototype.availableOptions,{imagePaths:{type:"array",default:Object(x.a)(Bp.Images)},relativeParticleSize:{type:"number",default:.12}})})),iy=z((function(){Es(),ty(),W(Lp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(zp),"Images",["text-design/images/imgly_text_design_particle_circle_01.png","text-design/images/imgly_text_design_particle_circle_02.png","text-design/images/imgly_text_design_particle_circle_03.png","text-design/images/imgly_text_design_particle_circle_04.png","text-design/images/imgly_text_design_particle_circle_05.png","text-design/images/imgly_text_design_particle_circle_06.png","text-design/images/imgly_text_design_particle_circle_07.png","text-design/images/imgly_text_design_particle_circle_08.png","text-design/images/imgly_text_design_particle_circle_09.png","text-design/images/imgly_text_design_particle_circle_10.png"]),Lp.prototype.availableOptions=Object(T.a)({},zp.prototype.availableOptions,{imagePaths:{type:"array",default:Object(x.a)(Lp.Images)},relativeParticleSize:{type:"number",default:.12}})})),ry=z((function(){Es(),ty(),W(Np=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(zp),"Images",["text-design/images/imgly_text_design_particle_triangle_01.png","text-design/images/imgly_text_design_particle_triangle_02.png","text-design/images/imgly_text_design_particle_triangle_03.png","text-design/images/imgly_text_design_particle_triangle_04.png","text-design/images/imgly_text_design_particle_triangle_05.png","text-design/images/imgly_text_design_particle_triangle_06.png","text-design/images/imgly_text_design_particle_triangle_07.png","text-design/images/imgly_text_design_particle_triangle_08.png","text-design/images/imgly_text_design_particle_triangle_09.png","text-design/images/imgly_text_design_particle_triangle_10.png"]),Np.prototype.availableOptions=Object(T.a)({},zp.prototype.availableOptions,{imagePaths:{type:"array",default:Object(x.a)(Np.Images)}})})),oy=z((function(){Es(),Jm(),ag(),sg(),bg(),xg(),eg(),dg(),hg(),W(Gp=Up=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._relativeInsets=new Bh(0,0,0,0),e._INVALID_FONTS_IF_LESS_THEN_5_CHARS=["imgly_font_montserrat_light"],e._INVALID_FONTS_IF_LESS_THEN_4_CHARS=["imgly_font_montserrat_light","imgly_font_cookie_regular"],e._lineCount=0,e._decorativeRowCreated=!1,e._useImageRowRandomizer=new mh(0),e._rowTypeRandomizer=new mh(0),e._lineDecorativeTypeRandomizer=new mh(0),e._seedPool.push(e._useImageRowRandomizer),e._seedPool.push(e._rowTypeRandomizer),e._seedPool.push(e._lineDecorativeTypeRandomizer),e}return Object(w.a)(n,[{key:"getImagePaths",value:function(){return[].concat(Object(x.a)(Up.DecoratorImages),Object(x.a)(Up.RowImages))}},{key:"_fontForRow",value:function(e,t){var n=this,i=t.countNumberOfCharacters(),r=this.getFontIdentifiers();return i<4?r=r.filter((function(e){return n._INVALID_FONTS_IF_LESS_THEN_4_CHARS.indexOf(e)<0})):i<5&&(r=r.filter((function(e){return n._INVALID_FONTS_IF_LESS_THEN_5_CHARS.indexOf(e)<0}))),r[e%r.length]}},{key:"_modifiedText",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_modifiedText",this).call(this,e).toUpperCase()}},{key:"_modifiedLines",value:function(e){return this._lineCount=e.length,e}},{key:"generateLayoutData",value:function(e,t){return this._decorativeRowCreated=!1,Object(m.a)(Object(p.a)(n.prototype),"generateLayoutData",this).call(this,e,t)}},{key:"_randomLayoutRow",value:function(e,t,n,i){var r=e;switch(i.getFontIdentifier()){case"imgly_font_cookie_regular":r=(new $h).set(e.getLowerCase());break;case"imgly_font_permanent_marker":r=(new $h).set(e.getUpperCase())}var o=this.getDecorativeRowsInTheMiddleOnly()&&(0===t||t===this._lineCount-1);if(this._useImageRowRandomizer.nextBool()||this._decorativeRowCreated||o)return new Lh({words:r,width:n,attributes:i});this._decorativeRowCreated=!0;var a=this._randomDecoratorImages(),s=Object(y.a)(a,2),l=s[0],u=s[1];return new cp({words:e,width:n,attributes:i,leftImage:l,rightImage:u})}},{key:"_layoutRows",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_layoutRows",this).call(this,e,t);if(!this.getDecorationsVisible())return i;var r=.0625*t,o=new hp({width:t,height:r,image:_h.getImage(this._rowTypeRandomizer.pickNext(Up.RowImages))}).layout(),a=new hp({width:t,height:r,image:_h.getImage(this._rowTypeRandomizer.pickNext(Up.RowImages))}).layout();return[o].concat(Object(x.a)(i),[a])}},{key:"_randomDecoratorImages",value:function(){return this._lineDecorativeTypeRandomizer.nextInRange(0,1)?Up.DecoratorImages.slice(0,2).map((function(e){return _h.getImage(e)})):Up.DecoratorImages.slice(2).map((function(e){return _h.getImage(e)}))}}]),n}(ep),"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular","imgly_font_montserrat_light"]),W(Gp,"identifier","imgly_text_design_sunshine"),W(Gp,"RowImages",[hp.RowImages.decorative1,hp.RowImages.decorative2,hp.RowImages.decorative3,hp.RowImages.decorative4]),W(Gp,"DecoratorImages",["text-design/images/imgly_text_design_asset_decorative_03.png","text-design/images/imgly_text_design_asset_decorative_04.png","text-design/images/imgly_text_design_asset_decorative_07.png","text-design/images/imgly_text_design_asset_decorative_08.png"]),Gp.prototype.availableOptions=Object(T.a)({},ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Gp.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025/3*4},decorationsVisible:{type:"boolean",default:!0},decorativeRowsInTheMiddleOnly:{type:"boolean",default:!1}})})),ay=z((function(){Es(),ny(),iy(),ry(),Jm(),ag(),eg(),oy(),W(Wp=Hp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._relativeInsets=new Bh(.3,.3,.3,.3),e._backgroundRandomizer=new mh(0),e._decoTypeRandomizer=new mh(0),e._seedPool.push(e._backgroundRandomizer),e._seedPool.push(e._decoTypeRandomizer),e}return Object(w.a)(n,[{key:"getImagePaths",value:function(){return[].concat(Object(x.a)(Gp.RowImages),Object(x.a)(ke.Array.flatten(Hp.Backgrounds.map((function(e){return e.getImagePaths()})))),Object(x.a)(Hp.DecoratorImages))}},{key:"_getBackground",value:function(){return this._backgroundRandomizer.pickNext(Hp.Backgrounds)}},{key:"_randomDecoratorImages",value:function(){switch(this._decoTypeRandomizer.nextInRange(0,2)){case 0:return Hp.DecoratorImages.slice(0,2).map((function(e){return _h.getImage(e)}));case 1:case 2:return Hp.DecoratorImages.slice(2).map((function(e){return _h.getImage(e)}));default:return Ee.warn("TextDesignParticles#_randomDecoratorImages: Number generated not in valid range."),Hp.DecoratorImages.slice(2).map((function(e){return _h.getImage(e)}))}}}]),n}(Gp),"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular","imgly_font_montserrat_light"]),W(Wp,"identifier","imgly_text_design_particles"),W(Wp,"Backgrounds",[new Bp,new Lp,new Np]),W(Wp,"DecoratorImages",["text-design/images/imgly_text_design_particle_holder_01.png","text-design/images/imgly_text_design_particle_holder_02.png","text-design/images/imgly_text_design_particle_holder_03.png","text-design/images/imgly_text_design_particle_holder_04.png"]),Wp.prototype.availableOptions=Object(T.a)({},Gp.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Wp.defaultFontIdentifiers},decorationsVisible:{type:"boolean",default:!1},decorativeRowsInTheMiddleOnly:{type:"boolean",default:!0}})})),sy=z((function(){Es(),Jm(),ag(),gg(),hg(),W(Vp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._relativeInsets=new Bh(.1,0,0,0),e._rowTypeRandomizer=new mh(0),e._seedPool.push(e._rowTypeRandomizer),e}return Object(w.a)(n,[{key:"_modifiedText",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_modifiedText",this).call(this,e).toUpperCase()}},{key:"_randomLayoutRow",value:function(e,t,i,r){var o=Object(m.a)(Object(p.a)(n.prototype),"_randomLayoutRow",this).call(this,e,t,i,r);return o.setShearingAngle(this.getShearingAngle()),o}},{key:"_layoutRows",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_layoutRows",this).call(this,e,t),r=ke.values(op.FormType),o=new op({width:t,height:30,type:this._rowTypeRandomizer.pickNext(r),shearingAngle:this.getShearingAngle()}).layout(),a=new op({width:t,height:30,type:this._rowTypeRandomizer.pickNext(r),shearingAngle:this.getShearingAngle()}).layout();return[o].concat(Object(x.a)(i),[a])}}]),n}(ep),"defaultFontIdentifiers",["imgly_font_outfit_bold"]),W(Vp,"identifier","imgly_text_design_rotated"),Vp.prototype.availableOptions=Object(T.a)({},ep.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Vp.defaultFontIdentifiers},relativeLineSpacing:{type:"number",default:.025/3},shearingAngle:{type:"number",default:-.1}})})),ly=z((function(){ag(),xg(),eg(),oy(),W(qp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._relativeInsets=new Bh(0,.3,0,.3),e}return Object(w.a)(n,[{key:"_layoutRows",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_layoutRows",this).call(this,e,t);if(!this.getDecorationsVisible())return i;var r=new hp({width:t,height:25,image:_h.getImage(this._rowTypeRandomizer.pickNext(Gp.RowImages))}).layout(),o=new hp({width:t,height:25,image:_h.getImage(this._rowTypeRandomizer.pickNext(Gp.RowImages))}).layout();return[r].concat(Object(x.a)(i),[o])}}]),n}(Gp),"identifier","imgly_text_design_sunshine-v3_1_0")})),uy=z((function(){Es(),jg(),Yg(),Zg(),W(Kp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._possibleRowTypes=[_p.Watercolor1,_p.Watercolor2,_p.Watercolor3],e}return n}(Ip),"defaultFontIdentifiers",["imgly_font_permanent_marker","imgly_font_cookie_regular","imgly_font_cookie_regular"]),W(Kp,"identifier","imgly_text_design_watercolor"),Kp.prototype.availableOptions=Object(T.a)({},Ip.prototype.availableOptions,{fontIdentifiers:{type:"array",default:Kp.defaultFontIdentifiers},alignment:{type:"string",default:Ep.Alignment.Center,available:Ep.ValidAlignments}})})),cy=z((function(){Es(),Jm(),ug(),Xg(),$m(),lg(),Xp=la.Rectangle,1e3,Yp=function(){function e(){Object(k.a)(this,e),this._layoutData=null,this._layout=null,this._text="",this._seed=0,this._debugMode=!1,this.randomizer=new mh}return Object(w.a)(e,[{key:"createLayout",value:function(e,t,n){this._layout=e,this._text=t,this._seed=n,e.seed(n),this._layoutData=e.generateLayoutData(t,1e3)}},{key:"calculateAspect",value:function(){return this._layoutData?this._layoutData.getSize().aspect():(Ee.warn("TextDesignRenderer#calculateAspect: No layout data"),1)}},{key:"draw",value:function(e,t,n,i){var r=this,o=this._layoutData;if(this._layoutData){var a=new yh(1e3,1e3/t.aspect()),s=t.width/1e3,l=o.getRelativeInsets().clone().scale(a.width),u=o.getRelativeLineSpacing()*a.width,c=l.top;e.save(),this.randomizer.seed(this._seed);var f=o.getBackground();f&&f.render(e,t,o.getRelativeInsets(),i?ut.WHITE:n,this.randomizer),e.scale(s,s),o.getRows().forEach((function(t){e.save();var o=t.getAttributes();if(e.transform(1,t.getShearingAngle(),0,1,l.left,c),o.setTextColor(i?ut.WHITE:n.clone()),o.setTintColor(i?ut.WHITE:n.clone()),(t instanceof Qh||t instanceof jp)&&(t.setBackgroundColor(i?ut.WHITE:n.clone()),t.setIsUsedInInvertedLayout(i)),r._debugMode&&(t._debugMode=!0),t.willRender(e),t.render(e),t.didRender(e),r._debugMode){var a=t._getFrame(),s=t._getTextFrame();Vh(e,a,ut.GREEN),Vh(e,s,ut.BLUE),t._getLayoutElements().forEach((function(n){var i=n.getFrame(),r=t._getTextFrameForElement(n);Vh(e,i,new ut(1,1,0)),Vh(e,r,new ut(0,1,1))}))}c+=t.getSize().height+u,e.restore()})),this._debugMode&&Vh(e,new Xp(0,0,a.width,a.height),ut.RED),e.restore()}}}]),e}()})),fy=z((function(){Es(),Wm(),pg(),mg(),yg(),vg(),_g(),kg(),Sg(),Cg(),Yg(),Qg(),Zg(),Jg(),$g(),ay(),sy(),oy(),ly(),uy(),Jm(),$m(),eg(),cy(),Qp=la.Vector2,(Zp=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(k.a)(this,n),(r=t.call(this,e,i))._isDisposed=!1,r._renderer=new Yp,r._canvas=ke.createCanvas(),r._context=r._canvas.getContext("2d"),r._texture=ha.Texture.fromCanvas(r._canvas),r._sprite.setTexture(r._texture),r._aspect=1,r._isLayoutDirty=!0,r.getSeed()<0&&r.setSeed(mh.TimeSeed()),r}return Object(w.a)(n,[{key:"seed",value:function(e){this.setSeed(e||mh.TimeSeed()),this._isLayoutDirty=!0}},{key:"_updateLayout",value:function(){var e=this.getLayout();return e?(this._renderer.createLayout(e,this.getText(),this.getSeed()),this._aspect=this._renderer.calculateAspect(),this._isLayoutDirty=!1,!0):null}},{key:"applyTransform",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"applyTransform",this).call(this,e);var t={};this._options.dimensions&&(t.width=e.applyToRelativeSize(this.getWidth())),this.set(t,!1)}},{key:"applyFlip",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"applyFlip",this).call(this,e);var t=this._options.rotation;switch(e){case"horizontal":t+=2*(Math.PI-t),this.setRotation(t);break;case"vertical":t+=2*(Math.PI/2-t),this.setRotation(t)}}},{key:"update",value:function(e,t){var i=this._isLayoutDirty;if(!(this._isDisposed||i&&!this._updateLayout())){var r=this.getWidth()*t.min()/e.getTextureScale(),o=r/this._aspect,a=new Qp(r,o),s=new Qp(Math.round(2*r),Math.round(2*o)).clamp(new Qp(1,1),new Qp(1/0,1/0)),l=e.getRenderer(),u=l.getMaxDimensions()||1/0;s.x>u&&(s.x=u,s.y=Math.round(s.x/this._aspect)),s.y>u&&(s.y=u,s.x=Math.round(s.y*this._aspect));var c=ke.ensureCanvasDimensions(this._canvas,s);(i||c)&&(this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._renderer.draw(this._context,new yh(s.x,s.y),this.getColor(),this.getInverted()),this.setDimensions(a),this._texture.getBaseTexture().update(),l.isOfType("webgl")&&l.updateTexture(this._texture.getBaseTexture())),Object(m.a)(Object(p.a)(n.prototype),"update",this).call(this,e,t),this._applyFlip()}}},{key:"_applyFlip",value:function(){var e=this._sprite.getScale(),t=this._options,n=t.flipHorizontally,i=t.flipVertically;(n&&e.x>0||!n&&e.x<0)&&(e.x*=-1),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1),this._sprite.setScale(e)}},{key:"_optionEquals",value:function(e,t){if("layout"===e){var i=this._options.layout;return!(!i&&t||!t&&i)&&(!(!t.constructor||!i.constructor)&&i.constructor.identifier===t.constructor.identifier)}return Object(m.a)(Object(p.a)(n.prototype),"_optionEquals",this).call(this,e,t)}},{key:"serializeOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&this.getPadding()<0){var i=e.indexOf("padding");i>-1&&e.splice(i,1)}var r=Object(m.a)(Object(p.a)(n.prototype),"serializeOptions",this).call(this,e,t);return e||(r.type="textdesign"),r}},{key:"_getTexture",value:function(){return this._texture}},{key:"canBeFlippedHorizontally",value:function(){return!1}},{key:"canBeDuplicated",value:function(){return!0}},{key:"canMaskCanvas",value:function(){return!0}},{key:"canAdjustPadding",value:function(){return!0}},{key:"dispose",value:function(){this._isDisposed=!0,this._texture.dispose(),this._sprite.dispose()}}]),n}(Yd)).Layouts={TextDesignBlocks:tp,TextDesignBlocksCondensed:np,TextDesignBlocksLight:ap,TextDesignCelebrate:dp,TextDesignCelebrateSimple:pp,TextDesignEqualWidth:vp,TextDesignEqualWidthFat:bp,TextDesignMasked:Ep,TextDesignMaskedBadge:Dp,TextDesignMaskedSpeechBubble:Ip,TextDesignMaskedSpeechBubbleComic:Rp,TextDesignMultiline:Fp,TextDesignWatercolor:Kp,TextDesignSunshine:Gp,TextDesignParticles:Wp,TextDesignRotated:Vp},Zp.LegacyLayouts={TextDesignBlocksLightV310:sp,TextDesignSunshineV310:qp},Zp.AssetManager=_h,Zp.prototype.availableOptions={id:{type:"string",default:function(){return ke.getUUID()}},position:{type:"vector2",default:new Qp(.5,.5)},dimensions:{type:"vector2",default:Qp.NULL},anchor:{type:"vector2",default:new Qp(0,0)},pivot:{type:"vector2",default:new Qp(.5,.5)},rotation:{type:"number",default:0},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1},layout:{type:"object",default:null,setter:function(e){return this._isLayoutDirty=!0,e}},text:{type:"string",default:"",setter:function(e){return this._isLayoutDirty=!0,e}},color:{type:"color",default:ut.BLACK,setter:function(e){return this._isLayoutDirty=!0,e}},padding:{type:"number",default:.01,minValue:.01},width:{type:"number",default:.8},inverted:{type:"boolean",default:!1,setter:function(e){return this._isLayoutDirty=!0,e}},seed:{type:"number",default:-1}},Jp=Zp})),dy=z((function(){Es(),Wm(),qg(),$p=la.Vector2,(em=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._textRenderer=new Op(Object(O.a)(e),e._operation),e._textRenderer.rotation=e.getRotation(),e._sprite.setTexture(e._textRenderer.getFinalTexture()),e._hitTestSprite.setTexture(e._textRenderer.getTexture()),e}return Object(w.a)(n,[{key:"serializeOptions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Object(m.a)(Object(p.a)(n.prototype),"serializeOptions",this).call(this,e,t);return e||(i.type="text"),i}},{key:"getDOMStyle",value:function(e,t){var n=this.getFontSize()*t.y;return{fontWeight:this._options.fontWeight,fontSize:"".concat(n,"px"),fontStyle:this._options.fontStyle,fontFamily:this._options.fontFamily,lineHeight:"".concat(this.getAbsoluteTextHeight(t)*this.getLineHeight(),"px"),color:this._options.color.toRGBA(),backgroundColor:this._options.backgroundColor.toRGBA(),textAlign:this._options.alignment}}},{key:"getAbsoluteTextHeight",value:function(e){var t=this.getFontSize()*e.y,n=this.getTextMetrics();if(n){var i=1/n.unitsPerEm*t,r=n.ascender*i,o=n.descender*i;return r+Math.abs(o)}return t*this.getLineHeight()*1.1}},{key:"getDimensions",value:function(e,t){return this._textRenderer.getDimensions(e,t)}},{key:"applyFlip",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"applyFlip",this).call(this,e);var t=this._options.rotation;switch(e){case"horizontal":t+=2*(Math.PI-t),this.setRotation(t);break;case"vertical":t+=2*(Math.PI/2-t),this.setRotation(t)}}},{key:"applyTransform",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"applyTransform",this).call(this,e),this.set({fontSize:e.scaleSize(this.getFontSize(),"y"),maxWidth:e.scaleSize(this.getMaxWidth(),"x")},!1)}},{key:"applyRotation",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"applyRotation",this).call(this,e);var t=(e+360)%360,i=this._operation.getInputDimensions();90!==t&&270!==t||(this.setMaxWidth(this.getMaxWidth()/i.x*i.y),this.setFontSize(this.getFontSize()/i.y*i.x))}},{key:"setOption",value:function(e,t){var i=this._options,r=i.flipHorizontally,o=i.flipVertically;if("rotation"===e){var a=t;return r&&(a=2*Math.PI-a),o&&(a=2*Math.PI-a),this._options.rotation=a,this._textRenderer&&(this._textRenderer.rotation=a),this._rotation=a,void this.emit("update")}Object(m.a)(Object(p.a)(n.prototype),"setOption",this).call(this,e,t)}},{key:"getOption",value:function(e){return"rotation"===e?this._rotation:Object(m.a)(Object(p.a)(n.prototype),"getOption",this).call(this,e)}},{key:"getHitTestDisplayObject",value:function(){return this._hitTestSprite}},{key:"update",value:function(e,t){if(this._sprite.setVisible(this._options.visible),this._options.visible){this._textRenderer.update(e,t);var i=this._textRenderer.getFinalTexture();i.getBaseTexture().update();var r=e.getRenderer();r.isOfType("webgl")&&r.updateTexture(i.getBaseTexture()),Object(m.a)(Object(p.a)(n.prototype),"update",this).call(this,e,t),this._sprite.setRotation(0),this._textRenderer.getTexture().getBaseTexture().update(),this._hitTestSprite.setRotation(this._rotation),this._hitTestSprite.updateTransform(),this._applyFlip()}}},{key:"_applyFlip",value:function(){var e=this._sprite.getScale(),t=this._options,n=t.flipHorizontally,i=t.flipVertically;(n&&e.x>0||!n&&e.x<0)&&(e.x*=-1,this.setRotation(this._rotation)),(i&&e.y>0||!i&&e.y<0)&&(e.y*=-1,this.setRotation(this._rotation)),this._sprite.setScale(e)}},{key:"_getTexture",value:function(){return this._textRenderer.getFinalTexture()}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._textRenderer.dispose(),this._hitTestSprite.dispose(),this._sprite.dispose()}},{key:"canBeFlippedHorizontally",value:function(){return!1}},{key:"canAdjustPadding",value:function(){return!1}}]),n}(Yd)).prototype.availableOptions={id:{type:"string",default:function(){return ke.getUUID()}},fontSize:{type:"number",default:.1},characterSpacing:{type:"number",default:0},lineHeight:{type:"number",default:1.1},fontIdentifier:{type:"string"},fontFamily:{type:"string",default:"Times New Roman"},fontWeight:{type:"*",default:"normal"},fontStyle:{type:"string",default:"normal"},textMetrics:{type:"object",default:null},outlineWidth:{type:"number",default:0},outlineColor:{type:"color",default:ut.BLACK},alignment:{type:"string",default:"left",available:["left","center","right"]},verticalAlignment:{type:"string",default:"top",available:["top","center","bottom"]},color:{type:"color",default:new ut(1,0,0,1)},backgroundColor:{type:"color",default:ut.TRANSPARENT},position:{type:"vector2",default:new $p(.5,.5)},anchor:{type:"vector2",default:new $p(0,0)},pivot:{type:"vector2",default:new $p(.5,.5)},rotation:{type:"number",default:0},text:{type:"string",required:!0},maxWidth:{type:"number",default:.5},maxHeight:{type:"number",default:0},visible:{type:"boolean",default:!0},flipHorizontally:{type:"boolean",default:!1},flipVertically:{type:"boolean",default:!1}},em.type="text",tm=em})),hy=z((function(){Es(),Wm(),Ym(),Zm(),fy(),dy(),nm=la.Vector2,(im=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=t.call.apply(t,[this].concat(r))).setSmoothDownscaling(e._sdk.getOptions().smoothDownscaling),e._onSpriteUpdate=e._onSpriteUpdate.bind(Object(O.a)(e)),e._maskCanvas=ke.createCanvas();var a=e._options.sprites.slice();return a.forEach((function(t){e.removeSprite(t),e.addSprite(t)})),e}return Object(w.a)(n,[{key:"getSpritesOfType",value:function(e){return this._options.sprites.filter((function(t){return t instanceof e}))}},{key:"rotate",value:function(e){this._options.sprites.forEach((function(t){t.applyRotation(e)}))}},{key:"flip",value:function(e){this._options.sprites.forEach((function(t){t.applyFlip(e)}))}},{key:"_onSpriteUpdate",value:function(e,t){this.emit("update",this),this.setDirty(!0)}},{key:"_applyRotation",value:function(e,t){this._options.sprites.forEach((function(n){return n.applyRotation(e,t)}))}},{key:"transform",value:function(e){this._options.sprites.forEach((function(t){return t.applyTransform(e)}))}},{key:"scale",value:function(e){this._options.sprites.forEach((function(t){return t.applyScale(e)}))}},{key:"serializeOption",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"sprites"===e?this._options.sprites.map((function(e){return e.serializeOptions(void 0,t)})):Object(m.a)(Object(p.a)(n.prototype),"serializeOption",this).call(this,e,t)}},{key:"createSticker",value:function(e){return new hh(this,e)}},{key:"createText",value:function(e){return new tm(this,e)}},{key:"createBrush",value:function(e){return new ah(this,e)}},{key:"createTextDesign",value:function(e){return new Jp(this,e)}},{key:"addSprite",value:function(e){this._options.sprites.push(e);var t=this.getSmoothDownscaling();e.setSmoothDownscaling&&e.setSmoothDownscaling(t),this._container.addChild(e.getDisplayObject()),this.setDirty(!0),e.on("update",this._onSpriteUpdate),this.emit("update",this,this._options.sprites)}},{key:"removeSprite",value:function(e){var t=this._options.sprites,n=t.indexOf(e);return-1!==n&&(e.off("update",this._onSpriteUpdate),this._container.removeChild(e.getDisplayObject()),t.splice(n,1),this.setDirty(!0),!0)}},{key:"_getOrientatedStageSize",value:function(){var e=this._sdk.getSprite().getTexture().getFrame(),t=this._sdk.getOperationsStack().getByIdentifier("orientation");if(t){var n=t?t.getRotation():0;return 270===n||90===n?new nm(e.height,e.width):new nm(e.width,e.height)}var i=this._sdk.getOperationsStack().getByIdentifier("output");return i?i.getOutputResolution():new nm(e.width,e.height)}},{key:"_render",value:function(e){var t=this,n=this._container,i=this._options.sprites,r=e.getDimensions().clone().floor(),o=new ha.Container;return o.addChild(this._sprite),Promise.all(i.map((function(e){return e.validateSettings()}))).then((function(){i.forEach((function(e){return e.update(t._sdk,r)}))})).then((function(){t._renderTexture.clear(),i.forEach((function(e){e.getInverted&&e.getInverted()?(t._renderTexture.render(o),t._renderTexture.render(t._renderMaskedSprite(e.getDisplayObject(),e.getColor?e.getColor():ut.WHITE,e.getPadding?e.getPadding():-1)),o=new ha.Container):o.addChild(e.getDisplayObject())})),t._renderTexture.render(o),n.addChild(t._sprite),i.forEach((function(e){return n.addChild(e.getDisplayObject())}))}))}},{key:"_renderMaskedSprite",value:function(e,t,n){var i=this._maskCanvas,r=e.getWorldTransform(),o=this._getOrientatedStageSize();ke.ensureCanvasDimensions(i,o);var a=i.getContext("2d");if(a.clearRect(0,0,i.width,i.height),a.save(),a.fillStyle=t.toRGBA(),n<0)a.fillRect(0,0,o.x,o.y);else{var s=Math.abs(e.getWidth()/e.getScale().x),l=Math.abs(e.getHeight()/e.getScale().y),u=s*n;a.transform(r.a,r.b,r.c,r.d,r.tx,r.ty),a.fillRect(-u,-u,s+2*u,l+2*u)}a.restore(),a.save(),a.globalCompositeOperation="destination-out",e._renderCanvas({getCurrentRenderTarget:function(){return{getPixelRatio:function(){return 1}}},beforeDraw:function(t){var n=e.getWidth(),i=e.getHeight(),r=e.getScale(),o=r.x<0,a=r.y<0;t.translate(n,i),t.scale(o?-1:1,a?-1:1),t.translate(-n,-i)},getContext:function(){return a}}),a.restore();var c=new ha.Container,f=new ha.Sprite(ha.Texture.fromCanvas(i));return c.addChild(f),c}},{key:"takeSpriteToFront",value:function(e){var t=this._options.sprites,n=t.indexOf(e);if(-1!==n){ke.moveArrayItem(t,n,t.length-1);var i=e.getDisplayObject();this._container.removeChild(i),this._container.addChild(i),this.setDirty(!0)}}},{key:"getSpritesAtPosition",value:function(e,t){var n=this,i=[];this._options.sprites.forEach((function(e){return e.update(n._sdk,t)}));var r=this._sdk.getSprite(),o=r.getWorldTransform().applyInverseToVector(e),a=r.getTexture().getFrame(),s=a.width,l=a.height,u=r.getAnchor().clone().multiply(-s,-l);o.subtract(u);for(var c=this._options.sprites.slice(0).reverse(),f=0,d=c.length;f<d;f++){var h=c[f];h.getHitTestDisplayObject().isAtPosition(o)&&i.push(h)}return i}},{key:"setDirtyForRenderer",value:function(e,t,i){Object(m.a)(Object(p.a)(n.prototype),"setDirtyForRenderer",this).call(this,e,t,i),this._options.sprites.forEach((function(n){n.setDirtyForRenderer(e,t,i)}))}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._options.sprites.forEach((function(e){e.dispose()}))}}]),n}(Ma)).StickerSprite=hh,im.TextSprite=tm,im.BrushSprite=ah,im.TextDesignSprite=Jp,im.identifier="sprite",im.prototype.availableOptions={sprites:{type:"array",default:[],setter:function(e,t){var n=this;if(e=e.map((function(e,t){if(e instanceof Yd)return e;var i=Object(T.a)({},e);switch(delete i.type,e.type){case"text":return new tm(n,i);case"sticker":return new hh(n,i);case"brush":return new ah(n,i);case"textdesign":return new Jp(n,i);default:return Ee.error(n.constructor.name,"Invalid sprite type: ".concat(e.type)),null}})),!t){if(this._options.sprites)this._options.sprites.slice().forEach((function(e){e.dispose(),n.removeSprite(e)}));e.forEach((function(e){n.addSprite(e)}))}return e}},smoothDownscaling:{type:"boolean",default:!1}},vs.Operations.SpriteOperation=im,rm=im})),py=z((function(){Es(),om=la.Vector2,am=function(){function e(t,n){Object(k.a)(this,e),this._options=n,this._oldOptions={start:t.getStart().clone(),end:t.getEnd().clone(),rotation:t.getRotation(),textureScale:t.getTextureScale()},this._inputDimensions=t.getInputDimensions(!1),this._rotationDelta=n.rotation-t.getRotation(),this._deltaCos=Math.cos(this._rotationDelta),this._deltaSin=Math.sin(this._rotationDelta),this._oldAbsoluteSize=this._oldOptions.end.clone().subtract(this._oldOptions.start).multiply(this._inputDimensions),this._newAbsoluteSize=n.end.clone().subtract(n.start).multiply(this._inputDimensions),this._absoluteStartDiff=this._oldOptions.start.clone().subtract(n.start).multiply(this._inputDimensions),this._scaleRatio=t.calculateScale(n.rotation)/t.calculateScale(),this._sizeFactor=this._newAbsoluteSize.clone().divide(this._oldAbsoluteSize),this._textureScaleFactor=this._options.textureScale/t.getTextureScale()}return Object(w.a)(e,[{key:"applyToRelativePoint",value:function(e){var t=this._oldOptions.start,n=this._oldOptions.end,i=t.clone().add(n.clone().subtract(t).divide(2)).multiply(this._inputDimensions),r=e.clone().multiply(this._oldAbsoluteSize).subtract(this._oldAbsoluteSize.clone().divide(2)),o=i.clone().add(r).clone().subtract(this._inputDimensions.clone().divide(2)),a=new om(o.x*this._deltaCos-o.y*this._deltaSin,o.x*this._deltaSin+o.y*this._deltaCos),s=this._inputDimensions.clone().divide(2).add(a),l=this._options.start.clone().multiply(this._inputDimensions);return s.clone().subtract(l).divide(this._newAbsoluteSize)}},{key:"applyToRelativeSize",value:function(e){return e*this._oldAbsoluteSize.min()/this._newAbsoluteSize.min()}},{key:"applyToDimensions",value:function(e){return e=e.clone().multiply(this._scaleRatio),this._options.textureScale&&e.multiply(this._textureScaleFactor),e}},{key:"scaleSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"y";return e/this._sizeFactor[t]}},{key:"applyToRotation",value:function(e){return(e+this._rotationDelta)%(2*Math.PI)}},{key:"invert",value:function(){var e=this._options.start.clone(),t=this._options.end.clone(),n=this._inputDimensions,i=-this._rotationDelta,r=Math.cos(i),o=Math.sin(i),a=this._oldAbsoluteSize,s=this._newAbsoluteSize,l=e.clone().subtract(t).multiply(n),u=1/this._scaleRatio,c=new om(1/this._sizeFactor.x,1/this._sizeFactor.y),f=1/this._textureScaleFactor,d=this._oldOptions;return this._oldOptions=this._options,this._options=d,this._inputDimensions=n,this._rotationDelta=i,this._deltaCos=r,this._deltaSin=o,this._oldAbsoluteSize=s,this._newAbsoluteSize=a,this._absoluteStartDiff=l,this._scaleRatio=u,this._sizeFactor=c,this._textureScaleFactor=f,this}}]),e}()})),my=z((function(){Es(),py(),sm=la.Vector2,(lm=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_render",value:function(e){this._sprite.setRotation(0);var t=e.getDimensions(),n=this._options,i=n.start,r=n.end,o=n.rotation,a=n.textureScale,s=r.clone().subtract(i).clone().divide(2),l=i.clone().add(s),u=this.calculateScale()*a,c=t.clone().multiply(u).multiply(s);return this._sprite.setAnchor(l),this._sprite.setRotation(o),this._sprite.setScale(u,u),this._sprite.setPosition(c),this._renderTexture.render(this._container),Promise.resolve()}},{key:"calculateScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.rotation,t=this.getInputDimensions(!1),n=new sm(Math.abs(t.x*Math.cos(e))+Math.abs(t.y*Math.sin(e)),Math.abs(t.x*Math.sin(e))+Math.abs(t.y*Math.cos(e))),i=t.clone().subtract(n.clone()).divide(2).abs();return i.y>i.x?2*i.y/t.y+1:2*i.x/t.x+1}},{key:"getNewDimensions",value:function(e){var t=this._options,n=t.start,i=t.end,r=t.textureScale,o=this.calculateScale();return e.clone().multiply(r*o).multiply(i.clone().subtract(n)).round()}},{key:"flip",value:function(e){var t=this._options,n=t.start,i=t.end,r=n.clone();"horizontal"===e?(n.set(1-i.x,n.y),i.set(1-r.x,i.y)):"vertical"===e&&(n.set(n.x,1-i.y),i.set(i.x,1-r.y))}},{key:"rotate",value:function(e){for(var t=this._options,n=t.start,i=t.end,r=(e+360)%360,o=Math.floor(r/90),a=0;a<o;a++){var s=n.clone();n.set(1-i.y,s.x),i.set(1-s.y,i.x)}}},{key:"_onBeforeExport",value:function(){this._wasEnabledBeforeExport=this.getEnabled(),this.setEnabled(!0)}},{key:"_onAfterExport",value:function(){this.setEnabled(this._wasEnabledBeforeExport,!0)}}]),n}(Ma)).identifier="transform",lm.prototype.availableOptions={start:{type:"vector2",default:new sm(0,0)},end:{type:"vector2",default:new sm(1,1)},textureScale:{type:"number",default:1},rotation:{type:"number",default:0}},lm.TransformChange=am,vs.Operations.TransformOperation=lm,um=lm})),gy=z((function(){cv(),Es(),La(),(cm=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._watermarkImage=null,e._watermarkTexture=null,e._loadWatermarkImage=function(){if(!e._watermarkImage){if(!(e._options.watermarkURI instanceof window.Image)){var t={value:e._options.crossOrigin,cors:!0};return De.loadImage(e._options.watermarkURI,t).then((function(t){e._watermarkImage=t}))}e._watermarkImage=e._options.watermarkURI}return Promise.resolve()},e._setWatermarkalignment=function(t,n){var i=Math.min(n.x,n.y)*ke.clamp(e._options.inset,0,1);switch(e._options.alignment){case"center":e._watermarkSprite.setPosition(new gt(n.x-t.x,n.y-t.y).divide(2));break;case"top-left":e._watermarkSprite.setPosition(new gt(i,i));break;case"top-right":e._watermarkSprite.setPosition(new gt(n.x-t.x-i,i));break;case"bottom-left":e._watermarkSprite.setPosition(new gt(i,n.y-t.y-i));break;case"bottom-right":e._watermarkSprite.setPosition(new gt(n.x-t.x-i,n.y-t.y-i));break;default:e._watermarkSprite.setPosition(new gt(0,0))}},e._watermarkSprite=new ha.Sprite,e._watermarkSprite.setAnchor(0,0),e._container.addChild(e._watermarkSprite),e}return Object(w.a)(n,[{key:"_render",value:function(e){var t=this,n=this._options,i=n.alpha,r=n.size;return this._loadWatermarkImage().then((function(){if(t._watermarkImage){t._watermarkTexture||(t._watermarkTexture=ha.Texture.fromImage(t._watermarkImage),t._watermarkSprite.setTexture(t._watermarkTexture));var n=e.getDimensions(),o=t._watermarkImage,a=o.width,s=o.height,l=ke.resizeVectorToFit(new gt(a,s),n.clone().multiply(ke.clamp(r,0,1)));t._setWatermarkalignment(l,n),t._watermarkSprite.setWidth(l.x),t._watermarkSprite.setHeight(l.y),t._watermarkSprite.setAlpha(i),t._renderTexture&&t._renderTexture.render(t._container)}return Promise.resolve()}))}},{key:"dispose",value:function(){Object(m.a)(Object(p.a)(n.prototype),"dispose",this).call(this),this._watermarkSprite.dispose()}}]),n}(Ma)).identifier="watermark",cm.prototype.availableOptions={watermarkURI:{type:"string",required:!0},alignment:{type:"string",default:"top-right"},inset:{type:"number",default:"0.05"},size:{type:"number",default:"0.2"},alpha:{type:"number",default:1},crossOrigin:{type:"string",default:"anonymous"}},vs.Operations.WatermarkOperation=cm,fm=cm})),yy=z((function(){Es(),xu(),Ou(),wm(),Om(),Sm(),Em(),Rm(),Mm(),Pm(),zm(),Bm(),Um(),Qm(),hy(),my(),gy(),dm=[qs,$s,id,ld,hd,_d,jd,Dd,zd,Wd,uh,rm,um,fm,Fd,od],vs.AllOperations=dm})),vy=z((function(){yy(),Ts(),Ts()})),by=z((function(){hm=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Aleo",variations:[{identifier:"imgly_font_aleo_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_aleo_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}}]},{fontFamily:"Amatic SC",variations:[{identifier:"imgly_font_amaticsc",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_amaticsc.woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}}]},{fontFamily:"Archivo",variations:[{identifier:"imgly_font_archivo_black",fontWeight:"normal",filePath:"fonts/imgly_font_archivo_black.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_bungee_inline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Carter",variations:[{identifier:"imgly_font_carter_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_carter_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}}]},{fontFamily:"Codystar",variations:[{identifier:"imgly_font_codystar",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_codystar.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}}]},{fontFamily:"Fira Sans",variations:[{identifier:"imgly_font_fira_sans_regular",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_fira_sans_regular.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}}]},{fontFamily:"Krona One",variations:[{identifier:"imgly_font_krona_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_krona_one.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}}]},{fontFamily:"Kumar One Outline",variations:[{identifier:"imgly_font_kumar_one_outline",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_kumar_one_outline.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}}]},{fontFamily:"Lobster",variations:[{identifier:"imgly_font_lobster",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_lobster.woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Molle",variations:[{identifier:"imgly_font_molle",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_molle.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}}]},{fontFamily:"Monoton",variations:[{identifier:"imgly_font_monoton",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_monoton.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}}]},{fontFamily:"Nixie One",variations:[{identifier:"imgly_font_nixie_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_nixie_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}}]},{fontFamily:"Notable",variations:[{identifier:"imgly_font_notable",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_notable.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}}]},{fontFamily:"Oswald SemiBold",variations:[{identifier:"imgly_font_oswald_semi_bold",fontWeight:600,fontStyle:"normal",filePath:"fonts/imgly_font_oswald_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}}]},{fontFamily:"Palanquin Dark SemiBold",variations:[{identifier:"imgly_font_palanquin_dark_semi_bold",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_palanquin_dark_semi_bold.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}}]},{fontFamily:"Poppins",variations:[{identifier:"imgly_font_poppins",fontWeight:"bold",fontStyle:"normal",filePath:"fonts/imgly_font_poppins.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_permanent_marker.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sancreek",variations:[{identifier:"imgly_font_sancreek",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sancreek.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}}]},{fontFamily:"Stint Ultra Expanded",variations:[{identifier:"imgly_font_stint_ultra_expanded",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_stint_ultra_expanded.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}}]},{fontFamily:"Trashhand",variations:[{identifier:"imgly_font_trash_hand",fontWeight:"normal",provider:"file",filePath:"fonts/imgly_font_trash_hand.woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}}]},{fontFamily:"VT323",variations:[{identifier:"imgly_font_vt323",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_vt323.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}}]},{fontFamily:"Yeseva One",variations:[{identifier:"imgly_font_yeseva_one",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_yeseva_one.woff",provider:"file",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}}]},{fontFamily:"Lexend",variations:[{identifier:"imgly_font_lexend_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_lexend_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Outfit",variations:[{identifier:"imgly_font_outfit_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_outfit_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}]}]})),_y=z((function(){pm=[{fontFamily:"Open Sans",variations:[{identifier:"imgly_font_open_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_open_sans_bold.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}}]},{fontFamily:"Abril Fatface",variations:[{identifier:"imgly_font_abril_fatface_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_abril_fatface_regular.woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}}]},{fontFamily:"Bungee Inline",variations:[{identifier:"imgly_font_bungee_inline",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_bungee_inline.woff",default:!0,textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}}]},{fontFamily:"Handycheera",variations:[{identifier:"imgly_font_handycheera_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_handycheera_regular.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}}]},{fontFamily:"Montserrat Light",variations:[{identifier:"imgly_font_montserrat_light",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_montserrat_light.woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}}]},{fontFamily:"Ostrich",variations:[{identifier:"imgly_font_ostrich_sans_black",fontWeight:800,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_black.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontWeight:"bold",provider:"file",filePath:"fonts/imgly_font_ostrich_sans_bold.woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_heavy",fontWeight:900,provider:"file",filePath:"fonts/imgly_font_ostrich_sans_heavy.woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}}]},{fontFamily:"Permanent Marker",variations:[{identifier:"imgly_font_permanent_marker",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_permanent_marker.woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}}]},{fontFamily:"Petit Formal Script",variations:[{identifier:"imgly_font_petit_formal_script",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_petit_formal_script.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}}]},{fontFamily:"Rasa",variations:[{identifier:"imgly_font_rasa_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_regular.woff",default:!0,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_500",fontWeight:500,fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_rasa_500.woff",default:!0,textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}}]},{fontFamily:"Roboto Black",variations:[{identifier:"imgly_font_roboto_black",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_black.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_black_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_black_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Roboto Light",variations:[{identifier:"imgly_font_roboto_light",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_roboto_light.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontWeight:"normal",fontStyle:"italic",filePath:"fonts/imgly_font_roboto_light_italic.woff",provider:"file",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}}]},{fontFamily:"Sue Ellen Francisco",variations:[{identifier:"imgly_font_sue_ellen_francisco",fontWeight:"normal",fontStyle:"normal",filePath:"fonts/imgly_font_sue_ellen_francisco.woff",provider:"file",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}}]},{fontFamily:"Ultra",variations:[{identifier:"imgly_font_ultra",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_ultra.woff",default:!0,textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}}]},{fontFamily:"Allison",variations:[{identifier:"imgly_font_allison_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_allison_regular.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:890,descender:-380}}]},{fontFamily:"Cookie",variations:[{identifier:"imgly_font_cookie_regular",fontWeight:"normal",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_cookie_regular.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:789,descender:-320}}]},{fontFamily:"Lexend",variations:[{identifier:"imgly_font_lexend_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_lexend_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}}]},{fontFamily:"Outfit",variations:[{identifier:"imgly_font_outfit_bold",fontWeight:"bold",fontStyle:"normal",provider:"file",filePath:"fonts/imgly_font_outfit_bold.ttf",default:!0,textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}]}]})),xy=z((function(){mm=[{identifier:"imgly_transforms_common",defaultName:"Common Ratios",ratios:[{identifier:"imgly_transform_common_custom",defaultName:"Custom",ratio:"*",selected:!0},{identifier:"imgly_transform_common_square",defaultName:"Square",ratio:1},{identifier:"imgly_transform_common_4-3",defaultName:"4:3",ratio:4/3},{identifier:"imgly_transform_common_16-9",defaultName:"16:9",ratio:16/9}]},{identifier:"imgly_transforms_facebook",defaultName:"Facebook",ratios:[{identifier:"imgly_transform_facebook_profile",defaultName:"Profile Pic",dimensions:{x:300,y:300},forceDimensions:!1,lockDimensions:!0},{identifier:"imgly_transform_facebook_ad",defaultName:"Ad",dimensions:{x:1200,y:627}},{identifier:"imgly_transform_facebook_post",defaultName:"Post",dimensions:{x:940,y:788}},{identifier:"imgly_transform_facebook_cover",defaultName:"Cover",dimensions:{x:851,y:315}}]}]})),ky=z((function(){vy(),by(),_y(),xy(),gm=[],"undefined"!==typeof vs.Operations.SpriteOperation&&gm.push(vs.Operations.SpriteOperation.BrushSprite.Brushes.RadialBrush),ym={TRANSFORM_RATIO_CATEGORIES:mm,FONTS:hm,TEXT_DESIGN_FONTS:pm,BRUSHES:gm}})),wy=z((function(){Fi(),vm=Object(T.a)({},ni,{LOAD:"load",SAVE:"save",EDITOR_RESIZE:"editor:resize",ZOOM:"editor:zoom",ZOOM_CHANGED:"editor:zoom_changed",HISTORY_REDO:"history:redo",HISTORY_BEFORE_REDO:"history:before-redo",TEXT_SCALED:"editor:text:scaled",TRANSFORM_RESIZE:"transform:resize",TRANSFORM_AFTER_EDIT:"transform:after-edit",ADDED_STICKER:"sticker:added-sticker",SPRITES_DESELECTED:"editor:sprite:deselected-all",CANVAS_FOCUS:"canvas:focus"}),bm=vm})),Oy=z((function(){ky(),wy(),_m={EVENTS:bm,DEFAULTS:ym}}));function Sy(){var e=navigator,t=e.userAgent,n=e.appVersion;return-1!==n.indexOf("MSIE")?n.match(/MSIE\s+?([0-9]+)/i)[1]:-1!==t.indexOf("Trident")&&t.match(/rv:([0-9]+)/i)[1]}var Cy,jy,Ty,Ey,Dy,Iy,Ry,Fy,Ay,My,Py,zy,By,Ly,Ny,Uy,Gy,Hy,Wy,Vy,qy,Ky,Xy,Yy,Qy,Zy,Jy,$y,ev,tv,nv,iv,rv,ov,av,sv,lv=z((function(){xm={getIEVersion:Sy}})),uv=z((function(){vy(),at(),Xe(),V(),lv(),Cy=vs.Utils,jy=vs.Math.Vector2,Ty={getInnerDimensionsForElement:function(e){var t=new jy(e.offsetWidth,e.offsetHeight),n=window.getComputedStyle(e,null);return t.x-=parseInt(n.getPropertyValue("padding-left"),10),t.x-=parseInt(n.getPropertyValue("padding-right"),10),t.y-=parseInt(n.getPropertyValue("padding-top"),10),t.y-=parseInt(n.getPropertyValue("padding-bottom"),10),t},getEventPosition:function(e){var t=e.clientX,n=e.clientY;if(-1!==e.type.indexOf("touch")){if(!e.touches.length)return;t=e.touches[0].clientX,n=e.touches[0].clientY}return new jy(t,n)},createTransparentPatternCanvas:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.width=10,e.height=10,t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.fillStyle="#cccccc",t.fillRect(0,0,e.width/2,e.height/2),t.fillRect(e.width/2,e.height/2,e.width,e.height),e},supportsMSBlob:function(){var e=document.createElement("canvas"),t="undefined"!==typeof e.msToBlob;return o(e),t},translate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.fetch(e,t);if(!i)return Ee.info("Utils#translate","Unable to translate `".concat(t,"`")),null;for(var r in n)i=i.replace("${".concat(r,"}"),n[r]);return i},fetch:function(e,t,n){for(var i=(t=(t=t.replace(/\[(\w+)]/g,".$1")).replace(/^\./,"")).split("."),r=0;r<i.length;r++){if(!(e=e[i[r]]))break}return"undefined"!==typeof e&&e},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},select:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n||(n=function(e){return e});var i=[];return t.forEach((function(t){e.forEach((function(e){n(e)===t&&i.push(e)}))})),i},getJSONP:function(e){return new rt(e).load()},cloneCategories:function(e,t){return e.map((function(e){return(e=Cy.clone(e))[t]=e[t].slice(0),e}))},mergeCategories:function(e,t,n){e=this.cloneCategories(e,n);var i=null;return t.forEach((function(t){e.forEach((function(e){t.identifier===e.identifier&&(i=e)})),i?i[n]=i[n].concat(t[n]):e.push(t)})),e},wrapFiltersInCategories:function(e,t){return e.map((function(e){var n=e;return t in n||(n=Object(g.a)({identifier:"imgly_filters_wrapped-".concat(e.identifier),displayFlat:!0},t,[e])),n}))},getStyleObject:function(e){var t=window.getComputedStyle(e),n={};for(var i in t){var r=t.getPropertyValue(i),o=i.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));""!==r&&(n[o]=r)}return n},styleElement:function(e,t){for(var n in t)e.style[n]=t[n]},debounce:function(e,t,n){var i;return function(){for(var r=this,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var l=function(){i=null,n||e.apply(r,a)},u=n&&!i;clearTimeout(i),i=setTimeout(l,t),u&&e.apply(this,a)}},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",e.appendChild(n);var i=n.offsetWidth;return e.parentNode.removeChild(e),t-i},findIntegerFraction:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=Number.MAX_VALUE,i=0,r=0,o=1,a=1,s=0;s<t;s++){var l=o/a-e;if(l<0)o++;else{if(!(l>0))return new jy(o,a);a++}var u=Math.abs(o/a-e);u<n&&(n=u,i=o,r=a)}return new jy(i,r)},toFixed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toFixed(t);return parseFloat(n)},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},flipObject:function(e){var t={};for(var n in e)t[e[n]]=n;return t},Browser:xm}})),cv=z((function(){vy(),Fi(),Ye(),Xe(),Oy(),uv(),Ey=vs.Base64,Dy=vs.Color,vs.Math.ColorMatrix,Iy=vs.EventEmitter,vs.EXIF,vs.OptionType,Ry=vs.Utils,Fy=vs.RenderType,Ay=vs.ImageFormat,My=vs,vs.UniformType,Py=vs.Math.Vector2,vs.Math.Rectangle,vs.Math.Range,"undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):yi()})),fv=z((function(){cv(),W(By=zy=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(k.a)(this,e),this._ui=t,this._options=n,this._categoriesById={},this._filtersByIdentifier={identity:My.Operations.FilterOperation.Filters.IdentityFilter},this._categories=Ty.wrapFiltersInCategories(ii.DEFAULTS.FILTERS.slice(0),zy.CATEGORY_ITEMS_PROPERTY),this._customAssetsAllowed=i||t.getEditor().getSDK()._l.areCustomAssetsAllowed(),this._customAssetsAllowed&&this._options.categories&&(this._options.categories=Ty.wrapFiltersInCategories(this._options.categories,zy.CATEGORY_ITEMS_PROPERTY)),this._initCategories()}return Object(w.a)(e,[{key:"instantiateFilterWithIdentifier",value:function(e){var t=this,n={value:this._ui._options.crossOrigin,cors:!0},i=this.getFilterByIdentifier(e);if(!i)return Promise.reject(new Error("Unknown filter with identifier `".concat(e,"`!")));if(!(i.prototype instanceof My.Operations.FilterOperation.Filter)){var r,o=i.lutImage,a=i.resolution,s=i.horizontalTileCount,l=i.verticalTileCount,u=i.lightColor,c=i.darkColor;return u&&c?(u=Dy.fromHex(u),c=Dy.fromHex(c),Promise.resolve(new My.Operations.FilterOperation.Filters.DuoToneFilter({lightColor:u,darkColor:c}))):(this._ui.getPreloader&&(r=this._ui.getPreloader().getAsset(o)),(r?Promise.resolve(r):De.loadImage(this._ui.getAssetPath(o),n)).then((function(){return De.loadImage(t._ui.getAssetPath(o),n).then((function(e){return new My.Operations.FilterOperation.Filters.ThreeDLUTFilter({image:e,resolution:a,horizontalTileCount:s,verticalTileCount:l})}))})))}return Promise.resolve(new i)}},{key:"_initCategories",value:function(){var e=this;if(this._customAssetsAllowed&&this._options.categories&&(this._options.replaceCategories?this._categories=Ty.wrapFiltersInCategories(this._options.categories,zy.CATEGORY_ITEMS_PROPERTY):this._categories=Ty.mergeCategories(this._categories,this._options.categories,zy.CATEGORY_ITEMS_PROPERTY)),this._customAssetsAllowed&&this._options.availableFilters){var t=[];this._categories.forEach((function(n){var i=n.filters.filter((function(t){return-1!==e._options.availableFilters.indexOf(t.identifier)}));i.length>0&&t.push({identifier:n.identifier,defaultName:n.defaultName,filters:i})})),this._categories=t}var n={identifier:"all",defaultName:"All",visible:!1,filters:this._categories.length<=0?[]:this._categories.map((function(e){return e.filters})).reduce((function(e,t){return e.concat(t)}))};this._categories.unshift(n),this._categoriesById.all=n,this._categories.forEach((function(t){e._categoriesById[t.identifier]=t})),n.filters.forEach((function(t){e._filtersByIdentifier[t.identifier]=t}))}},{key:"getFiltersForCategory",value:function(e){if(!this._categoriesById[e])throw new Error("Unknown filter category '".concat(e,"'"));return this._categoriesById[e].filters}},{key:"getItemsByCategory",value:function(e){return this.getFiltersForCategory(e)}},{key:"getFilterByIdentifier",value:function(e){return this._filtersByIdentifier[e]}},{key:"getCategories",value:function(){return this._categories}},{key:"getCategoryByIdentifier",value:function(e){return this._categoriesById[e]}}]),e}(),"CATEGORY_ITEMS_PROPERTY","filters")})),dv=z((function(){vy(),(Ly=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(Nt)).prototype.availableOptions={fontFamily:{type:"string",required:!0},variations:{type:"array",required:!0}}})),hv=z((function(){vy(),Ny={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"Semibold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular"},(Uy=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"getLabel",value:function(){var e=Ny[this._options.fontWeight];switch(this._options.fontStyle){case"italic":e+=" Italic"}return e}}]),n}(Nt)).prototype.availableOptions={identifier:{type:"string",required:!0},fontFamily:{type:"string",required:!0},fontWeight:{type:"*",default:400},fontStyle:{type:"string",default:"normal"},textMetrics:{type:"object",default:null},provider:{type:"string",available:["google","file"]},filePath:{type:"string"},default:{type:"boolean",default:!1},font:{type:"object"}}})),pv=z((function(){cv(),dv(),hv(),Xe(),q(),Gy=function(){function e(t,n){Object(k.a)(this,e),this._ui=t,this._options=n,this._fonts=[],this._variationsByIdentifier={},this._fontsByFontFamily={},this._initFonts()}return Object(w.a)(e,[{key:"_initFonts",value:function(){var e=this,t=this._options,n=t.fonts,i=t.replaceFonts,r=t.availableVariations,o=t.isTextDesign,l=!0;l=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed(),n&&l&&n.forEach((function(e,t){var i=e.variations;i&&i.forEach((function(e,i){if(a[e.identifier]){var r=s(e.identifier,!0);n[t].variations[i].identifier=r;var o=_m.DEFAULTS.FONTS.find((function(e){return e.variations.some((function(e){return e.identifier===r}))})).fontFamily;n[t].fontFamily=o}}))}));var u,c=o?_m.DEFAULTS.TEXT_DESIGN_FONTS:_m.DEFAULTS.FONTS;if(l&&(c=i?n:c.concat(n||[])),c=c.map((function(t){var n=t.fontFamily,i=t.variations;if(l&&r&&(i=i.filter((function(e){return-1!==r.indexOf(e.identifier)}))),0===i.length)return null;var o=new Ly({fontFamily:n});return i=i.map((function(t){var i=new Uy(t);return i.setFontFamily(n),i.setFont(o),t.default&&!u&&(u=i),null==i.getTextMetrics()&&Ee.warn("Missing font metrics for ".concat(i.getIdentifier(),". The SDK will fall back to basic font rendering, which may lead to layout issues. Please provide font metrics for your custom fonts. See https://docs.photoeditorsdk.com/guides/html5/ for more details.")),e._variationsByIdentifier[i.getIdentifier()]=i,i})),o.setVariations(i),e._fontsByFontFamily[n]=o,o})).filter((function(e){return e})),!u){var f=c[0].getVariations(),d=Object(y.a)(f,1);u=d[0]}this._defaultVariation=u,this._fonts=c}},{key:"getFonts",value:function(){return this._fonts}},{key:"getFontByFontFamily",value:function(e){return this._fontsByFontFamily[e]}},{key:"getVariationByIdentifier",value:function(e){return this._variationsByIdentifier[s(e)]}},{key:"getVariationsByIdentifier",value:function(){return Object(T.a)({},this._variationsByIdentifier)}},{key:"getDefaultVariation",value:function(){return this._defaultVariation}}]),e}()})),mv=z((function(){cv(),Hy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(k.a)(this,e),this._ui=t,this._options=n,this._defaultLayouts=My.Operations.SpriteOperation.TextDesignSprite.Layouts,this._legacyLayouts=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts,this._layouts=[],this._init()}return Object(w.a)(e,[{key:"_init",value:function(){var e=this._options.availableLayouts,t=Object(T.a)({},this._defaultLayouts,{},this._legacyLayouts);this._layouts=Object.keys(t).map((function(e){return{identifier:t[e].identifier,layout:t[e]}})),e&&(e.push.apply(e,Object(x.a)(Object.values(this._legacyLayouts).map((function(e){return e.identifier})))),this._layouts=this._layouts.filter((function(t){return e.indexOf(t.identifier)>=0})))}},{key:"getLayoutByIdentifier",value:function(e){var t=Ry.Array.find(this._layouts,(function(t){return t.identifier===e}));return t&&t.layout}},{key:"getLayouts",value:function(){return Object(x.a)(this._layouts)}},{key:"getDefaultLayout",value:function(){return this.getLayouts()[0]}}]),e}()})),gv=z((function(){hv(),30,"abcdefghijklmnopqrstuvwxzy",Wy=function(){function e(t){Object(k.a)(this,e),this._fontVariation=t||new Uy({fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal"}),this._createRuler()}return Object(w.a)(e,[{key:"_createRuler",value:function(){this._ruler=document.createElement("div"),this._ruler.innerText="abcdefghijklmnopqrstuvwxzy",document.body.appendChild(this._ruler),this._setRulerStyle()}},{key:"_setRulerStyle",value:function(){this._ruler.style.cssText="\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      opacity: 0;\n      display: inline-block;\n      font: ".concat(this._fontVariation.getFontStyle()," ").concat(this._fontVariation.getFontWeight()," ").concat(30,"px ").concat(this._fontVariation.getFontFamily(),";\n    ")}},{key:"setFontVariation",value:function(e){this._fontVariation=e,this._setRulerStyle()}},{key:"getWidth",value:function(){return this._ruler?this._ruler.offsetWidth:-1}},{key:"dispose",value:function(){this._ruler&&(this._ruler.parentNode.removeChild(this._ruler),this._ruler=null)}}]),e}()})),yv=z((function(){gv(),Vy="undefined"!==typeof window&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):yi(),50,5e3,qy=function(){function e(t){Object(k.a)(this,e),this._fontVariation=t,this._defaultFontRuler=new Wy,this._customFontRuler=new Wy(this._fontVariation)}return Object(w.a)(e,[{key:"observe",value:function(){var e=this,t=Vy();return new Promise((function(n,i){var r=window.setInterval((function(){if(e._defaultFontRuler.getWidth()!==e._customFontRuler.getWidth())return window.clearInterval(r),n();if(Vy()-t>=5e3){var o=new Error("Failed to load font ".concat(e._fontVariation.getFontFamily(),"."));return o.font=e._fontVariation,i(o)}}),50)}))}},{key:"dispose",value:function(){this._defaultFontRuler.dispose(),this._customFontRuler.dispose()}}]),e}()})),vv=z((function(){vy(),yv(),Ky=function(){function e(t){Object(k.a)(this,e),this._ui=t,this._fonts=[],this._observers=[]}return Object(w.a)(e,[{key:"add",value:function(e){this._fonts.push(e)}},{key:"load",value:function(){var e=this;return 0===this._fonts.length?Promise.resolve():(this._observers=[],this._fonts.forEach((function(t){e._observers.push(new qy(t))})),ke.executePromises(this._observers.map((function(e){return e.observe()}))))}},{key:"dispose",value:function(){this._observers.forEach((function(e){return e.dispose()}))}}]),e}()})),bv=z((function(){vv(),Xy=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"load",value:function(){return Promise.resolve()}}]),n}(Ky)})),_v=z((function(){vv(),Yy={italic:"i"},Qy=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"load",value:function(){return this._fonts.length&&this._addStylesheetTag(),Object(m.a)(Object(p.a)(n.prototype),"load",this).call(this)}},{key:"_addStylesheetTag",value:function(){var e=this._getFamiliesString(),t=document.createElement("link");t.rel="stylesheet",t.href="https://fonts.googleapis.com/css?family=".concat(e),document.getElementsByTagName("head")[0].appendChild(t)}},{key:"_getFamiliesString",value:function(){var e={};this._fonts.forEach((function(t){var n=t.getFontFamily(),i=t.getFontStyle(),r=t.getFontWeight();e[n]=e[n]||[],"undefined"!==typeof r?e[n].push("".concat(r).concat(Yy[i]||"")):e[n].push(400)}));var t=[];for(var n in e){var i=e[n],r=i.length?":".concat(i.join(",")):"",o=n.replace(" ","+")+r;t.push(o)}return t.join("|")}}]),n}(Ky)})),xv=z((function(){bv(),_v(),Zy=function(){function e(t,n){Object(k.a)(this,e),this._ui=t,this._fonts=n,this._loadedFonts=[]}return Object(w.a)(e,[{key:"setFonts",value:function(e){this._fonts=e}},{key:"needsToLoad",value:function(){for(var e=this,t=function(t){var n=void 0;return e._fonts[t].getVariations().forEach((function(e){n=n||e.getProvider()})),n?{v:!0}:"continue"},n=0;n<this._fonts.length;n++){var i=t(n);switch(i){case"continue":continue;default:if("object"===typeof i)return i.v}}}},{key:"fontLoaded",value:function(e){var t=e.getFontFamily();return-1!==this._loadedFonts.indexOf(t)}},{key:"setFontLoaded",value:function(e){if(!this.fontLoaded(e)){var t=e.getFontFamily();this._loadedFonts.push(t)}}},{key:"load",value:function(){var e=this,t=this._fonts,n={google:new Qy(this._ui),file:new Xy(this._ui)},i=function(){for(var e in n){n[e].dispose()}};t.filter((function(t){return!e.fontLoaded(t)})).forEach((function(e){e.getVariations().forEach((function(e){var t=e.getProvider();t&&n[t].add(e)}))}));var r=[];for(var o in n)r.push(n[o].load());return Promise.all(r).then((function(){i(),t.forEach((function(t){e.setFontLoaded(t)}))})).catch((function(e){throw i(),e}))}}]),e}()})),kv=z((function(){cv(),Jy=function(){function e(t,n){Object(k.a)(this,e),this._ui=t,this._options=n,this._brushes=[],this._brushesById={},this._addBrushes(_m.DEFAULTS.BRUSHES);var i=this._options,r=i.brushes,o=i.replaceBrushes,a=i.availableBrushes;this._options.brushes&&this._addBrushes(r,o),a&&(this._brushes=this._brushes.filter((function(e){return-1!==a.indexOf(e.identifier)})))}return Object(w.a)(e,[{key:"_addBrushes",value:function(e,t){var n=this;t&&(this._brushes=[],this._brushesById={}),e.forEach((function(e){n._brushes.push(e),n._brushesById[e.identifier]=e}))}},{key:"getBrushByIdentifier",value:function(e){return this._brushesById[e]}},{key:"getBrushes",value:function(){return this._brushes}},{key:"getFirstBrush",value:function(){return this._brushes[0]}}]),e}()})),wv=z((function(){$y=function(){function e(){Object(k.a)(this,e),this._assetsByGroupId={}}return Object(w.a)(e,[{key:"addAsset",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._assetsByGroupId[e]?n?this._assetsByGroupId[e].unshift(t):this._assetsByGroupId[e].push(t):this._assetsByGroupId[e]=[t]}},{key:"setAssets",value:function(e,t){this._assetsByGroupId[e]=t}},{key:"getAssets",value:function(e){return this._assetsByGroupId[e]=this._assetsByGroupId[e]||[],this._assetsByGroupId[e]}}]),e}()})),Ov=z((function(){cv(),vy(),wv(),Fi(),at(),ev="imgly_sticker_custom",tv=function(){function e(t,n,i){Object(k.a)(this,e),this._ui=t,this._options=n,this._dynamicAssetsLibrary=i||this._ui.getEditor().getDynamicAssetsLibrary()||new $y,this._categoriesById={},this._categories=[],this._stickersById={},this._customStickerCanvas=ke.createCanvas(),this.reload()}return Object(w.a)(e,[{key:"reload",value:function(){this._categoriesById={},this._categories=[],this._stickersById={};var e=this._ui.getEditor().getSDK()._l.areCustomAssetsAllowed();this._addCategories(ii.DEFAULTS.STICKER_CATEGORIES);var t=this._options,n=t.categories,i=t.replaceCategories;if(e&&this._options.categories?this._addCategories(n,i):(this._updateCategoriesMap(),this._updateAllCategory()),e){var r=this._dynamicAssetsLibrary.getAssets("sticker");if(r.length>0){var o=this._createCustomStickerCategory(r);this._addCategories([o],!1,!0)}}}},{key:"loadExternal",value:function(e){var t=this;return new rt(e).load().then((function(e){t._addCategories(e.categories,t._options.replaceCategories)}))}},{key:"_addCategories",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._categories=t?e.slice(0):n?this._mergeCategories(e,this._categories):this._mergeCategories(this._categories,e),this._updateCategoriesMap(),this._updateAllCategory()}},{key:"_mergeCategories",value:function(e,t){e=Ty.cloneCategories(e,"stickers");var n,i=Object(E.a)(t);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,a=!1,s=Object(E.a)(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(o.identifier===l.identifier){var u,c=Object(E.a)(o.stickers);try{for(c.s();!(u=c.n()).done;){var f,d=u.value,h=!1,p=Object(E.a)(l.stickers);try{for(p.s();!(f=p.n()).done;){var m=f.value;if(d.identifier===m.identifier){Object.assign(m,d),h=!0;break}}}catch(g){p.e(g)}finally{p.f()}h||l.stickers.push(d)}}catch(g){c.e(g)}finally{c.f()}a=!0;break}}}catch(g){s.e(g)}finally{s.f()}a||e.push(o)}}catch(g){i.e(g)}finally{i.f()}return e}},{key:"_updateCategoriesMap",value:function(){var e=this;this._categoriesById={},this._categories.forEach((function(t){e._categoriesById[t.identifier]=t})),this._categories.forEach((function(t){t.stickers.forEach((function(t){e._stickersById[t.identifier]=t}))})),"undefined"!==typeof this._options.availableStickers&&null!==this._options.availableStickers&&(this._categories.forEach((function(t){t.identifier!==ev&&(t.stickers=t.stickers.filter((function(t){return-1!==e._options.availableStickers.indexOf(t.identifier)})))})),this._categories=this._categories.filter((function(e){return e.stickers.length>0}))),this._updateAllCategory()}},{key:"_updateAllCategory",value:function(){this._allCategory={identifier:"all",defaultName:"All",stickers:this._categories.map((function(e){return e.stickers})).reduce((function(e,t){return e.concat(t)}),[])},this._categoriesById.all=this._allCategory}},{key:"renderStickerThumbnailFromImage",value:function(e){var t=this._customStickerCanvas,n=t.getContext("2d");n.save();var i=62/e.width,r=i*e.height;t.width=62,t.height=62,n.clearRect(0,0,e.width,e.height),n.translate(0,.5*(t.height-r)),n.scale(i,i),n.drawImage(e,0,0);var o=t.toDataURL("image/png");return n.restore(),{data:o,width:62,height:r}}},{key:"addCustomStickerFromImage",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none",r=function(e){var t=n._ui.getEditor().getSDK().getRenderer(),i=new Py(e.width,e.height),r=1e6*n._ui.getEditor().getMaxMegapixels(),o=t.getMaxDimensions(),a=i.x*i.y>r,s=null!==o&&(i.x>o||i.y>o);if(a){var l=e.width/e.height,u=e.height/e.width;o=new Py(Math.sqrt(r*l),Math.sqrt(r*u)).floor().max()}var c=i.clone();return(a||s)&&(i.x/i.y>1?(c.x=o,c.y=o/i.x*i.y):(c.x=o/i.y*i.x,c.y=o)),c},o=function(e,t){var n=e.x/e.y;return n>1?new Py(t,t/n):new Py(t*n,t)},a="data:image/svg"===e.src.substring(0,14),s=this._ui.getEditor().getSDK();e=s.correctExifOrientation(e);var l=o(new Py(e.width,e.height),2048),u=a?l:r(e),c=this._customStickerCanvas,f=c.getContext("2d");f.save();var d=this.renderStickerThumbnailFromImage(e);a?(e.width>e.height?(c.width=2048,c.height=2048/e.width*e.height):(c.height=2048,c.width=2048/e.height*e.width),e.width=c.width,e.height=c.height):(c.width=u.x,c.height=u.y,f.scale(u.x/e.width,u.y/e.height)),f.drawImage(e,0,0,e.width,e.height);var h=c.toDataURL();f.restore();var p={identifier:ke.generateUUID(),defaultName:t||"",tintMode:i,images:{mediaThumb:{uris:[d.data],rawData:!0,width:d.width,height:d.height},mediaBase:{uris:a?[h,e.src]:[h],rawData:!0,isSVG:a,width:u.x,height:u.y}}},m=this._dynamicAssetsLibrary;m.addAsset("sticker",p,!0);var g=m.getAssets("sticker");if(1===g.length){var y=this._createCustomStickerCategory(g);this._addCategories([y],!1,!0)}else this.getCategory(ev).stickers=g,this._updateAllCategory();this._updateCategoriesMap()}},{key:"_createCustomStickerCategory",value:function(e){return{identifier:ev,defaultName:"Custom",metaData:{backgroundImage:e[e.length-1].images.mediaBase.uris[0],rawData:!0},stickers:e}}},{key:"getStickersForCategory",value:function(e){if(!this._categoriesById[e])throw new Error("Unknown sticker category '".concat(e,"'"));return this._categoriesById[e].stickers}},{key:"getStickerByIdentifier",value:function(e){return this._stickersById[e]}},{key:"getCategories",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?[this._allCategory].concat(this._categories):this._categories}},{key:"getCategory",value:function(e){return this._categoriesById[e]}}],[{key:"getURLForSticker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"base",n=e.images,i="base"===t&&n.mediaBase||n.mediaThumb,r=i.uris||[i.uri];if(!Ty.Browser.getIEVersion()){var o=r.filter((function(e){return/\.svg$/i.test(e)}));return o.length?o[0]:r[0]}var a=r.filter((function(e){return!/\.svg$/i.test(e)}));return a.length?a[0]:r[0]}}]),e}()})),Sv=z((function(){cv(),xv(),kv(),fv(),pv(),Ov(),nv=U(J()),"undefined"!==typeof My.Operations.SpriteOperation&&(iv=My.Operations.SpriteOperation.BrushSprite),(rv=function(){function e(t,n){Object(k.a)(this,e),this._editor=t,this._ui=this._editor.getUI(),this._data=n,this._filterManager=new By(this._ui,this._getOptions("filter")),this._stickerManager=new tv(this._ui,this._getOptions("sticker")),this._brushManager=new Jy(this._ui,this._getOptions("brush")),this._fontManager=new Gy(this._ui,this._getOptions("text"))}return Object(w.a)(e,[{key:"_getOptions",value:function(e){var t=this._editor.controls,n={};t&&t.get(e)&&(n=t.get(e).defaultOptions);var i=this._editor.getOptions();return Ry.deepDefaults({},i.editor.controlsOptions[e]||{},n)}},{key:"deserialize",value:function(){var e=this;return this._validateVersion().then((function(){return e._deserializeInputImage()})).then((function(){return e._deserializeOperations()}))}},{key:"_validateVersion",value:function(){return this._data.version!==this.constructor.version?Promise.reject(new Error("Invalid version ".concat(this._data.version,", expected ").concat(this.constructor.version))):Promise.resolve()}},{key:"_deserializeInputImage",value:function(){var e=this;return new Promise((function(t,n){var i=e._data.inputImage,r=i.data,o=i.type;if(r&&o){var a=new window.Image;a.addEventListener("load",(function(){e._editor.setImage(a),t()})),a.src="data:".concat(o,";base64,").concat(r)}else t()}))}},{key:"_deserializeOperations",value:function(){var e=Object(v.a)(_.a.mark((function e(){var t,n=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._data.operations,e.abrupt("return",(0,nv.default)(t,function(){var e=Object(v.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n._deserializeOperation(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_deserializeOperation",value:function(e){switch(e.type){case"crop":return this._deserializeCropOperation(e);case"orientation":return this._deserializeOrientationOperation(e);case"filter":return this._deserializeFilterOperation(e);case"adjustments":return this._deserializeAdjustmentsOperation(e);case"sprite":return this._deserializeSpriteOperation(e);case"focus":return this._deserializeFocusOperation(e)}}},{key:"_deserializeCropOperation",value:function(e){var t=e.options,n=t.rotation,i=Py.fromObject(t.start),r=Py.fromObject(t.end);n>Math.PI&&(n-=2*Math.PI);var o={start:i,end:r};"undefined"!==typeof n&&(o.rotation=n);var a=this._editor.operations.getOrCreate("transform");return this._editor.broadcastTransform(a,o),a.set(o),Promise.resolve(a)}},{key:"_deserializeOrientationOperation",value:function(e){var t=e.options,n=this._editor.operations.getOrCreate("orientation");return n?(n.set(t),Promise.resolve(n)):Promise.resolve()}},{key:"_deserializeFilterOperation",value:function(e){var t=this,n=e.options;return this._filterManager.getFilterByIdentifier(n.name)?this._filterManager.instantiateFilterWithIdentifier(n.name).then((function(e){var i=t._editor.operations.getOrCreate("filter");return i.set({identifier:n.name,filter:e,intensity:n.intensity}),i})):(Ee.warn("Deserializer","Unknown filter `".concat(n.name,"`")),Promise.resolve())}},{key:"_deserializeAdjustmentsOperation",value:function(e){var t=My.Operations.AdjustmentsOperation,n=e.options,i={};return["brightness","saturation","contrast","exposure","shadows","highlights","clarity"].forEach((function(e){if("undefined"!==typeof n[e]){var r=t.prototype.availableOptions[e],o=r.minValue,a=r.midValue,s=r.maxValue,l=n[e];l=l<0?a+(a-o)*l:a+(s-a)*l,i[e]=l}})),Promise.resolve(this._editor.operations.getOrCreate("adjustments",i))}},{key:"_deserializeSpriteOperation",value:function(e){var t=this,n=e.options,i=this._editor.operations.getOrCreate("sprite");if(!i)return Promise.resolve();var r=n.sprites.map((function(e){return t._deserializeSprite(i,e)})).filter((function(e){return e}));return Promise.all(r).then((function(e){return i.setSprites(e.filter((function(e){return e}))),i}))}},{key:"_deserializeSprite",value:function(e,t){switch(t.type){case"sticker":return this._deserializeSticker(e,t);case"text":return this._deserializeText(e,t);case"brush":return this._deserializeBrush(e,t);case"textdesign":return this._deserializeTextDesign&&this._deserializeTextDesign(e,t)}}},{key:"_deserializeSticker",value:function(e,t){var n=this,i=My.Operations.SpriteOperation,r=t.options,o=this._stickerManager.getStickerByIdentifier(r.name),a=this._stickerManager.getURLForSticker(o);return o?new Promise((function(t,o){var s=new window.Image;s.addEventListener("load",(function(){var n=i.StickerSprite.prototype.availableOptions.adjustments.structure,o=r.rotation,a=r.flipHorizontally,l=r.flipVertically,u={identifier:r.name,image:s,position:Py.fromObject(r.position),dimensions:Py.fromObject(r.dimensions),rotation:o,flipHorizontally:a,flipVertically:l,adjustments:{}};"undefined"!==typeof r.adjustments&&["brightness","contrast","saturation"].forEach((function(e){"undefined"!==typeof r.adjustments[e]&&(u.adjustments[e]=r.adjustments[e]+n[e].default)})),t(e.createSticker(u))})),s.crossOrigin=n._editor.getCrossOrigin(),s.src=n._editor.getUI().getAssetPath(a)})):(Ee.warn("Deserializer","Unknown sticker '".concat(r.name,"'. Skipping sprite.")),Promise.resolve())}},{key:"_deserializeText",value:function(e,t){var n=t.options,i=n.fontSize,r=n.lineHeight,o=n.fontFamily,a=n.fontWeight,s=n.alignment,l=n.rotation,u=n.maxWidth,c=n.color,f=n.backgroundColor,d=new Zy(this._ui),h=this._fontManager.getFontByFontFamily(o);return h||(h=this._fontManager.getDefaultFont()),d.setFonts([h]),d.load().then((function(){var t=e.createText({fontSize:i,lineHeight:r,fontFamily:o,fontWeight:a,alignment:s,rotation:l,maxWidth:u,text:n.text,color:Dy.fromArray(c),backgroundColor:Dy.fromArray(f),position:Py.fromObject(n.position)});return t._edited=!0,t}))}},{key:"_deserializeBrush",value:function(e,t){var n=this,i=t.options.paths,r=e.createBrush();return i.forEach((function(e){n._deserializeBrushPath(r,e)})),Promise.resolve(r)}},{key:"_deserializeBrushPath",value:function(e,t){var n=t.points,i=this._createBrushForPath(t),r=e.createPath(i);r.setClosed(!0),n.forEach((function(e){r.addControlPoint(Py.fromObject(e))}))}},{key:"_createBrushForPath",value:function(e){var t=e.color,n=e.size,i={color:Dy.fromArray(t),size:n},r=this._brushManager.getFirstBrush();if(r.prototype&&r.prototype instanceof iv)return new r(i);var o=Object(T.a)({},r);delete o.image;var a=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(iv);return a.identifier=r.identifier,new a(Object(T.a)({},o,{},i))}},{key:"_deserializeFocusOperation",value:function(e){var t=e.options.options;switch(e.options.type){case"radial":var n=t.position,i=t.radius,r=t.gradientRadius,o=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:Py.fromObject(n),radius:i,gradientRadius:r,blurRadius:o}));case"linear":var a=t.start,s=t.end,l=t.size,u=t.gradientSize,c=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:Py.fromObject(a),end:Py.fromObject(s),size:l,gradientSize:u,blurRadius:c}))}}},{key:"_getInputDimensionsForOperation",value:function(e){var t=!1,n=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach((function(i){i===e&&(t=!0),t||(n=i.getNewDimensions(n))})),n}}]),e}()).version="1.0.0"})),Cv=z((function(){cv(),ov=2*Math.PI,(av=function(){function e(t){Object(k.a)(this,e),this._editor=t,this._serializeOperations=this._serializeOperations.bind(this)}return Object(w.a)(e,[{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._options=Object(T.a)({},e,{image:!0});var t={version:this.constructor.version};return this._serializeInputImage(t).then(this._serializeOperations)}},{key:"_serializeInputImage",value:function(e){var t=this._editor.getImage(),n=t.width,i=t.height;if(!this._options.image)return e.inputImage={width:n,height:i},Promise.resolve(e);var r=Ry.createCanvas();r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0);var o=r.toDataURL(Ay.PNG);return e.inputImage={type:Ay.PNG,data:o.replace(/^data:image\/(.*?);base64,/,""),width:n,height:i},Promise.resolve(e)}},{key:"_serializeOperations",value:function(e){var t=this,n=[];return this._editor.operations.getStack().forEach((function(e){var i=t._serializeOperation(e,n);i&&n.push(i)})),e.operations=n.filter((function(e){return e})),Promise.resolve(e)}},{key:"_serializeOperation",value:function(e,t){switch(e.constructor.identifier){case"transform":return this._serializeTransformOperation(e);case"orientation":return this._serializeOrientationOperation(e);case"filter":return this._serializeFilterOperation(e);case"adjustments":return this._serializeAdjustmentsOperation(e);case"sprite":return this._serializeSpriteOperation(e,t);case"radial-focus":return this._serializeRadialFocusOperation(e);case"mirrored-focus":return this._serializeLinearFocusOperation(e);default:Ee.warn("Unable to serialize operation of type ".concat(e.constructor.identifier))}}},{key:"_serializeTransformOperation",value:function(e){var t=e.serializeOptions(["start","end","rotation"],!0);return t.rotation=(t.rotation+ov)%ov,{type:"crop",options:t}}},{key:"_serializeOrientationOperation",value:function(e){return{type:"orientation",options:e.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)}}},{key:"_serializeFilterOperation",value:function(e){return"identity"===e.getIdentifier()?null:{type:"filter",options:{intensity:e.getIntensity(),name:e.getIdentifier()}}}},{key:"_serializeAdjustmentsOperation",value:function(e){var t=e.availableOptions,n={};return["brightness","saturation","contrast","exposure","shadows","highlights","clarity"].forEach((function(i){var r=t[i],o=e.getOption(i),a=r.minValue,s=r.midValue,l=r.maxValue;n[i]=o<=s?(o-a)/(s-a)-1:(o-s)/(l-s)})),{type:"adjustments",options:n}}},{key:"_serializeSpriteOperation",value:function(e,t){var n,i=this,r=t.filter((function(e){return"sprite"===e.type})),o=!0;if(r.length?(n=r.pop(),o=!1):n={type:"sprite",options:{sprites:[]}},e.getSprites().forEach((function(t){var r=null;t instanceof e.constructor.StickerSprite?r=i._serializeSticker(e,t):t instanceof e.constructor.TextSprite?r=i._serializeText(e,t):t instanceof e.constructor.BrushSprite?r=i._serializeBrush(e,t):t instanceof e.constructor.TextDesignSprite&&(r=i._serializeTextDesign&&i._serializeTextDesign(e,t)),r&&n.options.sprites.push(r)})),o)return n}},{key:"_serializeSticker",value:function(e,t){var n=t.getAdjustments(),i=t.serializeOptions(["identifier","position","dimensions","flipVertically","flipHorizontally","rotation"],!0);i.name=i.identifier,delete i.identifier,i.rotation=(i.rotation+ov)%ov;var r=n.availableOptions;return i.adjustments={brightness:n.getBrightness()-r.brightness.default,saturation:n.getSaturation()-r.saturation.default,contrast:n.getContrast()-r.contrast.default},{type:"sticker",options:i}}},{key:"_serializeText",value:function(e,t){var n=t.serializeOptions(["fontSize","lineHeight","fontFamily","fontWeight","alignment","color","backgroundColor","position","rotation","text","maxWidth"],!0);return n.rotation=(n.rotation+ov)%ov,{type:"text",options:n}}},{key:"_serializeBrush",value:function(e,t){var n=this;return{type:"brush",options:{paths:t.getPaths().map((function(e){return n._serializePath(e)}))}}}},{key:"_serializePath",value:function(e){var t=e.getBrush().serializeOptions(["color","size"],!0);return t.points=e.getControlPoints().map((function(e){return e.getPosition().toObject()})),t}},{key:"_serializeRadialFocusOperation",value:function(e){return{type:"focus",options:{type:"radial",options:e.serializeOptions(["position","radius","gradientRadius","blurRadius"],!0)}}}},{key:"_serializeLinearFocusOperation",value:function(e){return{type:"focus",options:{type:"linear",options:e.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}}}},{key:"_getInputDimensionsForOperation",value:function(e){var t=!1,n=this._editor.getInputDimensions();return this._editor.operations.getStack().forEach((function(i){i===e&&(t=!0),t||(n=i.getNewDimensions(n))})),n}}]),e}()).version="1.0.0"})),jv={};L(jv,{default:function(){return sv}});var Tv,Ev,Dv,Iv,Rv=z((function(){Sv(),Cv(),(sv=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new av(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new rv(this._editor,e).deserialize()}}]),e}()).version="1.0.0"})),Fv=z((function(){cv(),Sv(),(Tv=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeOperation",value:function(e){return"selective-blur"===e.type?this._deserializeSelectiveBlurOperation(e):Object(m.a)(Object(p.a)(n.prototype),"_deserializeOperation",this).call(this,e)}},{key:"_deserializeCropOperation",value:function(e){var t=e.options,n=t.rotation,i=Py.fromObject(t.start),r=Py.fromObject(t.end),o=t.dimensions?Py.fromObject(t.dimensions):null;if(r.x-i.x<=0||r.y-i.y<=0)throw new Error("A crop should not result in negative or zero dimensions - start: ".concat(i," - end: ").concat(r));n>Math.PI&&(n-=2*Math.PI);var a={start:i,end:r};"undefined"!==typeof n&&(a.rotation=n);var s=this._editor.operations.getOrCreate("transform");if(!s)return Promise.resolve();if(this._editor.broadcastTransform(s,a),s.set(a),o){var l=r.clone().subtract(i),u=s.getInputDimensions(!1).multiply(l);s.setTextureScale(o.x/u.x)}return Promise.resolve(s)}}]),n}(rv)).version="1.0.1"})),Av=z((function(){Cv(),Ev=2*Math.PI,(Dv=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeTransformOperation",value:function(e){var t=e.serializeOptions(["start","end","rotation","textureScale"],!0);return t.rotation=(t.rotation+Ev)%Ev,1!==t.textureScale&&(t.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete t.textureScale,{type:"crop",options:t}}}]),n}(av)).version="1.0.1"})),Mv={};L(Mv,{default:function(){return Iv}});var Pv,zv,Bv,Lv,Nv,Uv,Gv,Hv,Wv,Vv,qv=z((function(){Fv(),Av(),(Iv=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new Dv(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Tv(this._editor,e).deserialize()}}]),e}()).version="1.0.1"})),Kv=z((function(){Ye(),cv(),Pv=My.OptionType,(zv=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(k.a)(this,n),(i=t.call(this,r))._loaded=!1,i._loading=!1,i._ui=e,i._frame=My.Utils.deepClone(i._options),i}return Object(w.a)(n,[{key:"load",value:function(){var e=this;if(this._loaded)return Promise.resolve();if(this._loading)return Promise.reject(new Error("Called Frame#load while it's already loading"));this._loading=!0;var t=this._frame.imageGroups,n=[];return["top","left","right","bottom"].forEach((function(i){if(i in t){var r=t[i];["start","mid","end"].forEach((function(t){t in r&&n.push(e._loadPart(i,t))}))}})),Promise.all(n).then((function(){e._loaded=!0,e._loading=!1})).catch((function(t){e._loaded=!1,e._loading=!1}))}},{key:"_loadPart",value:function(e,t){var n=this,i=this._frame.imageGroups[e][t],r=i;return"string"!==typeof i&&"image"in i&&(r=i.image),De.load(this._ui.getAssetPath(r)).then((function(r){return"string"!==typeof i?n._frame.imageGroups[e][t].image=r:n._frame.imageGroups[e][t]=r,r}))}},{key:"getFrame",value:function(){return this._frame}}]),n}(My.Configurable)).prototype.availableOptions={identifier:{type:Pv.STRING,required:!0},defaultName:{type:Pv.STRING},thumbnail:{type:Pv.STRING},tintable:{type:Pv.BOOLEAN,default:!1},layoutMode:{type:Pv.STRING,default:"horizontal-inside",available:["horizontal-inside","vertical-inside"]},imageGroups:{type:Pv.OBJECT,required:!0}}})),Xv=z((function(){cv(),Bv=function(){function e(t,n){Object(k.a)(this,e),this._ui=t,this._options=n,this._categoriesById={},this._categories=[],this._framesById={},this._addCategories(ii.DEFAULTS.FRAME_CATEGORIES),this._customAssetsAllowed=t.getEditor().getSDK()._l.areCustomAssetsAllowed();var i=this._options,r=i.categories,o=i.replaceCategories;this._customAssetsAllowed&&this._options.categories?this._addCategories(r,o):this._updateAllCategory()}return Object(w.a)(e,[{key:"_addCategories",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._categories=n?e.slice(0):Ty.mergeCategories(this._categories,e,"frames"),this._categoriesById={},this._categories.forEach((function(e){t._categoriesById[e.identifier]=e}));var i=this._options.availableFrames;this._customAssetsAllowed&&i&&this._categories.forEach((function(e){e.frames=e.frames.filter((function(e){return-1!==i.indexOf(e.identifier)}))})),this._categories.forEach((function(e){e.frames.forEach((function(e){t._framesById[e.identifier]=e}))})),this._updateAllCategory()}},{key:"_updateAllCategory",value:function(){this._allCategory={identifier:"all",defaultName:"All",frames:this._categories.map((function(e){return e.frames})).reduce((function(e,t){return e.concat(t)}),[])},this._categoriesById.all=this._allCategory}},{key:"getFramesForCategory",value:function(e){if(!this._categoriesById[e])throw new Error("Unknown frame category '".concat(e,"'"));return this._categoriesById[e].frames}},{key:"getFrameByIdentifier",value:function(e){return this._framesById[e]}},{key:"getCategories",value:function(){return this._categories}},{key:"getCategory",value:function(e){return this._categoriesById[e]}}]),e}()})),Yv=z((function(){cv(),Lv=function(){function e(t,n){var i=this;Object(k.a)(this,e),this._ui=t,this._options=n,this._overlays=ii.DEFAULTS.OVERLAYS.slice(0),this._overlaysByIdentifier={};var r=t.getEditor().getSDK()._l.areCustomAssetsAllowed();r&&n.overlays&&(n.replaceOverlays?this._overlays=n.overlays:this._overlays=this._overlays.concat(n.overlays)),r&&n.availableOverlays&&(this._overlays=this._overlays.filter((function(e){return-1!==n.availableOverlays.indexOf(e.identifier)}))),this._overlays.forEach((function(e){i._overlaysByIdentifier[e.identifier]=e}))}return Object(w.a)(e,[{key:"getOverlays",value:function(){return this._overlays}},{key:"getOverlayByIdentifier",value:function(e){return this._overlaysByIdentifier[e]}}]),e}()})),Qv=z((function(){var e;cv(),Nv=My.Engine.Filters.OverlayFilter,e={},Object(g.a)(e,Nv.BLEND_MODES.NORMAL,"normal"),Object(g.a)(e,Nv.BLEND_MODES.OVERLAY,"overlay"),Object(g.a)(e,Nv.BLEND_MODES.HARD_LIGHT,"hard light"),Object(g.a)(e,Nv.BLEND_MODES.SOFT_LIGHT,"soft light"),Object(g.a)(e,Nv.BLEND_MODES.MULTIPLY,"multiply"),Object(g.a)(e,Nv.BLEND_MODES.DARKEN,"darken"),Object(g.a)(e,Nv.BLEND_MODES.LIGHTEN,"lighten"),Object(g.a)(e,Nv.BLEND_MODES.SCREEN,"screen"),Object(g.a)(e,Nv.BLEND_MODES.COLOR_BURN,"color burn"),Uv=e})),Zv=z((function(){cv(),xv(),Kv(),Ye(),Xv(),Yv(),Ov(),Fv(),Qv(),Gv=Ry.flipObject(Uv),(Hv=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(k.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=t.call.apply(t,[this].concat(r)))._frameManager=new Bv(e._ui,e._getOptions("frame"));var a=e._getOptions("overlay");return a&&(e._overlayManager=new Lv(e._ui,a)),e}return Object(w.a)(n,[{key:"_deserializeSprite",value:function(e,t){return"frame"===t.type?this._deserializeFrame(e,t):"overlay"===t.type?this._deserializeOverlay(e,t):Object(m.a)(Object(p.a)(n.prototype),"_deserializeSprite",this).call(this,e,t)}},{key:"_deserializeOperation",value:function(e){return"transform"===e.type?this._deserializeTransformOperation(e):Object(m.a)(Object(p.a)(n.prototype),"_deserializeOperation",this).call(this,e)}},{key:"_deserializeOrientationOperation",value:function(e){if(this._data.meta&&"html5"!==this._data.meta.platform)return Object(m.a)(Object(p.a)(n.prototype),"_deserializeOrientationOperation",this).call(this,e);var t=e.options,i=t.rotation,r=t.flipHorizontally,o=t.flipVertically,a=90===i&&!r&&!o;return a|=90===i&&r&&o,a|=270===i&&!r&&!o,(a|=270===i&&r&&o)&&(e.options.flipHorizontally=!e.options.flipHorizontally,e.options.flipVertically=!e.options.flipVertically),Object(m.a)(Object(p.a)(n.prototype),"_deserializeOrientationOperation",this).call(this,e)}},{key:"_deserializeTransformOperation",value:function(e){var t=this;return Object(m.a)(Object(p.a)(n.prototype),"_deserializeCropOperation",this).call(this,e).then((function(e){if(e){var n=Ry.Array.find(t._data.operations,(function(e){return"orientation"===e.type}));if(n){var i=n.options,r=i.rotation,o=i.flipHorizontally,a=i.flipVertically;90!==r&&270!==r||(!o&&a||o&&!a)&&(o=!o,a=!a),e.rotate(i.rotation),o&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation())),a&&(e.flip("vertical"),e.setRotation(-1*e.getRotation()))}return e}}))}},{key:"_deserializeFrame",value:function(e,t){var n=this,i=t.options.identifier,r=this._frameManager.getFrameByIdentifier(i);if(!r)return Ee.warn("Deserializer","Unknown frame `".concat(i,"`. Skipping frame.")),Promise.resolve();var o=new zv(this._ui,r);return o.load().then((function(){n._editor.operations.getOrCreate("frame",{frame:o.getFrame()})}))}},{key:"_deserializeOverlay",value:function(e,t){var n=this,i=t.options,r=i.blendMode,o=i.intensity,a=i.identifier,s=this._overlayManager.getOverlayByIdentifier(a);if(!s)return Ee.warn("Deserializer","Unknown overlay `".concat(a,"`. Skipping overlay.")),Promise.resolve();var l=this._editor.getUI().getAssetPath(s.image);return De.load(l).then((function(e){n._editor.operations.getOrCreate("overlay",{alpha:o,identifier:a,blendMode:parseInt(Gv[r||s.blendMode],10),image:e})}))}},{key:"_createBrushForPath",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_createBrushForPath",this).call(this,e);return"undefined"!==typeof e.hardness&&t.hasOption("hardness")&&t.setHardness(e.hardness),t}},{key:"_deserializeSticker",value:function(e,t){var n=this,i=My.Operations.SpriteOperation,r=t.options,o=this._stickerManager.getStickerByIdentifier(r.identifier),a=tv.getURLForSticker(o,"base");if(!o)return Ee.warn("Deserializer","Unknown sticker `".concat(r.identifier,"`. Skipping sprite.")),Promise.resolve();var s=e.getInputDimensions(!1);return new Promise((function(t,l){var u=new window.Image;u.addEventListener("load",(function(){var n=i.StickerSprite.prototype.availableOptions.adjustments.structure,a=r.rotation,l=r.flipHorizontally,c=r.flipVertically,f={identifier:r.identifier,image:u,position:Py.fromObject(r.position),dimensions:Py.fromObject(r.dimensions).multiply(s.min()),rotation:a,flipHorizontally:l,flipVertically:c,adjustments:{}};"undefined"!==typeof r.adjustments&&["brightness","contrast","saturation"].forEach((function(e){"undefined"!==typeof r.adjustments[e]&&(f.adjustments[e]=r.adjustments[e]+n[e].default)})),"undefined"!==typeof r.tintColor&&"undefined"!==typeof o.tintMode&&(f.tintColor=Dy.fromArray(r.tintColor),f.tintMode=o.tintMode),t(e.createSticker(f))})),u.crossOrigin=n._editor.getCrossOrigin(),u.src=n._editor.getUI().getAssetPath(a)}))}},{key:"_deserializeFilterOperation",value:function(e){var t=this,n=e.options;return this._filterManager.getFilterByIdentifier(n.identifier)?this._filterManager.instantiateFilterWithIdentifier(n.identifier).then((function(e){var i=t._editor.operations.getOrCreate("filter");if(i)return i.set({identifier:n.identifier,filter:e,intensity:n.intensity}),i})):(Ee.warn("Deserializer","Unknown filter `".concat(n.identifier,"`")),Promise.resolve())}},{key:"_deserializeFocusOperation",value:function(e){var t=e.options,i=t.options;if("radial"!==t.type)return Object(m.a)(Object(p.a)(n.prototype),"_deserializeFocusOperation",this).call(this,e);var r=this._editor.getImage(),o=r.width/r.height,a=i.start,s=i.end,l=i.gradientRadius,u=i.blurRadius,c=Py.fromObject(s).subtract(Py.fromObject(a)).multiply(o,1).len();return Promise.resolve(this._editor.operations.getOrCreate("radial-focus",{position:Py.fromObject(a),radius:c,gradientRadius:l,blurRadius:u}))}},{key:"_deserializeText",value:function(e,t){var n=t.options,i=n.fontSize,r=n.lineHeight,o=n.fontIdentifier,a=n.alignment,s=n.rotation,l=n.maxWidth,u=n.color,c=n.backgroundColor,f=new Zy(this._ui),d=this._fontManager.getVariationByIdentifier(o);return d?f.setFonts([d.getFont()]):d=this._fontManager.getDefaultFont(),f.load().then((function(){var t=e.getInputDimensions(!1),o=l*t.min()/t.x,f=e.createText({fontSize:i,lineHeight:r,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),alignment:a,rotation:s,maxWidth:o,text:n.text,color:Dy.fromArray(u),backgroundColor:Dy.fromArray(c),position:Py.fromObject(n.position)});return f._edited=!0,f}))}}]),n}(Tv)).version="2.0.0"})),Jv=z((function(){Av(),Qv(),(Wv=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeSticker",value:function(e,t){var i=e.getInputDimensions(!1),r=Object(m.a)(Object(p.a)(n.prototype),"_serializeSticker",this).call(this,e,t);return"none"!==t.getTintMode()&&(r.options.tintColor=t.serializeOption("tintColor",!0)),r.options.dimensions=t.getDimensions().clone().divide(i.min()).toObject(),r.options.identifier=r.options.name,delete r.options.name,r}},{key:"_serializePath",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializePath",this).call(this,e),i=e.getBrush();return i.hasOption("hardness")&&(t.hardness=i.getOption("hardness")),t}},{key:"_serializeOperation",value:function(e,t){return"frame"===e.constructor.identifier?(this._serializeFrameOperation(e,t),null):"overlay"===e.constructor.identifier?(this._serializeOverlayOperation(e,t),null):Object(m.a)(Object(p.a)(n.prototype),"_serializeOperation",this).call(this,e,t)}},{key:"_serializeFrameOperation",value:function(e,t){var n,i=t.filter((function(e){return"sprite"===e.type}));i.length?n=i.pop():(n={type:"sprite",options:{sprites:[]}},t.push(n)),n.options.sprites.push({type:"frame",options:this._getFrameOptions(e)})}},{key:"_serializeOverlayOperation",value:function(e,t){if(e.getIdentifier()){var n,i=t.filter((function(e){return"sprite"===e.type}));i.length?n=i.pop():(n={type:"sprite",options:{sprites:[]}},t.push(n)),n.options.sprites.push({type:"overlay",options:{identifier:e.getIdentifier(),intensity:e.getAlpha(),blendMode:Uv[e.getBlendMode()]}})}}},{key:"_getFrameOptions",value:function(e){return{identifier:e.getFrame().identifier}}},{key:"_serializeOrientationOperation",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializeOrientationOperation",this).call(this,e);return 90!==t.options.rotation&&270!==t.options.rotation||(t.options.flipHorizontally=!t.options.flipHorizontally,t.options.flipVertically=!t.options.flipVertically),t}},{key:"_serializeTransformOperation",value:function(e){var t=this._editor.operations;if(t.exists("orientation")){e=e.clone();var i=t.get("orientation");e.rotate(-i.getRotation()),i.getFlipVertically()&&(e.flip("vertical"),e.setRotation(-1*e.getRotation())),i.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation()))}var r=Object(m.a)(Object(p.a)(n.prototype),"_serializeTransformOperation",this).call(this,e);return r.type="transform",r}},{key:"_serializeText",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_serializeText",this).call(this,e,t),r=e.getInputDimensions(!1);return i.options.fontIdentifier=t.getFontIdentifier(),i.options.maxWidth=i.options.maxWidth*r.x/r.min(),delete i.options.fontFamily,i}},{key:"_serializeFilterOperation",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializeFilterOperation",this).call(this,e);return t?(t.options.identifier=t.options.name,delete t.options.name,t):null}},{key:"_serializeRadialFocusOperation",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializeRadialFocusOperation",this).call(this,e),i=t.options.options;return i.start=i.position,delete i.position,i.end={x:i.start.x+i.radius,y:i.start.y},delete i.radius,t}}]),n}(Dv)).version="2.0.0"})),$v={};L($v,{default:function(){return Vv}});var eb,tb,nb,ib,rb,ob=z((function(){Zv(),Jv(),(Vv=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new Wv(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Hv(this._editor,e).deserialize()}}]),e}()).version="2.0.0"})),ab=z((function(){cv(),Ye(),pv(),Ov(),mv(),Zv(),"undefined"!==typeof My.Operations.SpriteOperation&&(eb=My.Operations.SpriteOperation.BrushSprite.Brush),(tb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeSticker",value:function(e,t){var n=My.Operations.SpriteOperation,i=t.options,r=this._stickerManager.getStickerByIdentifier(i.identifier);if(!r)return Ee.warn("Deserializer","Unknown sticker `".concat(i.identifier,"`. Skipping sprite.")),Promise.resolve();var o=r.images.mediaBase,a=tv.getURLForSticker(r,"base"),s=o.rawData?o.uris[0]:this._editor.getUI().getAssetPath(a),l=e.getInputDimensions(!1);return De.load(s).then((function(t){var o=n.StickerSprite.prototype.availableOptions.adjustments.structure,a=i.rotation,s=i.flipHorizontally,u=i.flipVertically,c={identifier:i.identifier,image:t,position:Py.fromObject(i.position),dimensions:Py.fromObject(i.dimensions).multiply(l.min()),rotation:a||0,flipHorizontally:s,flipVertically:u,resizeMode:r.resizeMode||"keepAspect",adjustments:{}};return"undefined"!==typeof i.adjustments&&["brightness","contrast","saturation"].forEach((function(e){"undefined"!==typeof i.adjustments[e]&&(c.adjustments[e]=i.adjustments[e]+o[e].default)})),"undefined"!==typeof i.tintMode&&"undefined"!==typeof i.tintColor?(c.tintColor=Dy.fromArray(i.tintColor.rgba),c.tintMode=i.tintMode):"undefined"!==typeof i.tintColor&&"undefined"!==typeof r.tintMode&&(c.tintColor=Dy.fromArray(i.tintColor.rgba),c.tintMode=r.tintMode),"undefined"!==typeof i.alpha&&(c.alpha=i.alpha),e.createSticker(c)}))}},{key:"_deserializeTransformOperation",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_deserializeTransformOperation",this).call(this,e).then((function(e){if(e)return e._ratio=null,e}))}},{key:"_deserializeInputImage",value:function(){var e=this,t=this._data.image,n=t.data,i=t.type,r=t.uri;return n&&i&&(r="data:".concat(i,";base64,").concat(n)),r?De.load(r).then((function(t){e._editor.setImage(t)})):Promise.resolve()}},{key:"_deserializeAdjustmentsOperation",value:function(e){var t=My.Operations.AdjustmentsOperation;return Object(m.a)(Object(p.a)(n.prototype),"_deserializeAdjustmentsOperation",this).call(this,e).then((function(n){if(!n)return null;var i=e.options,r={};return["gamma","whites","blacks","temperature"].forEach((function(e){if("undefined"!==typeof i[e]){var n=t.prototype.availableOptions[e],o=n.minValue,a=n.midValue,s=n.maxValue,l=i[e];l=l<0?a+(a-o)*l:a+(s-a)*l,r[e]=l}})),n.set(r),n}))}},{key:"_deserializeFocusOperation",value:function(e){var t=e.options.options;switch(e.options.type){case"radial":return Object(m.a)(Object(p.a)(n.prototype),"_deserializeFocusOperation",this).call(this,e);case"linear":var i=t.start,r=t.end,o=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("linear-focus",{controlPoint1:Py.fromObject(i),controlPoint2:Py.fromObject(r),blurRadius:o}));case"mirrored":var a=t.start,s=t.end,l=t.size,u=t.gradientSize,c=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("mirrored-focus",{start:Py.fromObject(a),end:Py.fromObject(s),size:l,gradientSize:u,blurRadius:c}));case"gaussian":var f=t.blurRadius;return Promise.resolve(this._editor.operations.getOrCreate("blur",{blurRadius:f}))}}},{key:"_deserializeText",value:function(e,t){var n=t.options,i=n.fontSize,r=n.lineHeight,o=n.fontIdentifier,a=n.alignment,s=n.rotation,l=n.maxWidth,u=n.color,c=n.backgroundColor,f=this._ui.getFontLoader(),d=this._fontManager.getVariationByIdentifier(o);return d?f.setFonts([d.getFont()]):d=this._fontManager.getDefaultVariation(),f.load().then((function(){var t=e.getInputDimensions(!1),o=l*t.min()/t.x,f=e.createText({fontSize:i,lineHeight:r,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),textMetrics:d.getTextMetrics(),alignment:a,rotation:s,maxWidth:o,text:n.text,color:Dy.fromArray(u.rgba),backgroundColor:Dy.fromArray(c.rgba),position:Py.fromObject(n.position)});return f._edited=!0,f}))}},{key:"_createBrushForPath",value:function(e){var t=e.brush,n=t.identifier,i=t.color,r=t.size,o=t.hardness,a={color:Dy.fromArray(i.rgba),size:r};"undefined"!==typeof o&&(a.hardness=o);var s=this._brushManager.getBrushByIdentifier(n);if(s||(s=this._brushManager.getFirstBrush()),s.prototype&&s.prototype instanceof eb)return new s(a);var l=Object(T.a)({},s);delete l.image;var u=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(eb);return u.identifier=s.identifier,new u(Object(T.a)({},l,{},a))}},{key:"_deserializeFrame",value:function(e,t){var i=this;return Object(m.a)(Object(p.a)(n.prototype),"_deserializeFrame",this).call(this,e,t).then((function(){var e=i._editor.operations.get("frame"),n=t.options,r=n.size,o=n.alpha,a=n.tintColor,s={};"undefined"!==typeof r&&(s.scale=r),"undefined"!==typeof o&&(s.alpha=o),"undefined"!==typeof a&&(s.tintColor=Dy.fromArray(a.rgba)),e.set(s)}))}},{key:"_deserializeTextDesign",value:function(e,t){var n=this,i=t.options,r=i.position,o=i.rotation,a=i.flipHorizontally,s=i.flipVertically,l=i.text,u=i.color,c=i.width,f=i.seed,d=i.inverted,h=i.identifier;h===My.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?h=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:h===My.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(h=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);var p=new Hy(this._ui,this._getOptions("textdesign")),m=new Gy(this._ui,{fonts:_m.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),g=e.constructor.TextDesignSprite.AssetManager,y=this._ui.getFontLoader(),v=new(p.getLayoutByIdentifier(h));return y.setFonts(m.getFonts()),g.setFonts(Object(T.a)({},g.getFonts(),{},m.getVariationsByIdentifier())),y.load().then((function(){var t=v.getImagePaths().map((function(e){return{path:e,fullPath:n._ui.getAssetPath(e),image:null}}));return g.loadImages(t).then((function(){return v.onImagesLoaded(),e.createTextDesign({position:r,rotation:o,flipHorizontally:a,flipVertically:s,text:l,color:Dy.fromArray(u.rgba),width:c,seed:f,inverted:d,layout:v})}))}))}}]),n}(Hv)).version="3.0.0"})),sb=z((function(){vy(),(nb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(Nt)).prototype.availableOptions={identifier:{type:"string",required:!0},defaultName:{type:"string",required:!0},ratio:{type:"*",required:!1,default:null},selected:{type:"boolean",required:!1},dimensions:{type:"vector2",required:!1},lockDimensions:{type:"boolean",required:!1,default:null},forceDimensions:{type:"boolean",required:!1,default:null}}})),lb=z((function(){cv(),sb(),Jv(),(ib=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"serialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(m.a)(Object(p.a)(n.prototype),"serialize",this).call(this,t).then((function(t){return t.meta={platform:"html5",version:e._editor.getSDK().version,createdAt:Ry.ISODateString(new Date)},t.image=t.inputImage,delete t.inputImage,t}))}},{key:"_serializeSticker",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_serializeSticker",this).call(this,e,t);return i.options.alpha=t.getAlpha(),i.options.tintColor&&(i.options.tintColor={rgba:i.options.tintColor}),i}},{key:"_serializeText",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_serializeText",this).call(this,e,t);return i.options.color={rgba:i.options.color},i.options.backgroundColor={rgba:i.options.backgroundColor},i.options.flipHorizontally=!1,i.options.flipVertically=!1,delete i.options.fontWeight,i}},{key:"_serializePath",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializePath",this).call(this,e);delete t.hardness,delete t.size,delete t.color;var i=e.getBrush();t.brush=i.serializeOptions(["identifier","size","color"],!0),"undefined"===typeof t.brush.identifier&&delete t.brush.identifier,t.brush.color={rgba:t.brush.color};var r=i.getOption("hardness");return"undefined"!==r&&(t.brush.hardness=r),t}},{key:"_serializeFrameOperation",value:function(e,t){Object(m.a)(Object(p.a)(n.prototype),"_serializeFrameOperation",this).call(this,e,t);var i=t.filter((function(e){return"sprite"===e.type}));if(i.length){var r=i.pop().options.sprites.filter((function(e){return"frame"===e.type}))[0];e.getTintColor().equals(new Dy(1,1,1,0))||(r.options.tintColor={rgba:e.serializeOption("tintColor",!0)});var o=e.serializeOptions(["scale","alpha"],!0);r.options=Object(T.a)({},r.options,{},o),r.options.size=r.options.scale,delete r.options.scale}}},{key:"_serializeTransformOperation",value:function(e){var t,i=Object(m.a)(Object(p.a)(n.prototype),"_serializeTransformOperation",this).call(this,e);e._ratio&&(t=e._ratio instanceof nb?e._ratio.getIdentifier():e._ratio.identifier,i.options.meta={identifier:t});return delete i.options.scale,i}},{key:"_serializeAdjustmentsOperation",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializeAdjustmentsOperation",this).call(this,e),i=e.availableOptions,r={};return["gamma","whites","blacks","temperature"].forEach((function(t){var n=i[t],o=e.getOption(t),a=n.minValue,s=n.midValue,l=n.maxValue;r[t]=o<=s?(o-a)/(s-a)-1:(o-s)/(l-s)})),t.options=Object(T.a)({},t.options,{},r),t}},{key:"_serializeOperation",value:function(e,t){switch(e.constructor.identifier){case"mirrored-focus":return this._serializeMirroredFocusOperation(e);case"linear-focus":return this._serializeLinearFocusOperation(e);case"blur":return this._serializeBlurOperation(e);default:return Object(m.a)(Object(p.a)(n.prototype),"_serializeOperation",this).call(this,e,t)}}},{key:"_serializeMirroredFocusOperation",value:function(e){return{type:"focus",options:{type:"mirrored",options:e.serializeOptions(["start","end","blurRadius","size","gradientSize"],!0)}}}},{key:"_serializeLinearFocusOperation",value:function(e){var t=e.serializeOptions(["controlPoint1","controlPoint2","blurRadius"],!0);return t.start=t.controlPoint1,delete t.controlPoint1,t.end=t.controlPoint2,delete t.controlPoint2,{type:"focus",options:{type:"linear",options:t}}}},{key:"_serializeBlurOperation",value:function(e){return{type:"focus",options:{type:"gaussian",options:e.serializeOptions(["blurRadius"],!0)}}}}]),n}(Wv)).version="3.0.0"})),ub={};L(ub,{default:function(){return rb}});var cb,fb,db,hb=z((function(){ab(),lb(),(rb=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new ib(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new tb(this._editor,e).deserialize()}}]),e}()).version="3.0.0"})),pb=z((function(){cv(),pv(),mv(),ab(),(cb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeTextDesign",value:function(e,t){var n=this,i=t.options,r=i.position,o=i.rotation,a=i.flipHorizontally,s=i.flipVertically,l=i.text,u=i.color,c=i.width,f=i.seed,d=i.inverted,h=i.identifier;h===My.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?h=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:h===My.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(h=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);var p=new Hy(this._ui,this._getOptions("textdesign")),m=new Gy(this._ui,{fonts:_m.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),g=e.constructor.TextDesignSprite.AssetManager,y=this._ui.getFontLoader(),v=new(p.getLayoutByIdentifier(h));return y.setFonts(m.getFonts()),g.setFonts(Object(T.a)({},g.getFonts(),{},m.getVariationsByIdentifier())),y.load().then((function(){var t=v.getImagePaths().map((function(e){return{path:e,fullPath:n._ui.getAssetPath(e),image:null}}));return g.loadImages(t).then((function(){return v.onImagesLoaded(),e.createTextDesign({position:r,rotation:o,flipHorizontally:a,flipVertically:s,text:l,color:Dy.fromArray(u.rgba),width:c,seed:f,inverted:d,layout:v})}))}))}}]),n}(tb)).version="3.1.0"})),mb=z((function(){cv(),lb(),(fb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeTextDesign",value:function(e,t){var n=t.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted"],!0);n.color={rgba:n.color};var i=t.getLayout();return i&&(n.identifier=i.constructor.identifier),{type:"textdesign",options:n}}}]),n}(ib)).version="3.1.0"})),gb={};L(gb,{default:function(){return db}});var yb,vb,bb,_b=z((function(){pb(),mb(),(db=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new fb(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new cb(this._editor,e).deserialize()}}]),e}()).version="3.1.0"})),xb=z((function(){cv(),pv(),mv(),pb(),(yb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeTextDesign",value:function(e,t){var n=this,i=t.options,r=i.position,o=i.rotation,a=i.flipHorizontally,s=i.flipVertically,l=i.text,u=i.color,c=i.width,f=i.seed,d=i.inverted,h=i.identifier;h===My.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignBlocksLight.identifier?h=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignBlocksLightV310.identifier:h===My.Operations.SpriteOperation.TextDesignSprite.Layouts.TextDesignSunshine.identifier&&(h=My.Operations.SpriteOperation.TextDesignSprite.LegacyLayouts.TextDesignSunshineV310.identifier);var p="padding"in i?i.padding/c:-1,m=new Hy(this._ui,this._getOptions("textdesign")),g=new Gy(this._ui,{fonts:_m.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),y=e.constructor.TextDesignSprite.AssetManager,v=this._ui.getFontLoader(),b=new(m.getLayoutByIdentifier(h));return v.setFonts(g.getFonts()),y.setFonts(Object(T.a)({},y.getFonts(),{},g.getVariationsByIdentifier())),v.load().then((function(){var t=b.getImagePaths().map((function(e){return{path:e,fullPath:n._ui.getAssetPath(e),image:null}}));return y.loadImages(t).then((function(){return b.onImagesLoaded(),e.createTextDesign({position:r,rotation:o,flipHorizontally:a,flipVertically:s,text:l,color:Dy.fromArray(u.rgba),width:c,seed:f,inverted:d,layout:b,padding:p})}))}))}}]),n}(cb)).version="3.2.0"})),kb=z((function(){mb(),(vb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeTextDesign",value:function(e,t){var n=t.serializeOptions(["position","rotation","flipHorizontally","flipVertically","text","color","width","seed","inverted","padding"],!0);n.color={rgba:n.color};var i=t.getLayout();return i&&(n.identifier=i.constructor.identifier),n.padding*=n.width,{type:"textdesign",options:n}}}]),n}(fb)).version="3.2.0"})),wb={};L(wb,{default:function(){return bb}});var Ob,Sb,Cb,jb=z((function(){xb(),kb(),(bb=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new vb(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new yb(this._editor,e).deserialize()}}]),e}()).version="3.2.0"})),Tb=z((function(){xb(),(Ob=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeOperation",value:function(e){return Object(m.a)(Object(p.a)(n.prototype),"_deserializeOperation",this).call(this,e)}},{key:"_deserializeOrientationOperation",value:function(e){var t=e.options,n=this._editor.operations.getOrCreate("orientation");return n?(n.set(t),Promise.resolve(n)):Promise.resolve()}}]),n}(yb)).version="3.4.0"})),Eb=z((function(){Qv(),kb(),(Sb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeOperation",value:function(e,t){switch(e.constructor.identifier){case"artfilter":return this._serializeStyle(e);default:return Object(m.a)(Object(p.a)(n.prototype),"_serializeOperation",this).call(this,e,t)}}},{key:"_serializeOrientationOperation",value:function(e){return{type:"orientation",options:e.serializeOptions(["flipVertically","flipHorizontally","rotation"],!0)}}},{key:"_serializeStyle",value:function(e){var t=e.getOptions(),n=t.identifier,i=t.intensity,r=t.blendMode,o=e.getStyleTransferModel().getOptions(),a=o.tileEdgeLength,s=o.overlappingFactor;return{type:"artFilter",options:{identifier:n,intensity:i,blendMode:Uv[r],tileEdgeLength:a,overlappingFactor:s}}}}]),n}(vb)).version="3.4.0"})),Db={};L(Db,{default:function(){return Cb}});var Ib,Rb,Fb,Ab=z((function(){Tb(),Eb(),(Cb=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new Sb(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Ob(this._editor,e).deserialize()}}]),e}()).version="3.4.0"})),Mb=z((function(){cv(),pv(),mv(),Tb(),(Ib=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeTextDesign",value:function(e,t){var n=this,i=t.options,r=i.position,o=i.rotation,a=i.flipHorizontally,s=i.flipVertically,l=i.text,u=i.color,c=i.width,f=i.seed,d=i.inverted,h=i.identifier,p="padding"in i?i.padding/c:-1,m=new Hy(this._ui,this._getOptions("textdesign")),g=new Gy(this._ui,{fonts:_m.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0}),y=e.constructor.TextDesignSprite.AssetManager,v=this._ui.getFontLoader(),b=new(m.getLayoutByIdentifier(h));return v.setFonts(g.getFonts()),y.setFonts(Object(T.a)({},y.getFonts(),{},g.getVariationsByIdentifier())),v.load().then((function(){var t=b.getImagePaths().map((function(e){return{path:e,fullPath:n._ui.getAssetPath(e),image:null}}));return y.loadImages(t).then((function(){return b.onImagesLoaded(),e.createTextDesign({position:r,rotation:o,flipHorizontally:a,flipVertically:s,text:l,color:Dy.fromArray(u.rgba),width:c,seed:f,inverted:d,layout:b,padding:p})}))}))}}]),n}(Ob)).version="3.5.0"})),Pb=z((function(){Eb(),(Rb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(Sb)).version="3.5.0"})),zb={};L(zb,{default:function(){return Fb}});var Bb,Lb,Nb,Ub=z((function(){Mb(),Pb(),(Fb=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new Rb(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Ib(this._editor,e).deserialize()}}]),e}()).version="3.5.0"})),Gb=z((function(){cv(),Mb(),(Bb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeAdjustmentsOperation",value:function(e){var t=My.Operations.AdjustmentsOperation;return Object(m.a)(Object(p.a)(n.prototype),"_deserializeAdjustmentsOperation",this).call(this,e).then((function(n){if(!n)return null;var i=e.options,r="sharpness",o={};if("undefined"!==typeof i[r]){var a=t.prototype.availableOptions[r],s=a.minValue,l=a.midValue,u=a.maxValue,c=i[r];return c=c<0?l+(l-s)*c:l+(u-l)*c,o[r]=c,n.set(o),n}}))}}]),n}(Ib)).version="3.6.0"})),Hb=z((function(){Pb(),(Lb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeAdjustmentsOperation",value:function(e){var t=Object(m.a)(Object(p.a)(n.prototype),"_serializeAdjustmentsOperation",this).call(this,e),i="sharpness",r={},o=e.availableOptions[i],a=e.getOption(i),s=o.minValue,l=o.midValue,u=o.maxValue;return r[i]=a<=l?(a-s)/(l-s)-1:(a-l)/(u-l),t.options=Object(T.a)({},t.options,{},r),t}}]),n}(Rb)).version="3.6.0"})),Wb={};L(Wb,{default:function(){return Nb}});var Vb,qb,Kb,Xb=z((function(){Gb(),Hb(),(Nb=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new Lb(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Bb(this._editor,e).deserialize()}}]),e}()).version="3.6.0"})),Yb=z((function(){vy(),Gb(),(Vb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"deserialize",value:function(){var e=this;return this._validateVersion().then((function(){return e._deserializeAssetLibrary()})).then((function(){return e._deserializeInputImage()})).then((function(){return e._deserializeOperations()}))}},{key:"_deserializeAssetLibrary",value:function(){var e=this;return new Promise((function(t,n){var i=e._data;if(i.assetLibrary){var r=i.assetLibrary.assets,o=[];for(var a in r)o.push(e._deserializeCustomAssets(a,r[a]));return Promise.all(o).then((function(){t()})).catch((function(e){console.error(e),n(e)}))}t()}))}},{key:"_deserializeCustomAssets",value:function(e,t){switch(e){case"stickers":return this._deserializeCustomStickerAssets(t);default:return Promise.reject(new Error("Unknown asset type: ".concat(e)))}}},{key:"_deserializeCustomStickerAssets",value:function(e){var t=this,n="none",i=this._editor.getOptions().editor;i&&i.controlsOptions&&i.controlsOptions.sticker&&(n=i.controlsOptions.sticker.customStickerTintMode||"none");var r=e.map((function(e){return new Promise((function(i,r){var o=e.identifier,a=e.raster,s=void 0!==e.svg,l="data:".concat(a.type,";base64,").concat(a.data),u=new Ea;u.onload=function(){var r=t._editor.getSDK();(u=r.correctExifOrientation(u)).toDataURL&&(l=u.toDataURL());var a={data:"",width:1,height:1};a=t._stickerManager.renderStickerThumbnailFromImage(u);var c={identifier:o,defaultName:e.name||"",tintMode:n,images:{mediaBase:{uris:[l],rawData:!0,isSVG:s,width:u.width,height:u.height},mediaThumb:{uris:[a.data],rawData:!0,width:a.width,height:a.height}}};if(s){var f="data:image/svg+xml;base64,".concat(e.svg.data);c.images.mediaBase.uris.push(f)}i(c)},u.onerror=function(){r(new Error("Invalid base64 data: ".concat(l)))},u.src=l}))}));return Promise.all(r).then((function(e){t._editor.getDynamicAssetsLibrary().setAssets("sticker",e),t._stickerManager.reload()}))}}]),n}(Bb)).version="3.7.0"})),Qb=z((function(){Hb(),(qb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"serialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(m.a)(Object(p.a)(n.prototype),"serialize",this).call(this,t).then((function(t){return e._serializeAssetLibrary(t).then((function(e){return e}))}))}},{key:"_serializeAssetLibrary",value:function(e){if(!this._editor.getDynamicAssetsLibrary)return Promise.resolve(e);var t=this._editor.getDynamicAssetsLibrary(),n=this._serializeCustomStickerAssets(e,t);return 0===n.length||(e.assetLibrary={assets:{stickers:n}}),Promise.resolve(e)}},{key:"_serializeCustomStickerAssets",value:function(e,t){var n=t.getAssets("sticker");if(0===n.length)return[];var i=e.operations.filter((function(e){return"sprite"===e.type})).flatMap((function(e){return e.options.sprites})).filter((function(e){return"sticker"===e.type})).map((function(e){return e.options.identifier})),r={};return i.forEach((function(e){r[e]=!0})),n.filter((function(e){return r[e.identifier]})).map((function(e){var t=e.identifier,n=e.defaultName,i=e.images,r=i.mediaBase.uris[0],o=i.mediaBase.isSVG,a=/^data:(image\/(jpeg|png));base64,(.*)$/g.exec(r),s={identifier:t,name:n,raster:{type:a[1],data:a[3]}};return n&&(s.name=n),o&&(s.svg={data:i.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")}),s}))}}]),n}(Lb)).version="3.7.0"})),Zb={};L(Zb,{default:function(){return Kb}});var Jb,$b,e_,t_=z((function(){Yb(),Qb(),(Kb=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new qb(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Vb(this._editor,e).deserialize()}}]),e}()).version="3.7.0"})),n_=z((function(){Yb(),(Jb=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(Vb)).version="3.8.0"})),i_=z((function(){Qb(),($b=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeSticker",value:function(e,t){var i=Object(m.a)(Object(p.a)(n.prototype),"_serializeSticker",this).call(this,e,t);return i.options.tintMode=t.getTintMode(),i}}]),n}(qb)).version="3.8.0"})),r_={};L(r_,{default:function(){return e_}});var o_,a_,s_,l_,u_=z((function(){n_(),i_(),(e_=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new $b(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new Jb(this._editor,e).deserialize()}}]),e}()).version="3.8.0"})),c_=z((function(){cv(),n_(),(o_=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_deserializeTransformOperation",value:function(e){var t=this;return Object(m.a)(Object(p.a)(n.prototype),"_deserializeCropOperation",this).call(this,e).then((function(e){if(e){var n=Ry.Array.find(t._data.operations,(function(e){return"orientation"===e.type}));if(n){var i=n.options;e.rotate(i.rotation),i.flipHorizontally&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation())),i.flipVertically&&(e.flip("vertical"),e.setRotation(-1*e.getRotation()))}return e._ratio=null,e}}))}},{key:"_deserializeText",value:function(e,t){var n=t.options,i=n.fontSize,r=n.lineHeight,o=n.fontIdentifier,a=n.alignment,s=n.rotation,l=n.maxWidth,u=n.color,c=n.backgroundColor,f=this._ui.getFontLoader(),d=this._fontManager.getVariationByIdentifier(o);return d?f.setFonts([d.getFont()]):d=this._fontManager.getDefaultVariation(),f.load().then((function(){var t=e.getInputDimensions(!1),o=t.min(),f=t.x,h=t.y,p=l*o/f,m=i*o/h,g=e.createText({fontSize:m,lineHeight:r,fontFamily:d.getFontFamily(),fontWeight:d.getFontWeight(),fontIdentifier:d.getIdentifier(),textMetrics:d.getTextMetrics(),alignment:a,rotation:s,maxWidth:p,text:n.text,color:Dy.fromArray(u.rgba),backgroundColor:Dy.fromArray(c.rgba),position:Py.fromObject(n.position)});return g._edited=!0,g}))}}]),n}(Jb)).version="3.9.0"})),f_=z((function(){sb(),i_(),a_=2*Math.PI,(s_=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeTransformOperation",value:function(e){var t=this._editor.operations;if(t.exists("orientation")){e=e.clone();var n=t.get("orientation");n.getFlipVertically()&&(e.flip("vertical"),e.setRotation(-1*e.getRotation())),n.getFlipHorizontally()&&(e.flip("horizontal"),e.setRotation(-1*e.getRotation())),e.rotate(-n.getRotation())}var i=e.serializeOptions(["start","end","rotation","textureScale"],!0);i.rotation=(i.rotation+a_)%a_,1!==i.textureScale&&(i.dimensions=e.getNewDimensions(e.getInputDimensions(!1))),delete i.textureScale;var r,o={type:"transform",options:i};e._ratio&&(r=e._ratio instanceof nb?e._ratio.getIdentifier():e._ratio.identifier,o.options.meta={identifier:r});return delete o.options.scale,o}},{key:"_serializeText",value:function(e,t){var i=e.getInputDimensions(!1),r=Object(m.a)(Object(p.a)(n.prototype),"_serializeText",this).call(this,e,t);return r.options.fontSize=r.options.fontSize*i.y/i.min(),r}}]),n}($b)).version="3.9.0"})),d_={};L(d_,{default:function(){return l_}});var h_,p_,m_,g_=z((function(){c_(),f_(),(l_=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new s_(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new o_(this._editor,e).deserialize()}}]),e}()).version="3.9.0"})),y_=z((function(){c_(),(h_=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return n}(o_)).version="3.12.0"})),v_=z((function(){f_(),(p_=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"_serializeCustomStickerAssets",value:function(e,t){var n=t.getAssets("sticker");if(0===n.length)return[];var i=e.operations.filter((function(e){return"sprite"===e.type})).flatMap((function(e){return e.options.sprites})).filter((function(e){return"sticker"===e.type})).map((function(e){return e.options.identifier})),r={};return i.forEach((function(e){r[e]=!0})),n.filter((function(e){return r[e.identifier]})).map((function(e){var t=e.identifier,n=e.defaultName,i=e.images,r=i.mediaBase.uris[0],o=i.mediaBase.isSVG,a=/^data:(image\/(jpeg|png|gif));base64,(.*)$/g.exec(r),s={identifier:t,name:n,raster:{type:a[1],data:a[3]}};return n&&(s.name=n),o&&(s.svg={data:i.mediaBase.uris[1].replace(/^data:image\/svg\+xml;base64,/g,"")}),s}))}}]),n}(s_)).version="3.12.0"})),b_={};L(b_,{default:function(){return m_}});var __=z((function(){y_(),v_(),(m_=function(){function e(t){Object(k.a)(this,e),this._editor=t}return Object(w.a)(e,[{key:"serialize",value:function(){var e=new p_(this._editor);return e.serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return new h_(this._editor,e).deserialize()}}]),e}()).version="3.12.0"})),x_=[];Object.freeze(x_);var k_={};Object.freeze(k_);var w_={};function O_(){return"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:w_}function S_(){return++$x.mobxGuid}function C_(e){throw j_(!1,e),"X"}function j_(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function T_(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var E_=function(){};function D_(e){return null!==e&&"object"===typeof e}function I_(e){if(null===e||"object"!==typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function R_(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function F_(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function A_(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return D_(e)&&!0===e[n]}}function M_(e){return void 0!==O_().Map&&e instanceof O_().Map}function P_(e){return e instanceof Set}function z_(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}function B_(){return"function"===typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function L_(e){return null===e?null:"object"===typeof e?""+e:e}function N_(e,t){for(var n=e.next();!n.done;)t(n.value),n=e.next()}function U_(){return"function"===typeof Symbol&&Symbol.iterator||"@@iterator"}function G_(e,t){F_(e,U_(),t)}function H_(e){return e[U_()]=V_,e}function W_(){return"function"===typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function V_(){return this}var q_=function(){function e(e){void 0===e&&(e="Atom@"+S_()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=xx.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return ok(this)},e.prototype.reportChanged=function(){ik(),function(e){if(e.lowestObserverState===xx.STALE)return;e.lowestObserverState=xx.STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===xx.UP_TO_DATE&&(i.isTracing!==kx.NONE&&ak(i,e),i.onBecomeStale()),i.dependenciesState=xx.STALE}}(this),rk()},e.prototype.toString=function(){return this.name},e}(),K_=A_("Atom",q_);function X_(e,t,n){void 0===t&&(t=E_),void 0===n&&(n=E_);var i=new q_(e);return function(e,t,n){Ck("onBecomeObserved",e,t,n)}(i,t),Sk(i,n),i}function Y_(e,t){return e===t}var Q_={identity:Y_,structural:function(e,t){return vw(e,t)},default:function(e,t){return function(e,t){return"number"===typeof e&&"number"===typeof t&&isNaN(e)&&isNaN(t)}(e,t)||Y_(e,t)},shallow:function(e,t){return vw(e,t,1)}},Z_=function(e,t){return(Z_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function J_(e,t){function n(){this.constructor=e}Z_(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $_=function(){return($_=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function ex(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(tO){r={error:tO}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function tx(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ex(arguments[t]));return e}var nx={},ix={};function rx(e,t){var n=t?nx:ix;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return ox(this),this[e]},set:function(t){ox(this),this[e]=t}})}function ox(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var n in R_(e,"__mobxDidRunLazyInitializers",!0),t){var i=t[n];i.propertyCreator(e,i.prop,i.descriptor,i.decoratorTarget,i.decoratorArguments)}}}function ax(e,t){return function(){var n,i=function(i,r,o,a){if(!0===a)return t(i,r,o,i,n),null;if(!Object.prototype.hasOwnProperty.call(i,"__mobxDecorators")){var s=i.__mobxDecorators;R_(i,"__mobxDecorators",$_({},s))}return i.__mobxDecorators[r]={prop:r,propertyCreator:t,descriptor:o,decoratorTarget:i,decoratorArguments:n},rx(r,e)};return sx(arguments)?(n=x_,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function sx(e){return(2===e.length||3===e.length)&&"string"===typeof e[1]||4===e.length&&!0===e[3]}function lx(e,t,n){return Rk(e)?e:Array.isArray(e)?bx.array(e,{name:n}):I_(e)?bx.object(e,void 0,{name:n}):M_(e)?bx.map(e,{name:n}):P_(e)?bx.set(e,{name:n}):e}function ux(e){return e}function cx(e){j_(e);var t=ax(!0,(function(t,n,i,r,o){(function(e,t,n,i){var r=cw(e);if(function(e,t){0}(),Lk(r)){var o=Uk(r,{object:e,name:t,type:"add",newValue:n});if(!o)return;n=o.newValue}var a=r.values[t]=new qx(n,i,r.name+"."+t,!1);n=a.value,Object.defineProperty(e,t,function(e){return fw[e]||(fw[e]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,e)},set:function(t){this.$mobx.write(this,e,t)}})}(t)),r.keys&&r.keys.push(t);!function(e,t,n,i){var r=Gk(e),o=dk(),a=r||o?{type:"add",object:t,name:n,newValue:i}:null;o&&pk($_($_({},a),{name:e.name,key:n}));r&&Wk(e,a);o&&gk()}(r,e,t,n)})(t,n,i?i.initializer?i.initializer.call(t):i.value:void 0,e)})),n=("undefined"!==typeof i&&Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}),t);return n.enhancer=e,n}var fx={deep:!0,name:void 0,defaultDecorator:void 0};function dx(e){return null===e||void 0===e?fx:"string"===typeof e?{name:e,deep:!0}:e}function hx(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?ux:lx}Object.freeze(fx),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var px=cx(lx),mx=cx((function(e,t,n){return void 0===e||null===e||mw(e)||tw(e)||ow(e)||lw(e)?e:Array.isArray(e)?bx.array(e,{name:n,deep:!1}):I_(e)?bx.object(e,void 0,{name:n,deep:!1}):M_(e)?bx.map(e,{name:n,deep:!1}):P_(e)?bx.set(e,{name:n,deep:!1}):C_(!1)})),gx=cx(ux),yx=cx((function(e,t,n){return vw(e,t)?t:e}));var vx={box:function(e,t){arguments.length>2&&_x("box");var n=dx(t);return new qx(e,hx(n),n.name,!0,n.equals)},shallowBox:function(e,t){return arguments.length>2&&_x("shallowBox"),bx.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&_x("array");var n=dx(t);return new Yk(e,hx(n),n.name)},shallowArray:function(e,t){return arguments.length>2&&_x("shallowArray"),bx.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&_x("map");var n=dx(t);return new iw(e,hx(n),n.name)},shallowMap:function(e,t){return arguments.length>2&&_x("shallowMap"),bx.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&_x("set");var n=dx(t);return new sw(e,hx(n),n.name)},object:function(e,t,n){"string"===typeof arguments[1]&&_x("object");var i=dx(n);return Tk({},e,t,i)},shallowObject:function(e,t){return"string"===typeof arguments[1]&&_x("shallowObject"),bx.object(e,{},{name:t,deep:!1})},ref:gx,shallow:mx,deep:px,struct:yx},bx=function(e,t,n){if("string"===typeof arguments[1])return px.apply(null,arguments);if(Rk(e))return e;var i=I_(e)?bx.object(e,t,n):Array.isArray(e)?bx.array(e,t):M_(e)?bx.map(e,t):P_(e)?bx.set(e,t):e;if(i!==e)return i;C_(!1)};function _x(e){C_("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(vx).forEach((function(e){return bx[e]=vx[e]}));var xx,kx,wx=ax(!1,(function(e,t,n,i,r){var o=n.get,a=n.set,s=r[0]||{};!function(e,t,n){var i=cw(e);n.name=i.name+"."+t,n.context=e,i.values[t]=new Xx(n),Object.defineProperty(e,t,function(e){return dw[e]||(dw[e]={configurable:$x.computedConfigurable,enumerable:!1,get:function(){return hw(this).read(this,e)},set:function(t){hw(this).write(this,e,t)}})}(t))}(e,t,$_({get:o,set:a},s))})),Ox=wx({equals:Q_.structural}),Sx=function(e,t,n){if("string"===typeof t)return wx.apply(null,arguments);if(null!==e&&"object"===typeof e&&1===arguments.length)return wx.apply(null,arguments);var i="object"===typeof t?t:{};return i.get=e,i.set="function"===typeof t?t:i.set,i.name=i.name||e.name||"",new Xx(i)};Sx.struct=Ox,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(xx||(xx={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(kx||(kx={}));var Cx=function(e){this.cause=e};function jx(e){return e instanceof Cx}function Tx(e){switch(e.dependenciesState){case xx.UP_TO_DATE:return!1;case xx.NOT_TRACKING:case xx.STALE:return!0;case xx.POSSIBLY_STALE:for(var t=Mx(!0),n=Fx(),i=e.observing,r=i.length,o=0;o<r;o++){var a=i[o];if(Yx(a)){if($x.disableErrorBoundaries)a.get();else try{a.get()}catch(tO){return Ax(n),Px(t),!0}if(e.dependenciesState===xx.STALE)return Ax(n),Px(t),!0}}return zx(e),Ax(n),Px(t),!1}}function Ex(e){var t=e.observers.length>0;$x.computationDepth>0&&t&&C_(!1),$x.allowStateChanges||!t&&"strict"!==$x.enforceActions||C_(!1)}function Dx(e,t,n){var i=Mx(!0);zx(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++$x.runId;var r,o=$x.trackingDerivation;if($x.trackingDerivation=e,!0===$x.disableErrorBoundaries)r=t.call(n);else try{r=t.call(n)}catch(nO){r=new Cx(nO)}return $x.trackingDerivation=o,function(e){for(var t=e.observing,n=e.observing=e.newObserving,i=xx.UP_TO_DATE,r=0,o=e.unboundDepsCount,a=0;a<o;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,r!==a&&(n[r]=s),r++),s.dependenciesState>i&&(i=s.dependenciesState)}n.length=r,e.newObserving=null,o=t.length;for(;o--;){0===(s=t[o]).diffValue&&tk(s,e),s.diffValue=0}for(;r--;){var s;1===(s=n[r]).diffValue&&(s.diffValue=0,ek(s,e))}i!==xx.UP_TO_DATE&&(e.dependenciesState=i,e.onBecomeStale())}(e),e.observing.length,Px(i),r}function Ix(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)tk(t[n],e);e.dependenciesState=xx.NOT_TRACKING}function Rx(e){var t=Fx(),n=e();return Ax(t),n}function Fx(){var e=$x.trackingDerivation;return $x.trackingDerivation=null,e}function Ax(e){$x.trackingDerivation=e}function Mx(e){var t=$x.allowStateReads;return $x.allowStateReads=e,t}function Px(e){$x.allowStateReads=e}function zx(e){if(e.dependenciesState!==xx.UP_TO_DATE){e.dependenciesState=xx.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=xx.UP_TO_DATE}}var Bx=0,Lx=1,Nx=Object.getOwnPropertyDescriptor((function(){}),"name");Nx&&Nx.configurable;function Ux(e,t){var n=function(){return Gx(e,t,this,arguments)};return n.isMobxAction=!0,n}function Gx(e,t,n,i){var r=function(e,t,n){var i=dk()&&!!e,r=0;if(i){r=Date.now();var o=n&&n.length||0,a=new Array(o);if(o>0)for(var s=0;s<o;s++)a[s]=n[s];pk({type:"action",name:e,object:t,arguments:a})}var l=Fx();ik();var u=Wx(!0),c=Mx(!0),f={prevDerivation:l,prevAllowStateChanges:u,prevAllowStateReads:c,notifySpy:i,startTime:r,actionId:Lx++,parentActionId:Bx};return Bx=f.actionId,f}(e,n,i);try{return t.apply(n,i)}catch(Tw){throw r.error=Tw,Tw}finally{!function(e){Bx!==e.actionId&&C_("invalid action stack. did you forget to finish an action?");Bx=e.parentActionId,void 0!==e.error&&($x.suppressReactionErrors=!0);Vx(e.prevAllowStateChanges),Px(e.prevAllowStateReads),rk(),Ax(e.prevDerivation),e.notifySpy&&gk({time:Date.now()-e.startTime});$x.suppressReactionErrors=!1}(r)}}function Hx(e,t){var n,i=Wx(e);try{n=t()}finally{Vx(i)}return n}function Wx(e){var t=$x.allowStateChanges;return $x.allowStateChanges=e,t}function Vx(e){$x.allowStateChanges=e}var qx=function(e){function t(t,n,i,r,o){void 0===i&&(i="ObservableValue@"+S_()),void 0===r&&(r=!0),void 0===o&&(o=Q_.default);var a=e.call(this,i)||this;return a.enhancer=n,a.name=i,a.equals=o,a.hasUnreportedChange=!1,a.value=n(t,void 0,i),r&&dk()&&hk({type:"create",name:a.name,newValue:""+a.value}),a}return J_(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==$x.UNCHANGED){var n=dk();n&&pk({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&gk()}},t.prototype.prepareNewValue=function(e){if(Ex(this),Lk(this)){var t=Uk(this,{object:this,type:"update",newValue:e});if(!t)return $x.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?$x.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),Gk(this)&&Wk(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return Nk(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),Hk(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return L_(this.get())},t}(q_);qx.prototype[B_()]=qx.prototype.valueOf;var Kx=A_("ObservableValue",qx),Xx=function(){function e(e){this.dependenciesState=xx.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=xx.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S_(),this.value=new Cx(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=kx.NONE,j_(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+S_(),e.set&&(this.setter=Ux(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Q_.structural:Q_.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==xx.UP_TO_DATE)return;e.lowestObserverState=xx.POSSIBLY_STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===xx.UP_TO_DATE&&(i.dependenciesState=xx.POSSIBLY_STALE,i.isTracing!==kx.NONE&&ak(i,e),i.onBecomeStale())}}(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&C_("Cycle detected in computation "+this.name+": "+this.derivation),0!==$x.inBatch||0!==this.observers.length||this.keepAlive?(ok(this),Tx(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===xx.STALE)return;e.lowestObserverState=xx.STALE;var t=e.observers,n=t.length;for(;n--;){var i=t[n];i.dependenciesState===xx.POSSIBLY_STALE?i.dependenciesState=xx.STALE:i.dependenciesState===xx.UP_TO_DATE&&(e.lowestObserverState=xx.UP_TO_DATE)}}(this)):Tx(this)&&(this.warnAboutUntrackedRead(),ik(),this.value=this.computeValue(!1),rk());var e=this.value;if(jx(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(jx(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){j_(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else j_(!1,!1)},e.prototype.trackAndCompute=function(){dk()&&hk({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===xx.NOT_TRACKING,n=this.computeValue(!0),i=t||jx(e)||jx(n)||!this.equals(e,n);return i&&(this.value=n),i},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,$x.computationDepth++,e)t=Dx(this,this.derivation,this.scope);else if(!0===$x.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(Sw){t=new Cx(Sw)}return $x.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(Ix(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,i=!0,r=void 0;return function(e,t){void 0===t&&(t=k_);0;var n,i=t&&t.name||e.name||"Autorun@"+S_();if(t.scheduler||t.delay){var r=function(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Ok}(t),o=!1;n=new sk(i,(function(){o||(o=!0,r((function(){o=!1,n.isDisposed||n.track(a)})))}),t.onError,t.requiresObservable)}else n=new sk(i,(function(){this.track(a)}),t.onError,t.requiresObservable);function a(){e(n)}return n.schedule(),n.getDisposer()}((function(){var o=n.get();if(!i||t){var a=Fx();e({type:"update",object:n,newValue:o,oldValue:r}),Ax(a)}i=!1,r=o}))},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return L_(this.get())},e}();Xx.prototype[B_()]=Xx.prototype.valueOf;var Yx=A_("ComputedValue",Xx),Qx=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Zx=!0,Jx=!1,$x=function(){var e=O_();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Zx=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Qx).version&&(Zx=!1),Zx?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Qx):(setTimeout((function(){Jx||C_("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Qx)}();function ek(e,t){var n=e.observers.length;n&&(e.observersIndexes[t.__mapid]=n),e.observers[n]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function tk(e,t){if(1===e.observers.length)e.observers.length=0,nk(e);else{var n=e.observers,i=e.observersIndexes,r=n.pop();if(r!==t){var o=i[t.__mapid]||0;o?i[r.__mapid]=o:delete i[r.__mapid],n[o]=r}delete i[t.__mapid]}}function nk(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,$x.pendingUnobservations.push(e))}function ik(){$x.inBatch++}function rk(){if(0===--$x.inBatch){uk();for(var e=$x.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.length&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Xx&&n.suspend())}$x.pendingUnobservations=[]}}function ok(e){var t=$x.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&$x.inBatch>0&&nk(e),!1)}function ak(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===kx.BREAK){var n=[];!function e(t,n,i){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(i).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,i+1)}))}(Ek(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof Xx?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}var sk=function(){function e(e,t,n,i){void 0===e&&(e="Reaction@"+S_()),void 0===i&&(i=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=xx.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S_(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=kx.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,$x.pendingReactions.push(this),uk())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(ik(),this._isScheduled=!1,Tx(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&dk()&&hk({name:this.name,type:"scheduled-reaction"})}catch(rS){this.reportExceptionInDerivation(rS)}}rk()}},e.prototype.track=function(e){ik();var t,n=dk();n&&(t=Date.now(),pk({name:this.name,type:"reaction"})),this._isRunning=!0;var i=Dx(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ix(this),jx(i)&&this.reportExceptionInDerivation(i.cause),n&&gk({time:Date.now()-t}),rk()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if($x.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";$x.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),dk()&&hk({type:"error",name:this.name,message:n,error:""+e}),$x.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(ik(),Ix(this),rk()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"===typeof e[e.length-1]&&(n=e.pop());var i=zk(e);if(!i)return C_(!1);i.isTracing===kx.NONE&&console.log("[mobx.trace] '"+i.name+"' tracing enabled");i.isTracing=n?kx.BREAK:kx.LOG}(this,e)},e}(),lk=function(e){return e()};function uk(){$x.inBatch>0||$x.isRunningReactions||lk(ck)}function ck(){$x.isRunningReactions=!0;for(var e=$x.pendingReactions,t=0;e.length>0;){100===++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),i=0,r=n.length;i<r;i++)n[i].runReaction()}$x.isRunningReactions=!1}var fk=A_("Reaction",sk);function dk(){return!!$x.spyListeners.length}function hk(e){if($x.spyListeners.length)for(var t=$x.spyListeners,n=0,i=t.length;n<i;n++)t[n](e)}function pk(e){hk($_($_({},e),{spyReportStart:!0}))}var mk={spyReportEnd:!0};function gk(e){hk(e?$_($_({},e),{spyReportEnd:!0}):mk)}function yk(e){return $x.spyListeners.push(e),T_((function(){$x.spyListeners=$x.spyListeners.filter((function(t){return t!==e}))}))}function vk(){C_(!1)}function bk(e){return function(t,n,i){if(i){if(i.value)return{value:Ux(e,i.value),enumerable:!1,configurable:!0,writable:!0};var r=i.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ux(e,r.call(this))}}}return _k(e).apply(this,arguments)}}function _k(e){return function(t,n,i){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){R_(this,n,xk(e,t))}})}}var xk=function(e,t,n,i){return 1===arguments.length&&"function"===typeof e?Ux(e.name||"<unnamed action>",e):2===arguments.length&&"function"===typeof t?Ux(e,t):1===arguments.length&&"string"===typeof e?bk(e):!0!==i?bk(t).apply(null,arguments):void(e[t]=Ux(e.name||t,n.value))};function kk(e,t){return Gx("string"===typeof e?e:e.name||"<unnamed action>","function"===typeof e?e:t,this,void 0)}function wk(e,t,n){R_(e,t,Ux(t,n.bind(e)))}xk.bound=function(e,t,n,i){return!0===i?(wk(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return wk(this,t,n.value||n.initializer.call(this)),this[t]},set:vk}:{enumerable:!1,configurable:!0,set:function(e){wk(this,t,e)},get:function(){}}};var Ok=function(e){return e()};function Sk(e,t,n){return Ck("onBecomeUnobserved",e,t,n)}function Ck(e,t,n,i){var r="function"===typeof i?gw(t,n):gw(t),o="function"===typeof i?i:n,a=r[e];return"function"!==typeof a?C_(!1):(r[e]=function(){a.call(this),o.call(this)},function(){r[e]=a})}function jk(e){var t=e.enforceActions,n=e.computedRequiresReaction,i=e.computedConfigurable,r=e.disableErrorBoundaries,o=e.arrayBuffer,a=e.reactionScheduler,s=e.reactionRequiresObservable,l=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&(($x.pendingReactions.length||$x.inBatch||$x.isRunningReactions)&&C_("isolateGlobalState should be called before MobX is running any reactions"),Jx=!0,Zx&&(0===--O_().__mobxInstanceCount&&(O_().__mobxGlobals=void 0),$x=new Qx)),void 0!==t){var u=void 0;switch(t){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:C_("Invalid value for 'enforceActions': '"+t+"', expected 'never', 'always' or 'observed'")}$x.enforceActions=u,$x.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&($x.computedRequiresReaction=!!n),void 0!==s&&($x.reactionRequiresObservable=!!s),void 0!==l&&($x.observableRequiresReaction=!!l,$x.allowStateReads=!$x.observableRequiresReaction),void 0!==i&&($x.computedConfigurable=!!i),void 0!==r&&(!0===r&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),$x.disableErrorBoundaries=!!r),"number"===typeof o&&$k(o),a&&function(e){var t=lk;lk=function(n){return e((function(){return t(n)}))}}(a)}function Tk(e,t,n,i){var r=(i=dx(i)).defaultDecorator||(!1===i.deep?gx:px);ox(e),cw(e,i.name,r.enhancer),ik();try{for(var o=Object.getOwnPropertyNames(t),a=0,s=o.length;a<s;a++){var l=o[a],u=Object.getOwnPropertyDescriptor(t,l);0;var c=(n&&l in n?n[l]:u.get?wx:r)(e,l,u,!0);c&&Object.defineProperty(e,l,c)}}finally{rk()}return e}function Ek(e,t){return Dk(gw(e,t))}function Dk(e){var t={name:e.name};return e.observing&&e.observing.length>0&&(t.dependencies=function(e){var t=[];return e.forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),t}(e.observing).map(Dk)),t}function Ik(e,t){if(null===e||void 0===e)return!1;if(void 0!==t){if(mw(e)){var n=e.$mobx;return n.values&&!!n.values[t]}return!1}return mw(e)||!!e.$mobx||K_(e)||fk(e)||Yx(e)}function Rk(e){return 1!==arguments.length&&C_(!1),Ik(e)}Object.create(Error.prototype);var Fk={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ak(e,t,n,i){return i.detectCycles&&e.set(t,n),n}function Mk(e,t,n){if(!t.recurseEverything&&!Rk(e))return e;if("object"!==typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Kx(e))return Mk(e.get(),t,n);if(Rk(e)&&function(e){mw(e)?e.$mobx.getKeys():ow(e)||lw(e)?z_(e.keys()):tw(e)?e.map((function(e,t){return t})):C_(!1)}(e),!0===t.detectCycles&&null!==e&&n.has(e))return n.get(e);if(tw(e)||Array.isArray(e)){var i=Ak(n,e,[],t),r=e.map((function(e){return Mk(e,t,n)}));i.length=r.length;for(var o=0,a=r.length;o<a;o++)i[o]=r[o];return i}if(lw(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===t.exportMapsAsObjects){var s=Ak(n,e,new Set,t);return e.forEach((function(e){s.add(Mk(e,t,n))})),s}var l=Ak(n,e,[],t);return e.forEach((function(e){l.push(Mk(e,t,n))})),l}if(ow(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===t.exportMapsAsObjects){var u=Ak(n,e,new Map,t);return e.forEach((function(e,i){u.set(i,Mk(e,t,n))})),u}var c=Ak(n,e,{},t);return e.forEach((function(e,i){c[i]=Mk(e,t,n)})),c}var f=Ak(n,e,{},t);for(var d in e)f[d]=Mk(e[d],t,n);return f}function Pk(e,t){var n;return"boolean"===typeof t&&(t={detectCycles:t}),t||(t=Fk),t.detectCycles=void 0===t.detectCycles?!0===t.recurseEverything:!0===t.detectCycles,t.detectCycles&&(n=new Map),Mk(e,t,n)}function zk(e){switch(e.length){case 0:return $x.trackingDerivation;case 1:return gw(e[0]);case 2:return gw(e[0],e[1])}}function Bk(e,t){void 0===t&&(t=void 0),ik();try{return e.apply(t)}finally{rk()}}function Lk(e){return void 0!==e.interceptors&&e.interceptors.length>0}function Nk(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),T_((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Uk(e,t){var n=Fx();try{var i=e.interceptors;if(i)for(var r=0,o=i.length;r<o&&(j_(!(t=i[r](t))||t.type,"Intercept handlers should return nothing or a change object"),t);r++);return t}finally{Ax(n)}}function Gk(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function Hk(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),T_((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Wk(e,t){var n=Fx(),i=e.changeListeners;if(i){for(var r=0,o=(i=i.slice()).length;r<o;r++)i[r](t);Ax(n)}}var Vk=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,!1===e}(),qk=0,Kk=function(){};!function(e,t){"undefined"!==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):"undefined"!==typeof e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}(Kk,Array.prototype),Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach((function(e){Object.defineProperty(Kk.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})}));var Xk=function(){function e(e,t,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.atom=new q_(e||"ObservableArray@"+S_()),this.enhancer=function(n,i){return t(n,i,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return Nk(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Hk(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!==typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>qk&&$k(e+t+1)},e.prototype.spliceWithArray=function(e,t,n){var i=this;Ex(this.atom);var r=this.values.length;if(void 0===e?e=0:e>r?e=r:e<0&&(e=Math.max(0,r+e)),t=1===arguments.length?r-e:void 0===t||null===t?0:Math.max(0,Math.min(t,r-e)),void 0===n&&(n=x_),Lk(this)){var o=Uk(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!o)return x_;t=o.removedCount,n=o.added}var a=(n=0===n.length?n:n.map((function(e){return i.enhancer(e,void 0)}))).length-t;this.updateArrayLength(r,a);var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var i;if(n.length<1e4)return(i=this.values).splice.apply(i,tx([e,t],n));var r=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),r},e.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&dk(),r=Gk(this),o=r||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&pk($_($_({},o),{name:this.atom.name})),this.atom.reportChanged(),r&&Wk(this,o),i&&gk()},e.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&dk(),r=Gk(this),o=r||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&pk($_($_({},o),{name:this.atom.name})),this.atom.reportChanged(),r&&Wk(this,o),i&&gk()},e}(),Yk=function(e){function t(t,n,i,r){void 0===i&&(i="ObservableArray@"+S_()),void 0===r&&(r=!1);var o=e.call(this)||this,a=new Xk(i,n,o,r);if(F_(o,"$mobx",a),t&&t.length){var s=Wx(!0);o.spliceWithArray(0,0,t),Vx(s)}return Vk&&Object.defineProperty(a.array,"0",Qk),o}return J_(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map((function(e){return tw(e)?e.peek():e})))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,n){void 0===n&&(n=0),arguments.length;var i=this.findIndex.apply(this,arguments);return-1===i?void 0:this.get(i)},t.prototype.findIndex=function(e,t,n){void 0===n&&(n=0),arguments.length;for(var i=this.peek(),r=i.length,o=n;o<r;o++)if(e.call(t,i[o],o,this))return o;return-1},t.prototype.splice=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,n)},t.prototype.spliceWithArray=function(e,t,n){return this.$mobx.spliceWithArray(e,t,n)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(n.values.length,0,e),n.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.$mobx;return n.spliceWithArray(0,0,e),n.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function n(e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(n.call(this,e),n.call(this,t),e!==t){var i,r=this.$mobx.values;i=e<t?tx(r.slice(0,e),r.slice(e+1,t+1),[r[e]],r.slice(t+1)):tx(r.slice(0,t),[r[e]],r.slice(t,e),r.slice(e+1)),this.replace(i)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var n=this.$mobx,i=n.values;if(e<i.length){Ex(n.atom);var r=i[e];if(Lk(n)){var o=Uk(n,{type:"update",object:this,index:e,newValue:t});if(!o)return;t=o.newValue}(t=n.enhancer(t,r))!==r&&(i[e]=t,n.notifyArrayChildUpdate(e,t,r))}else{if(e!==i.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+i.length);n.spliceWithArray(e,0,[t])}},t}(Kk);G_(Yk.prototype,(function(){this.$mobx.atom.reportObserved();var e=this,t=0;return H_({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})})),Object.defineProperty(Yk.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),R_(Yk.prototype,W_(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(e){var t=Array.prototype[e];j_("function"===typeof t,"Base function not defined on Array prototype: '"+e+"'"),R_(Yk.prototype,e,(function(){return t.apply(this.peek(),arguments)}))})),["every","filter","forEach","map","some"].forEach((function(e){j_("function"===typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),R_(Yk.prototype,e,(function(t,n){var i=this,r=this.$mobx;return r.atom.reportObserved(),r.dehanceValues(r.values)[e]((function(e,r){return t.call(n,e,r,i)}),n)}))})),["reduce","reduceRight"].forEach((function(e){R_(Yk.prototype,e,(function(){var t=this,n=this.$mobx;n.atom.reportObserved();var i=arguments[0];return arguments[0]=function(e,r,o){return r=n.dehanceValue(r),i(e,r,o,t)},n.values[e].apply(n.values,arguments)}))})),function(e,t){for(var n=0;n<t.length;n++)R_(e,t[n],e[t[n]])}(Yk.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var Qk=Zk(0);function Zk(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function Jk(e){Object.defineProperty(Yk.prototype,""+e,Zk(e))}function $k(e){for(var t=qk;t<e;t++)Jk(t);qk=e}$k(1e3);var ew=A_("ObservableArrayAdministration",Xk);function tw(e){return D_(e)&&ew(e.$mobx)}var nw={},iw=function(){function e(e,t,n){if(void 0===t&&(t=lx),void 0===n&&(n="ObservableMap@"+S_()),this.enhancer=t,this.name=n,this.$mobx=nw,this._keysAtom=X_(this.name+".keys()"),"function"!==typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!$x.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var i=n=new qx(this._has(e),ux,this.name+"."+rw(e)+"?",!1);this._hasMap.set(e,i),Sk(i,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(Lk(this)){var i=Uk(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if((Ex(this._keysAtom),Lk(this))&&!(r=Uk(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=dk(),i=Gk(this),r=i||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&pk($_($_({},r),{name:this.name,key:e})),Bk((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),i&&Wk(this,r),n&&gk(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==$x.UNCHANGED){var i=dk(),r=Gk(this),o=r||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;i&&pk($_($_({},o),{name:this.name,key:e})),n.setNewValue(t),r&&Wk(this,o),i&&gk()}},e.prototype._addValue=function(e,t){var n=this;Ex(this._keysAtom),Bk((function(){var i=new qx(t,n.enhancer,n.name+"."+rw(e),!1);n._data.set(e,i),t=i.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var i=dk(),r=Gk(this),o=r||i?{type:"add",object:this,name:e,newValue:t}:null;i&&pk($_($_({},o),{name:this.name,key:e})),r&&Wk(this,o),i&&gk()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return H_({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:e.get(r)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return H_({next:function(){var n=t.next(),i=n.done,r=n.value;return{done:i,value:i?void 0:[r,e.get(r)]}}})},e.prototype.forEach=function(e,t){var n=this;this._keysAtom.reportObserved(),this._data.forEach((function(i,r){return e.call(t,n.get(r),r,n)}))},e.prototype.merge=function(e){var t=this;return ow(e)&&(e=e.toJS()),Bk((function(){var n=Wx(!0);try{I_(e)?Object.keys(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=ex(e,2),i=n[0],r=n[1];return t.set(i,r)})):M_(e)?e.constructor!==Map?C_("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach((function(e,n){return t.set(n,e)})):null!==e&&void 0!==e&&C_("Cannot initialize map from "+e)}finally{Vx(n)}})),this},e.prototype.clear=function(){var e=this;Bk((function(){Rx((function(){e._data.forEach((function(t,n){return e.delete(n)}))}))}))},e.prototype.replace=function(e){var t=this;return Bk((function(){var n=function(e){if(M_(e)||ow(e))return e;if(Array.isArray(e))return new Map(e);if(I_(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return C_("Cannot convert to map from '"+e+"'")}(e),i=new Map,r=!1;if(N_(t._data.keys(),(function(e){if(!n.has(e))if(t.delete(e))r=!0;else{var o=t._data.get(e);i.set(e,o)}})),N_(n.entries(),(function(e){var n=ex(e,2),o=n[0],a=n[1],s=t._data.has(o);if(t.set(o,a),t._data.has(o)){var l=t._data.get(o);i.set(o,l),s||(r=!0)}})),!r)if(t._data.size!==i.size)t._keysAtom.reportChanged();else for(var o=t._data.keys(),a=i.keys(),s=o.next(),l=a.next();!s.done;){if(s.value!==l.value){t._keysAtom.reportChanged();break}s=o.next(),l=a.next()}t._data=i})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach((function(n,i){return t["symbol"===typeof i?i:rw(i)]=e.get(i)})),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+z_(this.keys()).map((function(t){return rw(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return Hk(this,e)},e.prototype.intercept=function(e){return Nk(this,e)},e}();function rw(e){return e&&e.toString?e.toString():new String(e).toString()}G_(iw.prototype,(function(){return this.entries()})),F_(iw.prototype,W_(),"Map");var ow=A_("ObservableMap",iw),aw={},sw=function(){function e(e,t,n){if(void 0===t&&(t=lx),void 0===n&&(n="ObservableSet@"+S_()),this.name=n,this.$mobx=aw,this._data=new Set,this._atom=X_(this.name),"function"!==typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,i){return t(e,i,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;Bk((function(){Rx((function(){e._data.forEach((function(t){e.delete(t)}))}))}))},e.prototype.forEach=function(e,t){var n=this;this._atom.reportObserved(),this._data.forEach((function(i){e.call(t,i,i,n)}))},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((Ex(this._atom),Lk(this))&&!(r=Uk(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Bk((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=dk(),i=Gk(this),r=i||n?{type:"add",object:this,newValue:e}:null;0,i&&Wk(this,r)}return this},e.prototype.delete=function(e){var t=this;if(Lk(this)&&!(r=Uk(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=dk(),i=Gk(this),r=i||n?{type:"delete",object:this,oldValue:e}:null;return Bk((function(){t._atom.reportChanged(),t._data.delete(e)})),i&&Wk(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=z_(this.keys()),n=z_(this.values());return H_({next:function(){var i=e;return e+=1,i<n.length?{value:[t[i],n[i]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,n=0;return void 0!==this._data.values?e=z_(this._data.values()):(e=[],this._data.forEach((function(t){return e.push(t)}))),H_({next:function(){return n<e.length?{value:t.dehanceValue(e[n++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return lw(e)&&(e=e.toJS()),Bk((function(){var n=Wx(!0);try{Array.isArray(e)||P_(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!==e&&void 0!==e&&C_("Cannot initialize set from "+e)}finally{Vx(n)}})),this},e.prototype.observe=function(e,t){return Hk(this,e)},e.prototype.intercept=function(e){return Nk(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+z_(this.keys()).join(", ")+" ]"},e}();G_(sw.prototype,(function(){return this.values()})),F_(sw.prototype,W_(),"Set");var lw=A_("ObservableSet",sw),uw=function(){function e(e,t,n){this.target=e,this.name=t,this.defaultEnhancer=n,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,n){var i=this.target;i!==e&&this.illegalAccess(e,t);var r=this.values[t];if(r instanceof Xx)r.set(n);else{if(Lk(this)){if(!(s=Uk(this,{type:"update",object:i,name:t,newValue:n})))return;n=s.newValue}if((n=r.prepareNewValue(n))!==$x.UNCHANGED){var o=Gk(this),a=dk(),s=o||a?{type:"update",object:i,oldValue:r.value,name:t,newValue:n}:null;a&&pk($_($_({},s),{name:this.name,key:t})),r.setNewValue(n),o&&Wk(this,s),a&&gk()}}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(Lk(this))if(!(o=Uk(this,{object:t,name:e,type:"remove"})))return;try{ik();var n=Gk(this),i=dk(),r=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var o=n||i?{type:"remove",object:t,oldValue:r,name:e}:null;i&&pk($_($_({},o),{name:this.name,key:e})),n&&Wk(this,o),i&&gk()}finally{rk()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return Hk(this,e)},e.prototype.intercept=function(e){return Nk(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new Yk(Object.keys(this.values).filter((function(t){return e.values[t]instanceof qx})),ux,"keys("+this.name+")",!0)),this.keys.slice()},e}();function cw(e,t,n){void 0===t&&(t=""),void 0===n&&(n=lx);var i=e.$mobx;return i||(I_(e)||(t=(e.constructor.name||"ObservableObject")+"@"+S_()),t||(t="ObservableObject@"+S_()),F_(e,"$mobx",i=new uw(e,t,n)),i)}var fw=Object.create(null),dw=Object.create(null);function hw(e){var t=e.$mobx;return t||(ox(e),e.$mobx)}var pw=A_("ObservableObjectAdministration",uw);function mw(e){return!!D_(e)&&(ox(e),pw(e.$mobx))}function gw(e,t){if("object"===typeof e&&null!==e){if(tw(e))return void 0!==t&&C_(!1),e.$mobx.atom;if(lw(e))return e.$mobx;if(ow(e)){var n=e;return void 0===t?n._keysAtom:((i=n._data.get(t)||n._hasMap.get(t))||C_(!1),i)}var i;if(ox(e),t&&!e.$mobx&&e[t],mw(e))return t?((i=e.$mobx.values[t])||C_(!1),i):C_(!1);if(K_(e)||Yx(e)||fk(e))return e}else if("function"===typeof e&&fk(e.$mobx))return e.$mobx;return C_(!1)}var yw=Object.prototype.toString;function vw(e,t,n){return void 0===n&&(n=-1),function e(t,n,i,r,o){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return!1;if(t!==t)return n!==n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;t=bw(t),n=bw(n);var s=yw.call(t);if(s!==yw.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t===""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n;case"[object Symbol]":return"undefined"!==typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n)}var l="[object Array]"===s;if(!l){if("object"!=typeof t||"object"!=typeof n)return!1;var u=t.constructor,c=n.constructor;if(u!==c&&!("function"===typeof u&&u instanceof u&&"function"===typeof c&&c instanceof c)&&"constructor"in t&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1);o=o||[];var f=(r=r||[]).length;for(;f--;)if(r[f]===t)return o[f]===n;if(r.push(t),o.push(n),l){if((f=t.length)!==n.length)return!1;for(;f--;)if(!e(t[f],n[f],i-1,r,o))return!1}else{var d=Object.keys(t),h=void 0;if(f=d.length,Object.keys(n).length!==f)return!1;for(;f--;)if(h=d[f],!_w(n,h)||!e(t[h],n[h],i-1,r,o))return!1}return r.pop(),o.pop(),!0}(e,t,n)}function bw(e){return tw(e)?e.peek():M_(e)||ow(e)||P_(e)||lw(e)?z_(e.entries()):e}function _w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var xw="$mobx";"object"===typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:yk,extras:{getDebugName:function(e,t){return(void 0!==t?gw(e,t):mw(e)||ow(e)||lw(e)?function e(t,n){return t||C_("Expecting some object"),void 0!==n?e(gw(t,n)):K_(t)||Yx(t)||fk(t)||ow(t)||lw(t)?t:(ox(t),t.$mobx?t.$mobx:void C_(!1))}(e):gw(e)).name}},$mobx:xw});var kw,ww,Ow,Sw,Cw,jw,Tw,Ew,Dw=((kw=Dw||{}).UNDO="undo",kw.REDO="redo",kw.DELETE="delete",kw.BRING_TO_FRONT="bringtofront",kw.EDIT="edit",kw.DUPLICATE="duplicate",kw.ADD="add",kw.FLIP="flip",kw.INVERT="invert",kw.CLOSE="close",kw.EXPORT="export",kw),Iw=((ww=Iw||{}).LIBRARY="library",ww.TRANSFORM="transform",ww.FILTER="filter",ww.ADJUSTMENT="adjustment",ww.FOCUS="focus",ww.STICKER="sticker",ww.TEXT="text",ww.TEXT_DESIGN="textdesign",ww.OVERLAY="overlay",ww.FRAME="frame",ww.BRUSH="brush",ww.CUSTOM="customTool",ww),Rw=((Ow=Rw||{}).TEXT="text",Ow.CARD="card",Ow),Fw=((Sw=Fw||{}).LARGE="large",Sw.MEDIUM="medium",Sw.SMALL="small",Sw),Aw=((Cw=Aw||{}).ERROR="error",Cw.WARNING="warning",Cw.INFO="info",Cw.TEXT_EDIT="textEdit",Cw),Mw=((jw=Mw||{}).BrushSize="brush-size",jw.BrushHardness="brush-hardness",jw.FilterIntensity="filter-intensity",jw.TextLineSpacing="text-line-spacing",jw.StickerOpacity="sticker-opacity",jw.OverlayOpacity="overlay-opacity",jw.FrameSize="frame-size",jw.FrameOpacity="frame-opacity",jw.FocusIntensity="focus-intensity",jw),Pw=function e(){Object(k.a)(this,e),this.enabled=!0,this.threshold=20,this.snapToHorizontalCenter=!0,this.snapToVerticalCenter=!0,this.snapToLeft=.1,this.snapToRight=.1,this.snapToTop=.1,this.snapToBottom=.1},zw=function e(){Object(k.a)(this,e),this.enabled=!0,this.threshold=20,this.angles=[0,45,90,135,180,225,270,315]},Bw=function e(){Object(k.a)(this,e),this.position=new Pw,this.rotation=new zw},Lw=((Tw=Lw||{}).CENTER="center",Tw.TOP_LEFT="top-left",Tw.TOP_RIGHT="top-right",Tw.BOTTOM_LEFT="bottom-left",Tw.BOTTOM_RIGHT="bottom-right",Tw),Nw=function e(){Object(k.a)(this,e),this.watermarkURI="",this.alignment="top-right",this.inset=.05,this.size=.2},Uw=function(e){return e.OBJECT="object",e}(Uw||{}),Gw=function(e){return e.IMAGE="image",e.DATA_URL="data-url",e.BLOB="blob",e.MSBLOB="ms-blob",e}(Gw||{}),Hw=function(e){return e.PNG="image/png",e.JPEG="image/jpeg",e}(Hw||{}),Ww=((Ew=Ww||{}).BMP="image/bmp",Ew.GIF="image/gif",Ew.ICO="image/x-icon",Ew.JPEG="image/jpeg",Ew.PNG="image/png",Ew.SVG="image/svg+xml",Ew.TIFF="image/tiff",Ew.WEBP="image/webp",Ew),Vw=function(e){return e.BRIGHTNESS="brightness",e.CONTRAST="contrast",e.SATURATION="saturation",e.CLARITY="clarity",e.SHADOWS="shadows",e.HIGHLIGHTS="highlights",e.EXPOSURE="exposure",e.GAMMA="gamma",e.BLACKS="blacks",e.WHITES="whites",e.TEMPERATURE="temperature",e.SHARPNESS="sharpness",e}(Vw||{}),qw=Object.values(Vw).reduce((function(e,t){return e[t]=!0,e}),{}),Kw=function(e){return e.RemoveAdjustmentButton="removeAdjustmentButton",e.Expandable="expandable",e.Separator="separator",e.Items="items",e}(Kw||{}),Xw=function e(){Object(k.a)(this,e),this.categories=[],this.flattenCategories=!1,this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeAdjustmentButton","separator"]},"items"]},Yw=function(e){return e.RemoveFilterButton="removeFilterButton",e.FilterIntensitySlider="filterIntensitySlider",e.Expandable="expandable",e.Separator="separator",e.Items="items",e}(Yw||{}),Qw=function(e){return e.FilterIntensity="filterIntensity",e}(Qw||{}),Zw=function e(){Object(k.a)(this,e),this.categories=[],this.flattenCategories=!1,this.categoryHeaderType="card",this.enablePreviewThumbnails=!1,this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFilterButton","filterIntensitySlider","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["filterIntensity"]};function Jw(e){return void 0!==e.lightColor}function $w(e){return void 0!==e.lutURI}var eO,tO,nO,iO,rO=((eO=rO||{}).Desert="imgly_duotone_desert",eO.Peach="imgly_duotone_peach",eO.Clash="imgly_duotone_clash",eO.Plum="imgly_duotone_plum",eO.Breezy="imgly_duotone_breezy",eO.DeepBlue="imgly_duotone_deepblue",eO.Frog="imgly_duotone_frog",eO.Sunset="imgly_duotone_sunset",eO.AD1920="imgly_lut_ad1920",eO.Greyed="imgly_lut_bw",eO.Dusty="imgly_lut_x400",eO.Litho="imgly_lut_litho",eO.Sepia="imgly_lut_sepiahigh",eO.Weathered="imgly_lut_plate",eO.HardStuff="imgly_lut_sin",eO.Polaroid="imgly_lut_blues",eO.Sunny70s="imgly_lut_front",eO.Oldtimer="imgly_lut_texas",eO.Inferno="imgly_lut_celsius",eO.Snappy="imgly_lut_cool",eO.Chestnut="imgly_lut_chest",eO.Softy="imgly_lut_winter",eO.Pebble="imgly_lut_kdynamic",eO.Moss="imgly_lut_fall",eO.Lemon="imgly_lut_lenin",eO.GreenGap="imgly_lut_pola669",eO.Colla="imgly_lut_elder",eO.Solanus="imgly_lut_orchid",eO.Kalmen="imgly_lut_bleached",eO.Joran="imgly_lut_bleachedblue",eO.Levante="imgly_lut_breeze",eO.Zephyr="imgly_lut_blueshadows",eO.Golden="imgly_lut_sunset",eO.LowFire="imgly_lut_eighties",eO.Sunrise="imgly_lut_evening",eO.FlatBlack="imgly_lut_k2",eO.Pumpkin="imgly_lut_nogreen",eO.Ancient="imgly_lut_ancient",eO.Candy="imgly_lut_cottoncandy",eO.Classic="imgly_lut_classic",eO.Colorful="imgly_lut_colorful",eO.Creamy="imgly_lut_creamy",eO.Fixie="imgly_lut_fixie",eO.Food="imgly_lut_food",eO.Fridge="imgly_lut_fridge",eO.Glam="imgly_lut_glam",eO.Gobblin="imgly_lut_gobblin",eO.Hicon="imgly_lut_highcontrast",eO.HighCarb="imgly_lut_highcarb",eO.K1="imgly_lut_k1",eO.K6="imgly_lut_k6",eO.Keen="imgly_lut_keen",eO.Lomo="imgly_lut_lomo",eO.Lomo100="imgly_lut_lomo100",eO.Lucid="imgly_lut_lucid",eO.Mellow="imgly_lut_mellow",eO.Neat="imgly_lut_neat",eO.Pale="imgly_lut_pale",eO.Pitched="imgly_lut_pitched",eO.PolaSX="imgly_lut_polasx",eO.Pro400="imgly_lut_pro400",eO.Quozi="imgly_lut_quozi",eO.Settled="imgly_lut_settled",eO.Seventies="imgly_lut_seventies",eO.Soft="imgly_lut_soft",eO.Steel="imgly_lut_steel",eO.Summer="imgly_lut_summer",eO.Tender="imgly_lut_tender",eO.Twilight="imgly_lut_twilight",eO),oO=((tO=oO||{}).DuoTone="imgly_filter_category_duotone",tO.BW="imgly_filter_category_bw",tO.Vintage="imgly_filter_category_vintage",tO.Smooth="imgly_filter_category_smooth",tO.Cold="imgly_filter_category_cold",tO.Warm="imgly_filter_category_warm",tO.Legacy="imgly_filter_category_legacy",tO),aO=function(e){return e.RemoveFocusButton="removeFocusButton",e.FocusIntensitySlider="focusIntensitySlider",e.Expandable="expandable",e.Separator="separator",e.Items="items",e}(aO||{}),sO=function(e){return e.FocusIntensity="focusIntensity",e}(sO||{}),lO=function e(){Object(k.a)(this,e),this.items=[],this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFocusButton","focusIntensitySlider","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["focusIntensity"]},uO=function(e){return e.RADIAL="radial",e.LINEAR="linear",e.MIRRORED="mirrored",e.GAUSSIAN="gaussian",e}(uO||{}),cO=function(e){return e.RemoveFrameButton="removeFrameButton",e.FrameOpacitySlider="frameOpacitySlider",e.FrameSizeSlider="frameSizeSlider",e.FrameColorList="frameColorList",e.Separator="separator",e.Items="items",e.Expandable="expandable",e}(cO||{}),fO=function(e){return e.FrameSize="frameSize",e.FrameOpacity="frameOpacity",e.FrameColor="frameColor",e}(fO||{}),dO=function e(){Object(k.a)(this,e),this.items=[],this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeFrameButton","frameOpacitySlider","frameSizeSlider","frameColorList","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["frameOpacity","frameSize","frameColor"]},hO=function(){function e(t){Object(k.a)(this,e),this.name=t.name,this.coverImageUrl=t.coverImageUrl}return Object(w.a)(e,[{key:"loadCoverImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous";return new Promise((function(n,i){var r=new Image;r.addEventListener("load",(function(){n(r)})),r.addEventListener("error",(function(){i(new Error("Failed to load image at ".concat(e.coverImage)))})),r.crossOrigin=t,r.src=e.coverImageUrl,e.coverImage=r}))}}]),e}(),pO=function(){function e(t){Object(k.a)(this,e),this.title=t.title,this.category=t.category||t.title,this.thumbUrl=t.thumbUrl,this.rawUrl=t.rawUrl,this.authorName=t.authorName,this.authorAvatar=t.authorAvatar}return Object(w.a)(e,[{key:"loadThumbImage",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anonymous";return new Promise((function(n,i){var r=new Image;r.addEventListener("load",(function(){n(r)})),r.addEventListener("error",(function(){i(new Error("Failed to load image at ".concat(e.thumbUrl)))})),r.crossOrigin=t,r.src=e.thumbUrl,e.thumbImage=r}))}},{key:"getThumbImage",value:function(){return this.thumbUrl}}]),e}(),mO=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,[{key:"getData",value:function(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType="json",i.onload=function(){var e=i.status;200===e?t(i.response):n(new Error("HTTP Status ".concat(e)))},i.send()}))}}]),e}(),gO=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(w.a)(n,[{key:"loadData",value:function(){var e=this;return this.data?Promise.resolve(this.data):this.loadJSON("https://img.ly/static/libraries/unsplash/metadata.json").then((function(t){return"string"===typeof t&&(t=JSON.parse(t)),e.data=t,t}))}},{key:"getCategories",value:function(){return this.loadData().then((function(e){return e.categories.map((function(e){return new hO({name:e.name,coverImageUrl:e.coverImage})}))}))}},{key:"searchImages",value:function(e){return this.loadData().then((function(t){return t.images.filter((function(t){for(var n=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").split(/\s+/),i=0;i<n.length;i+=1){var r=n[i];if(!new RegExp(r,"i").test(t.title))return!1}return!0})).map((function(e){return new pO(e)}))}))}}]),n}(function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,[{key:"loadJSON",value:function(e){return(new mO).getData(e)}},{key:"getCategories",value:function(){return Promise.resolve([])}},{key:"searchImages",value:function(e){return Promise.resolve([])}}]),e}()),yO=function(e){return e.UploadImageButton="uploadImageButton",e.OpenWebcamButton="openWebcamButton",e.SearchFieldInput="searchFieldInput",e.Separator="separator",e.Items="items",e}(yO||{}),vO=function e(){Object(k.a)(this,e),this.enableWebcam=!1,this.enableUpload=!1,this.provider=gO,this.flattenCategories=!1,this.categoryHeaderType="card",this.advancedUIToolControlBarOrder=["searchFieldInput","uploadImageButton","openWebcamButton","separator","items"]},bO=((nO=bO||{}).RemoveOverlayButton="removeOverlayButton",nO.OverlayOpacitySlider="overlayOpacitySlider",nO.OverlayBlendModeCarousel="overlayBlendModeCarousel",nO.Expandable="expandable",nO.Separator="separator",nO.Items="items",nO),_O=function(e){return e.OverlayOpacity="overlayOpacity",e.OverlayBlendMode="overlayBlendMode",e}(_O||{}),xO=function e(){Object(k.a)(this,e),this.items=[],this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeOverlayButton","overlayBlendModeCarousel","overlayOpacitySlider","separator"]},"items"],this.basicUIToolControlBarTabsOrder=["overlayBlendMode","overlayOpacity"]},kO=function(e){return e.NORMAL="normal",e.OVERLAY="overlay",e.SOFT_LIGHT="softLight",e.HARD_LIGHT="hardLight",e.MULTIPLY="multiply",e.DARKEN="darken",e.COLOR_BURN="colorBurn",e.SCREEN="screen",e.LIGHTEN="lighten",e}(kO||{}),wO=((iO=wO||{}).Bokeh="imgly_overlay_bokeh",iO.Chop="imgly_overlay_chop",iO.Clouds="imgly_overlay_clouds",iO.Golden="imgly_overlay_golden",iO.Grain="imgly_overlay_grain",iO.Hearts="imgly_overlay_hearts",iO.LightLeak1="imgly_overlay_lightleak1",iO.LightLeak2="imgly_overlay_lightleak2",iO.Metal="imgly_overlay_metal",iO.Mosaic="imgly_overlay_mosaic",iO.Painting="imgly_overlay_painting",iO.Paper="imgly_overlay_paper",iO.Rain="imgly_overlay_rain",iO.Vintage="imgly_overlay_vintage",iO.Wall1="imgly_overlay_wall1",iO.Wall2="imgly_overlay_wall2",iO.Wood="imgly_overlay_wood",iO),OO=function(e){return e.UploadStickerButton="uploadStickerButton",e.StickerOpacitySlider="stickerOpacitySlider",e.StickerColorList="stickerColorList",e.Separator="separator",e.Items="items",e}(OO||{}),SO=function(e){return e.StickerColor="stickerColor",e.StickerOpacity="stickerOpacity",e}(SO||{}),CO=function e(){Object(k.a)(this,e),this.categories=[],this.canvasActions=["bringtofront","flip","duplicate","delete"],this.flattenCategories=!1,this.categoryHeaderType="card",this.enableCustomUpload=!0,this.customStickerResizeMode="keepAspect",this.customStickerTintMode="none",this.advancedUIToolControlBarOrder=["uploadStickerButton","stickerOpacitySlider","stickerColorList","separator","items"],this.basicUIToolControlBarTabsOrder=["stickerColor","stickerOpacity"]},jO=function(e){return e.NewTextButton="newTextButton",e.FontFamilyDropdown="fontFamilyDropdown",e.FontSizeInput="fontSizeInput",e.TextAligmentList="textAlignmentList",e.Separator="separator",e.Inline="inline",e.TextColorList="textColorList",e.BackgroundColorList="backgroundColorList",e.LineSpacingSlider="lineSpacingSlider",e}(jO||{}),TO=function(e){return e.FontSize="fontSize",e.TextAligment="textAlignment",e.TextColor="textColor",e.BackgroundColor="backgroundColor",e.LineSpacing="lineSpacing",e}(TO||{}),EO=function e(){Object(k.a)(this,e),this.fonts=[],this.canvasActions=["edit","bringtofront","duplicate","delete"],this.allowEmojis=!1,this.disableAutoScaling=!1,this.addDefaultTextOnEnter=!0,this.advancedUIToolControlBarOrder=["newTextButton","fontFamilyDropdown",{type:"inline",children:["fontSizeInput","textAlignmentList"]},"separator","textColorList","backgroundColorList","separator","lineSpacingSlider"],this.basicUIToolControlBarTabsOrder=["fontSize","textAlignment","textColor","backgroundColor","lineSpacing"]};function DO(e){return void 0===e.provider||"file"===e.provider}function IO(e){return"google"===e.provider}var RO,FO=function(e){return e.RemoveBrushButton="removeBrushButton",e.BrushColorList="brushColorList",e.BrushSizeSlider="brushSizeSlider",e.BrushHardnessSlider="brushHardnessSlider",e.Expandable="expandable",e.Separator="separator",e}(FO||{}),AO=function(e){return e.BrushSize="brushSize",e.BrushHardness="brushHardness",e.BrushColor="brushColor",e}(AO||{}),MO=function e(){Object(k.a)(this,e),this.defaultSize=.05,this.defaultHardness=.5,this.advancedUIToolControlBarOrder=[{type:"expandable",children:["removeBrushButton","separator"]},"brushHardnessSlider","brushSizeSlider","brushColorList"],this.basicUIToolControlBarTabsOrder=["brushColor","brushSize","brushHardness"]},PO=function(e){return e.NewTextDesignButton="newTextDesignButton",e.ShuffleLayoutButton="shuffleLayoutButton",e.TextDesignColorList="textDesignColorList",e.Separator="separator",e.Items="items",e}(PO||{}),zO=function e(){Object(k.a)(this,e),this.items=[],this.canvasActions=["edit","bringtofront","invert","duplicate","delete"],this.allowEmojis=!1,this.addDefaultTextOnEnter=!0,this.advancedUIToolControlBarOrder=["newTextDesignButton","shuffleLayoutButton","textDesignColorList","separator","items"]},BO=function(e){return e.ResetTransformButton="resetTransformButton",e.KeepResolutionCheckbox="keepResolutionCheckbox",e.CropSizeInput="cropSizeInput",e.Separator="separator",e.Items="items",e}(BO||{}),LO=function(e){return e.CropSize="cropSize",e.FlipRotate="flipRotate",e.Resolution="resolution",e}(LO||{}),NO=function e(){Object(k.a)(this,e),this.categories=[],this.enableRotation=!0,this.enableFlip=!0,this.flattenCategories=!1,this.categoryHeaderType="text",this.advancedUIToolControlBarOrder=["resetTransformButton","keepResolutionCheckbox","cropSizeInput","separator","items"],this.basicUIToolControlBarTabsOrder=["cropSize","flipRotate","resolution"]},UO=((RO=UO||{}).CommonCategory="imgly_transforms_common",RO.FacebookCategory="imgly_transforms_facebook",RO.TwitterCategory="imgly_transforms_twitter",RO.InstagramCategory="imgly_transforms_instagram",RO.Custom="imgly_transform_common_custom",RO.Square="imgly_transform_common_square",RO.ThreeByFour="imgly_transform_common_3",RO.FourByThree="imgly_transform_common_4",RO.NineBySixteen="imgly_transform_common_9",RO.SixteenByNine="imgly_transform_common_16",RO.FacebookPost="imgly_transform_facebook_post",RO.FacebookProfile="imgly_transform_facebook_profile",RO.FacebookTitle="imgly_transform_facebook_title",RO.InstagramLandscape="imgly_transform_instagram_landscape",RO.InstagramPortrait="imgly_transform_instagram_portrait",RO.InstagramSquare="imgly_transform_instagram_square",RO.InstagramStory="imgly_transform_instagram_story",RO.TwitterPost="imgly_transform_twitter_post",RO.TwitterProfile="imgly_transform_twitter_profile",RO.TwitterTitle="imgly_transform_twitter_title",RO),GO=function(e){return e.EXPORT="export",e.CLOSE="close",e.HISTORY_UNDO="historyUndo",e.HISTORY_REDO="historyRedo",e.HISTORY_CHANGE="historyChange",e.EDITOR_READY="editorReady",e.ERROR_IMAGE_LOADING="errorImageLoading",e.IMAGE_LOAD="imageLoad",e.TOOL_ENTER="toolEnter",e.STICKER_UPLOAD_ADD="stickerUploadAdd",e.ERROR_WEBGL_CONTEXT_LOST="errorWebGLContextLost",e.CROP_DIMENSIONS_CHANGE="cropDimensionsChange",e}(GO||{}),HO=function(){function e(){Object(k.a)(this,e),this.events={}}return Object(w.a)(e,[{key:"addListener",value:function(e,t){return(this.events[e]||(this.events[e]=[])).push(t),this}},{key:"removeListener",value:function(e,t){var n=this.events[e];if(!n)return this;var i=n.lastIndexOf(t);return-1===i||n.splice(i,1),this}},{key:"removeAllListeners",value:function(e){return this.events[e]=void 0,this}},{key:"on",value:function(e,t){return this.addListener(e,t)}},{key:"off",value:function(e,t){return this.removeListener(e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=this.events[e];return!(!r||!r.length)&&(r.slice(0).forEach((function(e){return e.apply(null,n)})),!0)}}]),e}();V();var WO=function(){return"undefined"!==typeof window&&window.navigator&&window.navigator.userAgent||""},VO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WO();return-1!==e.indexOf("Edge")},qO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WO();return!!e.match(/msie|trident/i)},KO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WO();return!!e.match(/windows/i)},XO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WO();return-1!==e.indexOf("Safari")&&-1===e.indexOf("Chrome")},YO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:WO();return!!e.match(/iP(hone|od|ad)|AppleWebKit/)},QO=function(){if("undefined"===typeof document)return!1;var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),n=t&&t instanceof WebGLRenderingContext;return o(e),n};function ZO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var JO=function(){function e(t,n){Object(k.a)(this,e),"number"===typeof t?(this.x=t,this.y=n):(this.x=t.x,this.y=t.y)}return Object(w.a)(e,[{key:"magnitude",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalized",get:function(){var t=this.magnitude;return new e(this.x/t,this.y/t)}},{key:"floored",get:function(){return new e(Math.floor(this.x),Math.floor(this.y))}},{key:"rounded",get:function(){return new e(Math.round(this.x),Math.round(this.y))}},{key:"min",get:function(){return Math.min(this.x,this.y)}},{key:"max",get:function(){return Math.max(this.x,this.y)}},{key:"abs",get:function(){return new e(Math.abs(this.x),Math.abs(this.y))}},{key:"swapped",get:function(){return new e(this.y,this.x)}}],[{key:"fromSize",value:function(t){return new e(t.width,t.height)}},{key:"distance",value:function(e,t){var n=t.x-e.x,i=t.y-e.y;return Math.sqrt(n*n+i*i)}},{key:"dot",value:function(e,t){return e.x*t.x+e.y*t.y}},{key:"lerp",value:function(t,n,i){var r=Math.min(Math.max(i,0),1);return new e(t.x*r+n.x*(1-r),t.y*r+n.y*(1-r))}},{key:"lerpUnclamped",value:function(t,n,i){return new e(t.x*i+n.x*(1-i),t.y*i+n.y*(1-i))}},{key:"proportionalFit",value:function(e,t){return e.x/e.y>t.x/t.y?t.multiply(e.y/t.y):t.multiply(e.x/t.x)}}]),Object(w.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"add",value:function(t,n){return"number"===typeof t?new e(this.x+t,this.y+n):new e(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(t,n){return"number"===typeof t?new e(this.x-t,this.y-n):new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t,n){return"number"===typeof t?new e(this.x*t,this.y*(void 0===n?t:n)):new e(this.x*t.x,this.y*t.y)}},{key:"divide",value:function(t,n){return"number"===typeof t?new e(this.x/t,this.y/(void 0===n?t:n)):new e(this.x/t.x,this.y/t.y)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"clamp",value:function(t,n){return new e(Math.max(t.x,Math.min(n.x,this.x)),Math.max(t.y,Math.min(n.y,this.y)))}}]),e}(),$O=JO;$O.ZERO=new JO(0,0),$O.ONE=new JO(1,1),$O.UP=new JO(0,1),$O.DOWN=new JO(0,-1),$O.RIGHT=new JO(1,0),$O.LEFT=new JO(-1,0);var eS,tS=((eS=tS||{})[eS.EditorContainer=0]="EditorContainer",eS[eS.ToolControlBar=1]="ToolControlBar",eS[eS.ToolControlBarExpandableControls=2]="ToolControlBarExpandableControls",eS[eS.CanvasContainer=3]="CanvasContainer",eS[eS.Canvas=4]="Canvas",eS[eS.MainBarButtonClose=5]="MainBarButtonClose",eS[eS.MainBarButtonExport=6]="MainBarButtonExport",eS[eS.MainBarButtonUndo=7]="MainBarButtonUndo",eS[eS.MainBarButtonRedo=8]="MainBarButtonRedo",eS[eS.MainBarButtonZoom=9]="MainBarButtonZoom",eS[eS.Tooltip=10]="Tooltip",eS[eS.Cursor=11]="Cursor",eS[eS.CursorContainer=12]="CursorContainer",eS[eS.NummericInput=13]="NummericInput",eS[eS.BrushSize=14]="BrushSize",eS[eS.BrushHardness=15]="BrushHardness",eS[eS.Dialog=16]="Dialog",eS[eS.DialogBody=17]="DialogBody",eS[eS.CardContainer=18]="CardContainer",eS[eS.CategoryItemsContainer=19]="CategoryItemsContainer",eS[eS.ToolbarItem=20]="ToolbarItem",eS[eS.ColorList=21]="ColorList",eS[eS.NoResult=22]="NoResult",eS[eS.CardLabel=23]="CardLabel",eS[eS.CardAvatar=24]="CardAvatar",eS[eS.Dropdown=25]="Dropdown",eS[eS.DropdownList=26]="DropdownList",eS[eS.TextAlignment=27]="TextAlignment",eS[eS.Sprite=28]="Sprite",eS[eS.SpriteTopLeft=29]="SpriteTopLeft",eS[eS.SpriteTopRight=30]="SpriteTopRight",eS[eS.SpriteBottomLeft=31]="SpriteBottomLeft",eS[eS.SpriteBottomRight=32]="SpriteBottomRight",eS[eS.Knob=33]="Knob",eS[eS.TextWidth=34]="TextWidth",eS[eS.ToolbarWrapper=35]="ToolbarWrapper",eS[eS.MainCanvasActionBar=36]="MainCanvasActionBar",eS[eS.SpriteActions=37]="SpriteActions",eS[eS.CarouselSlider=38]="CarouselSlider",eS[eS.CropMask=39]="CropMask",eS[eS.FlipRotateControls=40]="FlipRotateControls",eS[eS.RotateSlider=41]="RotateSlider",eS[eS.CropTopRight=42]="CropTopRight",eS[eS.CropTopLeft=43]="CropTopLeft",eS[eS.CropBottomRight=44]="CropBottomRight",eS[eS.CropBottomLeft=45]="CropBottomLeft",eS[eS.Watermark=46]="Watermark",eS[eS.Toolbar=47]="Toolbar",eS[eS.CanvasBar=48]="CanvasBar",eS[eS.Checkbox=49]="Checkbox",eS[eS.Focus=50]="Focus",eS[eS.SnappingLine=51]="SnappingLine",eS[eS.LibraryUploadButton=52]="LibraryUploadButton",eS[eS.LibraryWebcamButton=53]="LibraryWebcamButton",eS[eS.ZoomLevel=54]="ZoomLevel",eS[eS.BasicToolControlBar=55]="BasicToolControlBar",eS[eS.SliderTrack=56]="SliderTrack",eS[eS.SliderLabel=57]="SliderLabel",eS),nS={};for(var iS in tS){var rS=tS[iS];"string"===typeof rS&&(nS[rS]=rS)}var oS,aS=nS;Boolean("undefined"!==typeof window&&(null==(oS=window.Cypress)?void 0:oS.env("pesdk")));q();var sS={};function lS(){if("undefined"===typeof navigator)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}L(sS,{isMobile:function(){return lS}});var uS=function(e){e.preventDefault(),e.stopPropagation()},cS=("undefined"!==typeof window&&window.performance.now.bind(window.performance),function(){function e(t){Object(k.a)(this,e),this.text=t,this.lastOffsetWidth=-1;var n="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.element=document.createElement("div"),this.element.setAttribute("aria-hidden","true"),this.element.appendChild(document.createTextNode(t)),this.collapsible=document.createElement("span"),this.expandable=document.createElement("span"),this.collapsibleInner=document.createElement("span"),this.expandableInner=document.createElement("span"),this.collapsible.style.cssText=n,this.expandable.style.cssText=n,this.expandableInner.style.cssText=n,this.collapsibleInner.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.collapsible.appendChild(this.collapsibleInner),this.expandable.appendChild(this.expandableInner),this.element.appendChild(this.collapsible),this.element.appendChild(this.expandable)}return Object(w.a)(e,[{key:"getElement",value:function(){return this.element}},{key:"setFont",value:function(e){this.element.style.cssText="max-width:none;\n      min-width:20px;\n      min-height:20px;\n      display:inline-block;\n      overflow:hidden;\n      position:absolute;\n      width:auto;\n      margin:0;\n      padding:0;\n      top:-999px;\n      white-space:nowrap;\n      font-synthesis:none;\n      font:".concat(e,";")}},{key:"getWidth",value:function(){return this.element.offsetWidth}},{key:"setWidth",value:function(e){this.element.style.width="".concat(e,"px")}},{key:"onResize",value:function(e){var t=this,n=function(){t.onScroll(e)};this.collapsible.addEventListener("scroll",n),this.expandable.addEventListener("scroll",n),this.reset()}},{key:"reset",value:function(){var e=this.getWidth(),t=e+100;return this.expandableInner.style.width="".concat(t,"px"),this.expandable.scrollLeft=t,this.collapsible.scrollLeft=this.collapsible.scrollWidth+100,this.lastOffsetWidth!==e&&(this.lastOffsetWidth=e,!0)}},{key:"onScroll",value:function(e){this.reset()&&null!==this.element.parentNode&&e(this.lastOffsetWidth)}}]),e}()),fS=function(){function e(t){Object(k.a)(this,e),this.font=Object(T.a)({fontFamily:"normal",fontStyle:"normal",fontWeight:"normal",fontStretch:"normal"},t)}return Object(w.a)(e,null,[{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getNavigatorVendor",value:function(){return window.navigator.vendor}},{key:"hasWebKitFallbackBug",value:function(){if(null===e.HAS_WEBKIT_FALLBACK_BUG){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(e.getUserAgent());e.HAS_WEBKIT_FALLBACK_BUG=!!t&&(parseInt(t[1],10)<536||536===parseInt(t[1],10)&&parseInt(t[2],10)<=11)}return e.HAS_WEBKIT_FALLBACK_BUG}},{key:"hasSafari10Bug",value:function(){if(null===e.HAS_SAFARI_10_BUG)if(e.supportsNativeFontLoading()&&/Apple/.test(e.getNavigatorVendor())){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(e.getUserAgent());e.HAS_SAFARI_10_BUG=!!t&&parseInt(t[1],10)<603}else e.HAS_SAFARI_10_BUG=!1;return e.HAS_SAFARI_10_BUG}},{key:"supportsNativeFontLoading",value:function(){return null===e.SUPPORTS_NATIVE_FONT_LOADING&&(e.SUPPORTS_NATIVE_FONT_LOADING=!!document.fonts),e.SUPPORTS_NATIVE_FONT_LOADING}},{key:"supportsStretch",value:function(){if(null===e.SUPPORTS_STRETCH){var t=document.createElement("div");try{t.style.font="condensend 100px sans-serif"}catch(Ow){e.SUPPORTS_STRETCH=!1}e.SUPPORTS_STRETCH=""!==t.style.font}return e.SUPPORTS_STRETCH}}]),Object(w.a)(e,[{key:"load",value:function(t,n){var i=this,r="BESbswy",o=null,a=n||e.DEFAULT_TIMEOUT,s=this.getTime();return new Promise((function(t,n){if(e.supportsNativeFontLoading()&&!e.hasSafari10Bug()){var l=new Promise((function(e,t){!function o(){i.getTime()-s>=a?t(new Error(a+"ms timeout exceeded")):document.fonts.load(i.getStyle('"'.concat(i.font.fontFamily,'"')),r).then((function(t){t.length>=1?e():setTimeout(o,25)}),n)}()})),u=new Promise((function(e,t){o=setTimeout((function(){t(new Error("".concat(a," ms timeout exceeded")))}),a)}));Promise.race([u,l]).then((function(){clearTimeout(o),t(i)}),n)}else{var c=new cS(r),f=new cS(r),d=new cS(r),h=-1,p=-1,m=-1,g=-1,y=-1,v=-1,b=document.createElement("div"),_=function(){null!==b.parentNode&&b.parentNode.removeChild(b)},x=function(){if((-1!==h&&-1!==p||-1!==h&&-1!==m||-1!==p&&-1!==m)&&(h===p||h===m||p===m)){if(e.hasWebKitFallbackBug()&&(h===g&&p===g&&m===g||h===y&&p===y&&m===y||h===v&&p===v&&m===v))return;_(),clearTimeout(o),t(i)}};b.dir="ltr",c.setFont(i.getStyle("sans-serif")),f.setFont(i.getStyle("serif")),d.setFont(i.getStyle("monospace")),b.appendChild(c.getElement()),b.appendChild(f.getElement()),b.appendChild(d.getElement()),document.body.appendChild(b),g=c.getWidth(),y=f.getWidth(),v=d.getWidth();!function e(){if(i.getTime()-s>=a)_(),n(new Error("".concat(a," ms timeout exceeded")));else{var t=document.hidden;!0!==t&&void 0!==t||(h=c.getWidth(),p=f.getWidth(),m=d.getWidth(),x()),o=setTimeout(e,50)}}(),c.onResize((function(e){h=e,x()})),c.setFont(i.getStyle('"'.concat(i.font.fontFamily,'",sans-serif'))),f.onResize((function(e){p=e,x()})),f.setFont(i.getStyle('"'.concat(i.font.fontFamily,'",serif'))),d.onResize((function(e){m=e,x()})),d.setFont(i.getStyle('"'.concat(i.font.fontFamily,'",monospace')))}}))}},{key:"getStyle",value:function(t){return[this.font.fontStyle,this.font.fontWeight,e.supportsStretch()?this.font.fontStretch:"","100px",t].join(" ")}},{key:"getTime",value:function(){return(new Date).getTime()}}]),e}();fS.HAS_WEBKIT_FALLBACK_BUG=null,fS.HAS_SAFARI_10_BUG=null,fS.SUPPORTS_STRETCH=null,fS.SUPPORTS_NATIVE_FONT_LOADING=null,fS.DEFAULT_TIMEOUT=6e4;var dS=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(k.a)(this,n),(r=t.call(this)).image=e,r.options=i,r}return Object(w.a)(n,[{key:"needsResize",value:function(){var e=this.resizedDimensions();return e.x<this.image.width||e.y<this.image.height}},{key:"resizedDimensions",value:function(){var e=this.options,t={width:this.image.width,height:this.image.height},n=$O.fromSize(t),i=$O.fromSize(t),r=e.maxMegaPixels;if(r){var o=1e6*(lS()?r.mobile:r.desktop),a=t.width/t.height,s=t.height/t.width,l=new $O(Math.floor(Math.sqrt(o*a)),Math.floor(Math.sqrt(o*s)));l.x<=t.width&&l.y<=t.height&&(n=l)}var u=e.maxDimensions;u&&(u.height<t.height||u.width<t.width)&&(i=new $O(u.width,u.height));var c=new $O(Math.min(n.x,i.x),Math.min(n.y,i.y));return $O.proportionalFit(c,$O.fromSize(t)).floored}},{key:"downscaleIfNecessary",value:function(){var e=this.resizedDimensions();if(!(e.x<this.image.width||e.y<this.image.height))return this.image;this.emit("beganImageDownscaling",this.image);var t=document.createElement("canvas");t.width=e.x,t.height=e.y;var n=t.getContext("2d"),i=this.image;return n.imageSmoothingQuality="high",n.drawImage(i,0,0,i.width,i.height,0,0,e.x,e.y),this.emit("imageDownscaled",{width:e.x,height:e.y}),t}}]),n}(HO),hS=function(e){return function(t){(function(e){return"Enter"===e.key})(t)&&e(t)}},pS=function(e){return function(t){(function(e){return"Escape"===e.key})(t)&&e(t)}};function mS(e){var t=function(e){return"/"===e.charAt(0)}(e),n="/"===e.substr(-1);return(e=function(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}(e.split("/").filter(Boolean),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e}var gS=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mS(t.join("/"))},yS=U(K()),vS=function(e,t,n){var i=Object(y.a)(n,2),r=i[0],o=i[1],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=e[t];if(s){if(s<r)return console.error("".concat(t," must be greater than or equal to ").concat(r)),r;if(s>o)return console.error("".concat(t," must be less than or equal to ").concat(o)),o}return s||a},bS=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1,1,1],i=e[t],r=!0;return i&&i.forEach((function(e){e<0&&(console.error("".concat(e," in ").concat(t," must be greater than or equal to 0")),r=!1),e>1&&(console.error("".concat(e," in ").concat(t," must be less than or equal to 1")),r=!1)})),r&&i||n},_S=function(e){return.08*e},xS=function(e){return.03*e},kS={},wS=function(e){var t=e.src,n=e.crossOrigin,i=e.key,r=e.resolve,o=e.reject;kS[i]=t;var a=new Image;a.onload=function(){kS[i]===t&&(r(a),delete kS[i])},a.onerror=function(e){kS[i]===t&&(o(e),delete kS[i])},a.crossOrigin=n,a.src=t},OS=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this,e)).name="AssetNotFoundError",i}return n}(Object(j.a)(Error)),SS=function(){return Math.max(window.devicePixelRatio||1,1)},CS=new RegExp(/\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83D\uDC68\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83D\uDC68\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83D\uDC68\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83D\uDC68\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC69(?:\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFE])|\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69])(?:\uD83C[\uDFFC-\uDFFF]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68\u200D(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC68\u200D\u2764\uFE0F\u200D\uD83D\uDC68|\uD83D\uDC69\u200D\u2764\uFE0F\u200D(?:\uD83D[\uDC68\uDC69])|\uD83E\uDDD1\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC68(?:\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|(?:\uD83D[\uDC67-\uDC69])\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]\uFE0F)|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83C\uDFF3\uFE0F\u200D\u26A7|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF]))\u200D[\u2695\u2696\u2708]\uFE0F|\uD83D\uDC69\u200D(?:\uD83D[\uDC67\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D\uDC3B\u200D\u2744|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E-\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3C-\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDF])\u200D[\u2640\u2642])\uFE0F|\uD83E\uDDD1\u200D[\u2695\u2696\u2708]\uFE0F|(?:\uD83D[\uDC68\uDC69])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D[\u2695\u2696\u2708]\uFE0F)|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC08\u200D\u2B1B|\uD83E\uDDD1\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDC66\uDC67\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC3\uDFC7]|\uD83D[\uDC43\uDC4A-\uDC4C\uDC4F\uDC50\uDC66-\uDC69\uDC6B-\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD7A\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270C\u270D]|\uD83C[\uDFC2\uDFC4\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC46-\uDC49\uDC4D\uDC4E\uDD74\uDD75\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9\u23EA\u23ED-\u23EF\u23F1-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7\u26F8\u26FA\u26FD\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2753\u2757\u2763\u2764\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE1A\uDE2F\uDE37\uDF0D-\uDF0F\uDF15\uDF1C\uDF21\uDF24-\uDF2C\uDF36\uDF78\uDF7D\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFA7\uDFAC-\uDFAE\uDFC6\uDFCD\uDFCE\uDFD4-\uDFE0\uDFED\uDFF3\uDFF5\uDFF7]|\uD83D[\uDC08\uDC15\uDC1F\uDC26\uDC3F\uDC41\uDC53\uDC6A\uDC7D\uDCA3\uDCB0\uDCB3\uDCBB\uDCBF\uDCCB\uDCDA\uDCDF\uDCE4-\uDCE6\uDCEA-\uDCED\uDCF7\uDCF9-\uDCFB\uDCFD\uDD08\uDD0D\uDD12\uDD13\uDD49\uDD4A\uDD50-\uDD67\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDE10\uDE87\uDE8D\uDE91\uDE94\uDE98\uDEAD\uDEB2\uDEB9\uDEBA\uDEBC\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|[\u23E9-\u23F3\u23F8-\u23FA\u25FB-\u25FE\u2614\u2615\u267F\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26C8\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]/g),jS=function(e){return e.replace(CS,"")},TS=function(e){try{return new URL(e),!0}catch(rS){return!1}},ES=function(e){return e instanceof HTMLImageElement},DS=[{identifier:"basics",name:"Basics",items:[{identifier:"brightness"},{identifier:"contrast"},{identifier:"saturation"},{identifier:"gamma"}]},{identifier:"refinements",name:"Refinements",items:[{identifier:"clarity"},{identifier:"shadows"},{identifier:"highlights"},{identifier:"exposure"},{identifier:"blacks"},{identifier:"whites"},{identifier:"temperature"},{identifier:"sharpness"}]}],IS=[{identifier:"imgly_filter_category_duotone",name:"DuoTone",thumbnailURI:"./categories/duotone.jpg",items:[{identifier:"imgly_duotone_desert",name:"Desert",thumbnailURI:"./items/imgly_duotone_desert.jpg",lightColor:"#e1de9a",darkColor:"#cb2129",defaultIntensity:.5},{identifier:"imgly_duotone_peach",name:"Peach",thumbnailURI:"./items/imgly_duotone_peach.jpg",lightColor:"#e9abb8",darkColor:"#0040ff",defaultIntensity:.5},{identifier:"imgly_duotone_clash",name:"Clash",thumbnailURI:"./items/imgly_duotone_clash.jpg",lightColor:"#f41a0f",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_plum",name:"Plum",thumbnailURI:"./items/imgly_duotone_plum.jpg",lightColor:"#74d7ff",darkColor:"#23007c",defaultIntensity:.5},{identifier:"imgly_duotone_breezy",name:"Breezy",thumbnailURI:"./items/imgly_duotone_breezy.jpg",lightColor:"#68fdff",darkColor:"#c20000",defaultIntensity:.5},{identifier:"imgly_duotone_deepblue",name:"Deep Blue",thumbnailURI:"./items/imgly_duotone_deepblue.jpg",lightColor:"#2de9eb",darkColor:"#58007c",defaultIntensity:.5},{identifier:"imgly_duotone_frog",name:"Frog",thumbnailURI:"./items/imgly_duotone_frog.jpg",lightColor:"#5bff60",darkColor:"#7f23a9",defaultIntensity:.5},{identifier:"imgly_duotone_sunset",name:"Sunset",thumbnailURI:"./items/imgly_duotone_sunset.jpg",lightColor:"#f8ea46",darkColor:"#c400be",defaultIntensity:.5}]},{identifier:"imgly_filter_category_bw",name:"B & W",thumbnailURI:"./categories/b&w.jpg",items:[{identifier:"imgly_lut_ad1920",name:"1920 A.D.",thumbnailURI:"./items/imgly_lut_ad1920.jpg",lutURI:"./items/imgly_lut_ad1920_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bw",name:"Greyed",thumbnailURI:"./items/imgly_lut_bw.jpg",lutURI:"./items/imgly_lut_bw_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_x400",name:"Dusty",thumbnailURI:"./items/imgly_lut_x400.jpg",lutURI:"./items/imgly_lut_dusty_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_litho",name:"Litho",thumbnailURI:"./items/imgly_lut_litho.jpg",lutURI:"./items/imgly_lut_litho_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sepiahigh",name:"Sepia",thumbnailURI:"./items/imgly_lut_sepiahigh.jpg",lutURI:"./items/imgly_lut_sepia_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_plate",name:"Weathered",thumbnailURI:"./items/imgly_lut_plate.jpg",lutURI:"./items/imgly_lut_weathered_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_sin",name:"Hard Stuff",thumbnailURI:"./items/imgly_lut_sin.jpg",lutURI:"./items/imgly_lut_hard_stuff_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8}]},{identifier:"imgly_filter_category_vintage",name:"Vintage",thumbnailURI:"./categories/vintage.jpg",items:[{identifier:"imgly_lut_blues",name:"Polaroid",thumbnailURI:"./items/imgly_lut_blues.jpg",lutURI:"./items/imgly_lut_polaroid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_front",name:"Sunny 70s",thumbnailURI:"./items/imgly_lut_front.jpg",lutURI:"./items/imgly_lut_sunny_70s_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_texas",name:"Oldtimer",thumbnailURI:"./items/imgly_lut_texas.jpg",lutURI:"./items/imgly_lut_oldtimer_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_celsius",name:"Inferno",thumbnailURI:"./items/imgly_lut_celsius.jpg",lutURI:"./items/imgly_lut_inferno_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_cool",name:"Snappy",thumbnailURI:"./items/imgly_lut_cool.jpg",lutURI:"./items/imgly_lut_snappy_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_smooth",name:"Smooth",thumbnailURI:"./categories/smooth.jpg",items:[{identifier:"imgly_lut_chest",name:"Chestnut",thumbnailURI:"./items/imgly_lut_chest.jpg",lutURI:"./items/imgly_lut_chestnut_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_winter",name:"Softy",thumbnailURI:"./items/imgly_lut_winter.jpg",lutURI:"./items/imgly_lut_softly_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_kdynamic",name:"Pebble",thumbnailURI:"./items/imgly_lut_kdynamic.jpg",lutURI:"./items/imgly_lut_pebble_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fall",name:"Moss",thumbnailURI:"./items/imgly_lut_fall.jpg",lutURI:"./items/imgly_lut_moss_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lenin",name:"Lemon",thumbnailURI:"./items/imgly_lut_lenin.jpg",lutURI:"./items/imgly_lut_lemon_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pola669",name:"Green Gap",thumbnailURI:"./items/imgly_lut_pola669.jpg",lutURI:"./items/imgly_lut_green_gap_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_cold",name:"Cold",thumbnailURI:"./categories/cold.jpg",items:[{identifier:"imgly_lut_elder",name:"Colla",thumbnailURI:"./items/imgly_lut_elder.jpg",lutURI:"./items/imgly_lut_colla_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_orchid",name:"Solanus",thumbnailURI:"./items/imgly_lut_orchid.jpg",lutURI:"./items/imgly_lut_solanus_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleached",name:"Kalmen",thumbnailURI:"./items/imgly_lut_bleached.jpg",lutURI:"./items/imgly_lut_kalmen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_bleachedblue",name:"Joran",thumbnailURI:"./items/imgly_lut_bleachedblue.jpg",lutURI:"./items/imgly_lut_joran_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_breeze",name:"Levante",thumbnailURI:"./items/imgly_lut_breeze.jpg",lutURI:"./items/imgly_lut_levante_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_blueshadows",name:"Zephyr",thumbnailURI:"./items/imgly_lut_blueshadows.jpg",lutURI:"./items/imgly_lut_zephyr_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_warm",name:"Warm",thumbnailURI:"./categories/warm.jpg",items:[{identifier:"imgly_lut_sunset",name:"Golden",thumbnailURI:"./items/imgly_lut_sunset.jpg",lutURI:"./items/imgly_lut_golden_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_eighties",name:"Low Fire",thumbnailURI:"./items/imgly_lut_eighties.jpg",lutURI:"./items/imgly_lut_low_fire_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_evening",name:"Sunrise",thumbnailURI:"./items/imgly_lut_evening.jpg",lutURI:"./items/imgly_lut_sunrise_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k2",name:"Flat Black",thumbnailURI:"./items/imgly_lut_k2.jpg",lutURI:"./items/imgly_lut_flat_black_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_nogreen",name:"Pumpkin",thumbnailURI:"./items/imgly_lut_nogreen.jpg",lutURI:"./items/imgly_lut_pumpkin_5_5_128.png",defaultIntensity:1}]},{identifier:"imgly_filter_category_legacy",name:"Legacy",thumbnailURI:"./categories/legacy.jpg",items:[{identifier:"imgly_lut_ancient",name:"Ancient",thumbnailURI:"./items/imgly_lut_ancient.jpg",lutURI:"./items/imgly_lut_ancient_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_cottoncandy",name:"Candy",thumbnailURI:"./items/imgly_lut_cottoncandy.jpg",lutURI:"./items/imgly_lut_cottoncandy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_classic",name:"Classic",thumbnailURI:"./items/imgly_lut_classic.jpg",lutURI:"./items/imgly_lut_classic_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_colorful",name:"Colorful",thumbnailURI:"./items/imgly_lut_colorful.jpg",lutURI:"./items/imgly_lut_colorful_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_creamy",name:"Creamy",thumbnailURI:"./items/imgly_lut_creamy.jpg",lutURI:"./items/imgly_lut_creamy_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fixie",name:"Fixie",thumbnailURI:"./items/imgly_lut_fixie.jpg",lutURI:"./items/imgly_lut_fixie_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_food",name:"Food",thumbnailURI:"./items/imgly_lut_food.jpg",lutURI:"./items/imgly_lut_food_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_fridge",name:"Fridge",thumbnailURI:"./items/imgly_lut_fridge.jpg",lutURI:"./items/imgly_lut_fridge_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_glam",name:"Glam",thumbnailURI:"./items/imgly_lut_glam.jpg",lutURI:"./items/imgly_lut_glam_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_gobblin",name:"Gobblin",thumbnailURI:"./items/imgly_lut_gobblin.jpg",lutURI:"./items/imgly_lut_gobblin_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcontrast",name:"Hicon",thumbnailURI:"./items/imgly_lut_highcontrast.jpg",lutURI:"./items/imgly_lut_highcontrast_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_highcarb",name:"High Carb",thumbnailURI:"./items/imgly_lut_highcarb.jpg",lutURI:"./items/imgly_lut_highcarb_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k1",name:"K1",thumbnailURI:"./items/imgly_lut_k1.jpg",lutURI:"./items/imgly_lut_k1_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_k6",name:"K6",thumbnailURI:"./items/imgly_lut_k6.jpg",lutURI:"./items/imgly_lut_k6_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_keen",name:"Keen",thumbnailURI:"./items/imgly_lut_keen.jpg",lutURI:"./items/imgly_lut_keen_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lomo",name:"Lomo",thumbnailURI:"./items/imgly_lut_lomo.jpg",lutURI:"./items/imgly_lut_lomo_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_lomo100",name:"Lomo 100",thumbnailURI:"./items/imgly_lut_lomo100.jpg",lutURI:"./items/imgly_lut_lomo100_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_lucid",name:"Lucid",thumbnailURI:"./items/imgly_lut_lucid.jpg",lutURI:"./items/imgly_lut_lucid_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_mellow",name:"Mellow",thumbnailURI:"./items/imgly_lut_mellow.jpg",lutURI:"./items/imgly_lut_mellow_8_8_512.png",defaultIntensity:1,horizontalTileCount:8,verticalTileCount:8},{identifier:"imgly_lut_neat",name:"Neat",thumbnailURI:"./items/imgly_lut_neat.jpg",lutURI:"./items/imgly_lut_neat_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pale",name:"Pale",thumbnailURI:"./items/imgly_lut_pale.jpg",lutURI:"./items/imgly_lut_pale_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pitched",name:"Pitched",thumbnailURI:"./items/imgly_lut_pitched.jpg",lutURI:"./items/imgly_lut_pitched_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_polasx",name:"Pola SX",thumbnailURI:"./items/imgly_lut_polasx.jpg",lutURI:"./items/imgly_lut_polasx_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_pro400",name:"Pro 400",thumbnailURI:"./items/imgly_lut_pro400.jpg",lutURI:"./items/imgly_lut_pro400_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_quozi",name:"Quozi",thumbnailURI:"./items/imgly_lut_quozi.jpg",lutURI:"./items/imgly_lut_quozi_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_settled",name:"Settled",thumbnailURI:"./items/imgly_lut_settled.jpg",lutURI:"./items/imgly_lut_settled_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_seventies",name:"Seventies",thumbnailURI:"./items/imgly_lut_seventies.jpg",lutURI:"./items/imgly_lut_seventies_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_soft",name:"Soft",thumbnailURI:"./items/imgly_lut_soft.jpg",lutURI:"./items/imgly_lut_soft_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_steel",name:"Steel",thumbnailURI:"./items/imgly_lut_steel.jpg",lutURI:"./items/imgly_lut_steel_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_summer",name:"Summer",thumbnailURI:"./items/imgly_lut_summer.jpg",lutURI:"./items/imgly_lut_summer_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_tender",name:"Tender",thumbnailURI:"./items/imgly_lut_tender.jpg",lutURI:"./items/imgly_lut_tender_5_5_128.png",defaultIntensity:1},{identifier:"imgly_lut_twilight",name:"Twilight",thumbnailURI:"./items/imgly_lut_twilight.jpg",lutURI:"./items/imgly_lut_twilight_5_5_128.png",defaultIntensity:1}]}],RS=[{identifier:"radial",thumbnailURI:"./items/radial.png"},{identifier:"mirrored",thumbnailURI:"./items/mirrored.png"},{identifier:"linear",thumbnailURI:"./items/linear.png"},{identifier:"gaussian",thumbnailURI:"./items/gaussian.png"}],FS=[{identifier:"imgly_font_open_sans_bold",fontFamily:"Open Sans",fontWeight:"bold",fontURI:"./fonts/imgly_font_open_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2189,descender:-600}},{identifier:"imgly_font_aleo_bold",fontFamily:"Aleo",fontWeight:"bold",fontURI:"./fonts/imgly_font_aleo_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:805,descender:-195}},{identifier:"imgly_font_amaticsc",fontFamily:"Amatic SC",fontWeight:"normal",fontURI:"./fonts/imgly_font_amaticsc.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1016,descender:-245}},{identifier:"imgly_font_archivo_black",fontFamily:"Archivo",fontWeight:"normal",fontURI:"./fonts/imgly_font_archivo_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:878,descender:-210}},{identifier:"imgly_font_bungee_inline",fontFamily:"Bungee Inline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_bungee_inline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:860,descender:-140}},{identifier:"imgly_font_fira_sans_regular",fontFamily:"Fira Sans",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:935,descender:-265}},{identifier:"imgly_font_carter_one",fontFamily:"Carter One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_carter_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2264,descender:-890}},{identifier:"imgly_font_codystar",fontFamily:"Codystar",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_codystar.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:953,descender:-255}},{identifier:"imgly_font_krona_one",fontFamily:"Krona One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_krona_one.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2030,descender:-530}},{identifier:"imgly_font_kumar_one_outline",fontFamily:"Kumar One Outline",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_kumar_one_outline.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1137,descender:-642}},{identifier:"imgly_font_lobster",fontFamily:"Lobster",fontWeight:"normal",fontURI:"./fonts/imgly_font_lobster.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_molle",fontFamily:"Molle",fontWeight:"normal",fontStyle:"italic",fontURI:"./fonts/imgly_font_molle.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1852,descender:-701}},{identifier:"imgly_font_monoton",fontFamily:"Monoton",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_monoton.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2366,descender:-822}},{identifier:"imgly_font_nixie_one",fontFamily:"Nixie One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_nixie_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:926,descender:-210}},{identifier:"imgly_font_notable",fontFamily:"Notable",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_notable.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1143,descender:-157}},{identifier:"imgly_font_ostrich_sans_black",fontFamily:"Ostrich",fontWeight:800,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_black.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_ostrich_sans_bold",fontFamily:"Ostrich",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:950,descender:-250}},{identifier:"imgly_font_oswald_semi_bold",fontFamily:"Oswald SemiBold",googleFamily:"Oswald",fontWeight:600,fontStyle:"normal",fontURI:"./fonts/imgly_font_oswald_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1193,descender:-289}},{identifier:"imgly_font_palanquin_dark_semi_bold",fontFamily:"Palanquin Dark SemiBold",googleFamily:"Palanquin Dark",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_palanquin_dark_semi_bold.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1320,descender:-491}},{identifier:"imgly_font_poppins",fontFamily:"Poppins",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_poppins.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1050,descender:-350}},{identifier:"imgly_font_permanent_marker",fontFamily:"Permanent Marker",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_permanent_marker.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1136,descender:-325}},{identifier:"imgly_font_roboto_black_italic",fontFamily:"Roboto Black",fontWeight:"bold",fontStyle:"italic",googleFamily:"Roboto",fontURI:"./fonts/imgly_font_roboto_black_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light_italic",fontFamily:"Roboto Light",googleFamily:"Roboto",fontWeight:300,fontStyle:"italic",fontURI:"./fonts/imgly_font_roboto_light_italic.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sancreek",fontFamily:"Sancreek",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sancreek.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2104,descender:-738}},{identifier:"imgly_font_stint_ultra_expanded",fontFamily:"Stint Ultra Expanded",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_stint_ultra_expanded.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1853,descender:-483}},{identifier:"imgly_font_trash_hand",fontFamily:"Trash Hand",fontWeight:"normal",fontURI:"./fonts/imgly_font_trash_hand.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:759,descender:-304}},{identifier:"imgly_font_vt323",fontFamily:"VT323",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_vt323.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:800,descender:-200}},{identifier:"imgly_font_yeseva_one",fontFamily:"Yeseva One",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_yeseva_one.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:915,descender:-240}},{identifier:"imgly_font_abril_fatface_regular",fontFamily:"Abril Fatface",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_abril_fatface_regular.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:1058,descender:-291}},{identifier:"imgly_font_montserrat_light",fontFamily:"Montserrat Light",googleFamily:"Montserrat",fontWeight:300,fontStyle:"normal",fontURI:"./fonts/imgly_font_montserrat_light.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:968,descender:-251}},{identifier:"imgly_font_handycheera_regular",fontFamily:"Handycheera",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_handycheera_regular.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2199,descender:-808}},{identifier:"imgly_font_ostrich_sans_heavy",fontFamily:"Ostrich",fontWeight:900,fontStyle:"normal",fontURI:"./fonts/imgly_font_ostrich_sans_heavy.woff",format:"woff",textMetrics:{unitsPerEm:1e3,ascender:674,descender:0}},{identifier:"imgly_font_petit_formal_script",fontFamily:"Petit Formal Script",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_petit_formal_script.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2033,descender:-527}},{identifier:"imgly_font_rasa_500",fontFamily:"Rasa",fontWeight:500,fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_500.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_rasa_regular",fontFamily:"Rasa",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_rasa_regular.woff",format:"woff",textMetrics:{unitsPerEm:2750,ascender:2300,descender:-1050}},{identifier:"imgly_font_roboto_black",fontFamily:"Roboto Black",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_black.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_roboto_light",fontFamily:"Roboto Light",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_roboto_light.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:1900,descender:-500}},{identifier:"imgly_font_sue_ellen_francisco",fontFamily:"Sue Ellen Francisco",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_sue_ellen_francisco.woff",format:"woff",textMetrics:{unitsPerEm:1024,ascender:1362,descender:-634}},{identifier:"imgly_font_ultra",fontFamily:"Ultra",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_ultra.woff",format:"woff",textMetrics:{unitsPerEm:2048,ascender:2066,descender:-561}},{identifier:"imgly_font_allison_regular",fontFamily:"Allison",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_allison_regular.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:890,descender:-380}},{identifier:"imgly_font_cookie_regular",fontFamily:"Cookie",fontWeight:"normal",fontStyle:"normal",fontURI:"./fonts/imgly_font_cookie_regular.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:789,descender:-320}},{identifier:"imgly_font_lexend_bold",fontFamily:"Lexend",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_lexend_bold.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-250}},{identifier:"imgly_font_outfit_bold",fontFamily:"Outfit",fontWeight:"bold",fontStyle:"normal",fontURI:"./fonts/imgly_font_outfit_bold.ttf",format:"truetype",textMetrics:{unitsPerEm:1e3,ascender:1e3,descender:-260}}],AS=["imgly_font_open_sans_bold","imgly_font_aleo_bold","imgly_font_amaticsc","imgly_font_archivo_black","imgly_font_bungee_inline","imgly_font_carter_one","imgly_font_codystar","imgly_font_fira_sans_regular","imgly_font_krona_one","imgly_font_kumar_one_outline","imgly_font_lexend_bold","imgly_font_lobster","imgly_font_molle","imgly_font_monoton","imgly_font_nixie_one","imgly_font_notable","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_oswald_semi_bold","imgly_font_outfit_bold","imgly_font_palanquin_dark_semi_bold","imgly_font_poppins","imgly_font_permanent_marker","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sancreek","imgly_font_stint_ultra_expanded","imgly_font_trash_hand","imgly_font_vt323","imgly_font_yeseva_one"],MS=["imgly_font_abril_fatface_regular","imgly_font_allison_regular","imgly_font_bungee_inline","imgly_font_cookie_regular","imgly_font_handycheera_regular","imgly_font_lexend_bold","imgly_font_montserrat_light","imgly_font_ostrich_sans_black","imgly_font_ostrich_sans_bold","imgly_font_ostrich_sans_heavy","imgly_font_outfit_bold","imgly_font_permanent_marker","imgly_font_petit_formal_script","imgly_font_rasa_500","imgly_font_rasa_regular","imgly_font_roboto_black","imgly_font_roboto_light","imgly_font_roboto_black_italic","imgly_font_roboto_light_italic","imgly_font_sue_ellen_francisco","imgly_font_ultra"],PS=[{identifier:"imgly_frame_dia",name:"Dia",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_dia/imgly_frame_dia_thumb.png",imageGroups:{top:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_top.png",mode:"repeat"}},left:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_left.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_left.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_left.png"},right:{start:"./items/imgly_frame_dia/imgly_frame_dia_top_corner_right.png",mid:"./items/imgly_frame_dia/imgly_frame_dia_right.png",end:"./items/imgly_frame_dia/imgly_frame_dia_bottom_corner_right.png"},bottom:{mid:{image:"./items/imgly_frame_dia/imgly_frame_dia_bottom.png",mode:"repeat"}}}},{identifier:"imgly_frame_art_decor",name:"Art Decor",tintable:!0,layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_art_decor/imgly_frame_art_decor_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_left.png",mid:{image:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom.png",mode:"stretch"},end:"./items/imgly_frame_art_decor/imgly_frame_art_decor_bottom_corner_right.png"}}},{identifier:"imgly_frame_black_passepartout",name:"Black Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_black_passepartout/imgly_frame_black_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_wood_passepartout",name:"Wood Passepartout",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_left.png",mid:{image:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom.png",mode:"stretch"},end:"./items/imgly_frame_wood_passepartout/imgly_frame_wood_passepartout_bottom_corner_right.png"}}},{identifier:"imgly_frame_lowpoly_shadow",name:"Low Poly",layoutMode:"horizontal-inside",thumbnailURI:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_thumb.png",imageGroups:{top:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_top_corner_right.png"},left:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_left.png",mode:"stretch"}},right:{mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_right.png",mode:"stretch"}},bottom:{start:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_left.png",mid:{image:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom.png",mode:"stretch"},end:"./items/imgly_frame_lowpoly_shadow/imgly_frame_lowpoly_shadow_bottom_corner_right.png"}}}],zS=[{identifier:"imgly_overlay_golden",name:"Golden",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_golden.jpg",thumbnailURI:"./items/imgly_overlay_golden_thumb.jpg"},{identifier:"imgly_overlay_lightleak1",name:"Lightleak",defaultBlendMode:"screen",overlayURI:"./items/imgly_overlay_lightleak1.jpg",thumbnailURI:"./items/imgly_overlay_lightleak1_thumb.jpg"},{identifier:"imgly_overlay_rain",name:"Rain",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_rain.jpg",thumbnailURI:"./items/imgly_overlay_rain_thumb.jpg"},{identifier:"imgly_overlay_mosaic",name:"Mosaic",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_mosaic.jpg",thumbnailURI:"./items/imgly_overlay_mosaic_thumb.jpg"},{identifier:"imgly_overlay_vintage",name:"Vintage",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_vintage.jpg",thumbnailURI:"./items/imgly_overlay_vintage_thumb.jpg"},{identifier:"imgly_overlay_paper",name:"Paper",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_paper.jpg",thumbnailURI:"./items/imgly_overlay_paper_thumb.jpg"},{identifier:"imgly_overlay_bokeh",name:"Bokeh",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_bokeh.jpg",thumbnailURI:"./items/imgly_overlay_bokeh_thumb.jpg"},{identifier:"imgly_overlay_hearts",name:"Hearts",defaultBlendMode:"screen",overlayURI:"./items/imgly_overlay_hearts.jpg",thumbnailURI:"./items/imgly_overlay_hearts_thumb.jpg"},{identifier:"imgly_overlay_lightleak2",name:"Lightleak 2",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_lightleak2.jpg",thumbnailURI:"./items/imgly_overlay_lightleak2_thumb.jpg"},{identifier:"imgly_overlay_wood",name:"Wood",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_wood.jpg",thumbnailURI:"./items/imgly_overlay_wood_thumb.jpg"},{identifier:"imgly_overlay_chop",name:"Chop",defaultBlendMode:"multiply",overlayURI:"./items/imgly_overlay_chop.jpg",thumbnailURI:"./items/imgly_overlay_chop_thumb.jpg"},{identifier:"imgly_overlay_metal",name:"Metal",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_metal.jpg",thumbnailURI:"./items/imgly_overlay_metal_thumb.jpg"},{identifier:"imgly_overlay_painting",name:"Painting",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_painting.jpg",thumbnailURI:"./items/imgly_overlay_painting_thumb.jpg"},{identifier:"imgly_overlay_grain",name:"Grain",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_grain.jpg",thumbnailURI:"./items/imgly_overlay_grain_thumb.jpg"},{identifier:"imgly_overlay_clouds",name:"Clouds",defaultBlendMode:"softLight",overlayURI:"./items/imgly_overlay_clouds.jpg",thumbnailURI:"./items/imgly_overlay_clouds_thumb.jpg"},{identifier:"imgly_overlay_wall1",name:"Wall",defaultBlendMode:"lighten",overlayURI:"./items/imgly_overlay_wall1.jpg",thumbnailURI:"./items/imgly_overlay_wall1_thumb.jpg"},{identifier:"imgly_overlay_wall2",name:"Wall 2",defaultBlendMode:"overlay",overlayURI:"./items/imgly_overlay_wall2.jpg",thumbnailURI:"./items/imgly_overlay_wall2_thumb.jpg"}],BS=[{identifier:"imgly_sticker_emoticons",name:"Emoticons",thumbnailURI:"./categories/emoticons.png",items:[{identifier:"imgly_sticker_emoticons_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_grin.svg",tintMode:"none",name:"Grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_laugh",stickerURI:"./emoticons/imgly_sticker_emoticons_laugh.svg",tintMode:"none",name:"Laugh",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smile",stickerURI:"./emoticons/imgly_sticker_emoticons_smile.svg",tintMode:"none",name:"Smile",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_wink.svg",tintMode:"none",name:"Wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tongue_out_wink",stickerURI:"./emoticons/imgly_sticker_emoticons_tongue_out_wink.svg",tintMode:"none",name:"Tongue out wink",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angel",stickerURI:"./emoticons/imgly_sticker_emoticons_angel.svg",tintMode:"none",name:"Angel",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kisses",stickerURI:"./emoticons/imgly_sticker_emoticons_kisses.svg",tintMode:"none",name:"Kisses",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loving",stickerURI:"./emoticons/imgly_sticker_emoticons_loving.svg",tintMode:"none",name:"Loving",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_kiss",stickerURI:"./emoticons/imgly_sticker_emoticons_kiss.svg",tintMode:"none",name:"Kiss",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wave",stickerURI:"./emoticons/imgly_sticker_emoticons_wave.svg",tintMode:"none",name:"Wave",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_nerd",stickerURI:"./emoticons/imgly_sticker_emoticons_nerd.svg",tintMode:"none",name:"Nerd",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cool",stickerURI:"./emoticons/imgly_sticker_emoticons_cool.svg",tintMode:"none",name:"Cool",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_blush",stickerURI:"./emoticons/imgly_sticker_emoticons_blush.svg",tintMode:"none",name:"Blush",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_duckface",stickerURI:"./emoticons/imgly_sticker_emoticons_duckface.svg",tintMode:"none",name:"Duckface",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_furious.svg",tintMode:"none",name:"Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_angry",stickerURI:"./emoticons/imgly_sticker_emoticons_angry.svg",tintMode:"none",name:"Angry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_steaming_furious",stickerURI:"./emoticons/imgly_sticker_emoticons_steaming_furious.svg",tintMode:"none",name:"Steaming Furious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sad",stickerURI:"./emoticons/imgly_sticker_emoticons_sad.svg",tintMode:"none",name:"Sad",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_anxious",stickerURI:"./emoticons/imgly_sticker_emoticons_anxious.svg",tintMode:"none",name:"Anxious",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_cry.svg",tintMode:"none",name:"Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sobbing",stickerURI:"./emoticons/imgly_sticker_emoticons_sobbing.svg",tintMode:"none",name:"Sobbing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_loud_cry",stickerURI:"./emoticons/imgly_sticker_emoticons_loud_cry.svg",tintMode:"none",name:"Loud Cry",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wide_grin",stickerURI:"./emoticons/imgly_sticker_emoticons_wide_grin.svg",tintMode:"none",name:"Wide grin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_impatient",stickerURI:"./emoticons/imgly_sticker_emoticons_impatient.svg",tintMode:"none",name:"Impatient",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_tired",stickerURI:"./emoticons/imgly_sticker_emoticons_tired.svg",tintMode:"none",name:"Tired",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_asleep",stickerURI:"./emoticons/imgly_sticker_emoticons_asleep.svg",tintMode:"none",name:"Asleep",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sleepy",stickerURI:"./emoticons/imgly_sticker_emoticons_sleepy.svg",tintMode:"none",name:"Sleepy",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_deceased",stickerURI:"./emoticons/imgly_sticker_emoticons_deceased.svg",tintMode:"none",name:"Deceased",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_attention",stickerURI:"./emoticons/imgly_sticker_emoticons_attention.svg",tintMode:"none",name:"Attention",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_question",stickerURI:"./emoticons/imgly_sticker_emoticons_question.svg",tintMode:"none",name:"Question",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_not_speaking_to_you",stickerURI:"./emoticons/imgly_sticker_emoticons_not_speaking_to_you.svg",tintMode:"none",name:"Not speaking to you",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sick",stickerURI:"./emoticons/imgly_sticker_emoticons_sick.svg",tintMode:"none",name:"Sick",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pumpkin",stickerURI:"./emoticons/imgly_sticker_emoticons_pumpkin.svg",tintMode:"none",name:"Pumpkin",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_boxer",stickerURI:"./emoticons/imgly_sticker_emoticons_boxer.svg",tintMode:"none",name:"Boxer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_idea",stickerURI:"./emoticons/imgly_sticker_emoticons_idea.svg",tintMode:"none",name:"Idea",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_smoking",stickerURI:"./emoticons/imgly_sticker_emoticons_smoking.svg",tintMode:"none",name:"Smoking",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_beer",stickerURI:"./emoticons/imgly_sticker_emoticons_beer.svg",tintMode:"none",name:"Beer",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skateboard",stickerURI:"./emoticons/imgly_sticker_emoticons_skateboard.svg",tintMode:"none",name:"Skateboard",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_guitar",stickerURI:"./emoticons/imgly_sticker_emoticons_guitar.svg",tintMode:"none",name:"Guitar",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_music",stickerURI:"./emoticons/imgly_sticker_emoticons_music.svg",tintMode:"none",name:"Music",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_sunbathing",stickerURI:"./emoticons/imgly_sticker_emoticons_sunbathing.svg",tintMode:"none",name:"Sunbathing",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hippie",stickerURI:"./emoticons/imgly_sticker_emoticons_hippie.svg",tintMode:"none",name:"Hippie",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_humourous",stickerURI:"./emoticons/imgly_sticker_emoticons_humourous.svg",tintMode:"none",name:"Humourous",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_hitman",stickerURI:"./emoticons/imgly_sticker_emoticons_hitman.svg",tintMode:"none",name:"Hitman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_harry_potter",stickerURI:"./emoticons/imgly_sticker_emoticons_harry_potter.svg",tintMode:"none",name:"Harry Potter",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_business",stickerURI:"./emoticons/imgly_sticker_emoticons_business.svg",tintMode:"none",name:"Business",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_batman",stickerURI:"./emoticons/imgly_sticker_emoticons_batman.svg",tintMode:"none",name:"Batman",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_skull",stickerURI:"./emoticons/imgly_sticker_emoticons_skull.svg",tintMode:"none",name:"Skull",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_ninja",stickerURI:"./emoticons/imgly_sticker_emoticons_ninja.svg",tintMode:"none",name:"Ninja",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_masked",stickerURI:"./emoticons/imgly_sticker_emoticons_masked.svg",tintMode:"none",name:"Masked",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_alien",stickerURI:"./emoticons/imgly_sticker_emoticons_alien.svg",tintMode:"none",name:"Alien",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_wrestler",stickerURI:"./emoticons/imgly_sticker_emoticons_wrestler.svg",tintMode:"none",name:"Wrestler",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_devil",stickerURI:"./emoticons/imgly_sticker_emoticons_devil.svg",tintMode:"none",name:"Devil",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_star",stickerURI:"./emoticons/imgly_sticker_emoticons_star.svg",tintMode:"none",name:"Star",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_baby_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_baby_chicken.svg",tintMode:"none",name:"Baby Chicken",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_rabbit",stickerURI:"./emoticons/imgly_sticker_emoticons_rabbit.svg",tintMode:"none",name:"Rabbit",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_pig",stickerURI:"./emoticons/imgly_sticker_emoticons_pig.svg",tintMode:"none",name:"Pig",resizeMode:"keepAspect"},{identifier:"imgly_sticker_emoticons_chicken",stickerURI:"./emoticons/imgly_sticker_emoticons_chicken.svg",tintMode:"none",name:"Chicken",resizeMode:"keepAspect"}]},{identifier:"imgly_sticker_shapes",name:"Shapes",thumbnailURI:"./categories/shapes.png",items:[{identifier:"imgly_sticker_shapes_badge_01",stickerURI:"./shapes/imgly_sticker_shapes_badge_01.svg",tintMode:"solid",name:"Shape Badge 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_04",stickerURI:"./shapes/imgly_sticker_shapes_badge_04.svg",tintMode:"solid",name:"Shape Badge 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_12",stickerURI:"./shapes/imgly_sticker_shapes_badge_12.svg",tintMode:"solid",name:"Shape Badge 12",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_06",stickerURI:"./shapes/imgly_sticker_shapes_badge_06.svg",tintMode:"solid",name:"Shape Badge 06",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_13",stickerURI:"./shapes/imgly_sticker_shapes_badge_13.svg",tintMode:"solid",name:"Shape Badge 13",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_36",stickerURI:"./shapes/imgly_sticker_shapes_badge_36.svg",tintMode:"solid",name:"Shape Badge 36",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_08",stickerURI:"./shapes/imgly_sticker_shapes_badge_08.svg",tintMode:"solid",name:"Shape Badge 08",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_11",stickerURI:"./shapes/imgly_sticker_shapes_badge_11.svg",tintMode:"solid",name:"Shape Badge 11",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_35",stickerURI:"./shapes/imgly_sticker_shapes_badge_35.svg",tintMode:"solid",name:"Shape Badge 35",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_28",stickerURI:"./shapes/imgly_sticker_shapes_badge_28.svg",tintMode:"solid",name:"Shape Badge 28",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_32",stickerURI:"./shapes/imgly_sticker_shapes_badge_32.svg",tintMode:"solid",name:"Shape Badge 32",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_15",stickerURI:"./shapes/imgly_sticker_shapes_badge_15.svg",tintMode:"solid",name:"Shape Badge 15",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_20",stickerURI:"./shapes/imgly_sticker_shapes_badge_20.svg",tintMode:"solid",name:"Shape Badge 20",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_18",stickerURI:"./shapes/imgly_sticker_shapes_badge_18.svg",tintMode:"solid",name:"Shape Badge 18",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_badge_19",stickerURI:"./shapes/imgly_sticker_shapes_badge_19.svg",tintMode:"solid",name:"Shape Badge 19",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_02",stickerURI:"./shapes/imgly_sticker_shapes_arrow_02.svg",tintMode:"solid",name:"Shape Arrow 02",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_arrow_03",stickerURI:"./shapes/imgly_sticker_shapes_arrow_03.svg",tintMode:"solid",name:"Shape Arrow 03",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_01",stickerURI:"./shapes/imgly_sticker_shapes_spray_01.svg",tintMode:"solid",name:"Shape Spray 01",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_04",stickerURI:"./shapes/imgly_sticker_shapes_spray_04.svg",tintMode:"solid",name:"Shape Spray 04",resizeMode:"keepAspect"},{identifier:"imgly_sticker_shapes_spray_03",stickerURI:"./shapes/imgly_sticker_shapes_spray_03.svg",tintMode:"solid",name:"Shape Spray 03",resizeMode:"keepAspect"}]}],LS=[{thumbnailURI:"./items/dark/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/dark/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/dark/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/dark/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/dark/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/dark/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/dark/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/dark/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/dark/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/dark/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/dark/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/dark/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/dark/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/dark/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/dark/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],NS=[{thumbnailURI:"./items/light/imgly_text_design_icon_thislayoutisgreat.png",identifier:"imgly_text_design_blocks",name:"Blocks"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatandfast.png",identifier:"imgly_text_design_rotated",name:"Rotated"},{thumbnailURI:"./items/light/imgly_text_design_icon_summerfeeling.png",identifier:"imgly_text_design_blocks_light",name:"Blocks Light"},{thumbnailURI:"./items/light/imgly_text_design_icon_typewithstyle.png",identifier:"imgly_text_design_equal_width",name:"Equal Width"},{thumbnailURI:"./items/light/imgly_text_design_icon_inthebox.png",identifier:"imgly_text_design_masked",name:"Masked"},{thumbnailURI:"./items/light/imgly_text_design_icon_bluefriday.png",identifier:"imgly_text_design_celebrate",name:"Celebrate"},{thumbnailURI:"./items/light/imgly_text_design_icon_decorative.png",identifier:"imgly_text_design_sunshine",name:"Sunshine"},{thumbnailURI:"./items/light/imgly_text_design_icon_specialdeals.png",identifier:"imgly_text_design_masked_badge",name:"Masked Badge"},{thumbnailURI:"./items/light/imgly_text_design_icon_doublelines.png",identifier:"imgly_text_design_blocks_condensed",name:"Blocks Condensed"},{thumbnailURI:"./items/light/imgly_text_design_icon_celebrate.png",identifier:"imgly_text_design_celebrate_simple",name:"Celebrate Simple"},{thumbnailURI:"./items/light/imgly_text_design_icon_beerandburger.png",identifier:"imgly_text_design_equal_width_fat",name:"Equal Width Fat"},{thumbnailURI:"./items/light/imgly_text_design_icon_watercolor.png",identifier:"imgly_text_design_watercolor",name:"Watercolor"},{thumbnailURI:"./items/light/imgly_text_design_icon_particle.png",identifier:"imgly_text_design_particles",name:"Particles"},{thumbnailURI:"./items/light/imgly_text_design_icon_yeah.png",identifier:"imgly_text_design_masked_speech_bubble",name:"Masked Speech Bubble"},{thumbnailURI:"./items/light/imgly_text_design_icon_thisisadream.png",identifier:"imgly_text_design_masked_speech_bubble_comic",name:"Masked Speech Bubble Comic"},{thumbnailURI:"./items/light/imgly_text_design_icon_fatface.png",identifier:"imgly_text_design_multiline",name:"Multiline"}],US=[{identifier:"imgly_transforms_common",name:"Common",items:[{identifier:"imgly_transform_common_custom",name:"Custom",thumbnailURI:"",ratio:"*"},{identifier:"imgly_transform_common_square",name:"Square",thumbnailURI:"",ratio:1},{identifier:"imgly_transform_common_4",name:"4:3",thumbnailURI:"",ratio:4/3},{identifier:"imgly_transform_common_16",name:"16:9",thumbnailURI:"",ratio:16/9},{identifier:"imgly_transform_common_3",name:"3:4",thumbnailURI:"",ratio:3/4},{identifier:"imgly_transform_common_9",name:"9:16",thumbnailURI:"",ratio:9/16}]},{identifier:"imgly_transforms_facebook",name:"Facebook",items:[{identifier:"imgly_transform_facebook_profile",name:"Profile",thumbnailURI:"",dimensions:{x:300,y:300},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_title",name:"Title",thumbnailURI:"",dimensions:{x:1200,y:627},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_facebook_post",name:"Post",thumbnailURI:"",dimensions:{x:940,y:788},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_instagram",name:"Instagram",items:[{identifier:"imgly_transform_instagram_landscape",name:"Landscape",thumbnailURI:"",dimensions:{x:1080,y:566},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_portrait",name:"Portrait",thumbnailURI:"",dimensions:{x:1080,y:1350},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_square",name:"Square",thumbnailURI:"",dimensions:{x:1080,y:1080},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_instagram_story",name:"Story",thumbnailURI:"",dimensions:{x:1080,y:1920},forceDimensions:!0,lockDimensions:!0}]},{identifier:"imgly_transforms_twitter",name:"Twitter",items:[{identifier:"imgly_transform_twitter_post",name:"Post",thumbnailURI:"",dimensions:{x:1024,y:512},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_profile",name:"Profile",thumbnailURI:"",dimensions:{x:400,y:400},forceDimensions:!0,lockDimensions:!0},{identifier:"imgly_transform_twitter_title",name:"Title",thumbnailURI:"",dimensions:{x:1500,y:500},forceDimensions:!0,lockDimensions:!0}]}],GS=U(J()),HS={italic:"i"},WS=function(){function e(t){var n=this;Object(k.a)(this,e),this.assetManager=t,this.injectedFonts={},this.loadedFonts={},this.isFontLoaded=function(e){return void 0!==n.loadedFonts[e]},this.getGoogleFamiliesString=function(e){var t=e.reduce((function(e,t){var n=t.fontFamily,i=t.fontStyle,r=t.fontWeight,o=void 0===r?400:r;return e[n]=(e[n]||[]).concat("".concat(o).concat(HS[i]||"")),e}),{});return Object.keys(t).map((function(e){var n=t[e].length?":".concat(t[e].join(",")):"";return e.replace(" ","+")+n})).join("|")}}return Object(w.a)(e,[{key:"getFontWithId",value:function(e){var t=this.assetManager.getFontAsset(e);if(!t)throw new Error("The requested font does not exist as an asset.");return t}},{key:"injectAllFonts",value:function(){var e=this.assetManager.getFontAssets();this.injectFonts(e)}},{key:"loadAllFonts",value:function(){var e=Object(v.a)(_.a.mark((function e(){var t;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.assetManager.getFontAssets(),e.abrupt("return",this.loadFonts(t));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadFontsWithIdentifiers",value:function(){var e=Object(v.a)(_.a.mark((function e(t){var n,i=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.map((function(e){return i.getFontWithId(e)})),e.abrupt("return",this.loadFonts(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadFonts",value:function(){var e=Object(v.a)(_.a.mark((function e(t){var n=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.injectFonts(t),e.abrupt("return",(0,GS.default)(t,(function(e){return n.loadFont(e,!1)}),{stopOnError:!1}).then((function(){})));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadFont",value:function(){var e=Object(v.a)(_.a.mark((function e(t){var n,i=this,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],e.abrupt("return",new Promise((function(e,r){i.isFontLoaded(t.identifier)&&e(),n&&i.injectFonts([t]),new fS(t).load().then((function(){i.loadedFonts[t.identifier]=t,e()})).catch((function(e){r(t.identifier)}))})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadFontWithIdentifier",value:function(){var e=Object(v.a)(_.a.mark((function e(t){var n,i,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!(r.length>1&&void 0!==r[1])||r[1],i=this.assetManager.getFontAsset(t)){e.next=4;break}throw new Error("The requested font asset with identifier ".concat(t," does not exist!"));case 4:return e.abrupt("return",this.loadFont(i,n));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"injectFonts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.assetManager.getPathForCategory("font"),n=e.filter(IO),i=e.filter(DO);n.length>0&&this.addGoogleFontLinks(n),i.length>0&&this.addWebFontCSS(i,t)}},{key:"addGoogleFontLinks",value:function(e){var t=this,n=e.filter((function(e){return!t.injectedFonts[e.identifier]}));if(0!==n.length){var i=this.getGoogleFamiliesString(n),r=document.createElement("link");r.rel="stylesheet",r.href="https://fonts.googleapis.com/css?family=".concat(i),document.getElementsByTagName("head")[0].appendChild(r),e.forEach((function(e){t.injectedFonts[e.identifier]=e}))}}},{key:"addWebFontCSS",value:function(t,n){var i=this,r=t.filter((function(e){return!i.injectedFonts[e.identifier]}));if(0!==r.length){var o=e.createFontFacesCSS(r,n),a="\n      /* Injected by PhotoEditorSDK */\n      ".concat(o.join("\n"),"\n    "),s=document.createElement("style");s.innerHTML=a,document.head.appendChild(s),t.forEach((function(e){i.injectedFonts[e.identifier]=e}))}}}],[{key:"createFontFacesCSS",value:function(e,t){return e.map((function(e){var n=t(e.fontURI);return'@font-face {\n        font-family: "'.concat(e.fontFamily,"\";\n        src: url('").concat(n,"') format('").concat(e.format||"woff","');\n        font-weight: ").concat(e.fontWeight||"normal",";\n        font-style: ").concat(e.fontStyle||"normal",";\n      }")}))}}]),e}(),VS=function(){function e(t){var n,i,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=arguments.length>2?arguments[2]:void 0;Object(k.a)(this,e),this.assetResolver=l,this.basePath="assets/",this.areCustomAssetsAllowed=!1,this.getAssets=function(e){switch(e){case"overlay":return r.overlayAssets;case"filter":return r.filterCategories;case"font":return r.fontAssets;case"focus":return r.focusAssets;case"adjustment":return r.adjustmentCategories;case"sticker":return r.stickerCategories;case"textdesign":return r.textDesignAssets;case"frame":return r.frameAssets;case"transform":return r.transformCategories;default:return[]}return[]},this.getPath=function(e,t){var n=r.assetResolver,i=void 0===n?{}:n,o=t&&i.item?i.item(t,e):t;if(null==o?void 0:o.match(/data:image/g))return o;if((null==o?void 0:o.match(/(ftp|http|https):\/\//))&&TS(o))return o;if(!o&&TS(e))return e;var a,s=o?gS(e,o):gS(e);if(r.basePath.match(/(ftp|http|https):\/\//)){var l=r.basePath.length;"/"!==r.basePath[l-1]&&(r.basePath="".concat(r.basePath,"/")),a=r.basePath+s}else a=gS(r.basePath,s);return i.path?i.path(a,e,o):a},this.getPathForCategory=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r.getPath.apply(r,[e].concat(n))}},this.addCustomStickerAsset=function(e,t,n){e.forEach((function(e){var i=e.thumbnailURI,o=e.name,a=e.stickerURI,s=e.identifier,l=e.tintMode,u=e.resizeMode,c=r.stickerCategories.find((function(e){return e.identifier===t})),f={identifier:s,name:o,thumbnailURI:i,stickerURI:a,tintMode:l,resizeMode:u};if(c)c.items.push(f),c.thumbnailURI=i;else{var d={identifier:t,name:n,thumbnailURI:i,items:[f]};r.stickerCategories=[d].concat(Object(x.a)(r.stickerCategories))}})),r.stickerAssets=r.stickerCategories.reduce(r.allOptions,[])},this.getItemPath=function(e,t,n){var i=e.find((function(e){return e.identifier===t}));return i&&(i[n]||i.path)||""},this.isNonExistingFont=function(e){return!FS.find((function(t){return t.identifier===e.identifier}))&&!a[e.identifier]},this.replaceDeprecatedFont=function(e){return a[e.identifier]?FS.find((function(t){return t.identifier===s(e.identifier,!0)})):e},(null==t?void 0:t.basePath)&&(this.basePath=t.basePath),this.areCustomAssetsAllowed=o;var u=IS.reduce(this.allOptions,[]);t&&t.filter?this.filterCategories=this.configuredCategory(IS,t.filter,u):this.filterCategories=IS,this.lutFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((function(e){return $w(e)})),this.duoToneFilterAssets=this.filterCategories.reduce(this.allOptions,[]).filter((function(e){return Jw(e)}));var c=DS.reduce(this.allOptions,[]);t&&t.adjustment?this.adjustmentCategories=this.configuredCategory(DS,t.adjustment,c):this.adjustmentCategories=DS,this.fontAssets=FS.reduce(this.allOptions,[]);var f=AS.map((function(e){return r.getFontAsset(e)}));if((null==(i=null==(n=null==t?void 0:t.text)?void 0:n.fonts)?void 0:i.length)>0){f=t.text.fonts.map((function(e){if(r.isNonExistingFont(e))return e;var t=r.replaceDeprecatedFont(e);return r.getFontAsset(t.identifier)}));var d=t.text.fonts.filter(this.isNonExistingFont);this.fontAssets=t.text.fonts?[].concat(Object(x.a)(this.fontAssets),Object(x.a)(d)):this.fontAssets}this.textToolFontAssets=f;var h=t&&t.focus&&t.focus.items&&t.focus.items.length?t.focus.items.map((function(e){return RS.find((function(t){return t.identifier===e.identifier}))})):RS;this.focusAssets=h,t&&t.overlay&&t.overlay.items?this.overlayAssets=this.configuredItem(t.overlay.items,zS,zS):this.overlayAssets=zS,t&&t.frame&&t.frame.items?this.frameAssets=this.configuredItem(t.frame.items,PS,PS):this.frameAssets=PS;var p=BS.reduce(this.allOptions,[]);t&&t.sticker?this.stickerCategories=this.configuredCategory(BS,t.sticker,p):this.stickerCategories=BS,this.stickerAssets=this.stickerCategories.reduce(this.allOptions,[]);var m=LS;t&&"light"===t.theme&&(m=NS),this.textDesignAssets=t&&t.textdesign&&t.textdesign.items&&t.textdesign.items.length?t.textdesign.items.map((function(e){return m.find((function(t){return t.identifier===e.identifier}))})):m,this.textDesignToolFontAssets=MS.map((function(e){return r.getFontAsset(e)}));var g=US.reduce(this.allOptions,[]);t&&t.transform?this.transformCategories=this.configuredCategory(US,t.transform,g,"transform"):this.transformCategories=US,this.transformAssets=this.transformCategories.reduce(this.allOptions,[]),this.fontManager=new WS(this)}return Object(w.a)(e,[{key:"getFontManager",value:function(){return this.fontManager}},{key:"getAssetSource",value:function(e,t){switch(e){case"filter":if(this.getLUTFilterAsset(t))return this.getPath(e,this.getItemPath(this.lutFilterAssets,t,"lutURI"));break;case"overlay":return this.getPath(e,this.getItemPath(this.overlayAssets,t,"overlayURI"));case"font":return this.getPath(e,this.getItemPath(this.fontAssets,t,"fontURI"));case"sticker":var n=this.stickerAssets.find((function(e){return e.identifier===t}));if(n){if("data:image"===n.stickerURI.substr(0,10))return n.stickerURI;if(t.includes("imgly_sticker")&&n.stickerURI.includes(".svg")&&qO()){var i=this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI")).split("/");return i.splice(i.length-1,0,"base"),i[i.length-1]=i[i.length-1].replace(".svg",".png"),i.join("/")}return this.getPath(e,this.getItemPath(this.stickerAssets,t,"stickerURI"))}throw new Error("Cannot resolve this type of sticker asset yet");case"textdesign":return this.getPath(gS(e,"engine"),t);case"frame":return this.getPath(e,t)}throw new Error("Cannot resolve this type of asset yet")}},{key:"getDuotoneFilterAsset",value:function(e){return this.duoToneFilterAssets.filter((function(t){return t.identifier===e}))[0]}},{key:"getLUTFilterAsset",value:function(e){return this.lutFilterAssets.filter((function(t){return t.identifier===e}))[0]}},{key:"getOverlayAsset",value:function(e){return this.overlayAssets.filter((function(t){return t.identifier===e}))[0]}},{key:"getStickerAsset",value:function(e){return this.stickerAssets.filter((function(t){return t.identifier===e}))[0]}},{key:"getFontAsset",value:function(e){var t=this.fontAssets.filter((function(t){return t.identifier===e}))[0];if(t)return t;console.warn("The font asset for ".concat(e," was not found."))}},{key:"getTextDesignAssets",value:function(e){return this.textDesignAssets.filter((function(t){return t.identifier===e}))[0]}},{key:"getFrameAsset",value:function(e){return this.frameAssets.filter((function(t){return t.identifier===e}))[0]}},{key:"getFontAssets",value:function(){return this.fontAssets}},{key:"getFontAssetsForText",value:function(){return this.textToolFontAssets}},{key:"getFontAssetsForTextDesign",value:function(){return this.textDesignToolFontAssets}},{key:"getFrameAssets",value:function(){return this.frameAssets}},{key:"allOptions",value:function(e,t){return Object.prototype.hasOwnProperty.call(t,"items")?[].concat(Object(x.a)(e),Object(x.a)(t.items)):[].concat(Object(x.a)(e),[t])}},{key:"configuredCategory",value:function(e,t,n,i){var r=this;return t.categories&&t.categories.length?t.categories.reduce((function(t,o){var a=e.find((function(e){return e.identifier===o.identifier}));return a?t.push(Object(T.a)({},a,{},o,{items:r.configuredItem(o.items,n,a.items,i).filter(Boolean)})):(r.areCustomAssetsAllowed||"transform"===i)&&t.push(Object(T.a)({},o,{items:r.configuredItem(o.items,n,o.items,i).filter(Boolean)})),t}),[]):e}},{key:"configuredItem",value:function(e,t,n,i){var r=this;return e&&e.length?e.reduce((function(e,n){var o=t.find((function(e){return e.identifier===n.identifier}));return o?e.push(Object(T.a)({},o,{},n)):(r.areCustomAssetsAllowed||"transform"===i)&&e.push(n),e}),[]).filter(Boolean):n}}]),e}(),qS=function(){function e(t,n,i,r){if(Object(k.a)(this,e),"number"===typeof t){if("number"!==typeof n||void 0===i||void 0===r)throw new Error("Invalid arguments passed to Rect. Expected (number, number, number, number)");this.origin={x:t,y:n},this.size={width:i||0,height:r||0}}else{if(this.origin=t,"number"===typeof n)throw new Error("Invalid arguments passed to Rect. Expected (Float2, Size)");this.size=n}}return Object(w.a)(e,null,[{key:"contains",value:function(e,t){return t.x>=e.minX&&t.x<=e.maxX&&t.y>=e.minY&&t.y<=e.maxY}}]),Object(w.a)(e,[{key:"minX",get:function(){return this.origin.x}},{key:"minY",get:function(){return this.origin.y}},{key:"midX",get:function(){return this.origin.x+.5*this.size.width}},{key:"midY",get:function(){return this.origin.y+.5*this.size.height}},{key:"maxX",get:function(){return this.origin.x+this.size.width}},{key:"maxY",get:function(){return this.origin.y+this.size.height}},{key:"width",get:function(){return this.size.width}},{key:"height",get:function(){return this.size.height}}]),e}(),KS=qS;KS.ZERO=new qS({x:0,y:0},{width:0,height:0});var XS=function(){function e(t,n,i,r,o,a){Object(k.a)(this,e),this.a=t,this.b=n,this.c=i,this.d=r,this.tx=o,this.ty=a}return Object(w.a)(e,null,[{key:"fromScale",value:function(t,n){return new e(t,0,0,n,0,0)}},{key:"fromRotation",value:function(t){var n=Math.cos(t),i=Math.sin(t);return new e(n,-i,i,n,0,0)}},{key:"fromRotationDeg",value:function(e){var t=Math.PI*e/180;return this.fromRotation(t)}},{key:"fromTranslation",value:function(t,n){return new e(1,0,0,1,t,n)}},{key:"fromTRS",value:function(t,n,i,r,o){var a=Math.cos(i),s=Math.sin(i);return new e(r*a,-o*s,r*s,o*a,t,n)}},{key:"multiply",value:function(t,n){return new e(t.a*n.a+t.b*n.c,t.a*n.b+t.b*n.d,t.c*n.a+t.d*n.c,t.c*n.b+t.d*n.d,t.a*n.tx+t.b*n.ty+t.tx,t.c*n.tx+t.d*n.ty+t.ty)}},{key:"transformPoint",value:function(e,t){return{x:e.a*t.x+e.b*t.y+e.tx,y:e.c*t.x+e.d*t.y+e.ty}}},{key:"getInverted",value:function(t){var n=t.a*t.d-t.b*t.c;if(0===n)return t;var i=1/n;return new e(i*t.d,-i*t.b,-i*t.c,i*t.a,i*(t.b*t.ty-t.d*t.tx),i*(t.c*t.tx-t.a*t.ty))}}]),e}(),YS=XS;function QS(e){return"number"===typeof e}YS.IDENTITY=XS.fromScale(1,1);var ZS=function(e){return e<0},JS=function(e){return ZS(e)?-e:e},$S=function(e){return e*(Math.PI/180)},eC=function(e){return e*(180/Math.PI)},tC=(r={},Object(g.a)(r,0,$S(0)),Object(g.a)(r,90,$S(90)),Object(g.a)(r,180,$S(180)),Object(g.a)(r,270,$S(270)),r),nC=Object.values(tC),iC=function(e){var t=Math.round(eC(JS(e)));return ZS(e)&&(270===t?t=90:90===t&&(t=270)),tC[t%360]},rC=function(e){return 0===e?e:360-JS(e)},oC=function(e){return function(e,t){var n=e.indexOf(t);if(-1!==n&&e.length)return n===e.length-1?e[0]:e[n+1]}(nC,iC(e))},aC=function(e){return function(e,t){var n=e.indexOf(t);if(-1!==n&&e.length)return 0===n?e[e.length-1]:e[n-1]}(nC,iC(e))},sC=function(e){var t=iC(e);return t===tC[270]||t===tC[90]},lC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:1,y:1},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(k.a)(this,e),this.position=t,this.scale=n,this.rotation=i}return Object(w.a)(e,null,[{key:"IDENTITY",get:function(){return new e({x:0,y:0})}}]),e}();V();var uC={};function cC(e){return void 0!==e.x}function fC(e){return YS.fromTRS(e.position.x,e.position.y,e.rotation,e.scale.x,e.scale.y)}function dC(e){var t=e.getParent(),n=function(e){return e.getBaseLocalToParentMatrix?e.getBaseLocalToParentMatrix():fC(e.getTransform())}(e);if(void 0===t)return n;var i=dC(t);return YS.multiply(i,n)}function hC(e){return e.getLocalToParentMatrix?e.getLocalToParentMatrix():fC(e.getTransform())}function pC(e){var t=e.getParent(),n=hC(e);if(void 0===t)return n;var i=pC(t);return YS.multiply(i,n)}function mC(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r="output"===t.type&&i?dC(t):pC(t),o="output"===n.type&&i?dC(n):pC(n),a=YS.getInverted(o);return YS.transformPoint(a,YS.transformPoint(r,e))}function gC(e,t,n){var i=new $O(e,0),r=new $O(mC(i,t,n)),o=new $O(mC($O.ZERO,t,n));return $O.distance(o,r)}function yC(e,t,n){var i=cC(e)?e.x:e.width,r=cC(e)?e.y:e.height;return{width:gC(i,t,n),height:gC(r,t,n)}}function vC(e,t){var n=pC(t);return YS.transformPoint(n,e)}function bC(e,t){var n=new $O(e,0),i=new $O(vC(n,t)),r=new $O(vC($O.ZERO,t));return $O.distance(i,r)}function _C(e){var t=pC(e),n=e.getBounds(),i={x:n.width,y:0},r={x:0,y:n.height},o=new $O(YS.transformPoint(t,$O.ZERO)),a=new $O(YS.transformPoint(t,i)),s=new $O(YS.transformPoint(t,r));return{width:$O.distance(o,a),height:$O.distance(o,s)}}function xC(e,t){var n=_C(e),i=t.getTransform().scale,r=1/i.x,o=1/i.y;return{width:n.width*r,height:n.height*o}}function kC(e,t){var n=t.getBounds();return{width:e.width*n.width,height:e.height*n.height}}function wC(e,t){var n=t.getBounds();return{width:e.width/n.width,height:e.height/n.height}}function OC(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.getBounds();return{x:e.x*i.width+(n?0:i.minX),y:e.y*i.height+(n?0:i.minY)}}function SC(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.getBounds();return{x:(e.x-(n?0:i.minX))/i.width,y:(e.y-(n?0:i.minY))/i.height}}function CC(e,t){var n=mC({x:1,y:0},e,t,!0),i=mC($O.ZERO,e,t,!0);return Math.atan2(n.y-i.y,n.x-i.x)}function jC(e){return"string"!==typeof e&&!Array.isArray(e)&&void 0===e.a}function TC(e){return"string"!==typeof e&&Array.isArray(e)&&3===e.length}function EC(e){return"string"!==typeof e&&!Array.isArray(e)&&void 0!==e.a}function DC(e){return"string"!==typeof e&&Array.isArray(e)&&4===e.length}L(uC,{absoluteToRelativePoint:function(){return SC},absoluteToRelativeSize:function(){return wC},getBaseLocalToWorldMatrix:function(){return dC},getLocalToParentMatrix:function(){return hC},getLocalToWorldMatrix:function(){return pC},getPointInWorldSpace:function(){return vC},getRotationBetweenCoordinateSpaces:function(){return CC},getScalarInWorldSpace:function(){return bC},getSizeInOutputSpace:function(){return xC},getSizeInWorldSpace:function(){return _C},pointFromSpaceToSpace:function(){return mC},rectTransformToAffineTransform:function(){return fC},relativeToAbsolutePoint:function(){return OC},relativeToAbsoluteSize:function(){return kC},scalarFromSpaceToSpace:function(){return gC},sizeFromSpaceToSpace:function(){return yC}});var IC=function(){function e(t,n){Object(k.a)(this,e),this.engine=n,this.transform=lC.IDENTITY,this.canvasPivot={x:0,y:0},this.previewQuality=1,this.canvas=t}return Object(w.a)(e,[{key:"setQuality",value:function(e){this.previewQuality=Math.min(Math.max(e,.01),1)}},{key:"getTransform",value:function(){return this.transform}},{key:"setTransform",value:function(e){this.transform=e}},{key:"getPosition",value:function(){return this.transform.position}},{key:"setPosition",value:function(e,t){var n;n="number"===typeof e?{x:e,y:void 0===t?e:t}:e;var i=this.transform.scale,r=this.transform.rotation;this.setTransform(new lC(n,i,r))}},{key:"getScale",value:function(){return this.transform.scale}},{key:"setScale",value:function(e,t){var n;n="number"!==typeof e?e:{x:e,y:void 0===t?e:t};var i=this.transform.position,r=this.transform.rotation;this.setTransform(new lC(i,n,r))}},{key:"getRotation",value:function(){return this.transform.rotation}},{key:"setRotation",value:function(e){var t=this.transform.position,n=this.transform.scale;this.setTransform(new lC(t,n,e))}},{key:"getCanvasPivot",value:function(){return this.canvasPivot}},{key:"setCanvasPivot",value:function(e,t){this.canvasPivot="number"===typeof e?{x:e,y:void 0===typeof t?e:t}:e}},{key:"getCanvasBounds",value:function(){var e=this.canvasPivot,t=this.canvas,n=t.width,i=t.height;return new KS(-e.x*n,-e.y*i,n,i)}},{key:"quality",get:function(){return this.previewQuality}}]),e}();function RC(e){return void 0!==e.getTransform}var FC=function(e){return 2*Math.PI-e},AC=function(e){var t=e.rotation,n=e.outputRotation,i=void 0===n?0:n,r=e.flipHorizontally,o=e.flipVertically,a=t;return r&&(a=FC(a)),o&&(a=function(e){return-e}(a)),a+i};cv(),at(),fv(),pv(),mv(),cv();var MC=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"downloadDataURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photoeditorsdk-export",n=this.createBlobURLFromDataURL(e),i=this.getExtensionFromDataURL(e),r=document.createElement("a");r.download="".concat(t,".").concat(i),r.href=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},{key:"downloadMSBlob",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"photoeditorsdk-export";navigator.msSaveBlob&&navigator.msSaveBlob(e,"".concat(t,".png"))}},{key:"getExtensionFromDataURL",value:function(e){return e.split(",")[0].split(":")[1].split(";")[0].split("/").pop()}},{key:"createBlobURLFromDataURL",value:function(e){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array)return e;for(var t=Ey.decode(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0;o<t.length;o++)r[o]=t[o];var a=new window.Blob([i],{type:n});return window.URL.createObjectURL(a)}}]),e}();cv();var PC=function(){function e(t,n,i){Object(k.a)(this,e),this._sdk=t,this._options=n,this._download=i}return Object(w.a)(e,[{key:"export",value:function(){var e=this,t=this._getRenderType();return this._sdk.export(t,this._options.format,this._options.quality).then((function(n){return e._download&&e._downloadData(t,n),n}))}},{key:"_downloadData",value:function(e,t){switch(e){case Fy.DATAURL:MC.downloadDataURL(t,this._options.fileBasename);break;case Fy.MSBLOB:MC.downloadMSBlob(t,this._options.fileBasename)}}},{key:"_getRenderType",value:function(){var e=this._options;return e.type===Fy.IMAGE&&this._download?Ty.supportsMSBlob()?Fy.MSBLOB:Fy.DATAURL:e.type}}]),e}();pv(),V(),cv(),cv();var zC=function(){function e(t,n,i){Object(k.a)(this,e),this._editor=t,this._sdk=n,this._mediator=i,this._available=this._sdk.getOperations(),this._map={},this._stack=this._sdk.getOperationsStack(),this._preferredOrder=this._editor.getOptions().editor.operationsOrder,this._fixStack()}return Object(w.a)(e,[{key:"exists",value:function(e){return!!this._map[e]}},{key:"add",value:function(e){var t=this,n=e.constructor.identifier;e.on("update",(function(){t._mediator.emit(_m.EVENTS.OPERATION_UPDATED,e)}));var i=this._preferredOrder.indexOf(n);if(-1===i)throw new Error("EditorOperations#add: `".concat(n,"` does not appear in `operationsOrder`"));this._stack.set(i,e),this._map[n]=e,this._mediator.emit(_m.EVENTS.OPERATION_CREATED,e)}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="object"===typeof e?e.constructor.identifier:e,i=this._stack.getStack();e=this.get(n),delete this._map[n];var r=i.map((function(e){return e.constructor.identifier})).indexOf(n);if(-1!==r){this._stack.removeAt(r);for(var o=r+1;o<i.length;o++){var a=i[o];a&&a.setDirty(!0)}t&&this._mediator.emit(_m.EVENTS.OPERATION_REMOVED,e)}}},{key:"get",value:function(e){return this._map[e]}},{key:"getOrCreate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._map[e]){var n=this._map[e];return n.set(t,!1),n}var i=this._available[e],r=new i(this._sdk,t);return this.add(r),r}},{key:"getStack",value:function(){return this._stack}},{key:"reset",value:function(){this._map={}}},{key:"_fixStack",value:function(){var e=this,t=this._stack.getStack().slice();this._stack.clear(),t.forEach((function(t){e.add(t)}))}}]),e}();cv();var BC=function(){function e(t,n,i){Object(k.a)(this,e),this._image=t,this._maxPixels=n,this._maxDimensions=i}return Object(w.a)(e,[{key:"needsResize",value:function(){var e=new Py(this._image.width,this._image.height),t=e.x*e.y>this._maxPixels,n=null!==this._maxDimensions&&(e.x>this._maxDimensions||e.y>this._maxDimensions);return t||n}},{key:"resize",value:function(){var e=this,t=null,n=null,i=this._maxDimensions;return new Promise((function(r,o){window.setTimeout((function(){var o=new Py(e._image.width,e._image.height).clone();if(o.x*o.y>e._maxPixels&&(o.copy(e._getDimensionsByMaxPixels()),t="maxMegaPixels"),null!==i&&(o.x>i||o.y>i)){var a=Math.min(i/o.x,i/o.y);o.multiply(a),t="maxDimensions"}o.floor(),n=e._createResizedImageCanvas(o),r({canvas:n,dimensions:o,reason:t})}),1e3)}))}},{key:"_createResizedImageCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this._image,i=document.createElement("canvas");i.width=e.x,i.height=e.y;var r=e.clone().subtract(t).divide(2),o=i.getContext("2d");return o.drawImage(n,0,0,n.width,n.height,r.x,r.y,t.x,t.y),i}},{key:"_getDimensionsByMaxPixels",value:function(){var e=this._image,t=this._maxPixels,n=e.width/e.height,i=e.height/e.width;return new Py(Math.sqrt(t*n),Math.sqrt(t*i)).floor()}}]),e}(),LC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(k.a)(this,n),(o=t.call(this))._ui=e,o._options=i,o._mediator=r,o._shallow=a,a||(o._initSDK(),o.operations=new zC(Object(O.a)(o),o._sdk,o._mediator)),o}return Object(w.a)(n,[{key:"_initFonts",value:function(){var e=Ry.defaults(this._options.editor.controlsOptions.text,{additionalFonts:[],replaceFonts:!1,availableVariations:null});this._fontManager=new Gy(this._ui,e);var t=this._fontManager.getFonts(),n=this._ui.getFontLoader();n.setFonts(t),n.load()}},{key:"setImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.reset();var n=null;n=this._sdk.parseExif(e),this._setImage(e,n)}},{key:"_initSDK",value:function(){var e,t=this._options,n=t.logLevel,i=t.displayWelcomeMessage,r=t.debug,o=t.license,a=t.crossOrigin,s=t.watermark,l=this._options.editor,u=l.smoothDownscaling,c=l.smoothUpscaling,f=l.preferredRenderer,d=l.pixelRatio,h=l.transparent,p=l.clearColor;Array.isArray(p)?e=Dy.fromArray(p):"string"===typeof p?e=Dy.fromHex(p):p instanceof Dy&&(e=p.clone());var m={logLevel:n,debug:r,displayWelcomeMessage:i,pixelRatio:d,smoothDownscaling:u,smoothUpscaling:c,transparent:h,crossOrigin:a,clearColor:e,license:o,watermark:s};this._sdk=new My(f,m)}},{key:"getMaxMegapixels",value:function(){return this._options.editor.maxMegaPixels}},{key:"getCrossOrigin",value:function(){return Ry.getCrossOriginValue(this._options.crossOrigin||"anonymous")}},{key:"getOutputDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputDimensions(e)}},{key:"getOutputTextureDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getOutputTextureDimensions(e)}},{key:"getFinalDimensions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._sdk.getFinalDimensions(e)}},{key:"_setImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options.editor.image,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._sdk.setAllOperationsToDirty(),this._options.editor.image=e,this._sdk.setImage(e,t)}},{key:"_ensureImageIsResized",value:function(){var e=this,t=this._sdk.getImage(),n=this._sdk.getRenderer(),i=this.getMaxMegapixels(),r=i?1e6*i:null,o=n.getMaxDimensions(),a=new BC(t,r,o);return!this._resizedImage&&a.needsResize()?a.resize().then((function(t){var n=t.canvas;t.dimensions,t.reason;return e._resizedImage=n,e._sdk.setImage(n),n})):Promise.resolve(t)}},{key:"export",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._watermarkOperation&&this._watermarkOperation.setEnabled(!1),this._sdk.setAllOperationsToDirty(),this._ensureImageIsResized().then((function(n){var i=e._options.editor.export;return new PC(e._sdk,i,t).export().then((function(t){return e.emit("export",t),e._mediator.emit(_m.EVENTS.EXPORT,t,e),e._watermarkOperation&&(e._watermarkOperation.setEnabled(!0),e._sdk.render()),e._sdk.setAllOperationsToDirty(),t}))}))}},{key:"broadcastTransform",value:function(e,t){var n=this,i=new My.Operations.TransformOperation.TransformChange(e,t);["sprite","selective-blur","radial-focus","mirrored-focus","linear-focus","blur"].forEach((function(e){var t=n.operations.get(e);t&&t.transform(i)}))}},{key:"broadcastFlip",value:function(e){var t=this;["mirrored-focus","radial-focus","linear-focus","sprite","selective-blur"].forEach((function(n){var i=t.operations.get(n);i&&i.flip(e)}))}},{key:"broadcastRotate",value:function(e){var t=this;["transform","mirrored-focus","linear-focus","radial-focus","sprite","selective-blur"].forEach((function(n){var i=t.operations.get(n);i&&i.rotate(e)}))}},{key:"_initSerializers",value:function(){this._serializers={"1.0.0":(Rv(),G(jv)).default,"1.0.1":(qv(),G(Mv)).default,"2.0.0":(ob(),G($v)).default,"3.0.0":(hb(),G(ub)).default,"3.1.0":(_b(),G(gb)).default,"3.2.0":(jb(),G(wb)).default,"3.4.0":(Ab(),G(Db)).default,"3.5.0":(Ub(),G(zb)).default,"3.6.0":(Xb(),G(Wb)).default,"3.7.0":(t_(),G(Zb)).default,"3.8.0":(u_(),G(r_)).default,"3.9.0":(g_(),G(d_)).default,"3.12.0":(__(),G(b_)).default}}},{key:"serialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"3.12.0",n=this._serializers[t];if(!n)return Promise.reject(new Error("No serializer for version ".concat(t," found.")));var i=new n(this);return i.serialize(e)}},{key:"deserialize",value:function(e){var t=this._serializers[e.version];return t?new t(this).deserialize(e):Promise.reject(new Error("No serializer for version ".concat(e.version," found.")))}},{key:"save",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this._options.editor.save;return this.serialize({image:t}).then((function(t){var i=JSON.stringify(t,null,2);if(e){var r="data:text/json;charset=utf-8;base64,".concat(window.encodeURI(window.btoa(i)));MC.downloadDataURL(r,n.fileBasename)}return i}))}},{key:"reset",value:function(){this._sdk.reset(),this.operations.reset()}},{key:"dispose",value:function(){this.stop(),this._resizedImage&&o(this._resizedImage),this._sdk.dispose()}},{key:"getRenderer",value:function(){return this._sdk.getRenderer()}},{key:"getSDK",value:function(){return this._sdk}},{key:"getInputDimensions",value:function(){return this._sdk.getInputDimensions()}},{key:"getImage",value:function(){return this._sdk.getImage()}},{key:"getOptions",value:function(){return this._options}},{key:"getUI",value:function(){return this._ui}},{key:"getMediator",value:function(){return this._mediator}}]),n}(Iy);xv();var NC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(k.a)(this,n),(e=t.call(this))._mediator=new Iy,e._fontLoader=new Zy(Object(O.a)(e)),e._options=i,e._initOptions(),e._initEvents(),e._disposed=!1,e._isReady=!1,e._editor=new LC(Object(O.a)(e),e._options,e._mediator),e._options.editor.image&&e._editor.setImage(e._options.editor.image),e._mediator.once(_m.EVENTS.EDITOR_READY,(function(){e._isReady=!0})),Ee.setLevel(e._options.logLevel),e}return Object(w.a)(n,[{key:"export",value:function(){var e;return(e=this._editor).export.apply(e,arguments)}},{key:"serialize",value:function(){var e;return(e=this._editor).serialize.apply(e,arguments)}},{key:"deserialize",value:function(e){return this._editor.deserialize(e)}},{key:"getEditor",value:function(){return this._editor}},{key:"isReady",value:function(){return this._isReady}},{key:"onReady",value:function(e){this._isReady?e():this._mediator.once(_m.EVENTS.EDITOR_READY,e)}},{key:"createFilter",value:function(e){return new By(this,this._getOptions("filter")).instantiateFilterWithIdentifier(e)}},{key:"getTextDesignLayoutByID",value:function(e){return new(new Hy(this,this._getOptions("textDesign")).getLayoutByIdentifier(e))}},{key:"getTextDesignAssetManager",value:function(){return My.Operations.SpriteOperation.TextDesignSprite.AssetManager}},{key:"getTextDesignFontManager",value:function(){return new Gy(this,{fonts:_m.DEFAULTS.TEXT_DESIGN_FONTS,replaceFonts:!0,isTextDesign:!0})}},{key:"_getOptions",value:function(e){var t=this.getEditor(),n=t.controls,i={};n&&n.get(e)&&(i=n.get(e).defaultOptions);var r=t.getOptions();return Ry.deepDefaults({},r.editor.controlsOptions[e]||{},i)}},{key:"_initOptions",value:function(){if(this._options=Ry.defaults(this._options,{language:"en",logLevel:"warn",crossOrigin:"anonymous",editor:{},assets:{},responsive:!1,preloader:!0,autoRun:!0}),this._options.editor=Ry.defaults(this._options.editor||{},{enableZoom:!0,enableDrag:!0,enableExport:!0,enableKeyboardControls:!0,enablePositionSnapping:!0,enableRotationSnapping:!0,enableSave:!1,enableLoad:!1,pixelRatio:Math.max("undefined"!==typeof window&&window.devicePixelRatio||1,1),preferredRenderer:"webgl",transparent:!0,clearColor:[0,0,0,0],displayResizeMessage:!0,maxMegaPixels:{},displayCloseButton:!1,undoMode:"global",defaultControl:"filter",forceCrop:!1,snappingOptions:{},tools:["transform","filter","adjustments","focus","text","textdesign","sticker","brush","frame","overlay","library","artfilter"],controlsOrder:[["library"],["artfilter","transform","filter","adjustments","focus"],["text","textdesign","sticker","brush","frame","overlay"]],operationsOrder:["exif-orientation","artfilter","orientation","transform","filter","adjustments","radial-focus","mirrored-focus","linear-focus","blur","selective-blur","overlay","sprite","frame"],controlsOptions:{focus:{highQualityCanvasBlur:!1}}}),this._options.editor.snappingOptions=Ry.defaults(this._options.editor.snappingOptions,{position:{},rotation:{}}),this._options.editor.snappingOptions.position=Ry.defaults(this._options.editor.snappingOptions.position,{padding:{},threshold:20}),this._options.editor.snappingOptions.position.padding=Ry.defaults(this._options.editor.snappingOptions.position.padding,{left:.1,right:.1,top:.1,bottom:.1}),this._options.editor.snappingOptions.rotation=Ry.defaults(this._options.editor.snappingOptions.rotation,{angles:[0,45,90,135,180,225,270,315],threshold:20}),this._options.editor.controlsOptions.focus=Ry.defaults(this._options.editor.controlsOptions.focus,{highQualityCanvasBlur:!1}),this._options.editor.maxMegaPixels=Ry.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10}),this._options.editor.export=Ry.defaults(this._options.editor.export||{},{format:"image/png",type:Fy.IMAGE,download:!0,fileBasename:"photoeditorsdk-export",quality:.8}),this._options.editor.save=Ry.defaults(this._options.editor.save||{},{format:"text/json",download:!0,fileBasename:"photoeditorsdk-save"}),this._options.extensions=Ry.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]}),this._options.assets=Ry.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null}),!(this._options.editor.image instanceof window.Image)){var e=new window.Image;this._options.editor.image&&(e.src=this._options.editor.image,this._options.editor.image=e)}}},{key:"_initEvents",value:function(){this._mediator.pipeEvents(this)}},{key:"_disposeEvents",value:function(){this._mediator.unpipeEvents(this)}},{key:"setImage",value:function(e){this._editor.setImage(e)}},{key:"getAssetPath",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=this._options.assets,n=t.baseUrl,i=t.resolver,r="".concat(n,"/").concat(e);i=i||function(e){return e},e.match(/(ftp|http|https):\/\//)&&(r=e);var o=e.replace(/assets\//,"").split("/"),a=o[0];switch(a){case"art-filters":return i("art-filter",{identifier:o[1],type:o[2].split(".")[0]});case"filters":return i("filter",{identifier:o[1].replace(/\.png$/g,"")});case"fonts":return i("font",{identifier:o[1].replace(/\.(woff|otf|ttf)$/g,"")});case"frames":return i("frame",{identifier:o[1],filename:o[2]});case"overlays":return i("overlay",{identifier:o[1].replace(/\.(png|jpg|jpeg)$/g,"")});case"stickers":var s=o[3].endsWith(".svg"),l="thumbs"===o[3];return i("sticker",{category:o[1],identifier:(s?o[3]:o[4]).replace(/\.(png|svg)$/g,""),variant:s?"svg":l?"thumb":"base"});case"text-design":return i("text-design",{type:"fonts"===o[1]?"font":"image",identifier:o[2].replace(/\.(png|otf|ttf|woff2?)$/g,"")})}return"undefined"!==typeof i&&null!==i&&(r=i(r)),r}},{key:"getFontLoader",value:function(){return this._fontLoader}},{key:"dispose",value:function(){if(this._disposed)throw new Error("This instance of PhotoEditorSDK is already disposed.");this._disposed=!0,this._disposeEvents()}},{key:"render",value:function(e){var t=this;return this.deserialize(e).then((function(){return t.export()}))}}]),n}(Iy);NC.prototype.identifier="engine-wrapper",NC.Constants=_m,NC.Events=_m.EVENTS,NC.Utils=Ty,NC.JSONLoader=rt,NC.SDK=My;var UC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(k.a)(this,n),(i=t.call(this)).config=e,i}return Object(w.a)(n,[{key:"getOutputDimensions",value:function(){var e=this.getOutputContainer();return e?e.getResolution():{width:0,height:0}}},{key:"getSmallerOutputSide",value:function(){var e=this.getOutputContainer();if(!e)return 0;var t=e.getResolution();return Math.min(t.width,t.height)}},{key:"convertPointFromPreviewIntoOutputSpace",value:function(e,t){var n=YS.getInverted(uC.rectTransformToAffineTransform(t));return YS.transformPoint(n,e)}},{key:"convertPointFromPreviewIntoWorldSpace",value:function(e,t,n){var i=YS.getInverted(uC.rectTransformToAffineTransform(t)),r=n?this.getOutputContainer().getBaseLocalToParentMatrix():this.getOutputContainer().getLocalToParentMatrix(),o=YS.multiply(r,i);return YS.transformPoint(o,e)}},{key:"convertPointFromPreviewIntoFlippedPreviewSpace",value:function(e){var t=this.getOutputContainer().getFlipTransformMatrix();return YS.transformPoint(t,e)}},{key:"convertPointFromWorldIntoPreviewSpace",value:function(e,t){var n=uC.rectTransformToAffineTransform(t),i=YS.getInverted(this.getOutputContainer().getLocalToParentMatrix()),r=YS.multiply(n,i);return YS.transformPoint(r,e)}},{key:"convertPointFromOutputIntoPreviewSpace",value:function(e,t){var n=uC.rectTransformToAffineTransform(t);return YS.transformPoint(n,e)}},{key:"getContainersAtPreviewPoint",value:function(e,t){var n,i=new Array,r=this.convertPointFromPreviewIntoWorldSpace(e,t),o=this.getRootContainers(),a=Object(E.a)(o);try{for(a.s();!(n=a.n()).done;){var s=n.value;this.accumulateContainersAtWorldPointInHierarchy(r,s,i)}}catch(l){a.e(l)}finally{a.f()}return i}},{key:"isPreviewPointInContainer",value:function(e,t,n){var i=this.convertPointFromPreviewIntoWorldSpace(e,n);return this.isWorldPointInContainer(i,t)}},{key:"isWorldPointInContainer",value:function(e,t){var n=uC.getLocalToWorldMatrix(t),i=YS.getInverted(n),r=YS.transformPoint(i,e);return KS.contains(t.getBounds(),r)}},{key:"accumulateContainersAtWorldPointInHierarchy",value:function(e,t,n){this.isWorldPointInContainer(e,t)&&n.push(t);var i,r=t.getChildren(),o=Object(E.a)(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;RC(a)&&this.accumulateContainersAtWorldPointInHierarchy(e,a,n)}}catch(s){o.e(s)}finally{o.f()}}}]),n}(HO),GC=function(){function e(t){Object(k.a)(this,e),this.engine=t,this.id=ZO()}return Object(w.a)(e,[{key:"getID",value:function(){return this.id}},{key:"getContainer",value:function(){return this.engine.getRootContainers()[0]}},{key:"getIndexInParent",value:function(){for(var e=this.engine.rootOperations,t=0;t<e.length;t+=1)if(e[t].getID()===this.id)return t;return-1}},{key:"setIndexInParent",value:function(e){this.engine.moveIndex(this,e)}},{key:"isValid",value:function(){return-1!==this.getIndexInParent()}}]),e}(),HC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,i)).operation=r,o.type="adjustments",o.setProperties(e),o}return Object(w.a)(n,[{key:"getProperties",value:function(){var e=this.operation.getOptions(),t=e.gamma-1;return{brightness:e.brightness||0,saturation:e.saturation||0,contrast:e.contrast||0,gamma:(t<0?2*t:t)||0,clarity:e.clarity||0,exposure:e.exposure||0,shadows:.5*e.shadows||0,highlights:e.highlights||0,whites:e.whites||0,blacks:e.blacks||0,temperature:e.temperature||0,sharpness:e.sharpness||0}}},{key:"setProperties",value:function(e){void 0!==e.gamma&&(e.gamma=1+(e.gamma<0?.5*e.gamma:e.gamma)),e.shadows&&(e.shadows=2*e.shadows),this.operation.set(e)}},{key:"getOperation",value:function(){return this.operation}},{key:"getTypeIdentifier",value:function(){return"adjustments"}}]),n}(GC),WC=function(e){if(EC(e))return new My.Color(e.r,e.g,e.b,e.a);if(DC(e))return new My.Color(e[0],e[1],e[2],e[3]);if(jC(e))return new My.Color(e.r,e.g,e.b,1);if(TC(e))return new My.Color(e[0],e[1],e[2],1);if(function(e){return"string"===typeof e}(e)){var t=e.match(/[0-9A-fa-f]{1,2}/g),n=Object(y.a)(t,3),i=n[0],r=n[1],o=n[2];return new My.Color(parseInt(i,16)/255,parseInt(r,16)/255,parseInt(o,16)/255,1)}throw new Error("Invalid color type")},VC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(k.a)(this,e),this._x=t,this._y=n}return Object(w.a)(e,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),Object(w.a)(e,[{key:"set",value:function(e,t){return this._x=e,this._y=t,this}},{key:"clone",value:function(){return new e(this._x,this._y)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this}},{key:"clamped",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n="number"===typeof e?{x:e,y:e}:e,i="number"===typeof t?{x:t,y:t}:t;return this._x=Math.max(n.x,this._x),this._y=Math.max(n.y,this._y),this._x=Math.min(i.x,this._x),this._y=Math.min(i.y,this._y),this}},{key:"divide",value:function(e,t){return"number"===typeof e||null===e?(this._x/=e,this._y/="undefined"===typeof t?e:t):(this._x/=e.x,this._y/=e.y),this}},{key:"subtract",value:function(e,t){return"number"===typeof e||null===e?(this._x-=e,this._y-="undefined"===typeof t?e:t):(this._x-=e.x,this._y-=e.y),this}},{key:"multiply",value:function(e,t){return"number"===typeof e||null===e?(this._x*=e,this._y*="undefined"===typeof t?e:t):(this._x*=e.x,this._y*=e.y),this}},{key:"add",value:function(e,t){return"number"===typeof e||null===e?(this._x+=e,this._y+="undefined"===typeof t?e:t):(this._x+=e.x,this._y+=e.y),this}},{key:"dot",value:function(e,t){return"number"===typeof e||null===e?this._x*e+this._y*("undefined"===typeof t?e:t):this._x*e.x+this._y*e.y}},{key:"equals",value:function(e,t){return"number"===typeof e||null===e?e===this._x&&t===this._y:e.x===this._x&&e.y===this._y}},{key:"flip",value:function(){var e=this._x;return this._x=this._y,this._y=e,this}},{key:"round",value:function(){return this._x=Math.round(this._x),this._y=Math.round(this._y),this}},{key:"ceil",value:function(){return this._x=Math.ceil(this._x),this._y=Math.ceil(this._y),this}},{key:"floor",value:function(){return this._x=0|this._x,this._y=0|this._y,this}},{key:"abs",value:function(){return this._x=Math.abs(this._x),this._y=Math.abs(this._y),this}},{key:"len",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y)}},{key:"min",value:function(){return Math.min(this._x,this._y)}},{key:"max",value:function(){return Math.max(this._x,this._y)}},{key:"toObject",value:function(){return{x:this._x,y:this._y}}},{key:"toString",value:function(){return"Vector2({ x: ".concat(this._x,", y: ").concat(this._y," })")}},{key:"roundDecimal",value:function(e){return this._x=parseFloat(this._x.toFixed(e)),this._y=parseFloat(this._y.toFixed(e)),this}},{key:"asArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?[this._y,this._x]:[this._x,this._y]}}],[{key:"fromObject",value:function(t){return new e(t.x,t.y)}},{key:"fromSize",value:function(t){return new e(t.width,t.height)}},{key:"NULL",get:function(){return new e(0,0)}}]),e}(),qC=function(){function e(t){Object(k.a)(this,e),this.engine=t,this.id=ZO(),this.transform=lC.IDENTITY,this.bounds=KS.ZERO}return Object(w.a)(e,[{key:"getID",value:function(){return this.id}},{key:"getParent",value:function(){var e=this.engine.getRootContainers();if(0!==e.length&&this.id!==e[0].id)return e[0]}},{key:"getIndexInParent",value:function(){for(var e=this.engine.rootOperations,t=0;t<e.length;t+=1)if(e[t].getID()===this.id)return t;return-1}},{key:"setIndexInParent",value:function(e){this.engine.moveIndex(this,e)}},{key:"getChildren",value:function(){var e=this.engine.getRootContainers();return e.length>0&&(this.id===e[0].id||this.id===this.engine.getOutputContainer().id)?this.engine.rootOperations:[]}},{key:"getBounds",value:function(){return this.bounds}},{key:"setPivotOnSelfAndSprite",value:function(e,t,n){"number"===typeof t?(this.setPivotInternal(t,n),e.setPivot(new VC(t,n))):(this.setPivotInternal(t),e.setPivot(VC.fromObject(t)))}},{key:"setPivot",value:function(e,t){this.setPivotInternal(e,t)}},{key:"getPivot",value:function(){var e=this.getBounds();return{x:-e.minX/e.width,y:-e.minY/e.height}}},{key:"getTransform",value:function(){return this.transform}},{key:"setTransform",value:function(e){this.transform=e}},{key:"updateTransform",value:function(){this.setTransform(this.transform)}},{key:"getPosition",value:function(){return this.transform.position}},{key:"setPosition",value:function(e,t){var n;n="number"===typeof e?{x:e,y:void 0===t?e:t}:e;var i=this.transform.scale,r=this.transform.rotation;this.setTransform(new lC(n,i,r))}},{key:"getScale",value:function(){return this.transform.scale}},{key:"setScale",value:function(e,t){var n;n="number"!==typeof e?e:{x:e,y:void 0===t?e:t};var i=this.transform,r=i.position,o=i.rotation;this.setTransform(new lC(r,n,o))}},{key:"getRotation",value:function(){return this.transform.rotation}},{key:"setRotation",value:function(e){var t=this.transform,n=t.position,i=t.scale;this.setTransform(new lC(n,i,e))}},{key:"getSizeInWorldSpace",value:function(){return uC.getSizeInWorldSpace(this)}},{key:"getSizeInOutputSpace",value:function(){return uC.getSizeInOutputSpace(this,this.engine.getOutputContainer())}},{key:"setSizeInWorldSpace",value:function(e){var t=this.getBounds();this.setScale(e.width/t.width,e.height/t.height)}},{key:"setSizeInOutputSpace",value:function(e){var t=this.engine.getOutputContainer().getScale();this.setSizeInWorldSpace({width:e.width/t.x,height:e.height/t.y})}},{key:"isValid",value:function(){return-1!==this.getIndexInParent()}},{key:"setPivotInternal",value:function(e,t){var n=this.getBounds();"number"===typeof e?this.setBoundsFromSize(n.width,n.height,{x:e,y:t}):this.setBoundsFromSize(n.width,n.height,e)}},{key:"setBoundsFromSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.getPivot();this.bounds=new KS(-n.x*e,-n.y*t,e,t)}}]),e}(),KC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;Object(k.a)(this,n),(r=t.call(this,i)).type="drawing",r.drawing=e,r.operation=i.createSpriteOperation(),r.sprite=r.operation.createBrush({}),r.operation.addSprite(r.sprite),r.radialBrush=r.sprite._createRadialBrush();var o=i.getRootContainers()[0].getBounds();return r.bounds=new KS(0,0,o.width,o.height),r.setTransform(lC.IDENTITY),r.operation.setDirty(!0),r.setData(e),r}return Object(w.a)(n,[{key:"beginStroke",value:function(e){if(this.currentStroke)throw new Error("A brush stroke has already been started but not finished.");if("imgly_brush_radial"!==e.id)throw new Error("This adapter does not support any brush faces other than the radial img.ly brush.");this.currentBrush=e,this.currentStroke={brush:e,path:{controlPoints:[]}},this.radialBrush.setColor(WC(e.color)),this.radialBrush.setHardness(e.hardness),this.radialBrush.setSize(e.size),this.currentPath=this.sprite.createPath(this.radialBrush.clone())}},{key:"addPointToCurrentStroke",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.currentStroke||!this.currentBrush||!this.currentPath)throw new Error('A brush stroke has to first be started with a call to "beginStroke(brush:Brush)"');if(this.currentStroke.path.controlPoints.length){var n=this.currentStroke.path.controlPoints,i=n[n.length-1],r=this.currentBrush.size/10,o=Math.sqrt(e.x-Math.pow(i.x,2)+(e.y-Math.pow(i.y,2)));if(o<r)return}var a=this.engine.getOutputContainer(),s=this.engine.getRootContainers()[0],l=uC.pointFromSpaceToSpace(e,s,a,!0),u=uC.absoluteToRelativePoint(l,a,!1),c=a.getBounds();this.currentPath.addControlPoint(VC.fromObject(u)),this.currentStroke.path.controlPoints.push(e),t&&this.sprite.render(VC.fromObject({x:c.width,y:c.height}))}},{key:"endStroke",value:function(){if(this.currentStroke&&this.currentPath&&this.currentBrush){this.currentStroke.path.controlPoints.length&&this.drawing.strokes.push(this.currentStroke),this.currentStroke=void 0,this.currentBrush=void 0,this.currentPath.setClosed(!0);var e=this.engine.getOutputContainer().getBounds();this.sprite.render(VC.fromObject({x:e.width,y:e.height})),this.currentPath=void 0}}},{key:"setData",value:function(e){this.drawing=Object(T.a)({},this.drawing,{},e),this.drawing.strokes&&(this.drawing.strokes=[]),this.sprite.clearPersistCanvas(),this.sprite.clearCanvas(),this.sprite.setPaths([]),this.drawStrokes(e.strokes)}},{key:"getData",value:function(){return this.drawing}},{key:"updateData",value:function(){this.setData(this.getData())}},{key:"getOperation",value:function(){return this.operation}},{key:"drawStrokes",value:function(e){var t=this;e.forEach((function(e){t.beginStroke(e.brush),e.path.controlPoints.forEach((function(e){t.addPointToCurrentStroke(e,!0)})),t.endStroke()}))}}]),n}(qC),XC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r,o){var a;return Object(k.a)(this,n),(a=t.call(this,o)).filterOperation=i,a.type="duotone-filter",i.set({intensity:r.colorIntensity}),i.set({filter:e}),o.pesdk.setAllOperationsToDirty(),a}return Object(w.a)(n,[{key:"getProperties",value:function(){return{colorIntensity:this.filterOperation.getOptions().intensity}}},{key:"setProperties",value:function(e){var t=this.filterOperation.getOptions().intensity;void 0!==e.colorIntensity&&(t=Math.min(Math.max(e.colorIntensity,0),1)),this.filterOperation.set({intensity:t})}},{key:"getOperation",value:function(){return this.filterOperation}},{key:"getTypeIdentifier",value:function(){return"filter"}}]),n}(GC),YC=function(){function e(t,n){Object(k.a)(this,e),this.engine=n,this.loaded=!1,this.loading=!1,this.asset=Object(T.a)({},t)}return Object(w.a)(e,[{key:"load",value:function(){var e=Object(v.a)(_.a.mark((function e(){var t,n,i=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.loaded){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(!this.loading){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Called Frame#load while it's already loading")));case 4:return this.loading=!0,t=this.asset.imageGroups,n=[],["top","left","right","bottom"].forEach((function(e){if(t[e]){var r=t[e];["start","mid","end"].forEach((function(t){t in r&&n.push(i.loadPart(e,t))}))}})),e.abrupt("return",Promise.all(n).then((function(){i.loaded=!0,i.loading=!1})).catch((function(){i.loaded=!1,i.loading=!1})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFrame",value:function(){return Object(T.a)({},this.asset,{defaultName:this.asset.name,thumbnail:this.asset.thumbnailURI})}},{key:"getIdentifier",value:function(){return this.asset.identifier}},{key:"getDefaultName",value:function(){return this.asset.name}},{key:"getThumbnail",value:function(){return this.asset.thumbnailURI}},{key:"getTintable",value:function(){return this.asset.tintable||!1}},{key:"getLayoutMode",value:function(){return this.asset.layoutMode}},{key:"getImageGroups",value:function(){return this.asset.imageGroups}},{key:"loadPart",value:function(){var e=Object(v.a)(_.a.mark((function e(t,n){var i=this;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var o=i.asset.imageGroups[t][n],a=o;"string"!==typeof o&&"image"in o&&(a=o.image);var s=new Image;s.addEventListener("load",(function(){"string"!==typeof o?i.asset.imageGroups[t][n].image=s:i.asset.imageGroups[t][n]=s,e(s)})),s.addEventListener("error",(function(){r(new Error("Failed to load image at ".concat(s.src)))})),s.crossOrigin=i.engine.configuration.crossOrigin||"anonymus",s.src=i.engine.assetProvider.getAssetSource("frame",a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),QC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,r)).frameOperation=e,o.type="frame",o.setProperties(i),r.pesdk.setAllOperationsToDirty(),o}return Object(w.a)(n,[{key:"setProperties",value:function(e){if(this.props=Object(T.a)({},this.props,{},e),"number"===typeof e.opacity&&this.frameOperation.set({alpha:e.opacity}),e.tintColor&&this.frameOperation.set({tintColor:WC(e.tintColor)}),e.width){var t=this.engine.getOutputContainer().getBounds(),n=Math.min(t.width,t.height),i=e.width/n;this.frameOperation.set({scale:i})}this.frameOperation.setDirty(!0)}},{key:"getProperties",value:function(){return this.props}},{key:"getOperation",value:function(){return this.frameOperation}},{key:"getTypeIdentifier",value:function(){return"frame"}}]),n}(GC),ZC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,i)).blurOperation=r,o.type="gaussian-blur",o.setProperties(e),o}return Object(w.a)(n,[{key:"getProperties",value:function(){var e=this.engine.getOutputContainer(),t=e.getBounds(),n=Math.min(t.size.width,t.size.height);return{blurRadius:uC.scalarFromSpaceToSpace(this.blurOperation.getOptions().blurRadius*n,e,this.getContainer())}}},{key:"setProperties",value:function(e){if(void 0!==e.blurRadius){var t=this.engine.pesdk.getOutputDimensions(),n=Math.min(t.x,t.y),i=this.getContainer(),r=this.engine.getOutputContainer(),o=uC.scalarFromSpaceToSpace(e.blurRadius,i,r)/n;this.blurOperation.set({blurRadius:o})}}},{key:"getOperation",value:function(){return this.blurOperation}},{key:"getTypeIdentifier",value:function(){return"blur"}}]),n}(GC),JC=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;Object(k.a)(this,n),(r=t.call(this,i)).data=e,r.type="image",r.dispose=function(){var e;(null==(e=r.data)?void 0:e.image)instanceof HTMLCanvasElement&&o(r.data.image)};var a=i.configuration.downscaleOptions;if(a){var s=a.maxDimensions;r.downscaleOptions={maxMegaPixels:a.maxMegaPixels,maxDimensions:{width:Math.min(i.maxTextureDimension,s?s.width:Number.MAX_VALUE),height:Math.min(i.maxTextureDimension,s?s.height:Number.MAX_VALUE)}}}else r.downscaleOptions={maxDimensions:{width:i.maxTextureDimension,height:i.maxTextureDimension}};r.setData(e);var l=r.data.image;return r.bounds=new KS($O.ZERO,{width:l.width,height:l.height}),r}return Object(w.a)(n,[{key:"setData",value:function(e){var t=this;if(this.data=Object(T.a)({},this.data,{},e),e.image){var n,i=e.image;if(i instanceof HTMLImageElement&&(n=this.engine.pesdk.parseExif(i))){var r=n.getTags();if(r&&r.Orientation){var o=1!==r.Orientation&&2!==r.Orientation,a=-1!==[2,4,5,7].indexOf(r.Orientation);if(o||a){if(qO()||VO()||!CSS.supports("image-orientation","from-image")){var s=this.engine.pesdk.createOperation("exif-orientation",{},!1);s.setTags(r),i=s.applyTo(i)}n.setOrientation(1),r.Orientation=1}}}var l=new dS(i,this.downscaleOptions);l.on("imageDownscaled",(function(e){var n=e.width,i=e.height;t.engine.emit("imageDownscaled",{width:n,height:i})})),l.on("beganImageDownscaling",(function(){t.engine.emit("beganImageDownscaling")})),i=l.downscaleIfNecessary(),this.data.image=i,this.engine.pesdk.setImage(i,n),this.setBoundsFromSize(i.width,i.height)}}},{key:"getData",value:function(){return this.data}},{key:"setPivot",value:function(e,t){throw new Error("This container does not support modifying the pivot")}},{key:"getOperation",value:function(){throw new Error("This container has no associated operation")}}]),n}(qC),$C=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,i)).props=e,o.blurOperation=r,o.type="linear-blur",o.setProperties(e),o}return Object(w.a)(n,[{key:"getProperties",value:function(){return this.props}},{key:"setProperties",value:function(e){this.props=Object(T.a)({},this.props,{},e);var t=this.blurOperation.getOptions(),n=this.engine.getOutputContainer(),i=n.getBounds(),r=this.getContainer(),o=n.getBaseLocalToParentMatrix(),a=uC.getBaseLocalToWorldMatrix(r),s=YS.multiply(YS.getInverted(o),a),l=Math.min(i.size.width,i.size.height);if(void 0!==e.blurRadius){var u=uC.scalarFromSpaceToSpace(e.blurRadius,r,n);t.blurRadius=u/l}if(void 0!==e.start){var c=YS.transformPoint(s,e.start),f=uC.absoluteToRelativePoint(c,n,!1);t.controlPoint1=f}if(void 0!==e.end){var d=YS.transformPoint(s,e.end),h=uC.absoluteToRelativePoint(d,n,!1);t.controlPoint2=h}this.blurOperation.set(t)}},{key:"updateProperties",value:function(){var e=this.getProperties();this.setProperties(e)}},{key:"getOperation",value:function(){return this.blurOperation}},{key:"getTypeIdentifier",value:function(){return"linear-focus"}}]),n}(GC),ej=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r,o){var a;return Object(k.a)(this,n),(a=t.call(this,o)).filter=e,a.filterOperation=i,a.props=r,a.type="lut-filter",i.set({intensity:r.intensity}),i.set({filter:e}),o.pesdk.setAllOperationsToDirty(),a}return Object(w.a)(n,[{key:"getProperties",value:function(){return{intensity:this.filterOperation.getOptions().intensity,lutImage:this.props.lutImage,horizontalTileCount:this.props.horizontalTileCount,verticalTileCount:this.props.verticalTileCount}}},{key:"setProperties",value:function(e){var t=this.filterOperation.getOptions(),n="number"===typeof e.intensity?e.intensity:t.intensity;this.filterOperation.set({intensity:n})}},{key:"getOperation",value:function(){return this.filterOperation}},{key:"getTypeIdentifier",value:function(){return"filter"}}]),n}(GC),tj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,i)).props=e,o.blurOperation=r,o.type="mirrored-blur",o.setProperties(e),o}return Object(w.a)(n,[{key:"getProperties",value:function(){return this.props}},{key:"setProperties",value:function(e){this.props=Object(T.a)({},this.props,{},e);var t=this.blurOperation.getOptions(),n=this.engine.getOutputContainer(),i=n.getBounds(),r=this.getContainer(),o=n.getBaseLocalToParentMatrix(),a=uC.getBaseLocalToWorldMatrix(r),s=YS.multiply(YS.getInverted(o),a),l=Math.min(i.size.width,i.size.height);if(void 0!==e.blurRadius){var u=uC.scalarFromSpaceToSpace(e.blurRadius,r,n);t.blurRadius=u/l}if(void 0!==e.gradientSize){var c=uC.scalarFromSpaceToSpace(e.gradientSize,r,n)/l;t.gradientSize=c}if(void 0!==e.clearAreaWidth){var f=uC.scalarFromSpaceToSpace(e.clearAreaWidth,r,n)/l;t.size=.5*f}if(void 0!==e.mirrorAxisOrigin){var d=YS.transformPoint(s,e.mirrorAxisOrigin),h=uC.absoluteToRelativePoint(d,n,!1);t.start=h}if(void 0!==e.mirrorAxisDirection){var p=YS.transformPoint(s,e.mirrorAxisDirection),m=uC.absoluteToRelativePoint(p,n,!1);t.end=m}this.blurOperation.set(t)}},{key:"updateProperties",value:function(){var e=this.getProperties();this.setProperties(e)}},{key:"getOperation",value:function(){return this.blurOperation}},{key:"getTypeIdentifier",value:function(){return"mirrored-focus"}}]),n}(GC),nj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r,o){var a;return Object(k.a)(this,n),(a=t.call(this,o)).settings=e,a.operation=i,a.flipOperation=r,a.type="output",a.flipTransform=YS.IDENTITY,a.blockTransformUpdate=!1,a.transformUpdateWhileBlock=!1,a.bounds=new KS({x:0,y:0},a.settings.resolution),a.setData(e),a}return Object(w.a)(n,[{key:"pauseChildrenUpdates",value:function(){this.transformUpdateWhileBlock=!1,this.blockTransformUpdate=!0}},{key:"resumeChildrenUpdates",value:function(){this.blockTransformUpdate=!1,this.transformUpdateWhileBlock&&this.updateChildrenContainers()}},{key:"setData",value:function(e){if(this.settings=Object(T.a)({},this.settings,{},e),e.resolution&&(this.setBoundsFromSize(e.resolution.width,e.resolution.height),this.setTransform(this.transform),this.operation.set({outputResolution:new VC(e.resolution.width,e.resolution.height)})),void 0!==e.flipHorizontally){var t=e.flipHorizontally;this.updateFlipTransform(),this.flipOperation.set({flipHorizontally:t})}if(void 0!==e.flipVertically){var n=e.flipVertically;this.updateFlipTransform(),this.flipOperation.set({flipVertically:n})}this.operation.setDirty(!0),this.flipOperation.setDirty(!0)}},{key:"getData",value:function(){return this.settings}},{key:"setResolution",value:function(e){this.setData({resolution:e})}},{key:"getResolution",value:function(){return this.getData().resolution}},{key:"setTransform",value:function(e){if(this.transform.rotation!==e.rotation||this.transform.position!==e.position||this.transform.scale!==e.scale){this.transform=e;var t=this.flipTransform;this.flipTransform=YS.IDENTITY;var n=this.engine.getRootContainers()[0],i=uC.pointFromSpaceToSpace({x:0,y:0},n,this),r=-e.rotation,o=VC.fromObject(i).clone().subtract(VC.fromObject(this.getBounds().origin));this.operation.set({pivot:new VC(0,0),position:o,scale:new VC(1/e.scale.x,1/e.scale.y),rotation:r}),this.flipTransform=t,this.operation.setDirty(!0),this.updateChildrenContainers()}}},{key:"rotate",value:function(e,t){var n=this.getPivot(),i=this.getBounds(),r={x:i.midX,y:i.midY},o=uC.getPointInWorldSpace(r,this);this.setPivot(.5,.5),this.setPosition(o),this.setRotation(e),this.setResolution(t);var a={x:-t.width*(.5-n.x),y:-t.height*(.5-n.y)},s=uC.getPointInWorldSpace(a,this);this.setPivot(n),this.setPosition(s),this.updateChildrenContainers()}},{key:"setPivot",value:function(e,t){Object(m.a)(Object(p.a)(n.prototype),"setPivotInternal",this).call(this,e,t),this.setTransform(this.transform)}},{key:"getTransform",value:function(){return this.transform}},{key:"getBaseLocalToParentMatrix",value:function(){return uC.rectTransformToAffineTransform(this.getTransform())}},{key:"getLocalToParentMatrix",value:function(){var e=uC.rectTransformToAffineTransform(this.getTransform());return YS.multiply(e,this.flipTransform)}},{key:"getFlipTransformMatrix",value:function(){return this.flipTransform}},{key:"isValid",value:function(){return!0}},{key:"getOperation",value:function(){return this.operation}},{key:"updateFlipTransform",value:function(){var e=this.settings,t=e.flipHorizontally,n=e.flipVertically;if(t||n){var i=this.getPivot(),r=this.getBounds(),o=t?-1:1,a=t?-2*(i.x-.5)*r.width:0,s=n?-1:1,l=n?-2*(i.y-.5)*r.height:0;this.flipTransform=new YS(o,0,0,s,a,l)}else this.flipTransform=YS.IDENTITY}},{key:"updateChildrenContainers",value:function(){this.blockTransformUpdate?this.transformUpdateWhileBlock=!0:this.engine.rootOperations.forEach((function(e){RC(e)?(e.updateTransform(),"updateData"in e&&e.updateData()):"updateProperties"in e&&e.updateProperties()}))}}]),n}(qC),ij=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;Object(k.a)(this,n),(o=t.call(this,r)).overlayOperation=e,o.type="overlay";var a=i.blendMode||r.mapBlendMode(e.getBlendMode());return e.set({blendMode:r.reverseMapBlendMode(a)}),e.set({image:i.image}),r.pesdk.setAllOperationsToDirty(),o}return Object(w.a)(n,[{key:"getProperties",value:function(){var e=this.overlayOperation.getOptions();return{image:e.image,blendMode:this.engine.mapBlendMode(e.blendMode),opacity:e.alpha}}},{key:"setProperties",value:function(e){var t=this.overlayOperation.getOptions();"number"===typeof e.opacity&&(t.alpha=e.opacity),void 0!==e.blendMode&&(t.blendMode=this.engine.reverseMapBlendMode(e.blendMode)),this.overlayOperation.set(t),this.overlayOperation.setDirty(!0)}},{key:"getOperation",value:function(){return this.overlayOperation}},{key:"getTypeIdentifier",value:function(){return"overlay"}},{key:"setFlipHorizontally",value:function(e){this.overlayOperation.setFlipHorizontally(e)}},{key:"setFlipVertically",value:function(e){this.overlayOperation.setFlipVertically(e)}},{key:"getFlipHorizontally",value:function(){return this.overlayOperation.getFlipHorizontally()}},{key:"getFlipVertically",value:function(){return this.overlayOperation.getFlipVertically()}}]),n}(GC),rj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;return Object(k.a)(this,n),(o=t.call(this,i)).props=e,o.blurOperation=r,o.type="radial-blur",o.setProperties(e),o}return Object(w.a)(n,[{key:"getProperties",value:function(){return this.props}},{key:"setProperties",value:function(e){this.props=Object(T.a)({},this.props,{},e);var t=this.blurOperation.getOptions(),n=this.engine.getOutputContainer(),i=n.getBounds(),r=this.getContainer(),o=n.getBaseLocalToParentMatrix(),a=uC.getBaseLocalToWorldMatrix(r),s=YS.multiply(YS.getInverted(o),a),l=Math.min(i.size.width,i.size.height);if(void 0!==e.blurRadius){var u=uC.scalarFromSpaceToSpace(e.blurRadius,r,n);t.blurRadius=u/l}if(void 0!==e.center){var c=YS.transformPoint(s,e.center),f=uC.absoluteToRelativePoint(c,n,!1);t.position=f}if(void 0!==e.radius){var d=uC.scalarFromSpaceToSpace(e.radius,r,n)/l;t.radius=d}if(void 0!==e.gradientSize){var h=uC.scalarFromSpaceToSpace(e.gradientSize,r,n)/l;t.gradientRadius=h}this.blurOperation.set(t)}},{key:"updateProperties",value:function(){var e=this.getProperties();this.setProperties(e)}},{key:"getOperation",value:function(){return this.blurOperation}},{key:"getTypeIdentifier",value:function(){return"radial-focus"}}]),n}(GC),oj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;Object(k.a)(this,n),(r=t.call(this,i)).data=e,r.type="sticker";var o=e.image,a=r.engine.pesdk.parseExif(e.image);if(a){var s=a.getTags();if(s&&s.Orientation){var l=1!==s.Orientation&&2!==s.Orientation,u=-1!==[2,4,5,7].indexOf(s.Orientation);if(l||u){var c=r.engine.pesdk.createOperation("exif-orientation",{},!1);c.setTags(s),o=c.applyTo(e.image),a.setOrientation(1),s.Orientation=1}}}return o=new dS(o,{maxMegaPixels:{desktop:10,mobile:5}}).downscaleIfNecessary(),r.operation=i.createSpriteOperation(),r.sprite=r.operation.createSticker({identifier:"",image:o,position:new VC(0,0),dimensions:new VC(1,1),rotation:0,smoothDownscaling:!1}),r.operation.addSprite(r.sprite),r.bounds=new KS({x:0,y:0},{width:o.width,height:o.height}),r.setTransform(lC.IDENTITY),r.sprite.setPivot(new VC(0,0)),r.operation.setDirty(!0),r.setData(e),r}return Object(w.a)(n,[{key:"setData",value:function(e){this.data=Object(T.a)({},this.data,{},e),e.id&&(this.id=e.id),QS(e.opacity)&&e.opacity>=0&&this.sprite.setAlpha(e.opacity),e.tintColor&&this.sprite.setTintColor(WC(e.tintColor)),e.tintMode&&this.sprite.setTintMode(e.tintMode),this.operation.setDirty(!0)}},{key:"getData",value:function(){return this.data}},{key:"updateData",value:function(){this.setData(this.getData())}},{key:"setTransform",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"setTransform",this).call(this,e);var t=this.engine.getOutputContainer(),i=this.getParent(),r={width:this.bounds.width*e.scale.x,height:this.bounds.height*e.scale.y},o=uC.sizeFromSpaceToSpace(r,i,t);this.sprite.setDimensions(VC.fromSize(o));var a=uC.pointFromSpaceToSpace(e.position,i,t,!0),s=uC.absoluteToRelativePoint(a,t,!1);this.sprite.setPosition(new VC(s.x,s.y));var l=uC.getRotationBetweenCoordinateSpaces(i,t),u=e.rotation+l;this.sprite.setRotation(u),this.operation.setDirty(!0)}},{key:"setPivot",value:function(e,t){this.setPivotOnSelfAndSprite(this.sprite,e,t)}},{key:"getOperation",value:function(){return this.operation}},{key:"setFlipHorizontally",value:function(e){this.sprite.setFlipHorizontally(e)}},{key:"setFlipVertically",value:function(e){this.sprite.setFlipVertically(e)}},{key:"getFlipHorizontally",value:function(){return this.sprite.getFlipHorizontally()}},{key:"getFlipVertically",value:function(){return this.sprite.getFlipVertically()}}]),n}(qC);var aj=function(){function e(t){Object(k.a)(this,e),this.context=t,this.sourceLines=[],this.maxWidth=100}return Object(w.a)(e,[{key:"getLines",value:function(){for(var t=[],n=[],i=this.sourceLines.length,r=0;r<i;r+=1){for(var o=this.sourceLines[r],a=e.buildWords(o),s=a.length,l=0;l<s;l+=1){var u=a[l],c=n.concat(u).join("").replace(/\s+$/i,"");if(this.getWidth(c)>this.maxWidth){n.length>0&&(t.push(n.join("")),n=[u]);var f=u.replace(/\s+$/i,"");if(this.getWidth(f)>this.maxWidth){var d=this.splitWord(u);t=t.concat(d.lines),d.rest&&(n=[d.rest])}}else n.push(u)}t.push(n.join("")),n=[]}return t}},{key:"splitWord",value:function(e){for(var t={lines:[],rest:null},n=e.length,i=[],r=0;r<n;r+=1){var o=e[r];this.getWidth(i.concat(o).join(""))>this.maxWidth?(i.length>0&&t.lines.push(i.join("")),i=[o]):i.push(o),r===n-1&&i.length>0&&(t.rest=i.join(""))}return t}},{key:"getWidth",value:function(e){return this.context.measureText(e).width}},{key:"setText",value:function(e){this.sourceLines=e.split("\n")}},{key:"setMaxWidth",value:function(e){this.maxWidth=e}}],[{key:"buildWords",value:function(e){for(var t=[],n="",i=e.length,r=0;r<i;r+=1){var o=e[r];n+=o," "!==o&&"-"!==o&&r!==i-1||(t.push(n),n="")}return t}}]),e}();function sj(e,t,n,i,r,o,a){e.font="".concat(n.fontStyle||"normal"," ").concat(n.fontWeight||"normal"," ").concat(i,'px "').concat(n.fontFamily,'"');var s=new aj(e);s.setText(t),s.setMaxWidth(o);var l=s.getLines().map((function(e){return e.replace(/\s+$/i,"")})),u=function(e,t){if(t){var n=1/t.unitsPerEm*e,i=t.ascender*n,r=t.descender*n;return i+Math.abs(r)}return 1.1*e}(i,a),c=u*r,f=u/5;return{width:o+2*f,height:l.length*c+2*f}}var lj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;if(Object(k.a)(this,n),(r=t.call(this,i)).text=e,r.type="text",!n.measureContext){var o=document.createElement("canvas");n.measureContext=o.getContext("2d")}r.operation=i.createSpriteOperation();var a=r.engine.getOutputContainer(),s=r.getParent(),l=a.getBounds();r.sprite=r.operation.createText({text:e.text,position:new VC(0,0),rotation:0,fontSize:uC.scalarFromSpaceToSpace(e.fontSize/l.height,s,a),lineHeight:e.lineHeight,fontIdentifier:e.fontIdentifier,alignment:e.alignment,color:WC(e.textColor),backgroundColor:WC(e.backgroundColor),maxWidth:uC.scalarFromSpaceToSpace(e.width/l.width,s,a)});var u=i.assetProvider.getFontManager().getFontWithId(e.fontIdentifier);r.sprite.setFontFamily(u.fontFamily),r.sprite.setFontWeight(u.fontWeight||"normal"),r.sprite.setFontStyle(u.fontStyle||"normal"),r.sprite.setFontIdentifier(u.identifier),r.sprite.setTextMetrics(u.textMetrics),r.sprite.setPivot(new VC(0,0)),r.operation.addSprite(r.sprite);var c=sj(n.measureContext,e.text,u,e.fontSize,e.lineHeight,e.width,u.textMetrics);return r.bounds=new KS(0,0,c.width,c.height),r.setTransform(lC.IDENTITY),r.operation.setDirty(!0),r}return Object(w.a)(n,[{key:"setData",value:function(e){this.text=Object(T.a)({},this.text,{},e);var t=this.engine.assetProvider.getFontManager().getFontWithId(e.fontIdentifier||this.text.fontIdentifier);if(e.fontIdentifier&&(this.sprite.setFontFamily(t.fontFamily),this.sprite.setFontWeight(t.fontWeight||"normal"),this.sprite.setFontStyle(t.fontStyle||"normal"),this.sprite.setFontIdentifier(t.identifier),this.sprite.setTextMetrics(t.textMetrics)),e.id&&(this.id=e.id),e.text&&this.sprite.setText(e.text),e.fontSize){var i=this.engine.getOutputContainer(),r=this.getParent(),o=uC.scalarFromSpaceToSpace(e.fontSize,r,i),a=i.getBounds();this.sprite.setFontSize(o/a.height)}if(e.alignment&&this.sprite.setAlignment(e.alignment),e.lineHeight&&this.sprite.setLineHeight(e.lineHeight),e.textColor&&this.sprite.setColor(WC(e.textColor)),e.backgroundColor&&this.sprite.setBackgroundColor(WC(e.backgroundColor)),e.width){var s=this.engine.getOutputContainer(),l=this.getParent(),u=uC.scalarFromSpaceToSpace(e.width,l,s),c=s.getBounds();this.sprite.setMaxWidth(u/c.width)}var f=sj(n.measureContext,this.text.text,t,this.text.fontSize,this.text.lineHeight,this.text.width,t.textMetrics);this.setBoundsFromSize(f.width,f.height),this.operation.setDirty(!0)}},{key:"getData",value:function(){return this.text}},{key:"updateData",value:function(){this.setData(this.getData())}},{key:"setTransform",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"setTransform",this).call(this,e);var t=this.engine.getOutputContainer(),i=this.getParent(),r=uC.pointFromSpaceToSpace(e.position,i,t,!0),o=uC.absoluteToRelativePoint(r,t,!1);this.sprite.setPosition(new VC(o.x,o.y));var a=uC.getRotationBetweenCoordinateSpaces(i,t);this.sprite.setRotation(e.rotation+a),this.operation.setDirty(!0)}},{key:"setPivot",value:function(e,t){this.setPivotOnSelfAndSprite(this.sprite,e,t)}},{key:"getOperation",value:function(){return this.operation}},{key:"setFlipHorizontally",value:function(e){this.sprite.setRotation(this.getFlippedRotation({flipHorizontally:e})),this.sprite.setFlipHorizontally(e)}},{key:"setFlipVertically",value:function(e){this.sprite.setRotation(this.getFlippedRotation({flipVertically:e})),this.sprite.setFlipVertically(e)}},{key:"getFlipHorizontally",value:function(){return this.sprite.getFlipHorizontally()}},{key:"getFlipVertically",value:function(){return this.sprite.getFlipVertically()}},{key:"getFlippedRotation",value:function(e){var t=e.flipVertically,n=e.flipHorizontally,i=t||this.getFlipVertically(),r=n||this.getFlipHorizontally(),o=this.getRotation();return(i||r)&&(o=FC(o)),o}}]),n}(qC),uj=1e3,cj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e,i,r){var o;Object(k.a)(this,n),(o=t.call(this,r)).textDesign=e,o.layout=i,o.type="text-design",o.currentLayoutSize=void 0,o.layoutID=i.identifier,o.operation=r.createSpriteOperation();var a=o.engine.getOutputContainer(),s=o.getParent(),l=a.getBounds(),u=Math.min(l.width,l.height);i.seed(e.seed),o.bounds=o.calculateBounds(o.textDesign,o.layout);var c=e.width;return o.sprite=o.operation.createTextDesign({text:e.text,layout:i,inverted:e.inverted,color:WC(e.color),width:uC.scalarFromSpaceToSpace(e.width/u,s,a),padding:e.padding/c,seed:e.seed}),o.updatePivot(),o.operation.addSprite(o.sprite),o.setTransform(lC.IDENTITY),o.operation.setDirty(!0),o}return Object(w.a)(n,[{key:"calculateBounds",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=e.inverted&&n?Math.max(0,2*e.padding):0,r=e.width/uj;if(void 0===this.currentLayoutSize){t.seed(e.seed);var o=t.generateLayoutData(e.text,uj);this.currentLayoutData=o,this.currentLayoutSize=o.getSize()}return new KS(0,0,this.currentLayoutSize.width*r+i,this.currentLayoutSize.height*r+i)}},{key:"findNextUniqueSeed",value:function(e,t,i){for(var r,o=i,a=this.currentLayoutData?n.stringify(this.currentLayoutData.getRows()):"",s=0;s<20&&(t.seed(o),r=t.generateLayoutData(e.text,uj),a===n.stringify(r.getRows()));s+=1)o+=1;return t.seed(o),this.currentLayoutData=r,o}},{key:"setData",value:function(e){if(this.textDesign=Object(T.a)({},this.textDesign,{},e),e.id&&(this.id=e.id),void 0!==e.padding){var t=this.textDesign.width;this.sprite.setPadding(e.padding/t)}else e.width&&(this.textDesign.padding=this.sprite.getPadding()*this.textDesign.width);if(void 0!==e.seed&&(e.seed<0&&(e.seed=this.findNextUniqueSeed(this.textDesign,this.layout,Date.now()),this.textDesign.seed=e.seed),this.currentLayoutSize=void 0,this.layout.seed(e.seed),this.sprite.setSeed(e.seed),this.sprite.setLayout(this.layout)),e.color&&this.sprite.setColor(WC(e.color)),void 0!==e.inverted&&this.sprite.setInverted(e.inverted),e.text&&(this.currentLayoutSize=void 0,this.sprite.setText(e.text)),e.width){var n=this.engine.getOutputContainer(),i=this.getParent(),r=n.getBounds(),o=Math.min(r.width,r.height),a=uC.scalarFromSpaceToSpace(e.width/o,i,n);this.sprite.setWidth(a)}if(void 0!==e.padding||void 0!==e.seed||void 0!==e.inverted||e.text||e.width){var s=this.calculateBounds(this.textDesign,this.layout);this.setBoundsFromSize(s.width,s.height),this.updatePivot()}this.operation.setDirty(!0)}},{key:"getData",value:function(){return this.textDesign}},{key:"updateData",value:function(){this.setData(this.getData())}},{key:"setTransform",value:function(e){Object(m.a)(Object(p.a)(n.prototype),"setTransform",this).call(this,e);var t=this.engine.getOutputContainer(),i=this.getParent();if(1!==e.scale.x||1!==e.scale.y)throw new Error("This engine doesn't support scaling TextDesign containers! You can change the bounds using the width property of the TextDesign data.");var r=uC.pointFromSpaceToSpace(e.position,i,t,!0),o=uC.absoluteToRelativePoint(r,t,!1);this.sprite.setPosition(new VC(o.x,o.y));var a=uC.getRotationBetweenCoordinateSpaces(i,t);this.sprite.setRotation(e.rotation+a),this.operation.setDirty(!0)}},{key:"setPivot",value:function(e,t){"number"===typeof e?Object(m.a)(Object(p.a)(n.prototype),"setPivot",this).call(this,e,t):Object(m.a)(Object(p.a)(n.prototype),"setPivot",this).call(this,e),this.updatePivot()}},{key:"getOperation",value:function(){return this.operation}},{key:"getLayoutID",value:function(){return this.layoutID}},{key:"setFlipHorizontally",value:function(e){this.sprite.setFlipHorizontally(e)}},{key:"setFlipVertically",value:function(e){this.sprite.setFlipVertically(e)}},{key:"getFlipHorizontally",value:function(){return this.sprite.getFlipHorizontally()}},{key:"getFlipVertically",value:function(){return this.sprite.getFlipVertically()}},{key:"updatePivot",value:function(){var e=this.textDesign.inverted?Math.max(0,this.textDesign.padding):0,t=new $O(this.bounds.width-2*e,this.bounds.height-2*e),n=this.getPivot(),i=new $O(n.x*this.bounds.width,n.y*this.bounds.height),r=new $O(e,e),o=i.subtract(r).divide(t);this.sprite.setPivot(new VC(o.x,o.y))}}],[{key:"stringify",value:function(e){return JSON.stringify(e,n.serializer())}},{key:"serializer",value:function(){var e=[],t=[],n=function(n,i){return e[0]===i?"[Circular ~]":"[Circular ~.".concat(t.slice(0,e.indexOf(i)).join("."),"]")};return function(i,r){var o=this;if(e.length>0){var a=e.indexOf(o);~a?(e.splice(a+1),t.splice(a,1/0,i)):(e.push(o),t.push(i)),~e.indexOf(r)&&(r=n.call(o,i,r))}else e.push(r);return r}}}]),n}(qC),fj=My.Operations.OverlayOperation.BLEND_MODES,dj="imgly_font_open_sans_bold",hj=function(e){Object(C.a)(n,e);var t=Object(S.a)(n);function n(e){var i,r,a,s;if(Object(k.a)(this,n),(i=t.call(this,e)).previews=Array(),i.rootOperationStack=[],i.deferredRenderQueue=[],i.operationStackOffset=1,i.enforceOperationOrder=function(){i.refreshFlipIndex(),i.refreshFrameIndex()},i.isSpriteTop=function(e){var t=i.rootOperationStack.findIndex((function(t){var n=t.id;return e===n})),n=1;return i.rootOperationStack.find((function(e){return"frame"===e.type}))&&(n+=1),t+n===i.rootOperationStack.length},i.setWatermarkOpacity=function(e){var t=i.sdk.getOperationsStack().getByIdentifier("watermark");t&&t.set({alpha:e})},i.assetProvider=e.assetProvider||new VS,(null==(r=null==e?void 0:e.watermark)?void 0:r.watermarkURI)&&"string"===typeof e.watermark.watermarkURI&&"data:"===e.watermark.watermarkURI.slice(0,5)?s=e.watermark.watermarkURI:(null==(a=null==e?void 0:e.watermark)?void 0:a.watermarkURI)&&"string"===typeof e.watermark.watermarkURI&&e.watermark.watermarkURI.trim()&&(s=TS(e.watermark.watermarkURI)?e.watermark.watermarkURI:i.assetProvider.getPath(e.watermark.watermarkURI)),i.wrapper=new NC({license:e.license,crossOrigin:e.crossOrigin,assets:{resolver:function(e,t){return i.resolveAssetForSDK(e,t)}},editor:{preferredRenderer:e.preferredRenderer,pixelRatio:1,clearColor:Pk(e.backgroundColor)},watermark:Object(T.a)({},Pk(e.watermark),{watermarkURI:s})}),i.editor=i.wrapper.getEditor(),i.sdk=i.editor.getSDK(),i.sdk.setRenderMode("adapter"),i.tempCanvas=document.createElement("canvas"),i.sdk.setCanvas(i.tempCanvas),"webgl"===e.preferredRenderer){var l=document.createElement("canvas"),u=l.getContext("webgl")||l.getContext("experimental-webgl");i.maxTextureDimension=u.getParameter(u.MAX_TEXTURE_SIZE),o(l)}else i.maxTextureDimension=1/0;return i}return Object(w.a)(n,[{key:"dispose",value:function(){o(this.tempCanvas),this.rootContainer.dispose(),this.pesdk.dispose(),this.wrapper.dispose()}},{key:"render",value:function(e){var t=this;return new Promise((function(n){var i=function(){return new Promise((function(i){var r=e.canvas,o=e.getTransform(),a=t.outputContainer.getPivot(),s=e.getCanvasBounds(),l=e.quality,u=t.tempCanvas;t.sdk.setTextureQuality(l);var c=t.sdk.getOutputDimensions();return u.width=c.x,u.height=c.y,t.sdk.getRenderer().resizeTo(new VC(u.width,u.height)),t.sdk.render(!0).then((function(){var l=r.getContext("2d");l.clearRect(0,0,r.width,r.height),l.save(),l.translate(-s.minX,-s.minY),l.translate(o.position.x,o.position.y),l.rotate(o.rotation),l.scale(o.scale.x,o.scale.y),l.translate(-a.x*u.width,-a.y*u.height),l.scale(1/e.quality,1/e.quality),l.drawImage(u,0,0),l.restore(),n(),t.deferredRenderQueue.shift(),t.deferredRenderQueue.length?(t.sdk.setAllOperationsToDirty(),Promise.resolve(t.deferredRenderQueue[0]().then(i))):i()}))}))};t.deferredRenderQueue.push(i),1===t.deferredRenderQueue.length&&i()}))}},{key:"createPreview",value:function(e){var t=new IC(e,this);return this.previews.push(t),t}},{key:"export",value:function(){var e=Object(v.a)(_.a.mark((function e(){var t,n,i,r,o,a=this,s=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"image",n=s.length>1&&void 0!==s[1]?s[1]:"image/png",i=s.length>2&&void 0!==s[2]?s[2]:1,r=!(s.length>3&&void 0!==s[3])||s[3],o=s.length>4&&void 0!==s[4]&&s[4],e.abrupt("return",new Promise((function(e){var s=function(){return new Promise((function(s){return a.sdk.export(a.mapToRenderType(t),a.mapToImageFormat(n),i,r,o).then((function(t){e(t),a.deferredRenderQueue.shift(),a.deferredRenderQueue.length?Promise.resolve(a.deferredRenderQueue[0]().then(s)):s()}))}))};a.deferredRenderQueue.push(s),1===a.deferredRenderQueue.length&&s()})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getRootContainers",value:function(){return[this.rootContainer]}},{key:"getOutputContainer",value:function(){return this.outputContainer}},{key:"findContainerByID",value:function(e){return e===this.rootContainer.getID()?this.rootContainer:this.rootOperationStack.find((function(t){return t.getID()===e}))}},{key:"findEffectByID",value:function(e){return this.rootOperationStack.find((function(t){return t.getID()===e}))}},{key:"addImage",value:function(e,t,n){if(this.rootContainer)throw new Error("A background image already exists - did you mean to use addSticker?");var i=new JC(e,this);if(this.rootContainer=i,!this.outputContainer){var r=i.getBounds(),o={resolution:{width:r.width,height:r.height},flipHorizontally:!1,flipVertically:!1},a=this.sdk.createOperation("output",{},!1),s=this.sdk.createOperation("flip",{},!1);this.insertIntoOperationsStack(a,this.operationStackOffset-1),this.insertIntoOperationsStack(s,this.operationStackOffset),this.outputContainer=new nj(o,a,s,this)}return i}},{key:"addSticker",value:function(e,t,n){if(!t)throw new Error("This engine does not support adding stickers as root elements.");this.ensureContainerIsRoot(t);var i=new oj(e,this);return this.addToStackAtIndex(i,n),i}},{key:"addStickerFromAssets",value:function(e,t,n){var i=this;if(!t)throw new Error("This engine does not support adding stickers as root elements.");return this.ensureContainerIsRoot(t),new Promise((function(t,r){var o=new Image;o.onload=function(){var e=new oj({image:o,opacity:1},i);i.addToStackAtIndex(e,n),t(e)},o.onerror=function(e){r(e)},o.crossOrigin=i.config.crossOrigin||null,o.src=i.assetProvider.getAssetSource("sticker",e)}))}},{key:"addText",value:function(e,t,n){if(!t)throw new Error("This engine does not support adding text as root elements.");if(!this.assetProvider.getFontManager().isFontLoaded(e.fontIdentifier||dj))throw new Error("Adding text synchronously only works if the required font is already loded! Consider using the asynchronous addTextWithFontLoading function instead!");this.ensureContainerIsRoot(t);var i=Object(T.a)({text:"",fontIdentifier:dj,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100},e),r=new lj(i,this);return this.addToStackAtIndex(r,n),r}},{key:"addTextWithFontLoading",value:function(e,t,n){var i=this;if(!t)throw new Error("This engine does not support adding text as root elements.");var r=this.assetProvider.getFontManager(),o=e.fontIdentifier||dj;return new Promise((function(a,s){r.loadFontWithIdentifier(o).then((function(){i.ensureContainerIsRoot(t);var r=Object(T.a)({text:"",fontIdentifier:dj,fontSize:20,lineHeight:1,alignment:"center",textColor:[1,1,1],backgroundColor:[0,0,0,0],width:100},e),o=new lj(r,i);i.addToStackAtIndex(o,n),a(o)})).catch(s)}))}},{key:"addTextDesignAsync",value:function(){var e=Object(v.a)(_.a.mark((function e(){var t,n,i,r,o,a,s,l,u,c,f,d,h=this,p=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]?p[0]:"imgly_text_design_blocks",n=p.length>1?p[1]:void 0,i=p.length>2?p[2]:void 0,r=p.length>3?p[3]:void 0,i){e.next=6;break}throw new Error("This engine does not support adding TextDesign as a root element.");case 6:if(o=Object(T.a)({seed:Date.now(),padding:0,text:"",color:[0,0,0],inverted:!1,width:100},n),a=this.wrapper.getTextDesignLayoutByID(t)){e.next=10;break}throw new Error("The layout could not be loaded for the given id: ".concat(t));case 10:return s=a.getImagePaths().map((function(e){var t=e.split("/").pop()||"";return{path:e,fullPath:h.assetProvider.getAssetSource("textdesign",t)}})),l=this.wrapper.getTextDesignAssetManager(),u=this.wrapper.getTextDesignFontManager(),c=u.getVariationsByIdentifier(),l.setFonts(c),e.next=17,l.loadImages(s);case 17:return a.onImagesLoaded(),f=Object.keys(c),d=this.assetProvider.getFontManager(),e.abrupt("return",d.loadFontsWithIdentifiers(f).then((function(){h.ensureContainerIsRoot(i);var e=new cj(o,a,h);return h.addToStackAtIndex(e,r),Promise.resolve(e)})));case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addDrawing",value:function(e,t,n){if(!t)throw new Error("This engine does not support DrawingContainers as root elements.");this.ensureContainerIsRoot(t);var i=new KC(e,this);return this.addToStackAtIndex(i,n),i}},{key:"addGaussianBlur",value:function(e,t,n){this.ensureContainerIsRoot(t);var i=new ZC(e,this,this.sdk.createOperation("blur",{},!1));return this.addToStackAtIndex(i,n),i}},{key:"addRadialBlur",value:function(e,t,n){this.ensureContainerIsRoot(t);var i=new rj(e,this,this.sdk.createOperation("radial-focus",{},!1));return this.addToStackAtIndex(i,n),i}},{key:"addMirroredBlur",value:function(e,t,n){this.ensureContainerIsRoot(t);var i=new tj(e,this,this.sdk.createOperation("mirrored-focus",{},!1));return this.addToStackAtIndex(i,n),i}},{key:"addLinearBlur",value:function(e,t,n){this.ensureContainerIsRoot(t);var i=new $C(e,this,this.sdk.createOperation("linear-focus",{},!1));return this.addToStackAtIndex(i,n),i}},{key:"addDuoToneFilter",value:function(e,t,n){throw new Error("Not supported! Use addDuoToneFilterFromAssets instead")}},{key:"addDuoToneFilterFromAssets",value:function(e,t,n){var i=this;this.ensureContainerIsRoot(t);var r=this.sdk.getOperationsStack().getByIdentifier("filter");r&&r.getIdentifier()!==e&&this.sdk.removeOperation(r);var o=r||this.sdk.createOperation("filter",{identifier:e},!1);return new Promise((function(t,r){try{var a=i.assetProvider.getDuotoneFilterAsset(e),s={colorIntensity:a.defaultIntensity||0},l=new My.Operations.FilterOperation.Filters.DuoToneFilter({intensity:s.colorIntensity,lightColor:My.Color.fromHex(a.lightColor),darkColor:My.Color.fromHex(a.darkColor)}),u=new XC(l,o,s,i);i.addToStackAtIndex(u,n),t(u)}catch(a){a&&r(a)}}))}},{key:"addLUTFilter",value:function(e,t,n){throw new Error("Not supported! Use addLUTFilterFromAssets instead")}},{key:"addLUTFilterFromAssets",value:function(e,t,n){var i=this;this.ensureContainerIsRoot(t);var r=this.sdk.getOperationsStack().getByIdentifier("filter");r&&r.getIdentifier()!==e&&this.sdk.removeOperation(r);var o=r||this.sdk.createOperation("filter",{identifier:e},!1);return this.getLutFilterImage(e).then((function(t){var r=i.assetProvider.getLUTFilterAsset(e),a={horizontalTileCount:r.horizontalTileCount||5,verticalTileCount:r.verticalTileCount||5,intensity:r.defaultIntensity||1},s=new My.Operations.FilterOperation.Filters.ThreeDLUTFilter(Object(T.a)({},a,{image:t})),l=Object(T.a)({},a,{lutImage:new Image}),u=new ej(s,o,l,i);return i.addToStackAtIndex(u,n),u}))}},{key:"getLutFilterImage",value:function(e){var t=this;return new Promise((function(n,i){wS({src:t.assetProvider.getAssetSource("filter",e),crossOrigin:t.config.crossOrigin||null,key:"filter",resolve:n,reject:i})}))}},{key:"addAdjustments",value:function(e,t,n){this.ensureContainerIsRoot(t);var i=new HC(e,this,this.sdk.createOperation("adjustments",{},!1));return this.addToStackAtIndex(i,n),i}},{key:"addOverlay",value:function(e,t,n){this.ensureContainerIsRoot(t);var i=new ij(this.sdk.createOperation("overlay",{},!1),e,this);return this.addToStackAtIndex(i,n),i}},{key:"addOverlayFromAssets",value:function(e,t,n){var i=this;return this.ensureContainerIsRoot(t),new Promise((function(t,r){wS({src:i.assetProvider.getAssetSource("overlay",e),crossOrigin:i.config.crossOrigin||null,key:"overlay",resolve:function(r){var o=i.sdk.getOperationsStack(),a=o.getByIdentifier("overlay");a&&a.getIdentifier()!==e&&o.remove(a);var s=a||i.sdk.createOperation("overlay",{},!1),l=new ij(s,{image:r,opacity:1,blendMode:"normal"},i);i.addToStackAtIndex(l,n),t(l)},reject:r})}))}},{key:"addFrame",value:function(e,t,n){throw new Error("Not supported!")}},{key:"addFrameFromAssets",value:function(){var e=Object(v.a)(_.a.mark((function e(t,n,i){var r,o,a,s,l,u,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureContainerIsRoot(n),r=this.assetProvider.getFrameAsset(t)){e.next=4;break}throw new Error("The requested asset does not exist! ".concat(t));case 4:return o=new YC(r,this),e.next=7,o.load();case 7:return a=this.getOutputContainer().getBounds(),s=Math.min(a.width,a.height),(l=this.sdk.createOperation("frame",{},!1)).setFrame(o.getFrame()),u={opacity:1,tintColor:[1,1,1],tintable:!1,width:Math.max(1,.1*s),imageGroups:o.getFrame().imageGroups},c=new QC(l,u,this),this.addToStackAtIndex(c,i),e.abrupt("return",Promise.resolve(c));case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"removeEffect",value:function(e){if(e.isValid()){var t=e.getOperation();this.sdk.removeOperation(t),this.sdk.setAllOperationsToDirty(),this.rootOperationStack.splice(e.getIndexInParent(),1)}}},{key:"removeContainer",value:function(e){if(e.isValid()&&"output"!==e.type){var t=e.getOperation();this.sdk.removeOperation(t),this.sdk.setAllOperationsToDirty(),this.rootOperationStack.splice(e.getIndexInParent(),1)}}},{key:"refreshOutputIndex",value:function(){var e=this.sdk.getOperationsStack().getIndexByIdentifier("output");this.moveInOperationsStack(e,this.operationStackOffset-1)}},{key:"refreshFlipIndex",value:function(){var e=this.sdk.getOperationsStack().getIndexByIdentifier("flip"),t=this.sdk.getOperationsStack().getStack().length-1;e!==t&&this.moveInOperationsStack(e,t)}},{key:"refreshFrameIndex",value:function(){var e=this.sdk.getOperationsStack().getIndexByIdentifier("frame"),t=this.sdk.getOperationsStack().getStack().length-1;-1!==e&&e!==t&&this.moveInOperationsStack(e,t)}},{key:"mapToRenderType",value:function(e){switch(e){case"image":return My.RenderType.IMAGE;case"data-url":return My.RenderType.DATAURL;case"blob":return My.RenderType.BLOB;case"ms-blob":return My.RenderType.MSBLOB;default:return My.RenderType.IMAGE}}},{key:"mapToImageFormat",value:function(e){switch(e){case"image/png":return My.ImageFormat.PNG;case"image/jpeg":return My.ImageFormat.JPEG;default:return null}}},{key:"mapBlendMode",value:function(e){switch(e){case fj.NORMAL:return"normal";case fj.OVERLAY:return"overlay";case fj.HARD_LIGHT:return"hardLight";case fj.SOFT_LIGHT:return"softLight";case fj.MULTIPLY:return"multiply";case fj.DARKEN:return"darken";case fj.LIGHTEN:return"lighten";case fj.SCREEN:return"screen";case fj.COLOR_BURN:return"colorBurn";default:return"normal"}}},{key:"reverseMapBlendMode",value:function(e){switch(e){case"normal":return fj.NORMAL;case"overlay":return fj.OVERLAY;case"hardLight":return fj.HARD_LIGHT;case"softLight":return fj.SOFT_LIGHT;case"multiply":return fj.MULTIPLY;case"darken":return fj.DARKEN;case"lighten":return fj.LIGHTEN;case"screen":return fj.SCREEN;case"colorBurn":return fj.COLOR_BURN;default:return fj.NORMAL}}},{key:"createSpriteOperation",value:function(){return this.sdk.createOperation("sprite",{},!1)}},{key:"moveIndex",value:function(e,t){var n=this.getSiblingIndex(e);if(-1===n)throw new Error("The item to be moved is not part of any stack.");this.moveInStack(this.rootOperationStack,n,t);var i=this.operationStackOffset;this.moveInOperationsStack(n+i,t+i),this.enforceOperationOrder()}},{key:"ensureContainerIsRoot",value:function(e){if(e.getID()!==this.rootContainer.getID())throw new Error("This engine doesn't support adding this effect/container to anything other than the root image container")}},{key:"addToStackAtIndex",value:function(e,t){if(t&&t<0)throw new Error("The given index may not be negative: ".concat(t));void 0===t?this.rootOperationStack.push(e):this.rootOperationStack.splice(t,0,e);var n=this.rootOperationStack.length-1,i=void 0!==t?t:n;i+=this.operationStackOffset,function(e){e.getContainer}(e),this.insertIntoOperationsStack(e.getOperation(),i),this.sdk.setAllOperationsToDirty()}},{key:"insertIntoOperationsStack",value:function(e,t){for(var n=this.sdk.getOperationsStack().getStack(),i=n.length,r=Math.max(Math.min(t,i),0),o=i-1;o>=r;o-=1){var a=n[o];n[o+1]=a}n[r]=e,this.sdk.setAllOperationsToDirty(),this.enforceOperationOrder()}},{key:"moveInStack",value:function(e,t,n){var i=e.length,r=Math.max(Math.min(t,i-1),0),o=Math.max(Math.min(n,i-1),0);if(r!==o){var a=e[r];if(r<o)for(var s=r+1;s<=o;s+=1)e[s-1]=e[s];else for(var l=r-1;l>=o;l-=1)e[l+1]=e[l];e[o]=a}}},{key:"moveInOperationsStack",value:function(e,t){var n=this.sdk.getOperationsStack().getStack(),i=n.length,r=Math.min(Math.max(0,e),i-1),o=Math.min(Math.max(0,t),i-1);if(r!==o){var a=n[r];if(r<o)for(var s=r+1;s<=o;s+=1)n[s-1]=n[s];else for(var l=r-1;l>=o;l-=1)n[l+1]=n[l];n[o]=a,this.sdk.getOperationsStack().setAllToDirty()}}},{key:"getSiblingIndex",value:function(e){return e.getIndexInParent()}},{key:"resolveAssetForSDK",value:function(e,t){switch(t=t,e){case"filter":return this.assetProvider.getAssetSource("filter",t.identifier);case"overlay":return this.assetProvider.getAssetSource("overlay",t.identifier);case"font":return this.assetProvider.getAssetSource("font",t.identifier);default:return""}return""}},{key:"configuration",get:function(){return this.config}},{key:"pesdk",get:function(){return this.sdk}},{key:"rootOperations",get:function(){return this.rootOperationStack}}]),n}(UC),pj=function(){function e(t){var n=this;Object(k.a)(this,e),this.isEmpty=!1,this.isValid=!1,this.isWhiteLabel=function(){return n.isValid&&n.licenseChecker.isWhiteLabel()},this.areCustomAssetsAllowed=function(){return n.isEmpty||!n.isValid||n.licenseChecker.areCustomAssetsAllowed()},t&&0!==t.length?(this.licenseChecker=new My.LicenseChecker(t),this.isValid=this.licenseChecker.validate()):""===t&&(this.isEmpty=!0)}return Object(w.a)(e,[{key:"isToolAllowed",value:function(e){return!this.licenseChecker||!this.isValid||"customTool"===e||this.licenseChecker.isToolAllowed(e)}}]),e}()}).call(this,n(31),n(37))},function(e,t,n){"use strict";e.exports=n(57)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return Be})),n.d(t,"b",(function(){return He})),n.d(t,"c",(function(){return Ve})),n.d(t,"d",(function(){return qe}));var i=n(20),r=(n(54),n(1)),o=n.n(r),a=n(51),s=n.n(a),l=n(24),u=n(52),c="undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&(Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_ATTR)||"data-styled",f="active",d="data-styled-version",h="6.1.11",p="/*!sc*/\n",m="undefined"!=typeof window&&"HTMLElement"in window,g=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/zeeshanzahoor786/imgly-deployment.git",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_DISABLE_SPEEDY)),y=(new Set,Object.freeze([])),v=Object.freeze({});function b(e,t,n){return void 0===n&&(n=v),e.theme!==n.theme&&e.theme||t||n.theme}var _=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),x=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,k=/(^-|-$)/g;function w(e){return e.replace(x,"-").replace(k,"")}var O=/(a)(d)/gi,S=function(e){return String.fromCharCode(e+(e>25?39:97))};function C(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=S(t%52)+n;return(S(t%52)+n).replace(O,"$1-$2")}var j,T=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},E=function(e){return T(5381,e)};function D(e){return C(E(e)>>>0)}function I(e){return e.displayName||e.name||"Component"}function R(e){return"string"==typeof e&&!0}var F="function"==typeof Symbol&&Symbol.for,A=F?Symbol.for("react.memo"):60115,M=F?Symbol.for("react.forward_ref"):60112,P={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},z={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},B={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},L=((j={})[M]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},j[A]=B,j);function N(e){return("type"in(t=e)&&t.type.$$typeof)===A?B:"$$typeof"in e?L[e.$$typeof]:P;var t}var U=Object.defineProperty,G=Object.getOwnPropertyNames,H=Object.getOwnPropertySymbols,W=Object.getOwnPropertyDescriptor,V=Object.getPrototypeOf,q=Object.prototype;function K(e,t,n){if("string"!=typeof t){if(q){var i=V(t);i&&i!==q&&K(e,i,n)}var r=G(t);H&&(r=r.concat(H(t)));for(var o=N(e),a=N(t),s=0;s<r.length;++s){var l=r[s];if(!(l in z||n&&n[l]||a&&l in a||o&&l in o)){var u=W(t,l);try{U(e,l,u)}catch(e){}}}}return e}function X(e){return"function"==typeof e}function Y(e){return"object"==typeof e&&"styledComponentId"in e}function Q(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function Z(e,t){if(0===e.length)return"";for(var n=e[0],i=1;i<e.length;i++)n+=t?t+e[i]:e[i];return n}function J(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function $(e,t,n){if(void 0===n&&(n=!1),!n&&!J(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)e[i]=$(e[i],t[i]);else if(J(t))for(var i in t)e[i]=$(e[i],t[i]);return e}function ee(e,t){Object.defineProperty(e,"toString",{value:t})}function te(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var ne=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,r=i;e>=r;)if((r<<=1)<0)throw te(16,"".concat(e));this.groupSizes=new Uint32Array(r),this.groupSizes.set(n),this.length=r;for(var o=i;o<r;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=(o=0,t.length);o<s;o++)this.tag.insertRule(a,t[o])&&(this.groupSizes[e]++,a++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),i=n+t;this.groupSizes[e]=0;for(var r=n;r<i;r++)this.tag.deleteRule(n)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),r=i+n,o=i;o<r;o++)t+="".concat(this.tag.getRule(o)).concat(p);return t},e}(),ie=new Map,re=new Map,oe=1,ae=function(e){if(ie.has(e))return ie.get(e);for(;re.has(oe);)oe++;var t=oe++;return ie.set(e,t),re.set(t,e),t},se=function(e,t){oe=t+1,ie.set(e,t),re.set(t,e)},le="style[".concat(c,"][").concat(d,'="').concat(h,'"]'),ue=new RegExp("^".concat(c,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ce=function(e,t,n){for(var i,r=n.split(","),o=0,a=r.length;o<a;o++)(i=r[o])&&e.registerName(t,i)},fe=function(e,t){for(var n,i=(null!==(n=t.textContent)&&void 0!==n?n:"").split(p),r=[],o=0,a=i.length;o<a;o++){var s=i[o].trim();if(s){var l=s.match(ue);if(l){var u=0|parseInt(l[1],10),c=l[2];0!==u&&(se(c,u),ce(e,c,l[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(s)}}};function de(){return n.nc}var he=function(e){var t=document.head,n=e||t,i=document.createElement("style"),r=function(e){var t=Array.from(e.querySelectorAll("style[".concat(c,"]")));return t[t.length-1]}(n),o=void 0!==r?r.nextSibling:null;i.setAttribute(c,f),i.setAttribute(d,h);var a=de();return a&&i.setAttribute("nonce",a),n.insertBefore(i,o),i},pe=function(){function e(e){this.element=he(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,i=t.length;n<i;n++){var r=t[n];if(r.ownerNode===e)return r}throw te(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),me=function(){function e(e){this.element=he(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ge=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ye=m,ve={isServer:!m,useCSSOMInjection:!g},be=function(){function e(e,t,n){void 0===e&&(e=v),void 0===t&&(t={});var r=this;this.options=Object(i.a)(Object(i.a)({},ve),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&m&&ye&&(ye=!1,function(e){for(var t=document.querySelectorAll(le),n=0,i=t.length;n<i;n++){var r=t[n];r&&r.getAttribute(c)!==f&&(fe(e,r),r.parentNode&&r.parentNode.removeChild(r))}}(this)),ee(this,(function(){return function(e){for(var t=e.getTag(),n=t.length,i="",r=function(n){var r=function(e){return re.get(e)}(n);if(void 0===r)return"continue";var o=e.names.get(r),a=t.getGroup(n);if(void 0===o||0===a.length)return"continue";var s="".concat(c,".g").concat(n,'[id="').concat(r,'"]'),l="";void 0!==o&&o.forEach((function(e){e.length>0&&(l+="".concat(e,","))})),i+="".concat(a).concat(s,'{content:"').concat(l,'"}').concat(p)},o=0;o<n;o++)r(o);return i}(r)}))}return e.registerId=function(e){return ae(e)},e.prototype.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Object(i.a)(Object(i.a)({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,n=e.target;return e.isServer?new ge(n):t?new pe(n):new me(n)}(this.options),new ne(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(ae(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},e.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(ae(e),n)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(ae(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),_e=/&/g,xe=/^\s*\/\/.*$/gm;function ke(e){var t,n,i,r=void 0===e?v:e,o=r.options,a=void 0===o?v:o,s=r.plugins,u=void 0===s?y:s,c=function(e,i,r){return r.startsWith(n)&&r.endsWith(n)&&r.replaceAll(n,"").length>0?".".concat(t):e},f=u.slice();f.push((function(e){e.type===l.a&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(_e,n).replace(i,c))})),a.prefix&&f.push(l.d),f.push(l.g);var d=function(e,r,o,s){void 0===r&&(r=""),void 0===o&&(o=""),void 0===s&&(s="&"),t=s,n=r,i=new RegExp("\\".concat(n,"\\b"),"g");var u=e.replace(xe,""),c=l.b(o||r?"".concat(o," ").concat(r," { ").concat(u," }"):u);a.namespace&&(c=function e(t,n){return t.map((function(t){return"rule"===t.type&&(t.value="".concat(n," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(n," ")),t.props=t.props.map((function(e){return"".concat(n," ").concat(e)}))),Array.isArray(t.children)&&"@keyframes"!==t.type&&(t.children=e(t.children,n)),t}))}(c,a.namespace));var d=[];return l.f(c,l.c(f.concat(l.e((function(e){return d.push(e)}))))),d};return d.hash=u.length?u.reduce((function(e,t){return t.name||te(15),T(e,t.name)}),5381).toString():"",d}var we=new be,Oe=ke(),Se=o.a.createContext({shouldForwardProp:void 0,styleSheet:we,stylis:Oe}),Ce=(Se.Consumer,o.a.createContext(void 0));function je(){return Object(r.useContext)(Se)}function Te(e){var t=Object(r.useState)(e.stylisPlugins),n=t[0],i=t[1],a=je().styleSheet,l=Object(r.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target,a]),u=Object(r.useMemo)((function(){return ke({options:{namespace:e.namespace,prefix:e.enableVendorPrefixes},plugins:n})}),[e.enableVendorPrefixes,e.namespace,n]);Object(r.useEffect)((function(){s()(n,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]);var c=Object(r.useMemo)((function(){return{shouldForwardProp:e.shouldForwardProp,styleSheet:l,stylis:u}}),[e.shouldForwardProp,l,u]);return o.a.createElement(Se.Provider,{value:c},o.a.createElement(Ce.Provider,{value:u},e.children))}var Ee=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Oe);var i=n.name+t.hash;e.hasNameForId(n.id,i)||e.insertRules(n.id,i,t(n.rules,i,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,ee(this,(function(){throw te(12,String(n.name))}))}return e.prototype.getName=function(e){return void 0===e&&(e=Oe),this.name+e.hash},e}(),De=function(e){return e>="A"&&e<="Z"};function Ie(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if(1===n&&"-"===i&&"-"===e[0])return e;De(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var Re=function(e){return null==e||!1===e||""===e};function Fe(e,t,n,r){return Re(e)?[]:Y(e)?[".".concat(e.styledComponentId)]:X(e)?!X(o=e)||o.prototype&&o.prototype.isReactComponent||!t?[e]:Fe(e(t),t,n,r):e instanceof Ee?n?(e.inject(n,r),[e.getName(r)]):[e]:J(e)?function e(t){var n,r,o=[];for(var a in t){var s=t[a];t.hasOwnProperty(a)&&!Re(s)&&(Array.isArray(s)&&s.isCss||X(s)?o.push("".concat(Ie(a),":"),s,";"):J(s)?o.push.apply(o,Object(i.b)(Object(i.b)(["".concat(a," {")],e(s),!1),["}"],!1)):o.push("".concat(Ie(a),": ").concat((n=a,null==(r=s)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||n in u.a||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return o}(e):Array.isArray(e)?Array.prototype.concat.apply(y,e.map((function(e){return Fe(e,t,n,r)}))):[e.toString()];var o}function Ae(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(X(n)&&!Y(n))return!1}return!0}var Me=E(h),Pe=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Ae(e),this.componentId=t,this.baseHash=T(Me,t),this.baseStyle=n,be.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))i=Q(i,this.staticRulesId);else{var r=Z(Fe(this.rules,e,t,n)),o=C(T(this.baseHash,r)>>>0);if(!t.hasNameForId(this.componentId,o)){var a=n(r,".".concat(o),void 0,this.componentId);t.insertRules(this.componentId,o,a)}i=Q(i,o),this.staticRulesId=o}else{for(var s=T(this.baseHash,n.hash),l="",u=0;u<this.rules.length;u++){var c=this.rules[u];if("string"==typeof c)l+=c;else if(c){var f=Z(Fe(c,e,t,n));s=T(s,f+u),l+=f}}if(l){var d=C(s>>>0);t.hasNameForId(this.componentId,d)||t.insertRules(this.componentId,d,n(l,".".concat(d),void 0,this.componentId)),i=Q(i,d)}}return i},e}(),ze=o.a.createContext(void 0);ze.Consumer;function Be(e){var t=o.a.useContext(ze),n=Object(r.useMemo)((function(){return function(e,t){if(!e)throw te(14);if(X(e))return e(t);if(Array.isArray(e)||"object"!=typeof e)throw te(8);return t?Object(i.a)(Object(i.a)({},t),e):e}(e.theme,t)}),[e.theme,t]);return e.children?o.a.createElement(ze.Provider,{value:n},e.children):null}var Le={};new Set;function Ne(e,t,n){var a=Y(e),s=e,l=!R(e),u=t.attrs,c=void 0===u?y:u,f=t.componentId,d=void 0===f?function(e,t){var n="string"!=typeof e?"sc":w(e);Le[n]=(Le[n]||0)+1;var i="".concat(n,"-").concat(D(h+n+Le[n]));return t?"".concat(t,"-").concat(i):i}(t.displayName,t.parentComponentId):f,p=t.displayName,m=void 0===p?function(e){return R(e)?"styled.".concat(e):"Styled(".concat(I(e),")")}(e):p,g=t.displayName&&t.componentId?"".concat(w(t.displayName),"-").concat(t.componentId):t.componentId||d,x=a&&s.attrs?s.attrs.concat(c).filter(Boolean):c,k=t.shouldForwardProp;if(a&&s.shouldForwardProp){var O=s.shouldForwardProp;if(t.shouldForwardProp){var S=t.shouldForwardProp;k=function(e,t){return O(e,t)&&S(e,t)}}else k=O}var C=new Pe(n,g,a?s.componentStyle:void 0);function j(e,t){return function(e,t,n){var a=e.attrs,s=e.componentStyle,l=e.defaultProps,u=e.foldedComponentIds,c=e.styledComponentId,f=e.target,d=o.a.useContext(ze),h=je(),p=e.shouldForwardProp||h.shouldForwardProp,m=b(t,d,l)||v,g=function(e,t,n){for(var r,o=Object(i.a)(Object(i.a)({},t),{className:void 0,theme:n}),a=0;a<e.length;a+=1){var s=X(r=e[a])?r(o):r;for(var l in s)o[l]="className"===l?Q(o[l],s[l]):"style"===l?Object(i.a)(Object(i.a)({},o[l]),s[l]):s[l]}return t.className&&(o.className=Q(o.className,t.className)),o}(a,t,m),y=g.as||f,x={};for(var k in g)void 0===g[k]||"$"===k[0]||"as"===k||"theme"===k&&g.theme===m||("forwardedAs"===k?x.as=g.forwardedAs:p&&!p(k,y)||(x[k]=g[k]));var w=function(e,t){var n=je();return e.generateAndInjectStyles(t,n.styleSheet,n.stylis)}(s,g),O=Q(u,c);return w&&(O+=" "+w),g.className&&(O+=" "+g.className),x[R(y)&&!_.has(y)?"class":"className"]=O,x.ref=n,Object(r.createElement)(y,x)}(T,e,t)}j.displayName=m;var T=o.a.forwardRef(j);return T.attrs=x,T.componentStyle=C,T.displayName=m,T.shouldForwardProp=k,T.foldedComponentIds=a?Q(s.foldedComponentIds,s.styledComponentId):"",T.styledComponentId=g,T.target=a?s.target:e,Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=a?function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,r=t;i<r.length;i++)$(e,r[i],!0);return e}({},s.defaultProps,e):e}}),ee(T,(function(){return".".concat(T.styledComponentId)})),l&&K(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),T}function Ue(e,t){for(var n=[e[0]],i=0,r=t.length;i<r;i+=1)n.push(t[i],e[i+1]);return n}var Ge=function(e){return Object.assign(e,{isCss:!0})};function He(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(X(e)||J(e))return Ge(Fe(Ue(y,Object(i.b)([e],t,!0))));var r=e;return 0===t.length&&1===r.length&&"string"==typeof r[0]?Fe(r):Ge(Fe(Ue(r,t)))}var We=function(e){return function e(t,n,r){if(void 0===r&&(r=v),!n)throw te(1,n);var o=function(e){for(var o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];return t(n,r,He.apply(void 0,Object(i.b)([e],o,!1)))};return o.attrs=function(o){return e(t,n,Object(i.a)(Object(i.a)({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},o.withConfig=function(o){return e(t,n,Object(i.a)(Object(i.a)({},r),o))},o}(Ne,e)},Ve=We;_.forEach((function(e){Ve[e]=We(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Ae(e),be.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,n,i){var r=i(Z(Fe(this.rules,t,n,i)),""),o=this.componentId+e;n.insertRules(o,o,r)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,n,i){e>2&&be.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,i)}}();function qe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Z(He.apply(void 0,Object(i.b)([e],t,!1))),o=D(r);return new Ee(o,r)}(function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),n=de(),i=Z([n&&'nonce="'.concat(n,'"'),"".concat(c,'="true"'),"".concat(d,'="').concat(h,'"')].filter(Boolean)," ");return"<style ".concat(i,">").concat(t,"</style>")},this.getStyleTags=function(){if(e.sealed)throw te(2);return e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)throw te(2);var n=((t={})[c]="",t[d]=h,t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=de();return r&&(n.nonce=r),[o.a.createElement("style",Object(i.a)({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new be({isServer:!0}),this.sealed=!1}e.prototype.collectStyles=function(e){if(this.sealed)throw te(2);return o.a.createElement(Te,{sheet:this.instance},e)},e.prototype.interleaveWithNodeStream=function(e){throw te(3)}})(),"__sc-".concat(c,"__")}).call(this,n(37))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";(function(e){n.d(t,"q",(function(){return Ns})),n.d(t,"r",(function(){return Hs})),n.d(t,"s",(function(){return qs})),n.d(t,"t",(function(){return No})),n.d(t,"u",(function(){return mu})),n.d(t,"v",(function(){return Lo})),n.d(t,"w",(function(){return dc})),n.d(t,"x",(function(){return oa})),n.d(t,"y",(function(){return aa})),n.d(t,"z",(function(){return yc})),n.d(t,"A",(function(){return vc})),n.d(t,"B",(function(){return _c})),n.d(t,"C",(function(){return oh})),n.d(t,"D",(function(){return qh})),n.d(t,"E",(function(){return gp})),n.d(t,"F",(function(){return yp})),n.d(t,"G",(function(){return vp})),n.d(t,"H",(function(){return _p})),n.d(t,"a",(function(){return xp})),n.d(t,"b",(function(){return wp})),n.d(t,"c",(function(){return Of})),n.d(t,"d",(function(){return Ud})),n.d(t,"e",(function(){return Jp})),n.d(t,"f",(function(){return Xm})),n.d(t,"g",(function(){return cy})),n.d(t,"h",(function(){return Cy})),n.d(t,"i",(function(){return jy})),n.d(t,"j",(function(){return Ty})),n.d(t,"k",(function(){return Fy})),n.d(t,"l",(function(){return sv})),n.d(t,"m",(function(){return lv})),n.d(t,"n",(function(){return uv})),n.d(t,"o",(function(){return rh})),n.d(t,"p",(function(){return ov}));var i,r,o,a,s,l,u,c,f,d,h,p,m=n(12),g=n.n(m),y=n(16),v=n(15),b=n(18),_=n(6),x=n(17),k=n(11),w=n(21),O=n(3),S=n(5),C=n(9),j=n(8),T=n(4),E=n(0),D=n(2),I=n(1),R=n.n(I),F=n(22);function A(){var e=Object(T.a)(["\n          height: ","px;\n        "]);return A=function(){return e},e}function M(){var e=Object(T.a)(["\n          height: ","px;\n        "]);return M=function(){return e},e}function P(){var e=Object(T.a)(["\n  ","\n  width: 2px;\n  display: inline-block;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"]);return P=function(){return e},e}function z(){var e=Object(T.a)(["\n          height: ","px;\n        "]);return z=function(){return e},e}function B(){var e=Object(T.a)(["\n          height: ","px;\n          "," {\n            svg {\n              visibility: hidden;\n              opacity: 0;\n              height: 0;\n            }\n          }\n          "," {\n            height: ","px;\n          }\n        "]);return B=function(){return e},e}function L(){var e=Object(T.a)(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  transition: height 0.2s ease-out, display 0.1s fade-out;\n  background-color: ",";\n  color: ",";\n  z-index: ",";\n\n  ","\n"]);return L=function(){return e},e}function N(){var e=Object(T.a)(["\n  display: flex;\n  height: ","px;\n  text-align: center;\n  min-width: 100px;\n  /* Allow the text to grow in this limit */\n  max-width: 150px;\n  position: relative;\n  /* Position inline-block box at the top of the line box */\n  vertical-align: top;\n  /* Allow text to wrap again, overwriting the Toolbar style */\n  white-space: normal;\n  margin: 1px;\n"]);return N=function(){return e},e}function U(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    color: ",";\n  }\n"]);return U=function(){return e},e}function G(){var e=Object(T.a)(["\n      &:disabled {\n        cursor: default;\n        pointer-events: none;\n        opacity: ",";\n      }\n    "]);return G=function(){return e},e}function H(){var e=Object(T.a)(["\n  display: block;\n  height: 100%;\n  width: 100%;\n  color: ",";\n  background-color: ",";\n  border: unset;\n  box-shadow: unset;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: '","', sans-serif;\n\n  ","\n  ","\n\n  &:active {\n    ","\n  }\n\n  svg {\n    display: flex;\n    transition: visibility 0s, opacity 0.5s linear;\n    visibility: visible;\n    opacity: 1;\n  }\n"]);return H=function(){return e},e}function W(){var e=Object(T.a)(["\n  background-color: ",";\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n"]);return W=function(){return e},e}function V(){var e=Object(T.a)(["\n      color: ",";\n    "]);return V=function(){return e},e}function q(){var e=Object(T.a)(["\n  display: flex;\n  cursor: pointer;\n  z-index: ",";\n  transition: bottom 0.3s linear;\n\n  color: ",";\n  letter-spacing: ",";\n  font-size: ","px;\n\n  ","\n\n  &:active {\n    color: ",";\n  }\n"]);return q=function(){return e},e}function K(){var e=Object(T.a)(["\n  height: ","px;\n  width: 2px;\n  margin: 0 10px;\n  display: inline-flex;\n  position: relative;\n  &:after {\n    content: ' ';\n    right: 0px;\n    position: absolute;\n    top: 8px;\n    height: calc(100% - 16px);\n    border-right: 1px solid\n      ",";\n  }\n"]);return K=function(){return e},e}function X(){var e=Object(T.a)(["\n          max-height: 0px;\n        "]);return X=function(){return e},e}function Y(){var e=Object(T.a)(["\n          transition-timing-function: ease-in;\n          transition-duration: 0.3s;\n          transition-property: all;\n          padding: 2px 0px;\n          background: ",";\n          color: ",";\n        "]);return Y=function(){return e},e}function Q(){var e=Object(T.a)(["\n  display: flex;\n  flex-shrink: 0;\n  justify-content: center;\n  position: relative;\n  width: 100%;\n  z-index: ",";\n\n  ","\n"]);return Q=function(){return e},e}function Z(){var e=Object(T.a)(["\n      opacity: 1;\n      visibility: visible;\n      display: flex;\n    "]);return Z=function(){return e},e}function J(){var e=Object(T.a)(["\n  visibility: hidden;\n  opacity: 0;\n  display: none;\n\n  ","\n"]);return J=function(){return e},e}function $(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n\n  > div {\n    position: relative;\n    width: 224px;\n\n    ","\n    @media all and (min-width: 0) and (max-width: 599px) {\n      ","\n    }\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(T.a)(["\n  width: 100%;\n"]);return ee=function(){return e},e}function te(){var e=Object(T.a)(["\n            left: -24px;\n            width: calc(100% + 48px);\n          "]);return te=function(){return e},e}function ne(){var e=Object(T.a)(["\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 1px solid ",";\n  }\n"]);return ne=function(){return e},e}function ie(){var e=Object(T.a)(["\n  position: relative;\n  white-space: nowrap;\n  display: flex;\n  flex-direction: column;\n  transition: all 0.2s linear;\n"]);return ie=function(){return e},e}function re(){var e=Object(T.a)(["\n  display: inline-flex;\n  justify-content: center;\n  transform: translate(-100%, -100%);\n\n  ","\n  @media all and (min-width: 0) and (max-width: 499px) {\n    ","\n  }\n"]);return re=function(){return e},e}function oe(){var e=Object(T.a)(["\n  left: 0;\n  right: 0;\n  transform: translateY(-120%);\n  background: transparent;\n  button {\n    &:first-child {\n      border-bottom-right-radius: 0;\n      border-top-right-radius: 0;\n    }\n    &:last-child {\n      border-bottom-left-radius: 0;\n      border-top-left-radius: 0;\n    }\n    &:not(:first-child):not(:last-child) {\n      border-radius: 0;\n    }\n  }\n"]);return oe=function(){return e},e}function ae(){var e=Object(T.a)(["\n  display: inline-flex;\n  padding: 0 4px;\n  height: 20px;\n  font-size: 16px;\n"]);return ae=function(){return e},e}function se(){var e=Object(T.a)([""]);return se=function(){return e},e}function le(){var e=Object(T.a)(["\n  display: inline-flex;\n  align-items: center;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  border-radius: 0px;\n  padding: 1px 12px 2px;\n  background: ",";\n\n  ","\n\n  &:active {\n    ","\n  }\n\n  @media all and (min-width: 0) and (max-width: 599px) {\n    max-width: 150px;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]);return le=function(){return e},e}function ue(){var e=Object(T.a)(["\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n"]);return ue=function(){return e},e}function ce(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  animation: "," 0.2s linear;\n  animation-fill-mode: both;\n  height: 40px;\n  min-width: 350px;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return ce=function(){return e},e}function fe(){var e=Object(T.a)(["\n  min-width: unset;\n  height: unset;\n  min-height: 40px;\n"]);return fe=function(){return e},e}function de(){var e=Object(T.a)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"]);return de=function(){return e},e}function he(){var e=Object(T.a)(["\n  display: grid;\n  grid-template-columns: 1fr min-content 1fr;\n  gap: 1rem;\n  align-items: center;\n  max-width: ","px;\n"]);return he=function(){return e},e}function pe(){var e=Object(T.a)(["\n  padding: 0;\n  padding-left: 4px;\n"]);return pe=function(){return e},e}function me(){var e=Object(T.a)(["\n  z-index: 5;\n  position: absolute;\n  width: 100px;\n  bottom: 30px;\n  right: 30px;\n"]);return me=function(){return e},e}function ge(){var e=Object(T.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  top: ","px;\n  left: ","px;\n  overflow: hidden;\n"]);return ge=function(){return e},e}function ye(){var e=Object(T.a)(["\n  border: none;\n  border-top: 2px dashed ",";\n  background: transparent;\n  left: ","px;\n  top: ","px;\n  transform: rotate(","rad);\n  width: 200%;\n"]);return ye=function(){return e},e}function ve(){var e=Object(T.a)(["\n      width: 2px;\n      height: 100%;\n      left: ","px;\n    "]);return ve=function(){return e},e}function be(){var e=Object(T.a)(["\n        width: 100%;\n        height: 2px;\n        top: ","px;\n      "]);return be=function(){return e},e}function _e(){var e=Object(T.a)(["\n  background: ",";\n  ","\n"]);return _e=function(){return e},e}function xe(){var e=Object(T.a)(["\n  display: ",";\n  position: absolute;\n  z-index: ",";\n"]);return xe=function(){return e},e}function ke(){var e=Object(T.a)(["\n          cursor: move;\n        "]);return ke=function(){return e},e}function we(){var e=Object(T.a)(["\n  ","\n  z-index: ",";\n"]);return we=function(){return e},e}function Oe(){var e=Object(T.a)(["\n  display: inline-flex;\n  gap: 5px;\n\n  svg {\n    color: ",";\n  }\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return Oe=function(){return e},e}function Se(){var e=Object(T.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr;\n  margin-bottom: 0.5rem;\n"]);return Se=function(){return e},e}function Ce(){var e=Object(T.a)(["\n  height: 16px;\n  width: 16px;\n"]);return Ce=function(){return e},e}function je(){var e=Object(T.a)(["\n  height: 16px;\n  width: 16px;\n"]);return je=function(){return e},e}function Te(){var e=Object(T.a)(["\n  height: 16px;\n  width: 16px;\n"]);return Te=function(){return e},e}function Ee(){var e=Object(T.a)(["\n  height: 16px;\n  width: 16px;\n  transform: scaleX(-1);\n"]);return Ee=function(){return e},e}function De(){var e=Object(T.a)(["\n  display: flex;\n  gap: 5px;\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return De=function(){return e},e}function Ie(){var e=Object(T.a)(["\n  justify-content: flex-end;\n  grid-column-start: 2;\n  grid-row-start: 2;\n"]);return Ie=function(){return e},e}function Re(){var e=Object(T.a)(["\n  display: flex;\n  gap: 5px;\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return Re=function(){return e},e}function Fe(){var e=Object(T.a)(["\n  grid-column-start: 1;\n  grid-row-start: 2;\n"]);return Fe=function(){return e},e}function Ae(){var e=Object(T.a)(["\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return Ae=function(){return e},e}function Me(){var e=Object(T.a)(["\n  grid-column-start: span 2;\n"]);return Me=function(){return e},e}function Pe(){var e=Object(T.a)(["\n  transform: translate(0, 0) !important;\n"]);return Pe=function(){return e},e}function ze(){var e=Object(T.a)(["\n      display: inline-block;\n    "]);return ze=function(){return e},e}function Be(){var e=Object(T.a)(["\n  font-size: 15px;\n  display: none;\n  width: 33px;\n  text-align: right;\n  color: ",";\n  z-index: 1;\n  margin: 2px;\n  ","\n"]);return Be=function(){return e},e}function Le(){var e=Object(T.a)(["\n  position: relative;\n  cursor: pointer;\n  display: flex;\n  align-self: center;\n"]);return Le=function(){return e},e}function Ne(){var e=Object(T.a)(["\n      display: inline-block;\n    "]);return Ne=function(){return e},e}function Ue(){var e=Object(T.a)(["\n  overflow: hidden;\n  display: none;\n  position: relative;\n  transform: unset !important;\n  vertical-align: bottom;\n  ","\n\n  svg {\n    color: ",";\n  }\n"]);return Ue=function(){return e},e}function Ge(){var e=Object(T.a)(["\n    top: ","px;\n    left: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      top: -30px;\n      left: 6px;\n    }\n  "]);return Ge=function(){return e},e}function He(){var e=Object(T.a)(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: -30px;\n    }\n  "]);return He=function(){return e},e}function We(){var e=Object(T.a)(["\n    left: ","px;\n    top: ","px;\n    @media all and (min-width: 0) and (max-width: 599px) {\n      left: -30px;\n      top: 6px;\n    }\n  "]);return We=function(){return e},e}function Ve(){var e=Object(T.a)(["\n  left: ","px;\n  top: ","px;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    left: 6px;\n    top: 6px;\n  }\n"]);return Ve=function(){return e},e}function qe(){var e=Object(T.a)(["\n  right: -3px;\n  top: calc(\n    50% - ","px\n  );\n"]);return qe=function(){return e},e}function Ke(){var e=Object(T.a)(["\n  left: -3px;\n  top: calc(\n    50% - ","px\n  );\n"]);return Ke=function(){return e},e}function Xe(){var e=Object(T.a)(["\n  cursor: ew-resize;\n  @media all and (min-width: 0) and (max-width: 599px) {\n    display: none;\n  }\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(T.a)(["\n  margin-left: -11px;\n  margin-top: 0px;\n  cursor: url(",") 9 9, ew-resize;\n  &:before {\n    top: unset;\n    bottom: 0px;\n    left: calc(\n      50% - ","px\n    );\n  }\n"]);return Ye=function(){return e},e}function Qe(){var e=Object(T.a)(["\n  position: absolute;\n  right: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]);return Qe=function(){return e},e}function Ze(){var e=Object(T.a)(["\n  position: absolute;\n  left: -24px;\n  top: calc(50% - 12px);\n  cursor: ew-resize;\n"]);return Ze=function(){return e},e}function Je(){var e=Object(T.a)(["\n  margin-top: -","px;\n  margin-left: -","px;\n"]);return Je=function(){return e},e}function $e(){var e=Object(T.a)(["\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  transform: translate(-50%, -50%);\n  border-radius: 50%;\n  border-width: 2px;\n  border-style: solid;\n  box-shadow: 0 0 0 0.5px rgba(0, 0, 0, 0.8), 0 0 0 1px rgba(255, 255, 255, 1);\n  color: ",";\n"]);return $e=function(){return e},e}function et(){var e=Object(T.a)(["\n  cursor: none;\n"]);return et=function(){return e},e}function tt(){var e=Object(T.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  position: relative;\n"]);return tt=function(){return e},e}function nt(){var e=Object(T.a)(["\n  display: flex;\n"]);return nt=function(){return e},e}function it(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 30px;\n"]);return it=function(){return e},e}function rt(){var e=Object(T.a)(["\n  margin-top: 8px;\n"]);return rt=function(){return e},e}function ot(){var e=Object(T.a)(["\n  margin-top: 8px;\n"]);return ot=function(){return e},e}function at(){var e=Object(T.a)(["\n        transform: translate(0, -100%);\n      "]);return at=function(){return e},e}function st(){var e=Object(T.a)(["\n  &&& {\n    position: absolute;\n    ","\n    padding: 16px;\n    box-sizing: border-box;\n    box-shadow: ",";\n    background: ",";\n    border-radius: ","px;\n    width: ","px;\n    height: ","px;\n    left: 8px;\n    z-index: 1;\n  }\n"]);return st=function(){return e},e}function lt(){var e=Object(T.a)(["\n      display: block;\n      opacity: 1;\n      transition: opacity 0.3s ease-out;\n    "]);return lt=function(){return e},e}function ut(){var e=Object(T.a)(["\n  position: absolute;\n  left: ","px;\n  top: ","px;\n  z-index: ",";\n  display: none;\n  opacity: 0;\n  transition: opacity 0.3s ease-out;\n  ","\n"]);return ut=function(){return e},e}function ct(){var e=Object(T.a)(["\n  height: ","px;\n  margin-top: 0px;\n"]);return ct=function(){return e},e}function ft(){var e=Object(T.a)(["\n  ","\n  background: linear-gradient(to top, rgb(0, 0, 0), rgba(0, 0, 0, 0)),\n   linear-gradient(to right, rgb(255, 255, 255), rgba(255, 255, 255, 0));\n  height: ","px;\n  top: 0px;\n"]);return ft=function(){return e},e}function dt(){var e=Object(T.a)(["\n  ","\n  z-index: 0;\n  background-repeat: repeat-x;\n  background-size: contain;\n  background-position: left;\n"]);return dt=function(){return e},e}function ht(){var e=Object(T.a)(["\n  ","\n  z-index: 1;\n"]);return ht=function(){return e},e}function pt(){var e=Object(T.a)(["\n  ","\n  background: linear-gradient(90deg, #F00 0%, #FF0 16.66%, #0F0 33.33%, #0FF 50%, #00F 66.66%, #F0F 83.33%, #F00 100%);\n  height: 8px;\n"]);return pt=function(){return e},e}function mt(){var e=Object(T.a)(["\n  position: absolute;\n  top: 3px;\n  left: 0;\n  width: 100%;\n  height: 8px;\n  cursor: pointer;\n  -webkit-tap-highlight-color: transparent;\n"]);return mt=function(){return e},e}function gt(){var e=Object(T.a)(["\n  position: relative;\n  height: 14px;\n  width: 100%;\n"]);return gt=function(){return e},e}function yt(){var e=Object(T.a)(["\n  &&& {\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    border: 2px solid ",";\n    box-sizing: border-box;\n    cursor: pointer;\n    box-shadow: 0 1px 1px 0 rgba(0, 0, 0, 0.11), 0 1px 3px 0 rgba(0, 0, 0, 0.46);\n    z-index: 2;\n    pointer-events: none;\n  }\n"]);return yt=function(){return e},e}function vt(){var e=Object(T.a)(["\n  input {\n    text-align: left;\n    border-bottom: 1px solid\n      ",";\n  }\n"]);return vt=function(){return e},e}function bt(){var e=Object(T.a)(["\n  text-align: left;\n  width: 62px;\n"]);return bt=function(){return e},e}function _t(){var e=Object(T.a)(["\n  input {\n    text-align: center;\n    border-bottom: 1px solid\n      ",";\n  }\n"]);return _t=function(){return e},e}function xt(){var e=Object(T.a)(["\n  text-align: center;\n  width: 28px;\n  padding-left: 4px;\n"]);return xt=function(){return e},e}function kt(){var e=Object(T.a)(["\n            transform: translate(-50%, -50%) rotate(45deg);\n          "]);return kt=function(){return e},e}function wt(){var e=Object(T.a)(["\n            transform: translate(-50%, 50%) rotate(45deg);\n          "]);return wt=function(){return e},e}function Ot(){var e=Object(T.a)(["\n          top: 100%;\n        "]);return Ot=function(){return e},e}function St(){var e=Object(T.a)(["\n          bottom: 100%;\n        "]);return St=function(){return e},e}function Ct(){var e=Object(T.a)(["\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  pointer-events: none;\n  ","\n  left: ","px;\n  :after {\n    content: '';\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    left: 50%;\n    ","\n    background-color: ",";\n    pointer-events: none;\n  }\n"]);return Ct=function(){return e},e}function jt(){var e=Object(T.a)(["\n  > :last-child {\n    margin-left: 10px;\n  }\n  > :first-child {\n    margin-left: 0;\n  }\n"]);return jt=function(){return e},e}function Tt(){var e=Object(T.a)(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "]);return Tt=function(){return e},e}function Et(){var e=Object(T.a)(["\n  display: inline-flex;\n  ","\n"]);return Et=function(){return e},e}function Dt(){var e=Object(T.a)(["\n  font-size: 14px;\n  padding: 3px 1px 2px;\n  color: ",";\n  letter-spacing: ","px;\n  display: flex;\n  align-self: center;\n"]);return Dt=function(){return e},e}function It(){var e=Object(T.a)(["\n  position: relative;\n  transition: all 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  height: 100%;\n  width: 100%;\n  z-index: ",";\n  background-color: ",";\n"]);return It=function(){return e},e}function Rt(){var e=Object(T.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]);return Rt=function(){return e},e}function Ft(){var e=Object(T.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return Ft=function(){return e},e}function At(){var e=Object(T.a)(["\n  z-index: ",";\n  ",";\n"]);return At=function(){return e},e}function Mt(){var e=Object(T.a)(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"]);return Mt=function(){return e},e}function Pt(){var e=Object(T.a)(["\n  position: absolute;\n  box-shadow: inset 0 0 0 2px ",";\n  cursor: move;\n  ","\n"]);return Pt=function(){return e},e}function zt(){var e=Object(T.a)(["\n  position: absolute;\n  background: ",";\n  z-index: ",";\n  ","\n"]);return zt=function(){return e},e}function Bt(){var e=Object(T.a)(["\n      transition: all 0.4s ease-in-out;\n    "]);return Bt=function(){return e},e}function Lt(){var e=Object(T.a)(["\n      transition: unset;\n    "]);return Lt=function(){return e},e}function Nt(){var e=Object(T.a)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  top: 0;\n  left: 0;\n  &:focus {\n    outline: 0;\n  }\n"]);return Nt=function(){return e},e}function Ut(){var e=Object(T.a)(["\n  position: absolute;\n  height: ","px;\n  width: 4px;\n  z-index: ",";\n  background: ",";\n  cursor: pointer;\n"]);return Ut=function(){return e},e}function Gt(){var e=Object(T.a)(["\n  left: -","px;\n  top: -","px;\n  transform-origin: center center;\n  border-style: solid;\n  border-width: 2px;\n  border-color: ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n  will-change: transform;\n  position: absolute;\n"]);return Gt=function(){return e},e}function Ht(){var e=Object(T.a)(["\n  position: absolute;\n  bottom: -","px;\n  height: ","px;\n  width: 2px;\n  background-color: ",";\n"]);return Ht=function(){return e},e}function Wt(){var e=Object(T.a)(["\n  position: absolute;\n  color: ",";\n"]);return Wt=function(){return e},e}function Vt(){var e=Object(T.a)(["\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  margin-left: -10px;\n  margin-top: -10px;\n  z-index: ",";\n  will-change: transform;\n  cursor: ew-resize;\n  &:before {\n    display: block;\n    position: absolute;\n    content: '';\n    background: ",";\n    border-radius: 50%;\n    width: ","px;\n    height: ","px;\n    top: ","px;\n    left: ","px;\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.24);\n  }\n"]);return Vt=function(){return e},e}function qt(){var e=Object(T.a)(["\n              margin-right: ","px;\n            "]);return qt=function(){return e},e}function Kt(){var e=Object(T.a)(["\n              margin-left: ","px;\n            "]);return Kt=function(){return e},e}function Xt(){var e=Object(T.a)(["\n              margin-bottom: ","px;\n            "]);return Xt=function(){return e},e}function Yt(){var e=Object(T.a)(["\n              margin-top: ","px;\n            "]);return Yt=function(){return e},e}function Qt(){var e=Object(T.a)(["\n            right: ","px;\n          "]);return Qt=function(){return e},e}function Zt(){var e=Object(T.a)(["\n            left: ","px;\n          "]);return Zt=function(){return e},e}function Jt(){var e=Object(T.a)(["\n            bottom: ","px;\n          "]);return Jt=function(){return e},e}function $t(){var e=Object(T.a)(["\n            top: ","px;\n          "]);return $t=function(){return e},e}function en(){var e=Object(T.a)(["\n    &:before {\n      display: block;\n      position: absolute;\n      content: '';\n      width: ","px;\n      height: ","px;\n      z-index: ",";\n      border-color: ",";\n      border-style: solid;\n      border-width: ",";\n      pointer-events: auto;\n      ","\n      ","\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n        ","\n      }\n    }\n    cursor: ",";\n    pointer-events: none;\n  "]);return en=function(){return e},e}function tn(){var e=Object(T.a)(["\n              margin-right: -","px;\n            "]);return tn=function(){return e},e}function nn(){var e=Object(T.a)(["\n              margin-left: -","px;\n            "]);return nn=function(){return e},e}function rn(){var e=Object(T.a)(["\n              margin-bottom: -","px;\n            "]);return rn=function(){return e},e}function on(){var e=Object(T.a)(["\n              margin-top: -","px;\n            "]);return on=function(){return e},e}function an(){var e=Object(T.a)(["\n            margin-right: -","px;\n          "]);return an=function(){return e},e}function sn(){var e=Object(T.a)(["\n            margin-left: -","px;\n          "]);return sn=function(){return e},e}function ln(){var e=Object(T.a)(["\n            margin-bottom: -","px;\n          "]);return ln=function(){return e},e}function un(){var e=Object(T.a)(["\n            margin-top: -","px;\n          "]);return un=function(){return e},e}function cn(){var e=Object(T.a)(["\n            right: 0px;\n          "]);return cn=function(){return e},e}function fn(){var e=Object(T.a)(["\n            left: 0px;\n          "]);return fn=function(){return e},e}function dn(){var e=Object(T.a)(["\n            bottom: 0px;\n          "]);return dn=function(){return e},e}function hn(){var e=Object(T.a)(["\n            top: 0px;\n          "]);return hn=function(){return e},e}function pn(){var e=Object(T.a)(["\n    position: absolute;\n    width: ","px;\n    height: ","px;\n    ","\n    ","\n  ","\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n      width: ","px;\n      height: ","px;\n      ","\n      ","\n    }\n  "]);return pn=function(){return e},e}function mn(){var e=Object(T.a)(["\n  position: relative;\n  height: inherit;\n  width: inherit;\n"]);return mn=function(){return e},e}function gn(){var e=Object(T.a)(["\n  border-radius: 50%;\n  border: 2px solid ",";\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.2),\n    inset 0 2px 6px 0 rgba(0, 0, 0, 0.2);\n  cursor: move;\n"]);return gn=function(){return e},e}function yn(){var e=Object(T.a)(["\n  border-style: solid;\n  border-width: 2px 0 2px 0;\n  border-color: ",";\n  box-shadow: 0 -6px 6px -6px rgba(0, 0, 0, 0.2),\n    inset 0 6px 6px -6px rgba(0, 0, 0, 0.2);\n  cursor: move;\n  position: absolute;\n"]);return yn=function(){return e},e}function vn(){var e=Object(T.a)(["\n  background-color: ",";\n  flex-grow: 1;\n  flex-shrink: 1;\n  flex-basis: auto;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /* added this for safari, else the webcam overlay did not know the height */\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  margin-top: ","px;\n"]);return vn=function(){return e},e}function bn(){var e=Object(T.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return bn=function(){return e},e}function _n(){var e=Object(T.a)(["\n            justify-content: space-between;\n          "]);return _n=function(){return e},e}function xn(){var e=Object(T.a)(["\n            justify-content: space-around;\n            bottom: 0;\n            transform: rotate(180deg);\n          "]);return xn=function(){return e},e}function kn(){var e=Object(T.a)(["\n  &&& {\n    display: ",";\n    flex-direction: row;\n    align-items: center;\n    height: ","px;\n    color: ",";\n    border-bottom: 1px solid\n      ",";\n    padding: 8px 24px;\n    box-sizing: border-box;\n    position: absolute;\n    width: 100%;\n    z-index: ",";\n    background: ",";\n    ","\n  }\n"]);return kn=function(){return e},e}function wn(){var e=Object(T.a)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n  max-width: calc(100% - ","px);\n"]);return wn=function(){return e},e}function On(){var e=Object(T.a)([""]);return On=function(){return e},e}function Sn(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Sn=function(){return e},e}function Cn(){var e=Object(T.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto 1fr;\n  align-items: center;\n\n  gap: 0 10vw;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return Cn=function(){return e},e}function jn(){var e=Object(T.a)(["\n  gap: 0 0.5rem;\n"]);return jn=function(){return e},e}function Tn(){var e=Object(T.a)(["\n      transform: translateY(-100%) scaleY(1);\n    "]);return Tn=function(){return e},e}function En(){var e=Object(T.a)(["\n  display: flex;\n  box-sizing: border-box;\n  position: absolute;\n  left: 0%;\n  transform: translateY(0%) scaleY(0);\n  justify-content: center;\n  padding: 0 5vw;\n  width: 100%;\n  height: ","px;\n  align-items: center;\n  transition: transform 0.4s ease-in-out;\n  z-index: ",";\n  background: ",";\n  color: ",";\n\n  ","\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return En=function(){return e},e}function Dn(){var e=Object(T.a)(["\n  padding: 0 1rem;\n  height: unset;\n  min-height: ","px;\n"]);return Dn=function(){return e},e}function In(){var e=Object(T.a)(["\n  position: relative;\n\n  text-align: -moz-center;\n  text-align: center;\n  text-align: -webkit-center;\n  align-self: flex-end;\n\n  height: auto;\n  box-shadow: ",";\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return In=function(){return e},e}function Rn(){var e=Object(T.a)(["\n  width: 100%;\n"]);return Rn=function(){return e},e}function Fn(){var e=Object(T.a)(["\n          max-height: 0px;\n        "]);return Fn=function(){return e},e}function An(){var e=Object(T.a)(["\n          max-height: 80px;\n        "]);return An=function(){return e},e}function Mn(){var e=Object(T.a)(["\n  position: relative;\n  display: flex;\n  flex-shrink: 0;\n  height: auto;\n  transition: max-height 0.4s ease-in-out;\n  ","\n"]);return Mn=function(){return e},e}function Pn(){var e=Object(T.a)(["\n  display: flex;\n  /* This fixes an IE11 issue where the items are behind the category */\n  flex: 1 0 auto;\n"]);return Pn=function(){return e},e}function zn(){var e=Object(T.a)(["\n  &&& {\n    min-height: 32px;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n  }\n"]);return zn=function(){return e},e}function Bn(){var e=Object(T.a)(["\n  transition-property: width;\n  transition-duration: 0.4s;\n  transition-timing-function: ease-in;\n  height: ","px;\n"]);return Bn=function(){return e},e}function Ln(){var e=Object(T.a)(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"]);return Ln=function(){return e},e}function Nn(){var e=Object(T.a)(["\n  margin: 2px;\n  min-width: ","px;\n  height: ","px;\n  color: ",";\n"]);return Nn=function(){return e},e}function Un(){var e=Object(T.a)(["\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  background-color: ",";\n"]);return Un=function(){return e},e}function Gn(){var e=Object(T.a)(["\n  width: 60px;\n  height: 60px;\n  background-color: gray;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n  z-index: ",";\n  padding: 2px;\n"]);return Gn=function(){return e},e}function Hn(){var e=Object(T.a)(["\n          opacity: 0;\n        "]);return Hn=function(){return e},e}function Wn(){var e=Object(T.a)(["\n          opacity: 1;\n        "]);return Wn=function(){return e},e}function Vn(){var e=Object(T.a)(["\n  ",";\n  position: absolute;\n  transform: translate(-50%, -100%);\n  background: ",";\n  color: ",";\n  border-radius: ","px;\n  white-space: nowrap;\n  transition: opacity 0.3s ease-in-out;\n  z-index: ",";\n\n  "," {\n    &:after {\n      content: '';\n      position: absolute;\n      right: 0px;\n      top: 6px;\n      height: calc(100% - 12px);\n      border-right: 1px solid\n        ",";\n      &:last-child {\n        border-right: unset;\n      }\n    }\n  }\n"]);return Vn=function(){return e},e}function qn(){var e=Object(T.a)(["\n  background: ",";\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  padding: 4px 10px;\n  position: relative;\n  /* for safari */\n  margin: 0;\n  &:last-child:after {\n    opacity: 0;\n  }\n"]);return qn=function(){return e},e}function Kn(){var e=Object(T.a)(["\n  display: inline-flex;\n"]);return Kn=function(){return e},e}function Xn(){var e=Object(T.a)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"]);return Xn=function(){return e},e}function Yn(){var e=Object(T.a)(["\n  &&& {\n    box-sizing: border-box;\n  }\n\n  /* basic ui text items use position absolute */\n  position: relative;\n\n  padding: 0;\n  cursor: pointer;\n  /* Safari will change the height of the toolbar and position the category cards at the bottom for some reason */\n  vertical-align: top;\n  border: none;\n  box-sizing: border-box;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: ",";\n  color: ",";\n\n  border-radius: ","px;\n  ",";\n  animation-fill-mode: both;\n  overflow: hidden;\n\n  ","\n\n  /* Active */\n\n  /* No :active styles on purpose. */\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n"]);return Yn=function(){return e},e}function Qn(){var e=Object(T.a)(["\n  border: 1px solid ",";\n  "," {\n    background-color: ",";\n  }\n"]);return Qn=function(){return e},e}function Zn(){var e=Object(T.a)(["\n    animation: "," 0.2s linear;\n  "]);return Zn=function(){return e},e}function Jn(){var e=Object(T.a)(["\n      visibility: visible;\n      animation: "," 0.5s, fadeout 0.5s 2.5s;\n    "]);return Jn=function(){return e},e}function $n(){var e=Object(T.a)(["\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  transform: translate(-50%, 50%);\n  background: black;\n  color: white;\n  border-radius: ","px;\n  padding: 10px 16px;\n  text-align: center;\n  z-index: ",";\n  visibility: hidden;\n\n  ","\n"]);return $n=function(){return e},e}function ei(){var e=Object(T.a)(["\n  from { transform: translate(-50%, 0%); }\n  to { transform: translate(-50%, 50%); }\n"]);return ei=function(){return e},e}function ti(){var e=Object(T.a)(["\n  padding-bottom: ","px;\n"]);return ti=function(){return e},e}function ni(){var e=Object(T.a)(["\n  border-top: none;\n"]);return ni=function(){return e},e}function ii(){var e=Object(T.a)(["\n  height: 100%;\n"]);return ii=function(){return e},e}function ri(){var e=Object(T.a)(["\n  padding: 11px 20px 8px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n"]);return ri=function(){return e},e}function oi(){var e=Object(T.a)(["\n  display: flex;\n  caret-color: ",";\n  ","\n  min-height: 100%;\n  padding: 0px;\n  outline-offset: -8px;\n  color: ",";\n  resize: none;\n  font-family: '","', sans-serif;\n\n  &:selection,\n  &:-moz-selection {\n    background-color: ",";\n    color: ",";\n  }\n"]);return oi=function(){return e},e}function ai(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n"]);return ai=function(){return e},e}function si(){var e=Object(T.a)(["\n  padding: 0;\n  margin: 0;\n"]);return si=function(){return e},e}function li(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-left: 8px;\n  @media all and (min-width: 640px) {\n    margin-left: 30px;\n  }\n"]);return li=function(){return e},e}function ui(){var e=Object(T.a)(["\n  padding: 0;\n"]);return ui=function(){return e},e}function ci(){var e=Object(T.a)(["\n  display: flex;\n"]);return ci=function(){return e},e}function fi(){var e=Object(T.a)(["\n      height: 2px;\n    "]);return fi=function(){return e},e}function di(){var e=Object(T.a)(["\n        height: 4px;\n      "]);return di=function(){return e},e}function hi(){var e=Object(T.a)(["\n        margin-top: 10px;\n        height: 20px;\n        /* remove once we have a better concept for focus in all browser */\n        &:focus {\n          box-shadow: none;\n        }\n      "]);return hi=function(){return e},e}function pi(){var e=Object(T.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  appearance: none;\n  width: 100%;\n  max-width: ",";\n  outline: none;\n  border-radius: 0; /* iOS */\n\n  padding: 0;\n  margin: 0;\n  border: none;\n\n  ","\n\n  ","\n\n  &::-moz-focus-outer {\n    /** This is to remove the dotted focus lines in firefox */\n    border: 0;\n  }\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n  &:hover {\n    opacity: ",";\n  }\n  &::-webkit-slider-runnable-track {\n    cursor: pointer;\n    appearance: none;\n  }\n  &::-moz-range-track {\n    appearance: none;\n    cursor: pointer;\n  }\n  &::-ms-track {\n    cursor: pointer;\n    height: 2px;\n    appearance: none;\n    background: transparent;\n    color: transparent;\n    border-color: transparent;\n    border-width: 6px 0;\n  }\n  &::-webkit-slider-thumb {\n    appearance: none;\n    ","\n  }\n  &::-moz-range-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-thumb {\n    appearance: none;\n    ","\n  }\n  &::-ms-fill-lower {\n    background: ",";\n  }\n  &::-ms-fill-upper {\n    background: ",";\n  }\n  &::-ms-tooltip {\n    display: none;\n  }\n"]);return pi=function(){return e},e}function mi(){var e=Object(T.a)(["\n        width: 20px;\n        height: 20px;\n      "]);return mi=function(){return e},e}function gi(){var e=Object(T.a)(["\n        width: 16px;\n        height: 16px;\n      "]);return gi=function(){return e},e}function yi(){var e=Object(T.a)(["\n  ","\n  background: ",";\n  border: 2px solid ",";\n  border-radius: 50%;\n  cursor: pointer;\n"]);return yi=function(){return e},e}function vi(){var e=Object(T.a)(["\n  padding-bottom: 2px;\n"]);return vi=function(){return e},e}function bi(){var e=Object(T.a)(["\n  max-width: 50px;\n  padding-left: 16px;\n  > div > input {\n    text-align: center;\n  }\n"]);return bi=function(){return e},e}function _i(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  height: 26px;\n  margin-right: ","px;\n  width: ",";\n"]);return _i=function(){return e},e}function xi(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  /* needed for IE11 to properly calculate the width */\n  min-width: 1px;\n"]);return xi=function(){return e},e}function ki(){var e=Object(T.a)(["\n        flex-wrap: wrap;\n      "]);return ki=function(){return e},e}function wi(){var e=Object(T.a)(["\n  display: inline-flex;\n  ","\n"]);return wi=function(){return e},e}function Oi(){var e=Object(T.a)([""]);return Oi=function(){return e},e}function Si(){var e=Object(T.a)(["\n  ","\n"]);return Si=function(){return e},e}function Ci(){var e=Object(T.a)(["\n        display: flex;\n        flex: 0 1 auto;\n        flex-direction: column;\n      "]);return Ci=function(){return e},e}function ji(){var e=Object(T.a)([""]);return ji=function(){return e},e}function Ti(){var e=Object(T.a)(["\n  ","\n"]);return Ti=function(){return e},e}function Ei(){var e=Object(T.a)(["\n  ","\n  border-bottom: none;\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n    pointer-events: none;\n  }\n"]);return Ei=function(){return e},e}function Di(){var e=Object(T.a)(["\n  ","\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: unset;\n\n  &:focus-within {\n    border-color: ",";\n  }\n"]);return Di=function(){return e},e}function Ii(){var e=Object(T.a)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  height: 100%;\n  width: 100%;\n  min-height: 26px;\n  color: ",";\n  padding: 0;\n  border: none;\n  appearance: none;\n  border-bottom: 1px solid ",";\n  background: ",";\n  font-family: '","', sans-serif;\n  transition: border-color 0.4s ease-in-out;\n\n  &::-webkit-inner-spin-button,\n  &::-webkit-outer-spin-button {\n    margin: 0;\n  }\n\n  &:-moz-focusring {\n    outline: none;\n    border-color: ",";\n  }\n\n  &::-ms-clear,\n  &::-ms-reveal {\n    display: none;\n  }\n\n  &:focus {\n    outline: none;\n    border-color: ",";\n  }\n\n  &:disabled {\n    opacity: ",";\n    pointer-events: none;\n  }\n\n  &:hover {\n    border-color: ",";\n  }\n"]);return Ii=function(){return e},e}function Ri(){var e=Object(T.a)(["\n  display: none;\n"]);return Ri=function(){return e},e}function Fi(){var e=Object(T.a)([""]);return Fi=function(){return e},e}function Ai(){var e=Object(T.a)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  background-color: ",";\n  border: none;\n  border-bottom: 1px solid ",";\n  padding: 5px 0;\n  cursor: ",";\n  transition: border-color 0.4s ease-in-out;\n\n  &:hover {\n    border-color: ",";\n  }\n\n  ","\n"]);return Ai=function(){return e},e}function Mi(){var e=Object(T.a)(["\n        > ul {\n          height: 160px;\n          margin-bottom: 0px;\n          margin-top: 0px;\n          padding-bottom: 0px;\n          padding-top: 0px;\n        }\n      "]);return Mi=function(){return e},e}function Pi(){var e=Object(T.a)(["\n        visibility: visible;\n        opacity: 1;\n        display: flex;\n      "]);return Pi=function(){return e},e}function zi(){var e=Object(T.a)(["\n  position: absolute;\n\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  box-shadow: ",";\n\n  visibility: hidden;\n  opacity: 0;\n  ","\n\n  transition: all 0.5s ease;\n\n  width: 100%;\n  max-height: 160px;\n  margin: 5px 0;\n\n  /* had to add these changes to get the dropdown working in IE11 */\n  ","\n\n  border-radius: 0 0 ","px\n    ","px;\n  z-index: ",";\n"]);return zi=function(){return e},e}function Bi(){var e=Object(T.a)(["\n            height: 100%;\n            overflow-y: hidden;\n            overflow-x: auto;\n\n            margin-right: -10px;\n            margin-left: -10px;\n            padding-right: 10px;\n            padding-left: 10px;\n\n            padding-bottom: 10px;\n            margin-bottom: -10px;\n          "]);return Bi=function(){return e},e}function Li(){var e=Object(T.a)(["\n              width: 100%;\n              overflow-y: auto;\n              overflow-x: hidden;\n\n              /* hidde the arrows */\n              margin-top: -10px;\n              margin-bottom: -10px;\n              padding-top: 10px;\n              padding-bottom: 10px;\n\n              /* hide the scrollbar */\n              padding-right: 10px;\n              margin-right: -10px;\n            "]);return Li=function(){return e},e}function Ni(){var e=Object(T.a)(["\n        ","\n\n        scrollbar-face-color: ",";\n        scrollbar-track-color: ",";\n        scrollbar-base-color: ",";\n        scrollbar-3dlight-color: ",";\n        scrollbar-highlight-color: ",";\n        scrollbar-arrow-color: ",";\n        scrollbar-shadow-color: ",";\n        scrollbar-dark-shadow-color: ",";\n      "]);return Ni=function(){return e},e}function Ui(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: ",";\n\n  list-style: none;\n  padding: 0;\n  margin: 0;\n\n  ","\n"]);return Ui=function(){return e},e}function Gi(){var e=Object(T.a)(["\n      overflow-y: hidden;\n      overflow-x: auto;\n    "]);return Gi=function(){return e},e}function Hi(){var e=Object(T.a)(["\n        flex-direction: column;\n        flex: 1 1 auto;\n        overflow-y: auto;\n        overflow-x: hidden;\n      "]);return Hi=function(){return e},e}function Wi(){var e=Object(T.a)(["\n        overflow: hidden;\n      "]);return Wi=function(){return e},e}function Vi(){var e=Object(T.a)(["\n  display: flex;\n  ",";\n"]);return Vi=function(){return e},e}function qi(){var e=Object(T.a)(["\n      border-left: 2px solid ",";\n    "]);return qi=function(){return e},e}function Ki(){var e=Object(T.a)(["\n  padding: 10px 16px;\n  text-overflow: ellipsis;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  white-space: nowrap;\n  color: ",";\n\n  &:hover {\n    cursor: pointer;\n    background: ",";\n  }\n\n  ","\n\n  ","\n"]);return Ki=function(){return e},e}function Xi(){var e=Object(T.a)(["\n  display: block;\n  position: relative;\n  width: 100%;\n  white-space: nowrap;\n  transition-duration: 0.5s;\n\n  &:disabled {\n    ","\n  }\n\n  ","\n"]);return Xi=function(){return e},e}function Yi(){var e=Object(T.a)(["\n  opacity: ",";\n  pointer-events: none;\n"]);return Yi=function(){return e},e}function Qi(){var e=Object(T.a)(["\n  position: absolute;\n  opacity: 0;\n  cursor: pointer;\n  height: 0;\n  width: 0;\n  margin: 0;\n  padding: 0;\n  ","\n"]);return Qi=function(){return e},e}function Zi(){var e=Object(T.a)(["\n      opacity: 0.5;\n      cursor: default;\n      pointer-events: none;\n    "]);return Zi=function(){return e},e}function Ji(){var e=Object(T.a)(["\n      background-color: ",";\n      &::after {\n        color: ",";\n        border-color: ",";\n      }\n      &:hover {\n        background-color: ",";\n        opacity: 0.8;\n      }\n    "]);return Ji=function(){return e},e}function $i(){var e=Object(T.a)(["\n  position: relative;\n  height: 16px;\n  width: 16px;\n  cursor: pointer;\n  background-color: ",";\n  border-radius: ","px;\n  transition-timing-function: ease-in;\n  transition-duration: 0.3s;\n  &::after {\n    content: '';\n    position: absolute;\n    display: inline-block;\n    left: 5px;\n    width: 5px;\n    height: 10px;\n    border-style: solid;\n    border-width: 0 2px 2px 0;\n    border-color: transparent;\n    transform: rotate(45deg) scale(0.8);\n  }\n\n  &:first-child {\n    margin-right: 8px;\n  }\n\n  &:last-child {\n    margin-left: 8px;\n  }\n\n  ","\n\n  &:hover {\n    opacity: ",";\n  }\n  ","\n  ","\n"]);return $i=function(){return e},e}function er(){var e=Object(T.a)(["\n  display: flex;\n  position: relative;\n  margin-bottom: 12px;\n  max-width: ","px;\n"]);return er=function(){return e},e}function tr(){var e=Object(T.a)(["\n          margin-right: 2px;\n          transform: rotate(-45deg);\n        "]);return tr=function(){return e},e}function nr(){var e=Object(T.a)(["\n          margin-left: 2px;\n          transform: rotate(135deg);\n        "]);return nr=function(){return e},e}function ir(){var e=Object(T.a)(["\n  border: solid ",";\n  border-width: 0 2px 2px 0;\n  padding: 3px;\n  height: 0;\n  width: 0;\n\n  ","\n"]);return ir=function(){return e},e}function rr(){var e=Object(T.a)(["\n  width: ","px;\n  margin-left: -","px;\n  position: relative;\n  display: inline-block;\n  transform: translateZ(0);\n  transition: all 600ms cubic-bezier(0.77, 0, 0.175, 1);\n  font-family: '","', sans-serif;\n"]);return rr=function(){return e},e}function or(){var e=Object(T.a)(["\n  width: ","px;\n  transform: translateZ(0);\n  overflow: hidden;\n  transition: all 500ms ease-out;\n"]);return or=function(){return e},e}function ar(){var e=Object(T.a)(["\n  /* 0.6 of width here refers to the width of the container without padding */\n  width: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  text-align: center;\n  margin-top: 7px;\n  display: inline-block;\n  color: ",";\n"]);return ar=function(){return e},e}function sr(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: ","px;\n"]);return sr=function(){return e},e}function lr(){var e=Object(T.a)(["\n  color: ",";\n  padding: 1px 7px 2px;\n"]);return lr=function(){return e},e}function ur(){var e=Object(T.a)(["\n  align-self: flex-start;\n"]);return ur=function(){return e},e}function cr(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]);return cr=function(){return e},e}function fr(){var e=Object(T.a)(["\n      opacity: ",";\n      cursor: default;\n      pointer-events: none;\n    "]);return fr=function(){return e},e}function dr(){var e=Object(T.a)(["\n  display: block;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n  margin: 0;\n  padding-bottom: 8px;\n\n  ","\n"]);return dr=function(){return e},e}function hr(){var e=Object(T.a)(["\n  ","\n"]);return hr=function(){return e},e}function pr(){var e=Object(T.a)(["\n  box-sizing: border-box;\n  display: block;\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  margin: 2.5px;\n  border: 2.5px solid ",";\n  border-radius: 50%;\n  animation: "," 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n  border-color: "," transparent transparent\n    transparent;\n\n  :nth-child(1) {\n    animation-delay: -0.45s;\n  }\n  :nth-child(2) {\n    animation-delay: -0.3s;\n  }\n  :nth-child(3) {\n    animation-delay: -0.15s;\n  }\n"]);return pr=function(){return e},e}function mr(){var e=Object(T.a)(["\n  display: inline-block;\n  position: relative;\n  width: 45px;\n  height: 45px;\n"]);return mr=function(){return e},e}function gr(){var e=Object(T.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return gr=function(){return e},e}function yr(){var e=Object(T.a)(["\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 11px 20px 0px;\n"]);return yr=function(){return e},e}function vr(){var e=Object(T.a)(["\n  display: flex;\n  border-top: 2px solid\n    ",";\n\n  min-height: 40px;\n  justify-content: flex-end;\n  @media all and (min-width: 0) and (max-width: 640px) {\n    height: auto;\n    flex-direction: column;\n    justify-content: space-around;\n  }\n"]);return vr=function(){return e},e}function br(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  box-sizing: border-box;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  color: ",";\n\n  padding: 0px 20px 11px;\n  &:first-child {\n    padding-top: 11px;\n  }\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    align-items: center;\n  }\n"]);return br=function(){return e},e}function _r(){var e=Object(T.a)(["\n  display: flex;\n  flex: 0 0 auto;\n  flex-direction: column;\n  transition: top 0.25s ease;\n  position: absolute;\n  top: calc(50% + ","px);\n  left: calc(50% + ","px);\n  width: ",";\n  height: ",";\n  transform: translate(-50%, -50%);\n  border-radius: ","px;\n  background: ",";\n  color: ",";\n  z-index: ",";\n\n  @media all and (min-width: 0) and (max-width: 640px) {\n    text-align: center;\n    width: auto;\n    min-width: 200px;\n    height: auto;\n    top: 50%;\n    left: 50%;\n  }\n"]);return _r=function(){return e},e}function xr(){var e=Object(T.a)(["\n      opacity: 1;\n      display: block;\n      visibility: visible;\n    "]);return xr=function(){return e},e}function kr(){var e=Object(T.a)(["\n  display: none;\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n  transition: opacity 100s ease-in-out;\n\n  ",";\n"]);return kr=function(){return e},e}function wr(){var e=Object(T.a)(["\n  display: block;\n  opacity: 1;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: ",";\n  text-align: left;\n  background: ",";\n  height: 100%;\n  width: 100%;\n"]);return wr=function(){return e},e}function Or(){var e=Object(T.a)(["\n  ","\n  z-index: ",";\n"]);return Or=function(){return e},e}function Sr(){var e=Object(T.a)(["\n  &&& {\n    box-sizing: border-box;\n  }\n  position: relative;\n  background: transparent;\n  border: none;\n  height: ","px;\n  width: ","px;\n  margin: ",";\n  padding: 0;\n  cursor: pointer;\n  border-radius: ",";\n\n  &:hover {\n    opacity: 0.7;\n  }\n\n  ","\n\n  &:disabled {\n    opacity: ",";\n    cursor: default;\n  }\n"]);return Sr=function(){return e},e}function Cr(){var e=Object(T.a)(["\n  display: inline-block;\n  height: 2px;\n  width: 2px;\n  border-radius: 50%;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.6);\n  background: rgba(255, 255, 255, 0.87);\n  margin: 1px;\n  pointer-events: none;\n"]);return Cr=function(){return e},e}function jr(){var e=Object(T.a)(["\n      border-color: ",";\n    "]);return jr=function(){return e},e}function Tr(){var e=Object(T.a)(["\n  ","\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n\n  box-sizing: border-box;\n  border: 2px solid transparent;\n  border-radius: ",";\n  transition: border-color 300ms ease-in-out;\n  ","\n"]);return Tr=function(){return e},e}function Er(){var e=Object(T.a)(["\n  ","\n  z-index: ",";\n"]);return Er=function(){return e},e}function Dr(){var e=Object(T.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: ","px;\n  width: ","px;\n  border-radius: ",";\n  pointer-events: none;\n"]);return Dr=function(){return e},e}function Ir(){var e=Object(T.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  background: ",";\n  color: ",";\n  display: flex;\n  flex-direction: row;\n  overflow: hidden;\n  -webkit-touch-callout: none;\n  user-select: none;\n  * {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    font-family: '","', sans-serif;\n    /* css reset for a global box-sizing: border-box */\n    box-sizing: content-box;\n\n    scrollbar-width: thin;\n    scrollbar-color: "," transparent;\n\n    &::-webkit-scrollbar-track {\n      border-radius: 10px;\n      background-color: transparent;\n      margin: 1px;\n    }\n\n    &::-webkit-scrollbar {\n      width: 6px;\n      height: 6px;\n      background-color: transparent;\n    }\n\n    &::-webkit-scrollbar-thumb {\n      border-radius: 10px;\n      box-shadow: inset 0 0 14px rgba(0, 0, 0, 0.4);\n      background-color: ",";\n    }\n\n    &::-webkit-scrollbar-thumb:hover {\n      background-color: ",";\n    }\n  }\n\n  /* This will be applied first in some cases and should be treated as such */\n  h1,\n  h2,\n  h3,\n  input,\n  textarea,\n  label,\n  span,\n  div,\n  p {\n    line-height: normal;\n  }\n"]);return Ir=function(){return e},e}function Rr(){var e=Object(T.a)(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9) translateY(-20px);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateY(0);\n  }\n"]);return Rr=function(){return e},e}function Fr(){var e=Object(T.a)(["\n  0% {\n    opacity: 0;\n    transform: scale(0.9);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n"]);return Fr=function(){return e},e}function Ar(){var e=Object(T.a)(["\n  position: absolute;\n  top: 4px;\n  left: 4px;\n  height: 28px;\n  width: 28px;\n  border-radius: 50%;\n"]);return Ar=function(){return e},e}function Mr(){var e=Object(T.a)(["\n  ","\n"]);return Mr=function(){return e},e}function Pr(){var e=Object(T.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding-left: 10px;\n"]);return Pr=function(){return e},e}function zr(){var e=Object(T.a)(["\n          border-top-color: ",";\n        "]);return zr=function(){return e},e}function Br(){var e=Object(T.a)(["\n          border-top-color: ",";\n        "]);return Br=function(){return e},e}function Lr(){var e=Object(T.a)(["\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  ","\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n"]);return Lr=function(){return e},e}function Nr(){var e=Object(T.a)(["\n          color: ",";\n          height: 32px;\n        "]);return Nr=function(){return e},e}function Ur(){var e=Object(T.a)(["\n          color: ",";\n          height: 40px;\n          background: ",";\n        "]);return Ur=function(){return e},e}function Gr(){var e=Object(T.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  bottom: 0px;\n  border-radius: ","px;\n  left: 0;\n  ","\n  width: 100%;\n  cursor: pointer;\n"]);return Gr=function(){return e},e}function Hr(){var e=Object(T.a)(["\n          color: ",";\n        "]);return Hr=function(){return e},e}function Wr(){var e=Object(T.a)(["\n          color: ",";\n        "]);return Wr=function(){return e},e}function Vr(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 4px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  ","\n"]);return Vr=function(){return e},e}function qr(){var e=Object(T.a)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  &:active {\n    color: ",";\n  }\n\n  svg {\n    color: ",";\n\n    &:active {\n      color: ",";\n    }\n  }\n"]);return qr=function(){return e},e}function Kr(){var e=Object(T.a)(["\n  display: flex;\n  &:focus {\n    outline: none;\n  }\n"]);return Kr=function(){return e},e}function Xr(){var e=Object(T.a)(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"]);return Xr=function(){return e},e}function Yr(){var e=Object(T.a)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n\n  svg {\n    color: ",";\n  }\n\n  ","\n"]);return Yr=function(){return e},e}function Qr(){var e=Object(T.a)(["\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  min-width: 32px;\n\n  svg {\n    color: ",";\n  }\n"]);return Qr=function(){return e},e}function Zr(){var e=Object(T.a)(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n      }\n    "]);return Zr=function(){return e},e}function Jr(){var e=Object(T.a)(["\n      opacity: ",";\n    "]);return Jr=function(){return e},e}function $r(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  &:focus {\n    outline: none;\n  }\n  font-size: inherit;\n  text-spacing: inherit;\n  color: inherit;\n\n  ","\n\n  ","\n  ","\n"]);return $r=function(){return e},e}function eo(){var e=Object(T.a)(["\n  display: none;\n"]);return eo=function(){return e},e}function to(){var e=Object(T.a)(["\n  &:focus {\n    outline: none;\n  }\n\n  > img {\n    height: 18px;\n    width: 18px;\n  }\n\n  > svg {\n    height: 18px;\n    width: 18px;\n  }\n  display: none;\n\n  ","\n  @media all and (min-width: 0) and (max-width: 599px) {\n    ","\n  }\n"]);return to=function(){return e},e}function no(){var e=Object(T.a)(["\n  display: flex;\n"]);return no=function(){return e},e}function io(){var e=Object(T.a)(["\n      @media all and (min-width: 0) and (max-width: 599px) {\n        ","\n      }\n    "]);return io=function(){return e},e}function ro(){var e=Object(T.a)(["\n      width: 100%;\n    "]);return ro=function(){return e},e}function oo(){var e=Object(T.a)(["\n  ","\n\n  ","\n  ","\n"]);return oo=function(){return e},e}function ao(){var e=Object(T.a)(["\n  display: flex;\n  flex: 0 0 auto;\n  justify-content: center;\n  align-items: center;\n  padding: 4px;\n"]);return ao=function(){return e},e}function so(){var e=Object(T.a)(["\n  color: ",";\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n\n  svg {\n    color: ",";\n  }\n"]);return so=function(){return e},e}function lo(){var e=Object(T.a)(["\n  color: ",";\n\n  svg {\n    color: ",";\n  }\n\n  /* Repeat active styles so they are not overwritten */\n  ","\n\n  "," {\n    display: none;\n  }\n\n  &:disabled {\n    opacity: ",";\n  }\n"]);return lo=function(){return e},e}function uo(){var e=Object(T.a)(["\n  &&& {\n    box-sizing: border-box;\n  }\n  text-align: center;\n  position: relative;\n  padding: 4px 8px;\n  min-height: 32px;\n  border-radius: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-family: ",", sans-serif;\n  cursor: pointer;\n  border: none;\n  background-color: transparent;\n  overflow: hidden;\n  ","\n\n  /* Active */\n\n  &:active {\n    ","\n  }\n\n  ","\n\n  /* Disabled */\n\n  &:disabled {\n    cursor: default;\n    pointer-events: none;\n\n    "," {\n      background-color: ",";\n    }\n  }\n\n  /* Hover */\n\n  &:hover {\n    "," {\n      background-color: ",";\n    }\n  }\n\n  div {\n    font-size: ","px;\n    letter-spacing: ","px;\n  }\n"]);return uo=function(){return e},e}function co(){var e=Object(T.a)(["\n  color: ",";\n  border-color: ",";\n\n  svg {\n    color: ",";\n  }\n"]);return co=function(){return e},e}function fo(){var e=Object(T.a)(["\n  display: ",";\n  left: ","px;\n  top: ","px;\n  pointer-events: none;\n  border-radius: 50%;\n  background-color: rgba(255, 255, 255, 0.12);\n  animation: "," 1.2s;\n  width: 100px;\n  height: 100px;\n  margin-top: -50px;\n  margin-left: -50px;\n  opacity: 0;\n"]);return fo=function(){return e},e}function ho(){var e=Object(T.a)([""]);return ho=function(){return e},e}function po(){var e=Object(T.a)([""]);return po=function(){return e},e}function mo(){var e=Object(T.a)([""]);return mo=function(){return e},e}function go(){var e=Object(T.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]);return go=function(){return e},e}function yo(){var e=Object(T.a)(["\nfrom {\n  opacity: 1;\n  transform: scale(0);\n}\nto {\n  opacity: 0;\n  transform: scale(10);\n}\n"]);return yo=function(){return e},e}function vo(){var e=Object(T.a)(["\n  position: absolute !important;\n  height: 1px;\n  width: 1px;\n  overflow: hidden;\n  clip: rect(1px 1px 1px 1px); /* IE6, IE7 */\n  clip: rect(1px, 1px, 1px, 1px);\n"]);return vo=function(){return e},e}function bo(){var e=Object(T.a)(["\n  &:focus {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n  &:-moz-focusring {\n    outline: none;\n    box-shadow: 0 0 2px ",";\n  }\n"]);return bo=function(){return e},e}function _o(){var e=Object(T.a)(["\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-left: 5px solid transparent;\n  border-right: 5px solid transparent;\n  border-top: 5px solid ",";\n  transform: rotate(","deg);\n  display: inline-block;\n  transition-duration: 0.3s;\n  transition-timing-function: ease-in;\n  right: 0;\n  top: 13px;\n"]);return _o=function(){return e},e}var xo=Object(E.C)((function(t,n){var i=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),f=Object.prototype.toString,d=Math.max,h=Math.min,p=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=o.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):r.test(e)?NaN:+e}n.exports=function(e,t,n){var i,r,o,a,s,l,u=0,c=!1,f=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=i,o=r;return i=r=void 0,u=t,a=e.apply(o,n)}function b(e){return u=e,s=setTimeout(x,t),c?v(e):a}function _(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-u>=o}function x(){var e=p();if(_(e))return k(e);s=setTimeout(x,function(e){var n=t-(e-l);return f?h(n,o-(e-u)):n}(e))}function k(e){return s=void 0,y&&i?v(e):(i=r=void 0,a)}function w(){var e=p(),n=_(e);if(i=arguments,r=this,l=e,n){if(void 0===s)return b(l);if(f)return s=setTimeout(x,t),v(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=g(t)||0,m(n)&&(c=!!n.leading,o=(f="maxWait"in n)?d(g(n.maxWait)||0,t):o,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==s&&clearTimeout(s),u=0,i=l=r=s=void 0},w.flush=function(){return void 0===s?a:k(p())},w}})),ko=Object(E.C)((function(t,n){var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,f=u||c||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,m=function(){return f.Date.now()};function g(e,t,n){var r,o,a,s,l,u,c=0,f=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function _(e){return c=e,l=setTimeout(k,t),f?b(e):s}function x(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=a}function k(){var e=m();if(x(e))return w(e);l=setTimeout(k,function(e){var n=t-(e-u);return d?p(n,a-(e-c)):n}(e))}function w(e){return l=void 0,g&&r?b(e):(r=o=void 0,s)}function O(){var e=m(),n=x(e);if(r=arguments,o=this,u=e,n){if(void 0===l)return _(u);if(d)return l=setTimeout(k,t),b(u)}return void 0===l&&(l=setTimeout(k,t)),s}return t=v(t)||0,y(n)&&(f=!!n.leading,a=(d="maxWait"in n)?h(v(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),O.cancel=function(){void 0!==l&&clearTimeout(l),c=0,r=u=o=l=void 0},O.flush=function(){return void 0===l?s:w(m())},O}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}n.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return y(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),g(e,t,{leading:r,maxWait:t,trailing:o})}})),wo=D.c.div(_o(),(function(e){return e.theme.dropdown.caretColor}),(function(e){return e.rotation||0})),Oo=Object(D.b)(bo(),(function(e){return e.theme.focusOutlineColor}),(function(e){return e.theme.focusOutlineColor})),So=Object(D.b)(vo()),Co=Object(D.d)(yo()),jo=D.c.span(go()),To=Object(D.c)(jo)(mo()),Eo=Object(D.c)(jo)(po()),Do=Object(D.c)(jo)(ho()),Io={display:"none",left:0,top:0},Ro=Object(D.c)(jo)(fo(),(function(e){return e.display}),(function(e){return e.left}),(function(e){return e.top}),Co),Fo=Object(D.b)(co(),(function(e){return e.theme.button.activeForeground}),(function(e){return e.theme.button.activeForeground}),(function(e){return e.theme.button.activeForeground})),Ao=D.c.button(uo(),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.measurements.fontSystem.button1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button1.case}),(function(e){return e.theme.typography.fontFamily}),Oo,Fo,(function(e){return e.isActive&&Fo}),Eo,(function(e){return e.theme.button.outlinedInactiveOverlayColor}),Do,(function(e){return e.theme.button.hoverOverlayColor}),(function(e){return e.theme.measurements.fontSystem.button1.size}),(function(e){return e.theme.measurements.fontSystem.button1.letterSpacing})),Mo=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).state=Io,e.timeout=null,e.onClick=function(t){var n=t.currentTarget.getBoundingClientRect(),i=t.pageX-n.left,r=t.pageY-n.top;"block"===e.state.display?e.setState({display:"none"},(function(){e.setRippleState(i,r)})):e.setRippleState(i,r),e.props.onClick(t)},e.setRippleState=function(t,n){e.setState({left:t,top:n,display:"block"}),e.timeout=setTimeout((function(){e.setState({display:"none"})}),1200)},e}return Object(S.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.isDisabled,i=e.label,r=e.ariaLabel,o=e.children,a=e.className,s=Object(w.a)(e,["isActive","isDisabled","label","ariaLabel","children","className"]),l=this.state,u=l.left,c=l.top,f=l.display;return R.a.createElement(Ao,Object(k.a)({"data-test":r,className:a,isActive:t,disabled:n,"aria-label":r},s,{onClick:this.onClick}),i,o,R.a.createElement(Ro,{display:f,left:u,top:c}),R.a.createElement(Eo,null),R.a.createElement(Do,null))}}]),n}(R.a.Component);Mo.defaultProps={type:"button",isDisabled:!1,isActive:!1};var Po,zo,Bo=Object(D.c)(Mo)(lo(),(function(e){return e.theme.button.textPrimaryForeground}),(function(e){return e.theme.button.textPrimaryForeground}),(function(e){return e.isActive&&Fo}),Eo,(function(e){return e.theme.button.textInactiveOpacity})),Lo=Object(D.c)(Mo)(so(),(function(e){return e.theme.button.textSecondaryForeground}),(function(e){return e.isActive&&Fo}),Eo,(function(e){return e.theme.button.textInactiveOpacity}),(function(e){return e.theme.button.textSecondaryForeground})),No=R.a.createContext({}),Uo=Object(D.b)(ao()),Go=Object(D.c)(Mo)(oo(),(function(e){return e.fullWidth&&Object(D.b)(ro())}),(function(e){var t=e.hasIcon,n=e.smallContainer;return t&&n&&Uo}),(function(e){return e.hasIcon&&Object(D.b)(io(),Uo)})),Ho=Object(D.b)(no()),Wo=D.c.div(to(),(function(e){return e.smallContainer&&Ho}),Ho),Vo=Object(D.b)(eo()),qo=D.c.div($r(),(function(e){return e.isDisabled&&Object(D.b)(Jr(),(function(e){return e.theme.button.textInactiveOpacity}))}),(function(e){var t=e.hasIcon,n=e.smallContainer;return t&&n&&Vo}),(function(e){return e.hasIcon&&Object(D.b)(Zr(),Vo)})),Ko=function(e){var t=e.label,n=e.children,i=e.icon,r=e.fullWidth,o=e.isDisabled,a=Object(w.a)(e,["label","children","icon","fullWidth","isDisabled"]),s=Object(I.useContext)(No).rect,l=!!s&&s.width<600,u=R.a.createElement(qo,{hasIcon:!!i,isDisabled:o,smallContainer:l},t,n);return R.a.createElement(Go,Object(k.a)({fullWidth:r,isDisabled:o,hasIcon:!!i,smallContainer:l},a),i&&R.a.createElement(Wo,{smallContainer:l},i),(n||t)&&u)},Xo=Object(D.c)(Ko)(Qr(),(function(e){return e.theme.button.outlinedPrimaryBackground}),(function(e){return e.theme.button.outlinedPrimaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.button.outlinedPrimaryForeground})),Yo=Object(D.c)(Ko)(Yr(),(function(e){return e.theme.button.outlinedSecondaryBackground}),(function(e){return e.theme.button.outlinedSecondaryForeground}),(function(e){return e.theme.button.outlinedBorderColor}),(function(e){return e.theme.button.outlinedSecondaryForeground}),(function(e){return e.isActive&&Fo})),Qo=Object(D.c)(Mo)(Xr(),(function(e){return e.theme.foreground}),(function(e){return e.theme.foreground}),(function(e){return e.isActive&&Fo}),Eo,(function(e){return e.theme.button.textInactiveOpacity})),Zo=D.c.div(Kr()),Jo=function(e){e.label;var t=e.icon,n=(e.children,Object(w.a)(e,["label","icon","children"]));return R.a.createElement(Qo,Object(k.a)({},n),R.a.createElement(Zo,null,t))},$o=Object(D.c)(Ko)(qr(),(function(e){return e.theme.button.containedPrimaryBackground}),(function(e){return e.theme.button.containedPrimaryForeground}),(function(e){return e.theme.button.containedPrimaryBackground}),(function(e){return e.theme.button.containedPrimaryForeground}),(function(e){return e.theme.button.containedPrimaryForeground}),(function(e){return e.theme.button.containedPrimaryForeground})),ea=D.c.div(Vr(),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.withBackground?Object(D.b)(Wr(),e.theme.card.labelForeground):Object(D.b)(Hr(),e.theme.card.foreground)})),ta=D.c.div(Gr(),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.withBackground?Object(D.b)(Ur(),e.theme.card.labelForeground,e.theme.card.labelBackground):Object(D.b)(Nr(),e.theme.card.foreground)})),na=D.c.div(Lr(),(function(e){return e.theme.card.labelForeground}),(function(e){return e.withBackground?Object(D.b)(Br(),e.theme.card.labelForeground):Object(D.b)(zr(),e.theme.card.foreground)}),(function(e){return e.rotation||0})),ia=D.c.span(Pr()),ra=D.c.div(Mr(),So),oa=function(e){var t=e.children,n=e.className,i=e.caret,r=e.isActive,o=e.style,a=e.withBackground;if(e.hidden)return R.a.createElement(ra,null,t);return R.a.createElement(ta,{className:n,withBackground:a,style:o},R.a.createElement(ea,{"data-test":E.r.CardLabel,withBackground:a},t,i&&R.a.createElement(ia,null,R.a.createElement(na,{"aria-hidden":!0,rotation:r?180:0,withBackground:a}))))},aa=D.c.div.attrs((function(e){return{"data-test":E.r.CardAvatar,style:{backgroundImage:"url(".concat(e.url,")")}}}))(Ar()),sa=Object(D.d)(Fr()),la=Object(D.d)(Rr()),ua=[],ca="ResizeObserver loop completed with undelivered notifications.";(zo=Po||(Po={})).BORDER_BOX="border-box",zo.CONTENT_BOX="content-box",zo.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var fa,da=function(){function e(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),ha=function(e){return e instanceof SVGElement&&"getBBox"in e},pa=function(e){if(ha(e)){var t=e.getBBox(),n=t.width,i=t.height;return!n&&!i}var r=e,o=r.offsetWidth,a=r.offsetHeight;return!(o||a||e.getClientRects().length)},ma=function(e){var t,n,i=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(i&&e instanceof i.Element)},ga="undefined"!==typeof window?window:{},ya=new WeakMap,va=/auto|scroll/,ba=/^tb|vertical/,_a=/msie|trident/i.test(ga.navigator&&ga.navigator.userAgent),xa=function(e){return parseFloat(e||"0")},ka=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},wa=Object.freeze({devicePixelContentBoxSize:ka(),borderBoxSize:ka(),contentBoxSize:ka(),contentRect:new da(0,0,0,0)}),Oa=function(e,t){if(void 0===t&&(t=!1),ya.has(e)&&!t)return ya.get(e);if(pa(e))return ya.set(e,wa),wa;var n=getComputedStyle(e),i=ha(e)&&e.ownerSVGElement&&e.getBBox(),r=!_a&&"border-box"===n.boxSizing,o=ba.test(n.writingMode||""),a=!i&&va.test(n.overflowY||""),s=!i&&va.test(n.overflowX||""),l=i?0:xa(n.paddingTop),u=i?0:xa(n.paddingRight),c=i?0:xa(n.paddingBottom),f=i?0:xa(n.paddingLeft),d=i?0:xa(n.borderTopWidth),h=i?0:xa(n.borderRightWidth),p=i?0:xa(n.borderBottomWidth),m=f+u,g=l+c,y=(i?0:xa(n.borderLeftWidth))+h,v=d+p,b=s?e.offsetHeight-v-e.clientHeight:0,_=a?e.offsetWidth-y-e.clientWidth:0,x=r?m+y:0,k=r?g+v:0,w=i?i.width:xa(n.width)-x-_,O=i?i.height:xa(n.height)-k-b,S=w+m+_+y,C=O+g+b+v,j=Object.freeze({devicePixelContentBoxSize:ka(Math.round(w*devicePixelRatio),Math.round(O*devicePixelRatio),o),borderBoxSize:ka(S,C,o),contentBoxSize:ka(w,O,o),contentRect:new da(f,l,w,O)});return ya.set(e,j),j},Sa=function(e,t,n){var i=Oa(e,n),r=i.borderBoxSize,o=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(t){case Po.DEVICE_PIXEL_CONTENT_BOX:return a;case Po.BORDER_BOX:return r;default:return o}},Ca=function(e){var t=Oa(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},ja=function(e){if(pa(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Ta=function(){var e=1/0,t=[];ua.forEach((function(n){if(0!==n.activeTargets.length){var i=[];n.activeTargets.forEach((function(t){var n=new Ca(t.target),r=ja(t.target);i.push(n),t.lastReportedSize=Sa(t.target,t.observedBox),r<e&&(e=r)})),t.push((function(){n.callback.call(n.observer,i,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,i=t;n<i.length;n++){(0,i[n])()}return e},Ea=function(e){ua.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(ja(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},Da=function(){var e=0;for(Ea(e);ua.some((function(e){return e.activeTargets.length>0}));)e=Ta(),Ea(e);return ua.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:ca}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=ca),window.dispatchEvent(e)}(),e>0},Ia=[],Ra=function(e){if(!fa){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Ia.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),fa=function(){n.textContent=""+(t?t--:t++)}}Ia.push(e),fa()},Fa=0,Aa={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ma=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Pa=function(e){return void 0===e&&(e=0),Date.now()+e},za=!1,Ba=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!za){za=!0;var n=Pa(e);!function(e){Ra((function(){requestAnimationFrame(e)}))}((function(){var i=!1;try{i=Da()}finally{if(za=!1,e=n-Pa(),!Fa)return;i?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Aa)};document.body?t():ga.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ma.forEach((function(t){return ga.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ma.forEach((function(t){return ga.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),La=function(e){!Fa&&e>0&&Ba.start(),!(Fa+=e)&&Ba.stop()},Na=function(){function e(e,t){this.target=e,this.observedBox=t||Po.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e=Sa(this.target,this.observedBox,!0);return function(e){return!ha(e)&&!function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)&&"inline"===getComputedStyle(e).display}(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},e}(),Ua=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Ga=new WeakMap,Ha=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Wa=function(){function e(){}return e.connect=function(e,t){var n=new Ua(e,t);Ga.set(e,n)},e.observe=function(e,t,n){var i=Ga.get(e),r=0===i.observationTargets.length;Ha(i.observationTargets,t)<0&&(r&&ua.push(i),i.observationTargets.push(new Na(t,n&&n.box)),La(1),Ba.schedule())},e.unobserve=function(e,t){var n=Ga.get(e),i=Ha(n.observationTargets,t),r=1===n.observationTargets.length;i>=0&&(r&&ua.splice(ua.indexOf(n),1),n.observationTargets.splice(i,1),La(-1))},e.disconnect=function(e){var t=this,n=Ga.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Va=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Wa.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ma(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Wa.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!ma(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Wa.unobserve(this,e)},e.prototype.disconnect=function(){Wa.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),qa=Object(E.E)(xo()),Ka=D.c.div(Ir(),(function(e){return e.theme.background}),(function(e){return e.theme.foreground}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.scrollbar.handleColor}),(function(e){return e.theme.scrollbar.handleColor}),(function(e){return e.theme.scrollbar.handleColor})),Xa=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i,r;if(Object(O.a)(this,n),(i=t.call(this,e)).node=R.a.createRef(),i.mounted=!1,i.saveEditorDimensions=function(e){i.mounted&&i.setState({contextValue:{element:e,rect:e.getBoundingClientRect()}})},null==(r=R.a)?void 0:r.version){var o=Number.parseInt(R.a.version.split(".")[0],10),a=Number.parseInt(R.a.version.split(".")[1],10);(o<16||16===o&&a<8)&&console.error("Please be aware that the PhotoEditorSDK will require React 16.8.6 or above.")}return i.saveEditorDimensions=(0,qa.default)(i.saveEditorDimensions,100),i.resizeObserver=new Va((function(e){var t=Object(x.a)(e,1)[0];i.saveEditorDimensions(t.target)})),i.state={contextValue:{element:null,rect:null}},i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e;this.mounted=!0,(null==(e=this.node)?void 0:e.current)&&this.resizeObserver.observe(this.node.current)}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=this.props.children,t=this.state.contextValue;return R.a.createElement(Ka,{ref:this.node,"data-test":E.r.EditorContainer},R.a.createElement(No.Provider,{value:t},e))}}]),n}(R.a.Component);if(!I.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!E.Z)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");function Ya(){var e=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}(Object(I.useState)(0),2)[1];return Object(I.useCallback)((function(){e((function(e){return e+1}))}),[])}var Qa={};var Za=function(e){return"function"===typeof Symbol?Symbol.for(e):"__$mobx-react "+e+"__"}("observerBatching");function Ja(e){e()}function $a(e){return Object(E.ib)(e)}var es,ts=1e4,ns=new Set;function is(){void 0===es&&(es=setTimeout(rs,1e4))}function rs(){es=void 0;var e=Date.now();ns.forEach((function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,ns.delete(t))})),ns.size>0&&is()}var os=!1,as=[];var ss={};function ls(e){return"observer"+e}function us(e,t,n){void 0===t&&(t="observed"),void 0===n&&(n=ss);var i=function(e){return function(){os?as.push(e):e()}}((n.useForceUpdate||Ya)()),r=R.a.useRef(null);if(!r.current){var o=new E.X(ls(t),(function(){a.mounted?i():(o.dispose(),r.current=null)})),a=function(e){return{cleanAt:Date.now()+ts,reaction:e}}(o);r.current=a,function(e){ns.add(e),is()}(r)}var s=r.current.reaction;return R.a.useDebugValue(s,$a),R.a.useEffect((function(){return function(e){ns.delete(e)}(r),r.current?r.current.mounted=!0:(r.current={reaction:new E.X(ls(t),(function(){i()})),cleanAt:1/0},i()),function(){r.current.reaction.dispose(),r.current=null}}),[]),function(e){os=!0,as=[];try{var t=e();os=!1;var n=as.length>0?as:void 0;return R.a.useLayoutEffect((function(){n&&n.forEach((function(e){return e()}))}),[n]),t}finally{os=!1}}((function(){var t,n;if(s.track((function(){try{t=e()}catch(i){n=i}})),n)throw n;return t}))}var cs=function(){return(cs=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function fs(e,t){var n,i=cs({forwardRef:!1},t),r=e.displayName||e.name,o=function(t,n){return us((function(){return e(t,n)}),r)};return o.displayName=r,n=i.forwardRef?Object(I.memo)(Object(I.forwardRef)(o)):Object(I.memo)(o),function(e,t){Object.keys(e).forEach((function(n){ds[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}(e,n),n.displayName=r,n}var ds={$$typeof:!0,render:!0,compare:!0,type:!0};function hs(e){var t=e.children,n=e.render,i=t||n;return"function"!==typeof i?null:us(i)}function ps(e,t,n,i,r){var o="children"===t?"render":"children",a="function"===typeof e[t],s="function"===typeof e[o];return a&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||s?null:new Error("Invalid prop `"+r+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}hs.propTypes={children:ps,render:ps},hs.displayName="Observer",function(t){t||(t=Ja),Object(E.fb)({reactionScheduler:t}),("undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:Qa)[Za]=!0}(F.unstable_batchedUpdates);var ms=0;var gs={};function ys(e){return gs[e]||(gs[e]=function(e){if("function"===typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+ms+")";return ms++,t}(e)),gs[e]}function vs(e,t){if(bs(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!Object.hasOwnProperty.call(t,n[r])||!bs(e[n[r]],t[n[r]]))return!1;return!0}function bs(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var _s={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,propTypes:1};function xs(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var ks=ys("patchMixins"),ws=ys("patchedDefinition");function Os(e,t){for(var n=this,i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];t.locks++;try{var a;return void 0!==e&&null!==e&&(a=e.apply(this,r)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,r)}))}}function Ss(e,t){return function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];Os.call.apply(Os,[this,e,t].concat(i))}}function Cs(e,t,n){var i=function(e,t){var n=e[ks]=e[ks]||{},i=n[t]=n[t]||{};return i.locks=i.locks||0,i.methods=i.methods||[],i}(e,t);i.methods.indexOf(n)<0&&i.methods.push(n);var r=Object.getOwnPropertyDescriptor(e,t);if(!r||!r[ws]){var o=e[t],a=function e(t,n,i,r,o){var a,s=Ss(o,r);return(a={})[ws]=!0,a.get=function(){return s},a.set=function(o){if(this===t)s=Ss(o,r);else{var a=e(this,n,i,r,o);Object.defineProperty(this,n,a)}},a.configurable=!0,a.enumerable=i,a}(e,t,r?r.enumerable:void 0,i,o);Object.defineProperty(e,t,a)}}var js=E.mb||"$mobx",Ts=ys("isMobXReactObserver"),Es=ys("isUnmounted"),Ds=ys("skipRender"),Is=ys("isForcingUpdate");function Rs(e){var t=e.prototype;if(e[Ts]){var n=Fs(t);console.warn("The provided component class ("+n+") \n                has already been declared as an observer component.")}else e[Ts]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==I.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==Ms)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=Ms;Ps(t,"props"),Ps(t,"state");var i=t.render;return t.render=function(){return As.call(this,i)},Cs(t,"componentWillUnmount",(function(){var e;if(null===(e=this.render[js])||void 0===e||e.dispose(),this[Es]=!0,!this.render[js]){var t=Fs(this);console.warn("The reactive render of an observer class component ("+t+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),e}function Fs(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function As(e){var t=this;xs(this,Ds,!1),xs(this,Is,!1);var n=Fs(this),i=e.bind(this),r=!1,o=new E.X(n+".render()",(function(){if(!r&&(r=!0,!0!==t[Es])){var e=!0;try{xs(t,Is,!0),t[Ds]||I.Component.prototype.forceUpdate.call(t),e=!1}finally{xs(t,Is,!1),e&&o.dispose()}}}));function a(){r=!1;var e=void 0,t=void 0;if(o.track((function(){try{t=Object(E.U)(!1,i)}catch(n){e=n}})),e)throw e;return t}return o.reactComponent=this,a[js]=o,this.render=a,a.call(this)}function Ms(e,t){return this.state!==t||!vs(this.props,e)}function Ps(e,t){var n=ys("reactProp_"+t+"_valueHolder"),i=ys("reactProp_"+t+"_atomHolder");function r(){return this[i]||xs(this,i,Object(E.I)("reactive "+t)),this[i]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return E.Q&&E.S&&(e=Object(E.Q)(!0)),r.call(this).reportObserved(),E.Q&&E.S&&Object(E.S)(e),this[n]},set:function(e){this[Is]||vs(this[n],e)?xs(this,n,e):(xs(this,n,e),xs(this,Ds,!0),r.call(this).reportChanged(),xs(this,Ds,!1))}})}var zs="function"===typeof Symbol&&Symbol.for,Bs=zs?Symbol.for("react.forward_ref"):"function"===typeof I.forwardRef&&Object(I.forwardRef)((function(e){return null})).$$typeof,Ls=zs?Symbol.for("react.memo"):"function"===typeof I.memo&&Object(I.memo)((function(e){return null})).$$typeof;function Ns(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ls&&e.$$typeof===Ls)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Bs&&e.$$typeof===Bs){var t=e.render;if("function"!==typeof t)throw new Error("render property of ForwardRef was not a function");return Object(I.forwardRef)((function(){var e=arguments;return Object(I.createElement)(hs,null,(function(){return t.apply(void 0,e)}))}))}return"function"!==typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(I.Component,e)?Rs(e):fs(e)}function Us(){return(Us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var Gs=R.a.createContext({});function Hs(e){var t=e.children,n=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["children"]),i=R.a.useContext(Gs),r=R.a.useRef(Us({},i,n)).current;return R.a.createElement(Gs.Provider,{value:r},t)}function Ws(e,t,n,i){var r=R.a.forwardRef((function(n,i){var r=Us({},n),o=R.a.useContext(Gs);return Object.assign(r,e(o||{},r)||{}),i&&(r.ref=i),R.a.createElement(t,r)}));return i&&(r=Ns(r)),r.isMobxInjector=!0,function(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(i){_s[i]||-1!==n.indexOf(i)||Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}(t,r),r.wrappedComponent=t,r.displayName=function(e,t){var n,i=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";n=t?"inject-with-"+t+"("+i+")":"inject("+i+")";return n}(t,n),r}function Vs(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function qs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"===typeof arguments[0]){var i=arguments[0];return function(e){return Ws(i,e,i.name,!0)}}return function(e){return Ws(Vs(t),e,t.join("-"),!1)}}if(Hs.displayName="MobXProvider",!I.Component)throw new Error("mobx-react requires React to be available");if(!E.K)throw new Error("mobx-react requires mobx to be available");var Ks=Object(D.b)(Dr(),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.colorItem.borderRadius||"".concat(e.theme.shape.radiusSmall,"px")})),Xs=D.c.div.attrs((function(e){return{style:{background:e.color}}}))(Er(),Ks,(function(e){return e.theme.measurements.zIndex.colorItem.background})),Ys=D.c.div(Tr(),Ks,(function(e){return e.theme.measurements.zIndex.colorItem.overlay}),(function(e){return e.theme.colorItem.borderRadius||"".concat(e.theme.shape.radiusSmall,"px")}),(function(e){return e.isActive&&Object(D.b)(jr(),e.theme.selectColor.activeBorderColor)})),Qs=D.c.span(Cr()),Zs=function(e){var t=e.isActive,n=e.className,i=e.style;return R.a.createElement(Ys,{isActive:t,className:n,style:i},t&&R.a.createElement(R.a.Fragment,null,R.a.createElement(Qs,null),R.a.createElement(Qs,null),R.a.createElement(Qs,null)))},Js=D.c.button.attrs({type:"button"})(Sr(),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.measurements.colorItem.size}),(function(e){return e.theme.colorItem.margin}),(function(e){return e.theme.colorItem.borderRadius||"".concat(e.theme.shape.radiusSmall,"px")}),Oo,(function(e){return e.theme.selectColor.inactiveOpacity})),$s=D.c.div.attrs((function(e){var t=e.url?{backgroundImage:"url(".concat(e.url,")")}:{};return Object(k.a)({style:t},e.style)}))(Or(),Ks,(function(e){return e.theme.measurements.zIndex.colorItem.tiledBackground})),el=qs("config")(Ns((function(e){var t=e.isActive,n=e.onClick,i=e.color,r=e.label,o=e.isDisabled,a=e.tiledBackgroundUrl,s=e.className,l=e.style,u=e.children;return R.a.createElement(Js,{disabled:o,onClick:n,"aria-label":r,className:s,style:l},R.a.createElement($s,{url:a}),R.a.createElement(Xs,{color:i}),R.a.createElement(Zs,{isActive:t}),u)}))),tl=D.c.div(wr(),(function(e){return e.theme.measurements.zIndex.dialog.backdrop}),(function(e){return e.theme.modal.backdrop})),nl=D.c.div(kr(),(function(e){return e.theme.measurements.zIndex.dialog.base}),(function(e){return e.isVisible&&Object(D.b)(xr())})),il=function(e){var t=e.isVisible,n=e.className,i=e.children;return R.a.createElement(nl,{isVisible:t,className:n},i)},rl=D.c.div.attrs((function(e){return{role:"dialog","aria-hidden":!1,style:e.style}}))(_r(),(function(e){return e.top}),(function(e){return e.left}),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.theme.shape.radiusLarge}),(function(e){return e.theme.modal.background}),(function(e){return e.theme.modal.bodyForeground}),(function(e){return e.theme.measurements.zIndex.dialog.container})),ol=function(e){var t=e.isVisible,n=void 0!==t&&t,i=e.width,r=void 0===i?"350px":i,o=e.height,a=void 0===o?"fit-content":o,s=e.position,l=e.header,u=e.body,c=e.footer,f=e.className,d=e.style,h=e.children;return R.a.createElement(il,{isVisible:n},R.a.createElement(tl,null),R.a.createElement(rl,{height:a,width:r,left:s.x,top:s.y,className:f,style:d,"data-test":E.r.Dialog},l,u,h,c))},al=D.c.div(br(),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.modal.bodyForeground})),sl=D.c.div(vr(),(function(e){return"error"===e.type?e.theme.error:e.theme.warning})),ll=D.c.h3(yr(),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline2.case}),(function(e){return e.theme.modal.headerForeground})),ul=Object(D.d)(gr()),cl=D.c.div(mr()),fl=D.c.div(pr(),(function(e){return e.theme.primary}),ul,(function(e){return e.theme.primary})),dl=function(e){var t=e.className,n=e.style;return R.a.createElement(cl,{className:t,style:n},R.a.createElement(fl,null),R.a.createElement(fl,null),R.a.createElement(fl,null),R.a.createElement(fl,null))},hl=["Moz","Webkit","O","ms"];function pl(e,t){return t?"".concat(t).concat(function(e){var t,n="",i=!0;for(t=0;t<e.length;t+=1)i?(n+=e[t].toUpperCase(),i=!1):"-"===e[t]?i=!0:n+=e[t];return n}(e)):e}var ml=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window||"undefined"===typeof window.document)return"";var t,n=window.document.documentElement.style;if(e in n)return"";for(t=0;t<hl.length;t+=1)if(pl(e,hl[t])in n)return hl[t];return""}();function gl(e,t){for(var n=0,i=e.length;n<i;n+=1)if(t.apply(t,[e[n],n,e]))return e[n];return null}function yl(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)}function vl(e){return"number"===typeof e&&!Number.isNaN(e)}function bl(e){return parseInt(e,10)}var _l="";function xl(e,t){return _l||(_l=gl(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return yl(e[t])}))),!!yl(e[_l])&&e[_l](t)}function kl(e,t,n){var i=e;do{if(xl(i,t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1}function wl(e,t,n){e&&(e.attachEvent?e.attachEvent("on".concat(t),n):e.addEventListener?e.addEventListener(t,n,!0):e["on".concat(t)]=n)}function Ol(e,t,n){e&&(e.detachEvent?e.detachEvent("on".concat(t),n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on".concat(t)]=null)}function Sl(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=bl(n.borderTopWidth),t+=bl(n.borderBottomWidth)}function Cl(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=bl(n.borderLeftWidth),t+=bl(n.borderRightWidth)}function jl(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=bl(n.paddingTop),t-=bl(n.paddingBottom)}function Tl(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=bl(n.paddingLeft),t-=bl(n.paddingRight)}function El(e,t){var n=null;return e.targetTouches&&(n=gl(e.targetTouches,(function(e){return t===e.identifier}))),e.changedTouches&&!n&&(n=gl(e.changedTouches,(function(e){return t===e.identifier}))),n}function Dl(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:null}function Il(e){var t=e.findDOMNode();return t||null}function Rl(e,t,n){var i=e.state,r=!vl(i.lastX),o=Il(e);return r?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:t,y:n}}function Fl(e,t){return{node:t.node,x:e.state.x+t.deltaX,y:e.state.y+t.deltaY,deltaX:t.deltaX,deltaY:t.deltaY,lastX:e.state.x,lastY:e.state.y}}function Al(e){return"both"===e.props.axis||"x"===e.props.axis}function Ml(e){return"both"===e.props.axis||"y"===e.props.axis}function Pl(e,t){var n=Il(t);if(!n)return{x:0,y:0};var i=t.props.offsetParent;return!i&&n instanceof HTMLElement&&(i=n.offsetParent||n.ownerDocument.body),function(e,t){var n=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:e.clientX+t.scrollLeft-n.left,y:e.clientY+t.scrollTop-n.top}}(e,i)}var zl={start:"touchstart",move:"touchmove",stop:"touchend"},Bl={start:"mousedown",move:"mousemove",stop:"mouseup"},Ll=Bl,Nl={cancel:null,disabled:!1,offsetParent:null,handle:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){}},Ul=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).state={dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:void 0},e.findDOMNode=function(){var t=e.props.nodeRef;return(null==t?void 0:t.current)||null},e.getTouchFromEvent=function(t){var n=Dl(t);return e.setState({touchIdentifier:n}),El(t,n)},e.preventDefault=function(e){e.stopPropagation&&e.stopPropagation()},e.handleDragStart=function(t){var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var i=n.ownerDocument;if(e.props.disabled||!(t.target instanceof Node)||e.props.handle&&!kl(t.target,e.props.handle,n)||e.props.cancel&&kl(t.target,e.props.cancel,n))return!1;var r=Pl(t,Object(b.a)(e));if(null==r)return!1;var o=r.x,a=r.y,s=Rl(Object(b.a)(e),o,a);if(!1===e.props.onStart(t,s))return!1;e.setState({dragging:!0,lastX:o,lastY:a}),"touchmove"===Ll.move?wl(i,Ll.move,e.onTouchDrag):wl(i,Ll.move,e.onMouseDrag),wl(i,Ll.stop,e.handleDragStop)},e.handleDrag=function(t){var n=Pl(t,Object(b.a)(e));if(null!=n){var i=n.x,r=n.y,o=Rl(Object(b.a)(e),i,r);if(!1!==e.props.onDrag(t,o))e.setState({lastX:i,lastY:r});else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(s){var a=document.createEvent("MouseEvents");a.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(a)}}},e.handleDragStop=function(t){if(e.state.dragging){var n=Pl(t,Object(b.a)(e));if(null!=n){var i=n.x,r=n.y,o=Rl(Object(b.a)(e),i,r),a=e.findDOMNode();e.setState({dragging:!1,lastX:NaN,lastY:NaN}),e.props.onStop(t,o),a&&("touchmove"===Ll.move?Ol(a.ownerDocument,Ll.move,e.onTouchDrag):Ol(a.ownerDocument,Ll.move,e.onMouseDrag),Ol(a.ownerDocument,Ll.stop,e.handleDragStop))}}},e.onMouseDown=function(t){return e.preventDefault(t),Ll=Bl,e.props.onMouseDown(t),(!t.button||"number"!==typeof t.button||0===t.button)&&e.handleDragStart(t)},e.onMouseDrag=function(t){return e.preventDefault(t),e.handleDrag(t)},e.onMouseUp=function(t){return e.preventDefault(t),Ll=Bl,e.handleDragStop(t)},e.onTouchStart=function(t){e.preventDefault(t),Ll=zl;var n=e.getTouchFromEvent(t);return e.handleDragStart(n)},e.onTouchDrag=function(t){e.preventDefault(t),Ll=zl;var n=e.getTouchFromEvent(t);return e.handleDrag(n)},e.onTouchEnd=function(t){e.preventDefault(t),Ll=zl;var n=e.getTouchFromEvent(t);return e.handleDragStop(n)},e}return Object(S.a)(n,[{key:"componentWillUnmount",value:function(){var e=this.findDOMNode();if(e){var t=e.ownerDocument;Ol(t,Bl.move,this.onMouseDrag),Ol(t,zl.move,this.onTouchDrag),Ol(t,Bl.stop,this.handleDragStop),Ol(t,zl.stop,this.handleDragStop)}}},{key:"render",value:function(){return R.a.cloneElement(R.a.Children.only(this.props.children),{style:Object(k.a)({touchAction:"none"},this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(R.a.Component);Ul.defaultProps=Nl,Ul.displayName="DraggableCore";var Gl=Object(k.a)({},Nl,{axis:"both",bounds:!1,defaultClassName:"draggable",defaultClassNameDragging:"draggable-dragging",defaultClassNameDragged:"draggable-dragged",defaultPosition:{x:0,y:0},position:null,rotation:0,updateOnPosition:!1}),Hl=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).onDragStart=function(e,t){if(!1===i.props.onStart(e,Fl(Object(b.a)(i),t)))return!1;i.setState({dragging:!0,dragged:!0})},i.onDrag=function(e,t){var n=i.props,r=n.position,o=n.defaultPosition,a=n.onDrag,s=n.bounds;if(!i.state.dragging)return!1;var l=Fl(Object(b.a)(i),t),u=Boolean(r),c={x:u?l.x:o.x,y:u?l.y:o.y,slackX:0,slackY:0};if(s){var f=c.x,d=c.y;c.x+=i.state.slackX,c.y+=i.state.slackY;var h=function(e,t,n){if(!e.props.bounds)return[t,n];var i=e.props.bounds;i="string"===typeof i?i:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(i);var r=Il(e);if(!r)return[t,n];if("string"===typeof i){var o,a=r.ownerDocument,s=a.defaultView;o="parent"===i?r.parentNode:a.querySelector(i);var l=s.getComputedStyle(r),u=s.getComputedStyle(o);i={left:-r.offsetLeft+bl(u.paddingLeft)+bl(l.marginLeft),top:-r.offsetTop+bl(u.paddingTop)+bl(l.marginTop),right:Tl(o)-Cl(r)-r.offsetLeft+bl(u.paddingRight)-bl(l.marginRight),bottom:jl(o)-Sl(r)-r.offsetTop+bl(u.paddingBottom)-bl(l.marginBottom)}}return vl(i.right)&&(t=Math.min(t,i.right)),vl(i.bottom)&&(n=Math.min(n,i.bottom)),vl(i.left)&&(t=Math.max(t,i.left)),vl(i.top)&&(n=Math.max(n,i.top)),[t,n]}(Object(b.a)(i),c.x,c.y),p=Object(x.a)(h,2),m=p[0],g=p[1];c.x=m,c.y=g,c.slackX=i.state.slackX+(f-c.x),c.slackY=i.state.slackY+(d-c.y),l.x=c.x,l.y=c.y,l.deltaX=c.x-i.state.x,l.deltaY=c.y-i.state.y}if(!1===a(e,l))return!1;i.setState(c)},i.onDragStop=function(e,t){if(!i.state.dragging)return!1;if(!1===i.props.onStop(e,Fl(Object(b.a)(i),t)))return!1;var n={dragging:!1,slackX:0,slackY:0,x:0,y:0};if(Boolean(i.props.position)){var r=i.props.position,o=r.x,a=r.y;n.x=o,n.y=a}i.setState(n)},i.findDOMNode=function(){var e=i.props.nodeRef;return(null==e?void 0:e.current)||null},i.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,slackX:0,slackY:0},i}return Object(S.a)(n,[{key:"componentDidUpdate",value:function(e){Boolean(this.props.position)&&(this.props.updateOnPosition?(e.position&&e.position.x!==this.props.position.x||e.position.y!==this.props.position.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}):(e.position&&this.props.position.x!==this.state.x||this.props.position.y!==this.state.y)&&this.setState({x:this.props.position.x,y:this.props.position.y}))}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=t.position,i=t.defaultPosition,r=t.rotation,o=t.defaultClassName,a=t.defaultClassNameDragging,s=t.defaultClassNameDragged,l=Object(w.a)(t,["position","defaultPosition","rotation","defaultClassName","defaultClassNameDragging","defaultClassNameDragged"]),u=this.state,c=u.x,f=u.y,d=u.dragging,h=u.dragged,p=!Boolean(n)||d,m=n||i;e=function(e){var t=e.x,n=e.y,i=e.rotation,r="translate(".concat(t,"px,").concat(n,"px) rotate(").concat(i,"rad)");return Object(_.a)({},pl("transform",ml),r)}({x:Al(this)&&p?c:m.x,y:Ml(this)&&p?f:m.y,rotation:r});var g=R.a.Children.only(this.props.children),y=[g.props.className||"",o,d?a:"",h?s:""].join(" ").trim(),v=R.a.cloneElement(g,{className:y,style:Object(k.a)({},g.props.style,{},e)});return R.a.createElement(Ul,Object(k.a)({},l,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),v)}}]),n}(R.a.Component);Hl.defaultProps=Gl,Hl.displayName="Draggable";var Wl=Hl,Vl=Object(E.E)(ko()),ql=D.c.label(hr(),So),Kl=D.c.label(dr(),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.toolControlBar.inputLabelForeground}),(function(e){return e.isDisabled&&Object(D.b)(fr(),(function(e){return e.theme.toolControlBar.inputLabelInactiveOpacity}))})),Xl=function(e){var t=e.id,n=e["data-test"],i=e.label,r=e.htmlFor,o=e.show,a=e.style,s=e.isDisabled,l=e.className,u=o?Kl:ql,c=r||(i?i.replace(" ","-"):void 0);return R.a.createElement(u,{id:t,"data-test":n,style:a,isDisabled:s,htmlFor:c,className:l},i)};Xl.defaultProps={show:!0};var Yl=D.c.div(cr()),Ql=Object(D.c)(Xl)(ur()),Zl=Object(D.c)(Mo)(lr(),(function(e){return e.theme.button.textSecondaryForeground})),Jl=D.c.div(sr(),(function(e){return e.theme.measurements.advancedUIToolControlBar.width-48})),$l=D.c.article(ar(),(function(e){return.6*e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.toolControlBar.inputLabelForeground})),eu=D.c.div(or(),(function(e){return.6*e.theme.measurements.advancedUIToolControlBar.width})),tu=D.c.span(rr(),(function(e){return Math.round(.6*e.length*e.theme.measurements.advancedUIToolControlBar.width)}),(function(e){return.6*e.activeIndex*e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.typography.fontFamily})),nu=D.c.div(ir(),(function(e){return e.theme.card.foreground}),(function(e){return"left"===e.direction?Object(D.b)(nr()):Object(D.b)(tr())})),iu=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).updateIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e+(t?-1:1),r=i.props.list.length-1;n>r&&(n=0),n<0&&(n=r),i.props.onSelect(i.props.list[n].identifier)},i.getActiveIndex=function(e){var t=i.props.list.findIndex((function(t){return t.identifier===e}));return-1!==t?t:0},i.throttledUpdateIndex=(0,Vl.default)(i.updateIndex,600),i}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.list,i=t.label,r=t.showLabel,o=void 0===r||r,a=this.getActiveIndex(this.props.defaultIdentifier),s=n.length<=1;return R.a.createElement(Yl,{"data-test":E.r.CarouselSlider},R.a.createElement(Ql,{show:o,label:i}),R.a.createElement(Jl,{id:"photoeditorsdk-".concat(i.replace(" ","-"))},R.a.createElement(Zl,{ariaLabel:"Select Previous",isDisabled:s,onClick:function(){return e.throttledUpdateIndex(a,!0)}},R.a.createElement(nu,{direction:"left"})),R.a.createElement(eu,null,R.a.createElement(tu,{activeIndex:a,length:n.length},n.map((function(e){return R.a.createElement($l,{key:e.identifier},e.value)})))),R.a.createElement(Zl,{ariaLabel:"Select Next",isDisabled:s,onClick:function(){return e.throttledUpdateIndex(a)}},R.a.createElement(nu,{direction:"right"}))))}}]),n}(R.a.PureComponent);iu.defaultProps={showLabel:!0};var ru=iu,ou=D.c.div(er(),(function(e){return e.theme.measurements.inputs.checkbox.maxWidth})),au=D.c.div($i(),(function(e){return e.theme.checkbox.background}),(function(e){return e.theme.shape.radiusSmall}),Oo,(function(e){return e.theme.checkbox.hoverOpacity}),(function(e){return e.isChecked&&Object(D.b)(Ji(),e.theme.checkbox.activeBackground,e.theme.checkbox.activeForeground,e.theme.checkbox.foreground,e.theme.checkbox.activeBackground)}),(function(e){return e.isDisabled&&Object(D.b)(Zi())})),su=D.c.input.attrs({type:"checkbox",tabIndex:0})(Qi(),Oo),lu=function(e){var t=e.label,n=e.value,i=e.checkMarkPosition,r=e.onClick,o=e.isDisabled,a=e.className,s=e.style,l="photoeditorsdk-".concat(t.replace(" ","-"));return R.a.createElement(ou,{"data-test":E.r.Checkbox,className:a,style:s},"left"===i&&R.a.createElement(au,{onClick:r,isDisabled:o,isChecked:n}),R.a.createElement(Xl,{isDisabled:o,label:t,htmlFor:l}),R.a.createElement(su,{id:l,disabled:o,checked:n,"aria-checked":n,onChange:r}),"right"===i&&R.a.createElement(au,{onClick:r,isDisabled:o,isChecked:n}))},uu=lu;lu.defaultProps={value:!1,checkMarkPosition:"left"};var cu=Object(D.b)(Yi(),(function(e){return e.theme.dropdown.inactiveOpacity})),fu=D.c.div(Xi(),cu,(function(e){return e.isDisabled&&cu})),du=D.c.li(Ki(),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.listItemHoverBackground}),(function(e){return e.isActive&&Object(D.b)(qi(),(function(e){return e.theme.primary}))}),Oo),hu=D.c.div(Vi(),(function(e){return Object(E.ub)()||Object(E.sb)()?Object(D.b)(Wi()):"vertical"===e.direction?Object(D.b)(Hi()):Object(D.b)(Gi())})),pu=D.c.ul.attrs((function(){return{role:"menubar","aria-label":"Tool Navigation"}}))(Ui(),(function(e){return"vertical"===e.direction?"column":"row"}),(function(e){return Object(E.ub)()||Object(E.sb)()?Object(D.b)(Ni(),(function(){return"vertical"===e.direction?Object(D.b)(Li()):Object(D.b)(Bi())}),e.theme.scrollbar.handleColor,e.theme.toolbar.background,e.theme.toolbar.background,e.theme.scrollbar.handleColor,e.theme.scrollbar.handleColor,e.theme.toolbar.background,e.theme.scrollbar.handleColor,e.theme.scrollbar.handleColor):""})),mu=function(e){var t=e.direction,n=void 0===t?"horizontal":t,i=e["data-test"],r=e.className,o=e.children,a=Object(w.a)(e,["direction","data-test","className","children"]);return R.a.createElement(hu,Object(k.a)({},a,{direction:n,className:r}),R.a.createElement(pu,{direction:n,"data-test":i},o))},gu=Object(D.c)(mu)(zi(),(function(e){return e.theme.dropdown.listBackground}),(function(e){return e.theme.dropdown.listForeground}),(function(e){return e.theme.dropdown.listBorderColor}),(function(e){return e.theme.dropdown.listShadow}),(function(e){return e.isOpen?Object(D.b)(Pi()):""}),(function(){return Object(E.ub)()?Object(D.b)(Mi()):""}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.input.list}));gu.defaultProps={direction:"vertical"};var yu=D.c.div(Ai(),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.dropdown.foreground}),(function(e){return e.theme.dropdown.background}),(function(e){return e.theme.dropdown.borderColor}),(function(e){return e.showList?"pointer":"default"}),(function(e){return e.theme.dropdown.hoverBorderColor}),Oo),vu=D.c.div(Fi()),bu=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).state={isOpen:!1},i.dropdownId="",i.dropdownLabelId="",i.handleOutsideClick=function(e){i.node&&i.node.contains(e.target)||i.setState({isOpen:!1})},i.onSelect=function(e){(0,i.props.onSelect)(e),i.setState({isOpen:!1})},i.handleKeyDownItem=function(e){return function(t){"Space"!==t.nativeEvent.code&&"Enter"!==t.nativeEvent.code||i.onSelect(e)}},i.onClick=function(){i.setState((function(e){return{isOpen:!e.isOpen}}))},i.listItem=function(e){var t=i.props,n=t.itemStyle,r=t.selectedItem,o=i.state.isOpen,a=e.value,s=e.label,l={};return"function"===typeof n?l=n(e):null!==n&&"object"===typeof n&&(l=n),R.a.createElement(du,{role:"option","aria-hidden":!o,tabIndex:0,style:l,onClick:function(){return i.onSelect(a)},key:a,isActive:r===a,onKeyDown:i.handleKeyDownItem(a)},s)},i.onKeyDown=function(e){"Space"!==e.nativeEvent.code&&"Enter"!==e.nativeEvent.code||i.onClick()},i.nodeRef=function(e){i.node=e},i.dropdownId=Object(E.l)().slice(0,8),i.dropdownLabelId="".concat(i.dropdownId,"-label"),i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1)}},{key:"render",value:function(){var e=this.props,t=e.selectedItem,n=e.list,i=e.label,r=e.style,o=e.isDisabled,a=this.state.isOpen,s=n.length>1;return R.a.createElement(vu,null,R.a.createElement(Xl,{id:this.dropdownLabelId,isDisabled:o,style:{paddingLeft:"0px"},label:i}),R.a.createElement("div",{ref:this.nodeRef},R.a.createElement(fu,{isOpen:a,isDisabled:o},R.a.createElement(yu,{role:"combobox","aria-controls":this.dropdownId,"aria-expanded":a,"aria-labelledby":this.dropdownLabelId,"data-test":E.r.Dropdown,"aria-hidden":o,showList:s,style:r,onClick:s?this.onClick:void 0,onKeyDown:this.onKeyDown,tabIndex:o?-1:0},t,s&&R.a.createElement(wo,{rotation:a?180:0})),R.a.createElement(gu,{id:this.dropdownId,role:"listbox",tabIndex:-1,"aria-labelledby":this.dropdownLabelId,"data-test":E.r.DropdownList,isOpen:a},s&&n.map(this.listItem)))))}}]),n}(R.a.PureComponent),_u=D.c.input.attrs({type:"file",id:"fileUpload",accept:"image/*"})(Ri()),xu=function(e){var t=e.children;return R.a.createElement("form",{onSubmit:function(e){e.preventDefault()}},t)},ku=Object(D.b)(Ii(),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.textInput.foreground}),(function(e){return e.theme.textInput.borderColor}),(function(e){return e.theme.textInput.background}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.textInput.hoverBorderColor}),(function(e){return e.theme.textInput.hoverBorderColor}),(function(e){return e.theme.textInput.inactiveOpacity}),(function(e){return e.theme.textInput.hoverBorderColor})),wu=D.c.div(Di(),ku,(function(e){return e.theme.textInput.hoverBorderColor})),Ou=D.c.input(Ei(),ku,(function(e){return e.theme.textInput.inactiveOpacity})),Su=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).onChange=function(t){var n=e.props.onChange;n&&n(t.target.value)},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e["aria-label"],n=e["aria-labeledby"],i=e.id,r=e.testId,o=e.value,a=e.type,s=e.min,l=e.max,u=e.onBlur,c=e.onFocus,f=e.onKeyUp,d=e.onKeyDown,h=e.onMouseUp,p=e.onTouchEnd,m=e.isDisabled,g=e.className,y=e.children;return R.a.createElement(wu,{className:g},R.a.createElement(Ou,{"aria-label":t,"aria-labelledby":n,id:i,"data-test":r,"aria-hidden":m,disabled:m,value:o,type:a,min:s,max:l,onChange:this.onChange,onBlur:u,onFocus:c,onKeyUp:f,onKeyDown:d,onMouseUp:h,onTouchEnd:p}),y)}}]),n}(R.a.Component);Su.defaultProps={type:"text"};var Cu=Su,ju=D.c.div(Ti(),Object(E.ub)()?Object(D.b)(ji()):Object(D.b)(Ci())),Tu=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).node=null,i.handleOutsideClick=function(e){i.node&&i.node.current&&i.node.current.contains(e.target)||i.onSubmit()},i.onSubmit=function(){var e=i.props.onSubmit,t=i.state,r=t.value,o=t.isActive;if(e){var a=parseFloat(n.cleanValue(r));!Number.isNaN(a)&&o&&e("".concat(a))}i.setState({isActive:!1})},i.onBlur=function(){i.onSubmit()},i.onFocus=function(){i.setState({isActive:!0})},i.onKeyDown=function(e){var t=i.state.value;if("Enter"===e.key)i.onSubmit();else if("ArrowUp"===e.key){var r=parseFloat(n.cleanValue(t));"number"===typeof r&&i.setState({value:(r+1).toString(),isActive:!0})}else if("ArrowDown"===e.key){var o=parseFloat(n.cleanValue(t));"number"===typeof o&&i.setState({value:(o-1).toString(),isActive:!0})}},i.onChange=function(e){i.setState({value:e.replace(/[^\d.,-]/g,""),isActive:!0})},i.state={value:i.props.value||"",isActive:!1},i.node=R.a.createRef(),i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick,!1),document.addEventListener("touchstart",this.handleOutsideClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.label,i=e["aria-label"],r=e.isDisabled,o=e.showLabel,a=e.ariaHidden,s=e.onMouseUp,l=e.onTouchEnd,u=e.className,c=e.style,f=this.state.value;return R.a.createElement(ju,{ref:this.node,"data-test":E.r.NummericInput,className:u,style:c},n&&o&&R.a.createElement(Xl,{htmlFor:t,label:n,show:!!n,isDisabled:r}),R.a.createElement(Cu,{id:t,value:f,isDisabled:r,"aria-hidden":a,"aria-label":n?void 0:i,"aria-labelledby":n?t:void 0,onChange:this.onChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,onFocus:this.onFocus,onMouseUp:s,onTouchEnd:l}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.value,i=t.value,r=t.isActive;return n===i||r?null:{value:n}}},{key:"cleanValue",value:function(e){return e?e.replace(",",".").replace(/[a-zA-Z]/g,"").trim():""}}]),n}(R.a.Component);Tu.defaultProps={showLabel:!0};var Eu=Tu,Du=D.c.input.attrs({type:"search"})(Si(),ku),Iu=Object(I.forwardRef)((function(e,t){var n=e.value,i=e.onChange,r=e.onKeyDown,o=e.placeholder,a=e.className,s=e.style;return R.a.createElement("div",{className:a,style:s},R.a.createElement(Du,{ref:t,value:n,onChange:function(e){i&&i(e.target.value)},onKeyDown:r,placeholder:o,autoComplete:"off"}))})),Ru=D.c.div(Oi()),Fu=function(e){var t=e.label,n=e.children,i=e.inline,r=e.showLabel,o=e.isDisabled,a=e["data-test"],s="photoeditorsdk-".concat(t.replace(" ","-"),"-label");return R.a.createElement(Ru,{"data-test":a},R.a.createElement(Xl,{id:s,isDisabled:o,label:t,show:r}),R.a.createElement(Au,{"aria-labelledby":s,inline:!!i},n))},Au=D.c.div(wi(),(function(e){return!e.inline&&Object(D.b)(ki())||""}));Fu.defaultProps={showLabel:!0};var Mu=Fu,Pu=D.c.div(xi()),zu=D.c.div(_i(),(function(e){return e.centerSlider?-56:0}),(function(e){return e.centerSlider?"calc(100% + 56px)":"100%"})),Bu=Object(D.c)(Eu)(bi()),Lu=function(e){var t=e.id,n=e["aria-label"],i=e.value,r=e.min,o=e.max,a=e.divider,s=e.suffix,l=e.decimal,u=e.isDisabled,c=e["aria-hidden"],f=e.onChange,d=e.onMouseUp,h=e.onTouchEnd,p=e.className,m=e.style,g="".concat(t,"-input"),y="".concat((i*a).toFixed(l)).concat(s),v=Object(I.useCallback)((function(e){var t=e.replace(s,"");if(t){var n=parseFloat(t)/a,i=Math.max(r,Math.min(o,n));Number.isNaN(i)||(f(i),d?d(i):h&&h(i))}}),[r,o,s,f,d,h]);return R.a.createElement(Bu,{className:p,style:m,"aria-label":n,id:g,value:y,isDisabled:u,"aria-hidden":c,onSubmit:v})},Nu=Object(D.c)(Xl)(vi()),Uu=Object(D.b)(yi(),Object(E.sb)()||Object(E.ub)()?Object(D.b)(gi()):Object(D.b)(mi()),(function(e){return e.theme.slider.thumbBackground}),(function(e){return e.theme.slider.thumbBorderColor})),Gu=function(e){var t=100*(e.value-e.min)/(e.max-e.min);return e.adjust?e.value>0?(t=e.value*(e.max/2)*100,"".concat(e.theme.slider.trackColor," 0%,\n      ").concat(e.theme.slider.trackColor," 50%,\n      ").concat(e.theme.slider.activeTrackColor," 50%,\n      ").concat(e.theme.slider.activeTrackColor," ").concat(50+t,"%,\n      ").concat(e.theme.slider.trackColor," ").concat(50+t,"%,\n      ").concat(e.theme.slider.trackColor," 100%\n      ")):e.value<0?(t=e.value*(e.min/2)*100,"".concat(e.theme.slider.trackColor," 0%,\n      ").concat(e.theme.slider.trackColor," ").concat(50-t,"%,\n      ").concat(e.theme.slider.activeTrackColor," ").concat(50-t,"%,\n      ").concat(e.theme.slider.activeTrackColor," 50%,\n      ").concat(e.theme.slider.trackColor," 50%,\n      ").concat(e.theme.slider.trackColor," 100%\n      ")):"".concat(e.theme.slider.trackColor," 0%,\n    ").concat(e.theme.slider.trackColor," 100%"):"".concat(e.theme.slider.activeTrackColor," 0%,\n    ").concat(e.theme.slider.activeTrackColor," ").concat(t,"%,\n    ").concat(e.theme.slider.trackColor," ").concat(t,"%,\n    ").concat(e.theme.slider.trackColor," 100%")},Hu=D.c.input.attrs((function(e){return{style:Object(E.sb)()||Object(E.ub)()?{}:{background:"linear-gradient(to right, ".concat(Gu(e),")")}}}))(pi(),(function(e){return e.showInput?"calc(100% - 50px)":"100%"}),Oo,(function(e){return Object(E.sb)()||Object(E.ub)()?Object(D.b)(hi()):e.smallContainer?Object(D.b)(di()):Object(D.b)(fi())}),(function(e){return e.theme.slider.inactiveOpacity}),(function(e){return e.theme.slider.hoverOpacity}),Uu,Uu,Uu,(function(e){return"".concat(e.theme.slider.activeTrackColor)}),(function(e){return"".concat(e.theme.slider.trackColor)})),Wu=function(e){var t=e.id,n=e.label,i=e.value,r=e.min,o=e.max,a=e.step,s=e.adjust,l=e.showInput,u=e["aria-hidden"],c=e.isDisabled,f=e.onChange,d=e.onMouseUp,h=e.onTouchEnd,p=e["data-test"],m=e.className,g=e.style,y=Object(I.useContext)(No).rect,v=Object(I.useCallback)((function(e){var t=parseFloat(e.target.value);f(t)}),[f]),b=Object(I.useCallback)((function(e){var t=e.target.value,n=parseFloat(t);h&&h(n)}),[h]),_=Object(I.useCallback)((function(e){var t=e.target.value,n=parseFloat(t);d&&d(n)}),[h]);return R.a.createElement(Hu,{type:"range",role:"slider","aria-valuenow":i,"aria-valuemin":r,"aria-valuemax":o,"aria-label":n,"data-test":p,id:t,name:n,tabIndex:0,value:i,min:r,max:o,step:a,style:g,className:m,adjust:s,showInput:l,disabled:c,smallContainer:!!y&&y.width<600,"aria-hidden":u,onChange:v,onKeyUp:v,onKeyDown:v,onMouseUp:_,onTouchEnd:b})},Vu=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).onDismiss=function(){var t=e.props,n=t.handleClose,i=t.handleDismiss;n&&n(),i&&i()},e.onConfirm=function(){var t=e.props,n=t.handleClose,i=t.handleConfirm;n&&n(),i&&i()},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.headerLabel,n=e.bodyLabel,i=e.confirmLabel,r=e.dismissLabel,o=e.type,a=e.children,s=R.a.Children.toArray(a)[0];if(!R.a.isValidElement(s))throw new Error("Child is not a valid react element");return R.a.cloneElement(s,{handleConfirm:this.onConfirm,handleDismiss:this.onDismiss,header:R.a.createElement(ll,null,t),body:R.a.createElement(al,{"data-test":E.r.DialogBody},n),footer:R.a.createElement(sl,{type:o},r&&R.a.createElement(Lo,{label:r,ariaLabel:r,onClick:this.onDismiss}),i&&R.a.createElement(Bo,{label:i,ariaLabel:i,onClick:this.onConfirm}))})}}]),n}(R.a.Component),qu=D.c.div(ci()),Ku=Object(D.c)(ll)(ui()),Xu=D.c.div(li()),Yu=Object(D.c)(al)(si()),Qu=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.headerLabel,n=e.bodyLabel,i=e.children,r=R.a.Children.toArray(i)[0];if(!R.a.isValidElement(r))throw new Error("Child is not a valid react element");return R.a.cloneElement(r,{height:"90px",body:R.a.createElement(al,{"data-test":E.r.DialogBody},R.a.createElement(qu,null,R.a.createElement(dl,null),R.a.createElement(Xu,null,R.a.createElement(Ku,null,t),R.a.createElement(Yu,null,n))))})}}]),n}(R.a.PureComponent),Zu=D.c.form(ai()),Ju=D.c.textarea(oi(),(function(e){return e.theme.primary}),ku,(function(e){return e.theme.modal.bodyForeground}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.theme.primary}),(function(e){return e.theme.foreground})),$u=D.c.label(ri(),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.modal.headerForeground})),ec=Object(D.c)(al)(ii()),tc=Object(D.c)(sl)(ni()),nc=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).state={value:""},e.input=R.a.createRef(),e.handleKeydown=function(t){Object(E.p)(e.handleDismiss)(t)},e.handleDismiss=function(){var t=e.props.handleDismiss;t&&t(!1)},e.handleConfirm=function(){var t=e.props.handleConfirm,n=e.input.current.value;n&&(t&&t(n),e.handleDismiss())},e.onChange=function(t){var n=e.props.allowEmojis?t.target.value:Object(E.Cb)(t.target.value);e.input.current.value=n,e.setState({value:n})},e.onSubmit=function(e){e.preventDefault()},e}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.text,n=e.defaultText;this.input.current.focus(),this.input.current.value=t||n||"",this.setState({value:this.input.current.value}),document.addEventListener("keydown",this.handleKeydown,!1),t===n&&this.input.current.select()}},{key:"componentDidUpdate",value:function(e){var t=this.props.isVisible;e.isVisible!==t&&t&&this.input.current.focus()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeydown,!1)}},{key:"render",value:function(){var e=this.props,t=e.headerLabel,n=e.dismissLabel,i=e.confirmLabel,r=e.maxLength,o=e.type,a=e.children,s=this.state.value,l=R.a.Children.toArray(a)[0];if(!R.a.isValidElement(l))throw new Error("Child is not a valid react element");return R.a.cloneElement(l,{handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss,isConfirmDisabled:!s,height:"150px",header:R.a.createElement($u,{htmlFor:"photoeditorsdk-TextInput"},t),body:R.a.createElement(ec,null,R.a.createElement(Zu,{onSubmit:this.onSubmit},R.a.createElement(Ju,{ref:this.input,id:"photoeditorsdk-TextInput",placeholder:"Write Something",autoFocus:!0,onChange:this.onChange,maxLength:r}))),footer:R.a.createElement(tc,{type:o},R.a.createElement(Lo,{label:n,ariaLabel:n,onClick:this.handleDismiss}),R.a.createElement(Bo,{label:i,ariaLabel:i,isDisabled:!s,onClick:this.handleConfirm}))})}}]),n}(R.a.Component);nc.defaultProps={defaultText:"Write Something",allowEmojis:!1};var ic=nc,rc=D.c.div(ti(),(function(e){return 8*(e.count||1)}));rc.defaultProps={count:1};var oc=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"getChildren",value:function(){var e=this,t=[],n=[];return R.a.Children.forEach(this.props.children,(function(i){switch(i.type.componentName){case"case":e.props.type===i.props.value&&t.push(i);break;case"default":n.push(i)}})),t.length>0?t:n}},{key:"render",value:function(){var e=this.getChildren();return 0===e.length?null:R.a.createElement(R.a.Fragment,null,e)}}]),n}(R.a.Component),ac=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(R.a.Component);ac.componentName="case";var sc=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(R.a.Component);sc.componentName="default";var lc=Object(D.d)(ei()),uc=D.c.div($n(),(function(e){return e.position.y}),(function(e){return e.position.x}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.toast}),(function(e){return e.show&&Object(D.b)(Jn(),lc)})),cc=Object(D.b)(Qn(),(function(e){return e.theme.card.activeBorderColor}),To,(function(e){return e.theme.card.activeOverlayColor})),fc=D.c.button.attrs((function(e){var t={};return e.image&&(t.backgroundImage="url(".concat(e.image,")")),Object(k.a)({style:t},e.style)}))(Yn(),(function(e){return e.theme.card.background}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.shape.radiusMedium}),(function(){return Object(D.b)(Zn(),la)}),Oo,(function(e){return e.isActive&&cc}),Eo,(function(e){return e.theme.card.inactiveOverlayColor}),Do,(function(e){return e.theme.card.hoverOverlayColor})),dc=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).state=Io,e.timeout=null,e.onKeyDown=function(t){"Space"!==t.key&&"Enter"!==t.key||e.props.onClick&&e.props.onClick()},e.onClick=function(t){var n=t.currentTarget.getBoundingClientRect(),i=t.pageX-n.left,r=t.pageY-n.top;"block"===e.state.display?e.setState({display:"none"},(function(){e.setRippleState(i,r)})):e.setRippleState(i,r),e.props.onClick(t)},e.setRippleState=function(t,n){e.setState({left:t,top:n,display:"block"}),e.timeout=setTimeout((function(){e.setState({display:"none"})}),1200)},e}return Object(S.a)(n,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.label,i=e.role,r=e["aria-label"],o=e["aria-expanded"],a=e.isActive,s=e.isDisabled,l=e.image,u=e.style,c=e.className,f=this.state,d=f.left,h=f.top,p=f.display;return R.a.createElement(fc,{role:i,"aria-expanded":o,isActive:a,"aria-label":r,"data-test":n,disabled:s,image:l,onClick:this.onClick,onKeyDown:this.onKeyDown,style:u,className:c},t,R.a.createElement(Ro,{display:p,left:d,top:h}),R.a.createElement(To,null),R.a.createElement(Eo,null),R.a.createElement(Do,null))}}]),n}(R.a.Component);dc.defaultProps={isActive:!1};var hc,pc=function(e){e.forEach((function(e){return cancelAnimationFrame(e)}))},mc=function(e){return!Number.isNaN(parseFloat(e))&&Number.isFinite(e)},gc=function(e){return"string"===typeof e&&e.search("%")===e.length-1&&mc(e.substr(0,e.length-1))},yc=((hc=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;Object(O.a)(this,n),(i=t.call(this,e)).contentRef=null,i.contentRef=R.a.createRef(),i.animationFrameIDs=[];var r="auto",o="visible";return mc(e.height)?(r=e.height<0||"0"===e.height?0:e.height,o="hidden"):gc(e.height)&&(r="0%"===e.height?0:e.height,o="hidden"),"undefined"!==typeof window&&window.matchMedia&&(i.prefersReducedMotion=window.matchMedia("(prefers-reduced-motion)").matches),i.state={height:r,overflow:o,shouldUseTransitions:!1},i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentRef.current&&this.contentRef.current.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this,i=this.props.height,r=this.getTimings(),o=r.duration,a=r.delay;if(this.contentRef.current&&i!==e.height){this.showContent(t.height),this.contentRef.current.style.overflow="hidden";var s=this.contentRef.current.offsetHeight;this.contentRef.current.style.overflow="";var l=o+a,u=null,c={height:null,overflow:"hidden"},f="auto"===t.height;mc(i)?(u=i<0||"0"===i?0:i,c.height=u):gc(i)?(u="0%"===i?0:i,c.height=u):(u=s,c.height="auto",c.overflow=null),f&&(c.height=u,u=s),this.setState({height:u,overflow:"hidden",shouldUseTransitions:!f}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),f?(pc(this.animationFrameIDs),this.animationFrameIDs=function(e){var t=[];return t[0]=requestAnimationFrame((function(){t[1]=requestAnimationFrame((function(){e()}))})),t}((function(){n.setState({height:c.height,overflow:c.overflow,shouldUseTransitions:!0})})),this.animationClassesTimeoutID=setTimeout((function(){n.setState({shouldUseTransitions:!1}),n.hideContent(c.height)}),l)):this.timeoutID=setTimeout((function(){n.setState({height:c.height,overflow:"visible",shouldUseTransitions:!1}),"auto"!==i&&n.hideContent(u)}),l)}}},{key:"componentWillUnmount",value:function(){pc(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null}},{key:"getTimings",value:function(){if(this.prefersReducedMotion)return{delay:0,duration:0};var e=this.props;return{delay:e.delay,duration:e.duration}}},{key:"showContent",value:function(e){0===e&&(this.contentRef.current.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentRef.current.style.display="none")}},{key:"render",value:function(){var e=this.props,t=e.animateOpacity,n=e.children,i=e.className,r=e.easing,o=this.state,a=o.height,s=o.overflow,l=o.shouldUseTransitions,u=this.getTimings(),c=u.duration,f=u.delay,d={height:a,overflow:s};l&&(d.transition="height ".concat(c,"ms ").concat(r," ").concat(f,"ms"),d.WebkitTransition=d.transition);var h={};return t&&(h.transition="opacity ".concat(c,"ms ").concat(r," ").concat(f,"ms"),h.WebkitTransition=h.transition,0===a&&(h.opacity=0)),R.a.createElement("div",{"aria-hidden":0===a,className:i,style:d},R.a.createElement("div",{style:h,ref:this.contentRef},n))}}]),n}(R.a.Component)).defaultProps={animateOpacity:!1,duration:250,delay:0,easing:"ease"},hc),vc={Focused:Oo,VisuallyHidden:So},bc={ripple:Co,scale:sa,slide:la},_c={Container:Xa,ColorItem:el,ColorItemBase:Js,ColorItemBackground:Xs,ColorItemTiledBackground:$s,ColorItemActiveOverlay:Zs,Dialog:ol,DialogBase:il,DialogContainer:rl,DialogBackdrop:tl,DialogHeader:ll,DialogBody:al,DialogFooter:sl,DialogSpinner:dl,TextEditModal:ic,ActionModal:Vu,InfoModal:Qu,Spacer:rc,Draggable:Wl,DraggableCore:Ul,Toast:uc,Input:{Label:Xl,File:_u,Search:Iu,Slider:function(e){var t=e["data-test"],n=e.label,i=e.identifier,r=e.showLabel,o=void 0===r||r,a=e.showInput,s=void 0===a||a,l=e.centerSlider,u=void 0!==l&&l,c=e.min,f=void 0===c?-1:c,d=e.max,h=void 0===d?1:d,p=e.value,m=void 0===p?0:p,g=e.step,y=void 0===g?.01:g,v=e.decimal,b=void 0===v?0:v,_=e.divider,k=void 0===_?100:_,w=e.suffix,O=void 0===w?"":w,S=e.adjust,C=void 0!==S&&S,j=e["aria-hidden"],T=e.isDisabled,D=e.onChange,F=e.onMouseUp,A=e.onTouchEnd,M=e.style,P=e.className,z=Object(I.useState)("photoeditorsdk-slider-".concat(Object(E.l)())),B=Object(x.a)(z,1)[0];return R.a.createElement(Pu,{className:P,"data-test":t||i||B,style:M},R.a.createElement(Nu,{isDisabled:T,label:n,show:o}),R.a.createElement(zu,{centerSlider:s&&u},R.a.createElement(Wu,{id:B,label:n,value:m,min:f,max:h,step:y,adjust:C,showInput:s,isDisabled:T,"aria-hidden":j,onChange:D,onMouseUp:F,onTouchEnd:A}),s&&R.a.createElement(Lu,{id:B,"aria-label":n,value:m,min:f,max:h,divider:k,suffix:O,decimal:b,isDisabled:T,"aria-hidden":j,onChange:D,onMouseUp:F,onTouchEnd:A})))},SliderBase:Pu,SliderContainer:zu,SliderInput:Lu,SliderTrack:Wu,SliderLabel:Nu,CarouselSlider:ru,Selection:Mu,Checkbox:uu,CheckboxBase:ou,CheckboxInput:su,CheckboxCheckMark:au,Dropdown:bu,Text:Cu,NumericInput:Eu,Form:xu},Switch:{Index:oc,Case:ac,Default:sc}},xc=Object(D.c)(Ko)(Xn(),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case}),(function(e){return e.theme.button.textSecondaryForeground}),Eo,(function(e){return e.theme.button.textInactiveOpacity})),kc=D.c.div(Kn()),wc=Object(D.c)(Ko)(qn(),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.measurements.fontSystem.button2.size}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.button2.case})),Oc=D.c.div(Vn(),(function(e){return e.show?Object(D.b)(Wn()):Object(D.b)(Hn())}),(function(e){return e.theme.canvasActionBar.background}),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.canvasActionBar.borderRadius?e.theme.canvasActionBar.borderRadius:e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.zIndex.buttonGroup}),wc,(function(e){return e.theme.canvasActionBar.separatorColor})),Sc=Object(D.c)(Mo)(Gn(),(function(e){return e.theme.measurements.zIndex.button.float})),Cc=D.c.div(Un(),(function(e){return e.theme.webcam.floatButton})),jc=["library",["transform","filter","adjustment"],["focus","frame","overlay"],["text","textdesign","sticker","brush"]],Tc={image:"",license:"",order:"default",language:"en",theme:"dark",layout:"advanced",mainCanvasActions:["undo","redo","export","close"],displayResizeWarning:!1,displayCloseWarning:!0,displayCanvasRendererWarning:!0,displayToolControlBarTitle:!0,displaySerializationModal:!0,displayDiscardChangesWarning:!0,engine:{crossOrigin:"anonymous",downscaleOptions:{maxMegaPixels:{desktop:10,mobile:5}},preferredRenderer:Object(E.Bb)()?"webgl":"canvas",backgroundColor:[0,0,0,1]},enableZoom:!0,scaleImageToFit:!0,restrictZoomOutToDefault:!0,forceCrop:!1,assetBaseUrl:"assets/",defaultTool:"filter",tools:jc,snapping:new E.f,filter:new E.y,focus:new E.L,adjustment:new E.t,library:new E.gb,overlay:new E.nb,sticker:new E.zb,text:new E.Db,textdesign:new E.d,frame:new E.V,brush:new E.c,transform:new E.e,export:{image:{exportType:"image",format:"image/png",quality:.9,enableDownload:!0,transparent:!0},filename:"photoeditorsdk-export"},custom:{},watermark:new E.h},Ec="function"===typeof Symbol&&Symbol.for;function Dc(e){return e&&"object"===typeof e&&!function(e){return"[object RegExp]"===Object.prototype.toString.call(e)||"[object Date]"===Object.prototype.toString.call(e)||Object.prototype.toString.call(e).includes("HTML")||"[object Array]"===Object.prototype.toString.call(e)}(e)&&!function(e){return Object.hasOwnProperty.call(e,"__ngContext__")}(e)&&!function(e){return!(!Ec||!Object.hasOwnProperty.call(e,"$$typeof"))&&(e.$$typeof===Symbol.for("react.element")||e.$$typeof===Symbol.for("react.forward_ref"))}(e)}function Ic(e,t){return t&&!0===t.clone&&Dc(e)?Rc(function(e){return Array.isArray(e)?[]:{}}(e),e,t):e}function Rc(e,t,n){return Array.isArray(t)?Array.isArray(e)?t:Ic(t,n):function(e,t,n){var i={};return Dc(e)&&Object.keys(e).forEach((function(t){i[t]=Ic(e[t],n)})),Object.keys(t).forEach((function(r){var o=Dc(t[r])&&e[r];i[r]=o?Rc(e[r],t[r],n):Ic(t[r],n)})),i}(e,t,n)}function Fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce((function(e,n){return Rc(e,n,t)}))}var Ac={headline1:{size:16,letterSpacing:1.5,case:"uppercase"},headline2:{size:14,letterSpacing:.8,case:"uppercase"},body:{size:13,letterSpacing:0,case:"none"},label:{size:13,letterSpacing:0,case:"capitalize"},basicUICardLabel:{size:12,letterSpacing:0,case:"capitalize"},button1:{size:14,letterSpacing:0,case:"uppercase"},button2:{size:14,letterSpacing:0,case:"capitalize"},basicUITabLabel:{size:14,letterSpacing:.8,case:"uppercase"}},Mc={toast:2,controlsBar:5,buttonGroup:5,toolControlBar:6,toolbar:7,label:10,disable:11,canvas:{knob:4,bar:5,controls:5,snappingGuide:1,crop:{grid:2,dragImage:3,backdrop:4},webcam:{backdrop:7}},input:{list:6},button:{float:5},dialog:{base:100,backdrop:1,container:2},colorItem:{overlay:2,background:1,tiledBackground:0}},Pc=function(){return Fc([function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,n=3*t,i=e-2*n,r=(i-2*t)/3,o=(i-t)/2;return{advancedUIToolControlBar:{width:e,paddingTop:2*t,paddingBottom:2*t,paddingLeft:n,paddingRight:n,marginBottom:0,controls:{gutter:2*t}},advancedUICard:{small:{height:r,width:r},medium:{height:o,width:o},large:{height:86,width:i}},advancedUISpacer:t,inputs:{cropSize:{maxWidth:e},checkbox:{maxWidth:e}}}}(230),{advancedUIToolbar:{width:55,itemHeight:48,separatorHeight:20,marginBottom:0},basicCanvasOffset:28,basicUIToolbar:{openHeight:88,closeHeight:40},basicUIToolControlBar:{itemsBarHeight:72,controlsBarHeight:80,maxHeight:116,maxWidth:300},basicCard:{medium:{height:56,width:90},large:{height:60,width:110}},basicSpacer:8,mainCanvasActionBar:{height:50},crop:{minSize:50},canvas:{marginTop:0,transform:{minSliderWidth:435,minValueWidth:235,minFlipWidth:160}},canvasControls:{sprite:{controlOffset:16,rotateHandle:{height:16},minSize:30,controlPadding:16},knob:{size:16,touchable:{desktop:24}},corner:{size:14,touchable:{desktop:24,mobile:48},borderWidth:4},width:{size:14}},buttons:{float:{size:56}},colorItem:{size:20},color:{colorPicker:{width:214,height:370,saturationSlider:{height:150},thumb:{size:14},arrow:{width:36}}},fontSystem:Ac,zIndex:Mc}])},zc=function(e){var t=Number(e).toString(16);return t.length<2&&(t="0".concat(t)),t},Bc=function(e,t,n){var i=zc(255*e),r=zc(255*t),o=zc(255*n);return"#".concat(i).concat(r).concat(o)},Lc=function(e){if(Object(E.lb)(e)){var t=Object(x.a)(e,4),n=t[0],i=t[1],r=t[2],o=t[3];return"rgba(".concat(255*n,", ").concat(255*i,", ").concat(255*r,", ").concat(o,")")}if(Object(E.jb)(e)){var a=e.r,s=e.g,l=e.b,u=e.a;return"rgba(".concat(255*a,", ").concat(255*s,", ").concat(255*l,", ").concat(u,")")}if(Object(E.hb)(e)){var c=Object(x.a)(e,3),f=c[0],d=c[1],h=c[2];return Bc(f,d,h)}if(Object(E.eb)(e)){var p=e.r,m=e.g,g=e.b;return Bc(p,m,g)}return e},Nc=function(e){return e.map((function(e){return{identifier:e.name,color:e.color,colorString:Lc(e.color)}}))},Uc={black:[0,0,0,1],white:[1,1,1,1],gray:[191/255,191/255,191/255,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},Gc={transparent:[0,0,0,0],black:[0,0,0,1],white:[1,1,1,1],blue:[.4,134/255,1,1],skyBlue:[.4,.8,1,1],red:[231/255,80/255,80/255,1],orange:[242/255,136/255,85/255,1],yellow:[1,247/255,99/255,1]},Hc=(i={},Object(_.a)(i,"brightness",0),Object(_.a)(i,"saturation",0),Object(_.a)(i,"contrast",0),Object(_.a)(i,"gamma",0),Object(_.a)(i,"clarity",0),Object(_.a)(i,"exposure",0),Object(_.a)(i,"shadows",0),Object(_.a)(i,"highlights",0),Object(_.a)(i,"whites",0),Object(_.a)(i,"blacks",0),Object(_.a)(i,"temperature",0),Object(_.a)(i,"sharpness",0),i),Wc=function(){function e(t,n){var i=this;Object(O.a)(this,e),this.assets=[],this.entityMapper=function(e){return"items"in e?i.categoryMapper(e):i.itemMapper(e)},this.categoryMapper=function(e){return e?Object(k.a)({},e,{thumbnailURI:i.getCategoryThumbnailURI(e),name:i.config.locale[e.identifier]||e.name,items:e.items.map(i.itemMapper)}):null},this.itemMapper=function(e){return Object(k.a)({},e,{thumbnailURI:i.getItemThumbnailURI(e),name:i.config.locale[e.identifier]||("name"in e?e.name:"")})},this.getCategoryThumbnailURI=function(e){return e.thumbnailURI?Object(E.Eb)(e.thumbnailURI)||"data:image"===e.thumbnailURI.substr(0,10)?e.thumbnailURI:i.config.getAssetPath(e.thumbnailURI||""):""},this.getItemThumbnailURI=function(e){var t;if(null==(t=e.thumbnailURI)?void 0:t.trim())return Object(E.Eb)(e.thumbnailURI)||"data:image"===e.thumbnailURI.substr(0,10)?e.thumbnailURI:i.config.getAssetPath(e.thumbnailURI||"");var n=e[i.config.itemFallbackKey];return n?i.config.getAssetPath(n):""},this.config=n,this.assets=t.map(this.entityMapper).filter(Boolean)}return Object(S.a)(e,[{key:"categories",get:function(){return this.assets.reduce((function(t,n){if(e.isCategory(n))return[].concat(Object(v.a)(t),[n])}),[]).filter(Boolean)}},{key:"items",get:function(){return this.assets.reduce((function(t,n){return e.isCategory(n)?[].concat(Object(v.a)(t),Object(v.a)(n.items)):[].concat(Object(v.a)(t),[n])}),[]).filter(Boolean)}}],[{key:"isCategory",value:function(e){return Object.prototype.hasOwnProperty.call(e,"items")}}]),e}(),Vc=function(){function e(t,n){Object(O.a)(this,e),this.from=t,this.to=n}return Object(S.a)(e,[{key:"contains",value:function(e){return this.from<=e&&e<=this.to}},{key:"clamp",value:function(e){return Math.min(Math.max(this.from,e),this.to)}}]),e}(),qc=new Vc(-1,1),Kc=function(){function e(t){var n=this;Object(O.a)(this,e),this.editAdjustments=function(e){var t=e.type,i=e.value,r=qc.clamp(i);n.state[t]=r},this.reset=function(){Object(E.db)((function(){-1===n.indexInContainer&&(Object.keys(Hc).forEach((function(e){n.state[e]=Hc[e]})),n.orderHelper.removeIndex("adjustment"))}))},this.setAdjustmentEffect=function(e){var t=n.orderHelper.addIndex("adjustment");return n.effect?n.effect.setProperties(e):n.effect=n.engineMediator.engine.addAdjustments(e,n.engineMediator.image.container,t),n.effect.getProperties()},this.removeAdjustmentEffect=function(){n.effect&&(n.engineMediator.engine.removeEffect(n.effect),-1===n.indexInContainer&&(n.effect=void 0))},this.engineMediator=t,this.state=Hc}return Object(S.a)(e,[{key:"indexInContainer",get:function(){return this.effect?this.effect.getIndexInParent():-1}},{key:"orderHelper",get:function(){return this.engineMediator.orderHelper}}]),e}();Object(E.G)([E.K],Kc.prototype,"state",2),Object(E.G)([E.bb],Kc.prototype,"editAdjustments",2),Object(E.G)([E.bb],Kc.prototype,"reset",2);var Xc=function(){function e(t){var n=this;Object(O.a)(this,e),this.dirty=E.K.box(!1),this.isHistoryChanged=!1,this.editAdjustments=function(e){var t=e.type,i=e.value;n.isHistoryChanged=!(0,E.v.default)(n.state[t],i),n.pureSetAdjustment({type:t,value:i}),n.editor.render()},this.toolSnapshot=function(){(0,E.v.default)(n.state,Hc)?n.dirty.set(!1):n.dirty.set(!0),n.isHistoryChanged&&(n.addSnapshot("edit","adjustment"),n.isHistoryChanged=!1)},this.addSnapshot=function(e,t){n.editor.addSnapshot(void 0,e,t)},this.toggleOptionSelection=function(e){n.selectedOption=e},this.pureSetAdjustment=function(e){var t=e.type,i=e.value,r=n.adjustmentsStore.setAdjustmentEffect(Object(_.a)({},t,i));n.adjustmentsStore.editAdjustments({type:t,value:r[t]})},this.pureReset=function(){n.dirty.set(!1),n.adjustmentsStore.removeAdjustmentEffect(),n.adjustmentsStore.reset(),n.selectedOption=""},this.reset=function(){n.pureReset(),n.addSnapshot("delete",n.locale.controls.buttonReset),n.editor.render()},this.updateStateFromHistory=function(e){(0,E.v.default)(e,n.state)||((0,E.v.default)(e,Hc)?n.pureReset():Object(E.db)((function(){n.dirty.set(Object.values(e).some((function(e){return 0!==e}))),Object.keys(e).forEach((function(t){n.pureSetAdjustment({type:t,value:e[t]})}))})))},this.updateStateFromSerialization=function(e){n.updateStateFromHistory(e)},this.editor=t,this.adjustmentsStore=new Kc(this.editor.engineMediator),this.selectedOption="";var i=this.editor.assetProvider.getAssets("adjustment");this.entityManager=new Wc(i,Object(k.a)({},this.config,{locale:Object(k.a)({},this.locale.items,{},this.locale.categories),getAssetPath:this.editor.getAssetPath("adjustment")}))}return Object(S.a)(e,[{key:"selectedAdjustmentType",get:function(){return this.selectedOption}},{key:"isDirty",get:function(){return this.dirty.get()}},{key:"state",get:function(){return this.adjustmentsStore.state}},{key:"selectedOptionLabel",get:function(){var e=this,t=this.items.find((function(t){return!!t&&t.identifier===e.selectedOption}));return t?t.name:""}},{key:"brightness",get:function(){return this.state.brightness}},{key:"saturation",get:function(){return this.state.saturation}},{key:"contrast",get:function(){return this.state.contrast}},{key:"gamma",get:function(){return this.state.gamma}},{key:"clarity",get:function(){return this.state.clarity}},{key:"exposure",get:function(){return this.state.exposure}},{key:"shadows",get:function(){return this.state.shadows}},{key:"highlights",get:function(){return this.state.highlights}},{key:"whites",get:function(){return this.state.whites}},{key:"blacks",get:function(){return this.state.blacks}},{key:"temperature",get:function(){return this.state.temperature}},{key:"sharpness",get:function(){return this.state.sharpness}},{key:"categories",get:function(){return this.entityManager.categories}},{key:"items",get:function(){return this.entityManager.items}},{key:"config",get:function(){return this.editor.configStore.config.adjustment}},{key:"locale",get:function(){return this.editor.configStore.locale.adjustment}}]),e}();Object(E.G)([E.K],Xc.prototype,"selectedOption",2),Object(E.G)([E.K],Xc.prototype,"dirty",2),Object(E.G)([E.bb],Xc.prototype,"editAdjustments",2),Object(E.G)([E.bb],Xc.prototype,"toggleOptionSelection",2),Object(E.G)([E.bb],Xc.prototype,"pureSetAdjustment",2),Object(E.G)([E.bb],Xc.prototype,"pureReset",2),Object(E.G)([E.bb],Xc.prototype,"reset",2),Object(E.G)([E.bb],Xc.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],Xc.prototype,"updateStateFromSerialization",2),Object(E.G)([E.N],Xc.prototype,"selectedAdjustmentType",1),Object(E.G)([E.N],Xc.prototype,"isDirty",1),Object(E.G)([E.N],Xc.prototype,"state",1),Object(E.G)([E.N],Xc.prototype,"selectedOptionLabel",1),Object(E.G)([E.N],Xc.prototype,"brightness",1),Object(E.G)([E.N],Xc.prototype,"saturation",1),Object(E.G)([E.N],Xc.prototype,"contrast",1),Object(E.G)([E.N],Xc.prototype,"gamma",1),Object(E.G)([E.N],Xc.prototype,"clarity",1),Object(E.G)([E.N],Xc.prototype,"exposure",1),Object(E.G)([E.N],Xc.prototype,"shadows",1),Object(E.G)([E.N],Xc.prototype,"highlights",1),Object(E.G)([E.N],Xc.prototype,"whites",1),Object(E.G)([E.N],Xc.prototype,"blacks",1),Object(E.G)([E.N],Xc.prototype,"temperature",1),Object(E.G)([E.N],Xc.prototype,"sharpness",1),Object(E.G)([E.N],Xc.prototype,"categories",1),Object(E.G)([E.N],Xc.prototype,"items",1),Object(E.G)([E.N],Xc.prototype,"config",1),Object(E.G)([E.N],Xc.prototype,"locale",1);var Yc=Object(E.E)(ko()),Qc={identifier:"identity",intensity:1,isDuotone:!1},Zc=new Vc(0,1),Jc=function(){function e(t){var n=this;Object(O.a)(this,e),this.changeIdentifier=function(e){n.state.identifier=e},this.changeIfDuotone=function(e){n.state.isDuotone=e},this.changeIntensity=function(e){var t=Zc.clamp(e);n.state.intensity=t},this.reset=function(){-1===n.indexInContainer&&(n.state.identifier=Qc.identifier,n.state.intensity=Qc.intensity,n.removeIndex())},this.setFilterEffect=function(e){var t=e.identifier,i=e.intensity,r=e.isDuotone,o=n.state,a=function(){n.changeIdentifier(t),n.changeIntensity(i),n.changeIfDuotone(r)};n.removeFilterEffect();var s=n.engineMediator.orderHelper.addIndex("filter");return new Promise(r?function(e,r){n.engineMediator.engine.addDuoToneFilterFromAssets(t,n.engineMediator.image.container,s).then((function(t){a(),n.effect=t,n.effect.setProperties({colorIntensity:i}),e()})).catch((function(e){n.fallbackOnError(o),r(e)}))}:function(e,r){n.engineMediator.engine.addLUTFilterFromAssets(t,n.engineMediator.image.container,s).then((function(t){a(),n.effect=t,n.effect.setProperties({intensity:i}),e()})).catch((function(e){n.fallbackOnError(o),r(e)}))})},this.removeFilterEffect=function(){n.effect&&(n.engineMediator.engine.removeEffect(n.effect),-1===n.indexInContainer&&(n.effect=void 0))},this.setEffectProperties=function(e){var t=e.intensity;return n.effect?(n.state.isDuotone?n.effect.setProperties({colorIntensity:t}):n.effect.setProperties({intensity:t}),n.effect.getProperties()):null},this.removeIndex=function(){n.engineMediator.orderHelper.removeIndex("filter")},this.fallbackOnError=function(e){n.changeIdentifier(e.identifier),n.changeIntensity(e.intensity),"identity"===e.identifier&&n.removeIndex()},this.engineMediator=t,this.state=Qc}return Object(S.a)(e,[{key:"indexInContainer",get:function(){return this.effect?this.effect.getIndexInParent():-1}}]),e}();Object(E.G)([E.K],Jc.prototype,"state",2),Object(E.G)([E.bb],Jc.prototype,"changeIdentifier",2),Object(E.G)([E.bb],Jc.prototype,"changeIfDuotone",2),Object(E.G)([E.bb],Jc.prototype,"changeIntensity",2),Object(E.G)([E.bb],Jc.prototype,"reset",2);var $c="identity",ef=function(){function e(t){var n=this;Object(O.a)(this,e),this.throttledRender=(0,Yc.default)((function(){n.editor&&n.editor.render()}),10,{trailing:!0}),this.selectFilter=function(){var e=Object(y.a)(g.a.mark((function e(t){var i,r,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.length>1&&void 0!==o[1]?o[1]:1,t===n.identifier){e.next=8;break}return r=n.selectedCategory,e.next=5,n.filterStore.setFilterEffect({identifier:t,intensity:i,isDuotone:n.isOptionDuoTone(t)});case 5:n.selectedCategory===$c&&(n.selectedCategory=r),n.editor.render(),n.addSnapshot("add","filter");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeIntensity=function(e){var t=n.isOptionDuoTone(n.identifier),i=n.filterStore.setEffectProperties({intensity:e});if(i){var r=t?i.colorIntensity:i.intensity;n.filterStore.changeIntensity(r),n.throttledRender()}},this.setImageAndGetPreviews=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.editor.activeStore.state.image,e.next=3,n.editor.previewThumbnails.addImageToContainer(t);case 3:return e.next=5,n.getAllFilterPreview();case 5:case"end":return e.stop()}}),e)}))),this.getAllFilterPreview=Object(y.a)(g.a.mark((function e(){var t,i,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.entityManager.items.map((function(e){return{identifier:e.identifier,isDuotone:n.isOptionDuoTone(e.identifier)}})),e.next=3,n.editor.previewThumbnails.getAllFilterPreviewThumbnails(t);case 3:return i=e.sent,e.next=6,n.editor.wait();case 6:r=n.config,o=n.editor.configStore.assetProvider.getAssets("filter").map((function(e){return Object(k.a)({},e,{items:e.items.map((function(e){return Object(k.a)({},e,{thumbnailURI:i[e.identifier]})}))})})),n.entityManager=new Wc(o,Object(k.a)({},r,{locale:n.locale.items,getAssetPath:n.editor.getAssetPath("filter")}));case 9:case"end":return e.stop()}}),e)}))),this.toolSnapshot=function(){n.addSnapshot("edit",n.locale.controls.sliderIntensity)},this.addSnapshot=function(e,t){n.editor.addSnapshot(void 0,e,t)},this.pureReset=function(){n.selectedCategory=$c,n.filterStore.removeFilterEffect(),n.filterStore.reset()},this.reset=function(){n.pureReset(),n.addSnapshot("delete",n.locale.controls.buttonReset),n.editor.render()},this.toggleCategorySelection=function(e){n.selectedCategory=n.selectedCategory===e?$c:e},this.updateStateFromSerialization=function(e){var t=e.identifier,i=e.intensity,r=n.doesFilterAssetExist(t);if(r){var o=Object(E.A)(r);return n.filterStore.setFilterEffect({identifier:t,intensity:i,isDuotone:o})}throw new E.z(t)},this.updateStateFromHistory=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("identity"!==t.identifier){e.next=3;break}return n.pureReset(),e.abrupt("return",new Promise((function(e){e()})));case 3:return e.abrupt("return",n.filterStore.setFilterEffect(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.doesFilterAssetExist=function(e){return n.entityManager.items.find((function(t){return e===t.identifier}))},this.isOptionDuoTone=function(e){var t=n.doesFilterAssetExist(e);return!!t&&Object(E.A)(t)},this.editor=t,this.selectedCategory=$c,this.filterStore=new Jc(this.editor.engineMediator);var i=this.config,r=this.editor.configStore.assetProvider.getAssets("filter");this.entityManager=new Wc(r,Object(k.a)({},i,{locale:this.locale.items,getAssetPath:this.editor.getAssetPath("filter")}))}return Object(S.a)(e,[{key:"state",get:function(){return this.filterStore.state}},{key:"identifier",get:function(){return this.state.identifier}},{key:"intensity",get:function(){return this.state.intensity}},{key:"isDuotone",get:function(){return this.state.isDuotone}},{key:"selectedCategoryIdentifier",get:function(){return this.selectedCategory}},{key:"isOptionSelected",get:function(){return"identity"!==this.identifier}},{key:"config",get:function(){return this.editor.configStore.config.filter}},{key:"locale",get:function(){return this.editor.configStore.locale.filter}},{key:"categories",get:function(){return this.entityManager.categories}},{key:"items",get:function(){return this.entityManager.items}}]),e}();Object(E.G)([E.K],ef.prototype,"selectedCategory",2),Object(E.G)([E.K],ef.prototype,"entityManager",2),Object(E.G)([E.bb],ef.prototype,"selectFilter",2),Object(E.G)([E.bb],ef.prototype,"changeIntensity",2),Object(E.G)([E.bb],ef.prototype,"pureReset",2),Object(E.G)([E.bb],ef.prototype,"reset",2),Object(E.G)([E.bb],ef.prototype,"toggleCategorySelection",2),Object(E.G)([E.bb],ef.prototype,"updateStateFromSerialization",2),Object(E.G)([E.bb],ef.prototype,"updateStateFromHistory",2),Object(E.G)([E.N],ef.prototype,"state",1),Object(E.G)([E.N],ef.prototype,"identifier",1),Object(E.G)([E.N],ef.prototype,"intensity",1),Object(E.G)([E.N],ef.prototype,"isDuotone",1),Object(E.G)([E.N],ef.prototype,"selectedCategoryIdentifier",1),Object(E.G)([E.N],ef.prototype,"isOptionSelected",1),Object(E.G)([E.N],ef.prototype,"config",1),Object(E.G)([E.N],ef.prototype,"locale",1),Object(E.G)([E.N],ef.prototype,"categories",1),Object(E.G)([E.N],ef.prototype,"items",1);var tf=Object(E.E)(ko()),nf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=Math.tan(t),r=Math.sqrt(Math.pow(i,2)+1);return{x:e.x+n/r,y:e.y+n*i/r}},rf={blurRadius:40,gradientSize:.2},of={identifier:"identity",linear:Object(k.a)({start:{x:0,y:0},end:{x:0,y:0}},rf),radial:Object(k.a)({center:{x:0,y:0},radius:0},rf),mirrored:Object(k.a)({origin:{x:0,y:0},rotation:0,size:0},rf),gaussian:rf},af=function(){function e(t){var n=this;Object(O.a)(this,e),this.selectFocus=function(e,t){Object(E.db)((function(){n.state.identifier=e,t&&(n.state[e].blurRadius=t)}))},this.changeBlurRadius=function(e,t){"identity"!==e&&(n.state[e].blurRadius=t)},this.reset=function(){-1===n.indexInContainer&&(n.state.identifier=of.identifier,"identity"!==n.state.identifier&&(n.state[n.state.identifier].blurRadius=of[n.state.identifier].blurRadius))},this.setLinear=function(e){var t=e.start,i=e.end;n.state.linear.start.x=t.x,n.state.linear.start.y=t.y,n.state.linear.end.x=i.x,n.state.linear.end.y=i.y},this.setLinearStart=function(e){n.state.linear.start.x=e.x,n.state.linear.start.y=e.y},this.setLinearEnd=function(e){n.state.linear.end.x=e.x,n.state.linear.end.y=e.y},this.setRadialCenter=function(e){n.state.radial.center.x=e.x,n.state.radial.center.y=e.y},this.setRadialRadius=function(e){n.state.radial.radius=e},this.setMirroredOrigin=function(e){n.state.mirrored.origin.x=e.x,n.state.mirrored.origin.y=e.y},this.setMirroredRotation=function(e){n.state.mirrored.rotation=e},this.setMirroredSize=function(e){n.state.mirrored.size=e},this.getEffectProperties=function(){return n.effect?n.effect.getProperties():null},this.setLinearFocus=function(e){n.effect=n.engineMediator.engine.addLinearBlur(e,n.imageContainer,n.order),n.updateLinearState(n.effect.getProperties())},this.setGaussianFocus=function(e){n.effect=n.engineMediator.engine.addGaussianBlur(e,n.imageContainer,n.order),n.updateGaussianState(n.effect.getProperties())},this.setRadialFocus=function(e){n.effect=n.engineMediator.engine.addRadialBlur(e,n.imageContainer,n.order),n.updateRadialState(n.effect.getProperties())},this.setMirroredFocus=function(e){n.effect=n.engineMediator.engine.addMirroredBlur(e,n.imageContainer,n.order),n.updateMirroredState(n.effect.getProperties())},this.updateFromEngineState=function(e){var t=n.getEffectProperties();if(t&&"identity"!==e)switch(e){case"linear":n.updateLinearState(t);break;case"radial":n.updateRadialState(t);break;case"mirrored":n.updateMirroredState(t)}},this.updateGaussianState=function(e){n.changeBlurRadius("gaussian",e.blurRadius)},this.updateMirroredState=function(e){var t=n.editor.worldToPreview(e.mirrorAxisOrigin),i=new E.n(n.editor.worldToPreview(e.mirrorAxisDirection)).subtract(t),r=Math.atan2(i.y,i.x);n.setMirroredOrigin(n.editor.worldToPreview(e.mirrorAxisOrigin)),n.setMirroredRotation(r),n.setMirroredSize(n.editor.worldToPreview(e.clearAreaWidth)),n.changeBlurRadius("mirrored",e.blurRadius)},this.updateRadialState=function(e){n.setRadialCenter(n.editor.worldToPreview(e.center)),n.setRadialRadius(n.editor.worldToPreview(e.radius)),n.changeBlurRadius("radial",e.blurRadius)},this.updateLinearState=function(e){n.setLinearStart(n.editor.worldToPreview(e.start)),n.setLinearEnd(n.editor.worldToPreview(e.end)),n.changeBlurRadius("linear",e.blurRadius)},this.setEffectProperties=function(e){return n.effect?(n.effect.setProperties(e),n.effect.getProperties()):null},this.removeFocus=function(){n.effect&&(n.engineMediator.engine.removeEffect(n.effect),n.engineMediator.orderHelper.removeIndex("focus"))},this.editor=t,this.engineMediator=this.editor.engineMediator,this.state=of}return Object(S.a)(e,[{key:"indexInContainer",get:function(){return this.effect?this.effect.getIndexInParent():-1}},{key:"order",get:function(){return this.engineMediator.orderHelper.addIndex("focus")}},{key:"imageContainer",get:function(){return this.engineMediator.image.container}}]),e}();Object(E.G)([E.K],af.prototype,"state",2),Object(E.G)([E.bb],af.prototype,"selectFocus",2),Object(E.G)([E.bb],af.prototype,"changeBlurRadius",2),Object(E.G)([E.bb],af.prototype,"reset",2),Object(E.G)([E.bb],af.prototype,"setLinear",2),Object(E.G)([E.bb],af.prototype,"setLinearStart",2),Object(E.G)([E.bb],af.prototype,"setLinearEnd",2),Object(E.G)([E.bb],af.prototype,"setRadialCenter",2),Object(E.G)([E.bb],af.prototype,"setRadialRadius",2),Object(E.G)([E.bb],af.prototype,"setMirroredOrigin",2),Object(E.G)([E.bb],af.prototype,"setMirroredRotation",2),Object(E.G)([E.bb],af.prototype,"setMirroredSize",2),Object(E.G)([E.bb],af.prototype,"updateFromEngineState",2);var sf=function(){function e(t){var n=this;Object(O.a)(this,e),this.throttledRender=(0,tf.default)((function(){n.editor&&n.editor.render()}),10,{trailing:!0}),this.selectFocus=function(e){if(e!==n.identifier){n.focusStore.removeFocus();var t=.2*n.maxIntensity,i=n.editor.engine.getOutputContainer().getBounds().width,r=.2*n.editor.shortestOutputSide;switch(e){case"linear":var o=n.editor.outputToWorld({x:-i/2,y:0}),a=n.editor.outputToWorld({x:i/2,y:0});n.setLinearFocus({start:o,end:a,blurRadius:t});break;case"radial":var s=n.editor.outputToWorld({x:0,y:0});n.setRadialFocus({center:s,radius:r,blurRadius:t});break;case"mirrored":var l=n.editor.outputToWorld({x:0,y:0}),u=r,c=n.editor.outputToWorld(nf({x:0,y:0},0));n.setMirroredFocus({mirrorAxisOrigin:l,clearAreaWidth:u,blurRadius:t,mirrorAxisDirection:c});break;case"gaussian":n.setGaussianFocus({blurRadius:t})}n.focusStore.selectFocus(e,t),n.editor.render(),n.addSnapshot("add","focus")}},this.changeIntensity=function(e){var t=n.focusStore.setEffectProperties({blurRadius:e});t&&(n.focusStore.changeBlurRadius(n.identifier,t.blurRadius),n.throttledRender())},this.changeRelativeIntensity=function(t){var i=(n.maxIntensity-e.minIntensity)*t/100+e.minIntensity,r=n.focusStore.setEffectProperties({blurRadius:i});r&&(n.focusStore.changeBlurRadius(n.identifier,r.blurRadius),n.throttledRender())},this.toolSnapshot=function(e){n.addSnapshot("edit",e)},this.addSnapshot=function(e,t){n.editor.addSnapshot(void 0,e,t)},this.clickableCanvas=function(e){n.editor.clickableCanvas(e)},this.pureReset=function(){n.focusStore.removeFocus(),n.focusStore.reset()},this.reset=function(){n.pureReset(),n.editor.render(),n.addSnapshot("delete",n.locale.controls.buttonReset)},this.setStart=function(e){var t=n.focusStore.setEffectProperties({start:n.editor.previewToWorld(e)});t&&(n.focusStore.setLinearStart(n.editor.worldToPreview(t.start)),n.throttledRender())},this.setEnd=function(e){var t=n.focusStore.setEffectProperties({end:n.editor.previewToWorld(e)});t&&(n.focusStore.setLinearEnd(n.editor.worldToPreview(t.end)),n.throttledRender())},this.setCenter=function(e){var t=n.focusStore.setEffectProperties({center:n.editor.previewToWorld(e)});t&&(n.focusStore.setRadialCenter(n.editor.worldToPreview(t.center)),n.throttledRender())},this.setRadius=function(e){var t=n.focusStore.setEffectProperties({radius:n.editor.previewToWorld(e)});t&&(n.focusStore.setRadialRadius(n.editor.worldToPreview(t.radius)),n.throttledRender())},this.setOrigin=function(e){var t=n.focusStore.setEffectProperties({mirrorAxisOrigin:n.editor.previewToWorld(e),mirrorAxisDirection:n.editor.previewToWorld(nf(e,n.rotation))});t&&(n.focusStore.setMirroredOrigin(n.editor.worldToPreview(t.mirrorAxisOrigin)),n.throttledRender())},this.setSize=function(e){var t=n.focusStore.setEffectProperties({clearAreaWidth:n.editor.previewToWorld(e)});t&&(n.focusStore.setMirroredSize(n.editor.worldToPreview(t.clearAreaWidth)),n.throttledRender())},this.setRotation=function(e){n.focusStore.setEffectProperties({mirrorAxisDirection:n.editor.previewToWorld(nf(n.origin,e))}),n.focusStore.setMirroredRotation(e),n.throttledRender()},this.updateStateFromHistory=function(e,t){n.focusStore.removeFocus();var i=t.magnitude;Object(E.db)((function(){switch(n.focusStore.selectFocus(e.identifier),e.identifier){case"linear":n.setLinearFocus({start:n.editor.previewToWorld(new E.n(e.linear.start).multiply(t)),end:n.editor.previewToWorld(new E.n(e.linear.end).multiply(t)),blurRadius:e.linear.blurRadius});break;case"gaussian":n.setGaussianFocus({blurRadius:e.gaussian.blurRadius});break;case"radial":n.setRadialFocus({center:n.editor.previewToWorld(new E.n(e.radial.center).multiply(t)),radius:n.editor.previewToWorld(e.radial.radius*i),blurRadius:e.radial.blurRadius});break;case"mirrored":var r=new E.n(e.mirrored.origin).multiply(t);n.setMirroredFocus({mirrorAxisOrigin:n.editor.previewToWorld(r),mirrorAxisDirection:n.editor.previewToWorld(nf(r,e.mirrored.rotation)),clearAreaWidth:n.editor.previewToWorld(e.mirrored.size*i),blurRadius:e.mirrored.blurRadius});break;case"identity":n.pureReset()}}))},this.updateStateFromSerialization=function(){var t=Object(y.a)(g.a.mark((function t(i){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.doesFocusIdentifierExist(i.identifier)){t.next=5;break}n.focusStore.removeFocus(),Object(E.db)((function(){switch(n.focusStore.selectFocus(i.identifier),i.identifier){case"linear":n.setLinearFocus(i.linear);break;case"gaussian":n.setGaussianFocus(i.gaussian);break;case"radial":n.setRadialFocus(i.radial);break;case"mirrored":n.setMirroredFocus({mirrorAxisOrigin:i.mirrored.origin,clearAreaWidth:i.mirrored.size,blurRadius:i.mirrored.blurRadius,mirrorAxisDirection:nf(i.mirrored.origin,i.mirrored.rotation)})}})),t.next=6;break;case 5:throw new E.z(i.identifier);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.updateCanvasControls=function(){n.focusStore.updateFromEngineState(n.identifier)},this.getFocusStateForHistory=function(){var e=n.editor.canvasStore.sizeVector,t=n.focusStore.state.linear,i=n.focusStore.state.radial,r=n.focusStore.state.mirrored,o=e,a=o.magnitude;return Object(k.a)({},n.focusStore.state,{linear:Object(k.a)({},t,{start:new E.n(t.start).divide(o),end:new E.n(t.end).divide(o)}),radial:Object(k.a)({},i,{center:new E.n(i.center).divide(o),radius:i.radius/a}),mirrored:Object(k.a)({},r,{origin:new E.n(r.origin).divide(o),size:r.size/a}),gaussian:Object(k.a)({},n.focusStore.state.gaussian)})},this.editor=t,this.focusStore=new af(this.editor);var i=this.editor.assetProvider.getAssets("focus");this.entityManager=new Wc(i,Object(k.a)({},this.config,{flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("focus")}))}return Object(S.a)(e,[{key:"setGaussianFocus",value:function(e){var t=e.blurRadius;this.focusStore.setGaussianFocus({blurRadius:t})}},{key:"setLinearFocus",value:function(e){var t=e.start,n=e.end,i=e.blurRadius;this.focusStore.setLinearFocus({start:t,end:n,blurRadius:i})}},{key:"setRadialFocus",value:function(e){var t=e.center,n=e.radius,i=e.blurRadius;this.focusStore.setRadialFocus({center:t,radius:n,blurRadius:i})}},{key:"setMirroredFocus",value:function(e){var t=e.mirrorAxisOrigin,n=e.clearAreaWidth,i=e.blurRadius,r=e.mirrorAxisDirection;this.focusStore.setMirroredFocus({mirrorAxisOrigin:t,clearAreaWidth:n,blurRadius:i,mirrorAxisDirection:r})}},{key:"state",get:function(){return this.focusStore.state}},{key:"serializableState",get:function(){switch(this.identifier){case"linear":return{identifier:this.identifier,linear:this.focusStore.getEffectProperties()};case"radial":return{identifier:this.identifier,radial:this.focusStore.getEffectProperties()};case"mirrored":var e=this.focusStore.getEffectProperties();return{identifier:this.identifier,mirrored:{blurRadius:e.blurRadius,origin:e.mirrorAxisOrigin,rotation:Object(E.kb)(this.state.mirrored.rotation),size:e.clearAreaWidth}};case"gaussian":return{identifier:this.identifier,gaussian:this.focusStore.getEffectProperties()};default:return of}}},{key:"start",get:function(){return this.focusStore.state.linear.start}},{key:"startOnPreview",get:function(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.start);return{x:Math.abs(e.x),y:Math.abs(e.y)}}},{key:"end",get:function(){return this.focusStore.state.linear.end}},{key:"endOnPreview",get:function(){var e=this.editor.applyFlipToPreview(this.focusStore.state.linear.end);return{x:Math.abs(e.x),y:Math.abs(e.y)}}},{key:"center",get:function(){return this.focusStore.state.radial.center}},{key:"radius",get:function(){return this.focusStore.state.radial.radius}},{key:"origin",get:function(){return this.focusStore.state.mirrored.origin}},{key:"rotation",get:function(){return this.focusStore.state.mirrored.rotation}},{key:"rotationOnPreview",get:function(){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically;return Object(E.rb)({rotation:this.focusStore.state.mirrored.rotation,flipHorizontally:t,flipVertically:n})}},{key:"size",get:function(){return this.focusStore.state.mirrored.size}},{key:"mirroredAreaWidth",get:function(){var e=this.editor.canvasStore.canvasSize,t=e.width,n=e.height;return 2*Math.sqrt(Math.pow(t,2)+Math.pow(n,2))}},{key:"identifier",get:function(){return this.state.identifier}},{key:"intensity",get:function(){return"identity"===this.identifier?of.gaussian.blurRadius:this.state[this.identifier].blurRadius}},{key:"relativeIntensity",get:function(){return 100*(("identity"===this.identifier?this.state.gaussian:this.state[this.identifier]).blurRadius-e.minIntensity)/(this.maxIntensity-e.minIntensity)}},{key:"maxIntensity",get:function(){return this.editor.shortestOutputSide/10}},{key:"isOptionSelected",get:function(){return"identity"!==this.identifier}},{key:"config",get:function(){return this.editor.configStore.config.focus}},{key:"locale",get:function(){return this.editor.configStore.locale.focus}},{key:"items",get:function(){return this.entityManager.items}}],[{key:"doesFocusIdentifierExist",value:function(e){return-1!==Object.keys(E.O).map((function(e){return E.O[e]})).findIndex((function(t){return t===e}))}},{key:"minIntensity",get:function(){return 0}}]),e}();Object(E.G)([E.bb],sf.prototype,"selectFocus",2),Object(E.G)([E.bb],sf.prototype,"changeIntensity",2),Object(E.G)([E.bb],sf.prototype,"changeRelativeIntensity",2),Object(E.G)([E.bb],sf.prototype,"clickableCanvas",2),Object(E.G)([E.bb],sf.prototype,"pureReset",2),Object(E.G)([E.bb],sf.prototype,"reset",2),Object(E.G)([E.bb],sf.prototype,"setStart",2),Object(E.G)([E.bb],sf.prototype,"setEnd",2),Object(E.G)([E.bb],sf.prototype,"setCenter",2),Object(E.G)([E.bb],sf.prototype,"setRadius",2),Object(E.G)([E.bb],sf.prototype,"setOrigin",2),Object(E.G)([E.bb],sf.prototype,"setSize",2),Object(E.G)([E.bb],sf.prototype,"setRotation",2),Object(E.G)([E.bb],sf.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],sf.prototype,"updateStateFromSerialization",2),Object(E.G)([E.bb],sf.prototype,"updateCanvasControls",2),Object(E.G)([E.N],sf.prototype,"state",1),Object(E.G)([E.N],sf.prototype,"start",1),Object(E.G)([E.N],sf.prototype,"startOnPreview",1),Object(E.G)([E.N],sf.prototype,"end",1),Object(E.G)([E.N],sf.prototype,"endOnPreview",1),Object(E.G)([E.N],sf.prototype,"center",1),Object(E.G)([E.N],sf.prototype,"radius",1),Object(E.G)([E.N],sf.prototype,"origin",1),Object(E.G)([E.N],sf.prototype,"rotation",1),Object(E.G)([E.N],sf.prototype,"rotationOnPreview",1),Object(E.G)([E.N],sf.prototype,"size",1),Object(E.G)([E.N],sf.prototype,"mirroredAreaWidth",1),Object(E.G)([E.N],sf.prototype,"identifier",1),Object(E.G)([E.N],sf.prototype,"intensity",1),Object(E.G)([E.N],sf.prototype,"relativeIntensity",1),Object(E.G)([E.N],sf.prototype,"maxIntensity",1),Object(E.G)([E.N],sf.prototype,"isOptionSelected",1),Object(E.G)([E.N],sf.prototype,"config",1),Object(E.G)([E.N],sf.prototype,"locale",1),Object(E.G)([E.N],sf.prototype,"items",1);var lf=Object(E.E)(ko()),uf={identifier:"identity",opacity:1,blendMode:"lighten"},cf=new Vc(0,1),ff=function(){function e(t,n){var i=this;Object(O.a)(this,e),this.changeIdentifier=function(e){i.state.identifier=e},this.changeOpacity=function(e){var t=cf.clamp(e);i.state.opacity=t},this.changeBlendMode=function(e){i.state.blendMode=e},this.reset=function(){-1===i.indexInContainer&&(i.state.identifier=uf.identifier,i.state.opacity=uf.opacity,i.state.blendMode=uf.blendMode,i.removeIndex())},this.correctOverlayFlip=function(){var e=i.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically;i.effect&&(i.effect.setFlipHorizontally(t),i.effect.setFlipVertically(n))},this.removeOverlayEffect=function(){i.effect&&(i.engineMediator.engine.removeEffect(i.effect),i.removeIndex(),i.effect=void 0)},this.setEffectProperties=function(e){return i.effect?(i.effect.setProperties(e),i.effect.getProperties()):null},this.setOverlayEffect=function(e){var t=e.identifier,n=e.blendMode,r=e.opacity,o=Object(k.a)({},i.state);i.removeOverlayEffect();var a=i.engineMediator.orderHelper.addIndex("overlay");return new Promise((function(e,s){i.engineMediator.engine.addOverlayFromAssets(t,i.engineMediator.image.container,a).then((function(o){i.changeIdentifier(t),i.changeOpacity(r),i.changeBlendMode(n),i.effect=o,i.effect.setProperties({blendMode:n,opacity:r}),i.correctOverlayFlip(),e()})).catch((function(e){i.changeIdentifier(o.identifier),i.changeOpacity(o.opacity),i.changeBlendMode(o.blendMode),"identity"===o.identifier&&i.removeIndex(),s(e)}))}))},this.removeIndex=function(){i.engineMediator.orderHelper.removeIndex("overlay")},this.engineMediator=t,this.editor=n,this.state=uf}return Object(S.a)(e,[{key:"indexInContainer",get:function(){return this.effect?this.effect.getIndexInParent():-1}}]),e}();Object(E.G)([E.K],ff.prototype,"state",2),Object(E.G)([E.bb],ff.prototype,"changeIdentifier",2),Object(E.G)([E.bb],ff.prototype,"changeOpacity",2),Object(E.G)([E.bb],ff.prototype,"changeBlendMode",2),Object(E.G)([E.bb],ff.prototype,"reset",2),Object(E.G)([E.bb],ff.prototype,"correctOverlayFlip",2);var df=function(){function e(t){var n=this;Object(O.a)(this,e),this.throttledRender=(0,lf.default)((function(){n.editor&&n.editor.render()}),10,{trailing:!0}),this.selectOverlay=function(){var e=Object(y.a)(g.a.mark((function e(t){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===n.identifier){e.next=6;break}return i=n.defaultBlendModeForIdentifier(t),e.next=4,n.overlayStore.setOverlayEffect({identifier:t,opacity:1,blendMode:i});case 4:n.addSnapshot("add","overlay"),n.editor.render();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeOpacity=function(e){var t=n.overlayStore.setEffectProperties({opacity:e});t&&(n.overlayStore.changeOpacity(t.opacity),n.throttledRender())},this.toolSnapshot=function(){n.addSnapshot("edit",n.locale.controls.sliderOpacity)},this.addSnapshot=function(e,t){n.editor.addSnapshot(void 0,e,t)},this.changeBlendMode=function(e){var t=n.overlayStore.setEffectProperties({blendMode:e});t&&(n.overlayStore.changeBlendMode(t.blendMode),n.addSnapshot("edit",n.locale.controls.carouselBlendMode),n.editor.render())},this.pureReset=function(){n.overlayStore.removeOverlayEffect(),n.overlayStore.reset()},this.reset=function(){n.pureReset(),n.addSnapshot("delete",n.locale.controls.buttonReset),n.editor.render()},this.updateStateFromSerialization=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.entityManager.items.find((function(e){return e.identifier===t.identifier}))){e.next=3;break}return e.abrupt("return",n.overlayStore.setOverlayEffect(t).then((function(){n.editor.transformToolStore.setOverlayOpacity(t.opacity)})));case 3:throw new E.z(t.identifier);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateStateFromHistory=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("identity"!==t.identifier){e.next=3;break}return n.pureReset(),e.abrupt("return",new Promise((function(e){e()})));case 3:return e.abrupt("return",n.overlayStore.setOverlayEffect(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.correctOverlayFlip=function(){n.overlayStore.correctOverlayFlip()},this.defaultBlendModeForIdentifier=function(e){var t=n.entityManager.items.findIndex((function(t){return t.identifier===e}));return-1!==t?n.entityManager.items[t].defaultBlendMode:"lighten"},this.editor=t,this.overlayStore=new ff(this.editor.engineMediator,t);var i=this.editor.assetProvider.getAssets("overlay"),r=this.config;this.entityManager=new Wc(i,Object(k.a)({},r,{flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("overlay")}))}return Object(S.a)(e,[{key:"state",get:function(){return this.overlayStore.state}},{key:"identifier",get:function(){return this.overlayStore.state.identifier}},{key:"opacity",get:function(){return this.overlayStore.state.opacity}},{key:"blendMode",get:function(){return this.overlayStore.state.blendMode}},{key:"isOptionSelected",get:function(){return"identity"!==this.identifier}},{key:"config",get:function(){return this.editor.configStore.config.overlay}},{key:"locale",get:function(){return this.editor.configStore.locale.overlay}},{key:"items",get:function(){return this.entityManager.items}},{key:"allBlendModes",get:function(){var e=this.locale.controls;return Object.keys(E.qb).map((function(t){var n=E.qb[t],i="blendMode".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));return{identifier:n,value:e[i]}}))}}]),e}();Object(E.G)([E.bb],df.prototype,"selectOverlay",2),Object(E.G)([E.bb],df.prototype,"changeOpacity",2),Object(E.G)([E.bb],df.prototype,"changeBlendMode",2),Object(E.G)([E.bb],df.prototype,"pureReset",2),Object(E.G)([E.bb],df.prototype,"reset",2),Object(E.G)([E.bb],df.prototype,"updateStateFromSerialization",2),Object(E.G)([E.bb],df.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],df.prototype,"correctOverlayFlip",2),Object(E.G)([E.N],df.prototype,"state",1),Object(E.G)([E.N],df.prototype,"identifier",1),Object(E.G)([E.N],df.prototype,"opacity",1),Object(E.G)([E.N],df.prototype,"blendMode",1),Object(E.G)([E.N],df.prototype,"isOptionSelected",1),Object(E.G)([E.N],df.prototype,"config",1),Object(E.G)([E.N],df.prototype,"locale",1),Object(E.G)([E.N],df.prototype,"items",1),Object(E.G)([E.N],df.prototype,"allBlendModes",1);var hf={identifier:"identity",opacity:1,tintColor:Uc.white,tintMode:"none",resizeMode:"keepAspect"},pf={},mf=function(){return Object.keys(Uc).map((function(e){var t=Uc[e];return{identifier:e,color:t,colorString:Lc(t)}}))};function gf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(n,i){var r=new Image;r.addEventListener("load",(function(){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=r.width,e.height=r.height,t&&(e.width=t,e.height=t*r.height/r.width),i.drawImage(r,0,0,e.width,e.height);var o=e.toDataURL("image/png");Object(E.pb)(e),n(o)})),r.addEventListener("error",(function(){i()})),r.src=e}))}var yf=function(e){return new Promise((function(t,n){var i=new FileReader;i.onload=function(){var i=Object(y.a)(g.a.mark((function i(r){var o,a;return g.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,o=r.target.result,i.next=4,gf(o,150);case 4:a=i.sent,t({stickerURI:o,thumbnailURI:a,name:e.name||"",type:e.type,identifier:Object(E.l)()}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),n(i.t0);case 11:case"end":return i.stop()}}),i,null,[[0,8]])})));return function(e){return i.apply(this,arguments)}}(),i.onerror=function(e){n(e)},i.readAsDataURL(e)}))},vf="identity",bf="imgly_sticker_custom",_f=function(){function e(t){var n=this;Object(O.a)(this,e),this.state=E.K.map(pf),this.customStickers=[],this.colorList=mf(),this.selectLast=function(){n.editor.spriteStore.selectHighestOrderSprite(Array.from(n.state.keys()))},this.doesStickerAssetExist=function(e){return-1!==n.entityManager.items.findIndex((function(t){return t.identifier===e}))},this.add=function(e){var t=n.entityManager.items.find((function(t){return t.identifier===e})),i=t?t.tintMode:hf.tintMode,r=t?t.resizeMode:hf.resizeMode;n.editor.spriteStore.addSticker({state:{identifier:e,tintMode:i,tintColor:hf.tintColor,opacity:hf.opacity,resizeMode:r}})},this.duplicate=function(){if(n.id){var e=n.editor.spriteStore.getDuplicateContainerTransform(n.id),t=n.editor.spriteStore.getDuplicateContainerFlip(n.id),i=n.editor.outputContainer.getData(),r=i.flipHorizontally,o=i.flipVertically;n.editor.spriteStore.addSticker({state:{identifier:n.identifier,tintColor:Object(E.kb)(n.tintColor),tintMode:n.tintMode,resizeMode:n.resizeMode,opacity:n.opacity,flipHorizontally:r!==t.flipHorizontally,flipVertically:o!==t.flipVertically},transform:e})}},this.bringToFront=function(){n.id&&n.editor.spriteStore.bringToFront(n.id)},this.flipHorizontally=function(){n.id&&n.editor.spriteStore.flipHorizontally(n.id)},this.delete=function(){if(n.id){var e=n.id;n.editor.spriteStore.removeSprite(e),n.state.delete(e),n.selectLast()}},this.updateStateFromHistory=function(e,t){(0,E.v.default)(t,n.state.get(e))||(n.setState(e,t),n.editor.spriteStore.setContainerProperties(e,t))},this.setState=function(e,t){var i=n.state.get(e);i?("opacity"in t&&(i.opacity=t.opacity),t.tintColor&&(i.tintColor=t.tintColor),t.tintMode&&(i.tintMode=t.tintMode),t.resizeMode&&(i.resizeMode=t.resizeMode),n.state.set(e,i)):n.state.set(e,{identifier:t.identifier,opacity:t.opacity,tintMode:t.tintMode,resizeMode:t.resizeMode,tintColor:t.tintColor?t.tintColor:hf.tintColor})},this.changeOpacity=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{opacity:e});var i=n.editor.spriteStore.getContainerProperties(n.id);t.opacity=i.opacity,n.state.set(n.id,t)}}},this.changeTintColor=function(e){if(n.id){var t=n.state.get(n.id);if(t){var i=n.entityManager.items.find((function(e){return e.identifier===n.identifier})).tintMode;n.editor.spriteStore.setContainerProperties(n.id,{tintColor:e,tintMode:i});var r=n.editor.spriteStore.getContainerProperties(n.id);t.tintColor=r.tintColor,t.tintMode=r.tintMode||hf.tintMode,n.state.set(n.id,t)}}},this.tintColorSnapshot=function(){n.addSnapshot("edit",n.locale.history.color)},this.addFiles=function(){var e=Object(y.a)(g.a.mark((function e(t){var i,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.editor.modalStore.showInfoModal("loading"),!t.length){e.next=17;break}for(i=0,r=[],i=0;i<t.length;i+=1)r.push(yf(t[i]));return e.prev=5,e.next=8,Promise.all(r);case 8:o=e.sent,n.addCustomStickerAsset(o),n.editor.configStore.events.onStickerUploadedAdd(o.map((function(e,n){return{identifier:e.identifier,stickerURI:e.stickerURI,file:t[n]}}))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),n.editor.modalStore.hideModal(),n.editor.modalStore.showInfoModal("stickerLoading");case 17:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),this.addCustomStickerAsset=function(){var e=Object(y.a)(g.a.mark((function e(t){var i,r,o,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[],t.forEach((function(e){var t=e.stickerURI,r=e.thumbnailURI,o=e.name,a=e.identifier,s=e.type;i.push({stickerURI:t,thumbnailURI:r,name:o,tintMode:n.customStickerTintMode,resizeMode:n.customStickerResizeMode,identifier:a}),n.customStickers.push({identifier:a,type:s,stickerURI:t,name:o})})),r=n.locale.categories[bf],n.editor.assetProvider.addCustomStickerAsset(i,bf,r),o=n.editor.assetProvider.getAssets("sticker"),a=n.config,n.entityManager=new Wc(o,Object(k.a)({},a,{itemFallbackKey:"stickerURI",locale:n.locale.items,getAssetPath:n.editor.getAssetPath("sticker")})),n.selectedCategory=bf,n.editor.modalStore.hideModal();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.toolSnapshot=function(){n.addSnapshot("edit",n.locale.history.opacity)},this.addSnapshot=function(e,t){var i=n.editor.historyStore.getCurrentSpritesState();(null==i?void 0:i.sticker)&&(0,E.v.default)(i.sticker,Object(E.kb)(n.state))||n.currentSticker&&n.editor.spriteStore.addSnapshot(e,t)},this.toggleCategorySelection=function(e){n.selectedCategory=n.selectedCategory===e?vf:e},this.pureReset=function(){n.state=E.K.map(pf)},this.dispose=function(){n.state=null,n.selectedCategory=null,n.editor=null,n.entityManager=null},this.editor=t,this.selectedCategory=vf;var i=this.config,r=this.editor.assetProvider.getAssets("sticker");this.entityManager=new Wc(r,Object(k.a)({},i,{itemFallbackKey:"stickerURI",locale:Object(k.a)({},this.locale.items,{},this.locale.categories),getAssetPath:this.editor.getAssetPath("sticker")})),hf.tintColor=Object(E.kb)(Object(E.u)(this.config,"defaultTintColor",hf.tintColor)),this.config.colors&&this.config.colors.length>0&&(this.colorList=Nc(Object(E.kb)(this.config.colors)))}return Object(S.a)(e,[{key:"isStickerSelected",get:function(){return this.editor.spriteStore.isSpriteSticker}},{key:"isCustomStickerEnabled",get:function(){return this.config.enableCustomUpload}},{key:"customStickerTintMode",get:function(){return this.config.customStickerTintMode}},{key:"customStickerResizeMode",get:function(){return this.config.customStickerResizeMode}},{key:"currentSticker",get:function(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e}}},{key:"identifier",get:function(){if(this.isStickerSelected){var e=this.state.get(this.id);if(e)return e.identifier}return"none"}},{key:"id",get:function(){if(this.isStickerSelected)return this.editor.spriteStore.id}},{key:"opacity",get:function(){return this.currentSticker?this.currentSticker.opacity:hf.opacity}},{key:"tintMode",get:function(){return this.currentSticker?this.currentSticker.tintMode:hf.tintMode}},{key:"resizeMode",get:function(){return this.currentSticker?this.currentSticker.resizeMode:hf.resizeMode}},{key:"tintable",get:function(){return!!this.currentSticker&&("solid"===this.currentSticker.tintMode||"colorized"===this.currentSticker.tintMode)}},{key:"tintColor",get:function(){return this.currentSticker?this.currentSticker.tintColor:hf.tintColor}},{key:"config",get:function(){return this.editor.configStore.config.sticker}},{key:"locale",get:function(){return this.editor.configStore.locale.sticker}},{key:"localeColor",get:function(){return this.editor.configStore.locale.common.color}},{key:"selectedCategoryIdentifier",get:function(){return this.selectedCategory}},{key:"items",get:function(){return this.entityManager.items}},{key:"categories",get:function(){return this.entityManager.categories}}]),e}();Object(E.G)([E.K],_f.prototype,"selectedCategory",2),Object(E.G)([E.K],_f.prototype,"entityManager",2),Object(E.G)([E.bb],_f.prototype,"selectLast",2),Object(E.G)([E.bb],_f.prototype,"add",2),Object(E.G)([E.bb],_f.prototype,"duplicate",2),Object(E.G)([E.bb],_f.prototype,"bringToFront",2),Object(E.G)([E.bb],_f.prototype,"flipHorizontally",2),Object(E.G)([E.bb],_f.prototype,"delete",2),Object(E.G)([E.bb],_f.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],_f.prototype,"setState",2),Object(E.G)([E.bb],_f.prototype,"changeOpacity",2),Object(E.G)([E.bb],_f.prototype,"changeTintColor",2),Object(E.G)([E.bb],_f.prototype,"addFiles",2),Object(E.G)([E.bb],_f.prototype,"addCustomStickerAsset",2),Object(E.G)([E.bb],_f.prototype,"toggleCategorySelection",2),Object(E.G)([E.bb],_f.prototype,"pureReset",2),Object(E.G)([E.bb],_f.prototype,"dispose",2),Object(E.G)([E.N],_f.prototype,"isStickerSelected",1),Object(E.G)([E.N],_f.prototype,"isCustomStickerEnabled",1),Object(E.G)([E.N],_f.prototype,"customStickerTintMode",1),Object(E.G)([E.N],_f.prototype,"customStickerResizeMode",1),Object(E.G)([E.N],_f.prototype,"currentSticker",1),Object(E.G)([E.N],_f.prototype,"identifier",1),Object(E.G)([E.N],_f.prototype,"id",1),Object(E.G)([E.N],_f.prototype,"opacity",1),Object(E.G)([E.N],_f.prototype,"tintMode",1),Object(E.G)([E.N],_f.prototype,"resizeMode",1),Object(E.G)([E.N],_f.prototype,"tintable",1),Object(E.G)([E.N],_f.prototype,"tintColor",1),Object(E.G)([E.N],_f.prototype,"config",1),Object(E.G)([E.N],_f.prototype,"locale",1),Object(E.G)([E.N],_f.prototype,"localeColor",1),Object(E.G)([E.N],_f.prototype,"selectedCategoryIdentifier",1),Object(E.G)([E.N],_f.prototype,"items",1),Object(E.G)([E.N],_f.prototype,"categories",1);var xf={text:"Write Something",identifier:"imgly_font_open_sans_bold",fontSize:73.3,defaultFontSize:73.3,fontFamily:"Open Sans",fontStyle:"",fontWeight:"bold",lineHeight:1,alignment:"center",textColor:Uc.white,backgroundColor:Uc.transparent||[0,0,0,0],width:0},kf={},wf={100:"Extra Light",200:"Light",300:"Book",400:"Regular",500:"Medium",600:"SemiBold",700:"Bold",800:"Black",900:"Extra Black",bold:"Bold",normal:"Regular",lighter:"Lighter"},Of=function(){function e(t){var n=this;Object(O.a)(this,e),this.state=E.K.map(kf),this.colorList=mf(),this.backgroundColorList=Object.keys(Gc).map((function(e){var t=Gc[e];return{identifier:e,color:t,colorString:Lc(t)}})),this.fontsLoadStatus=E.K.object({pending:!1,loaded:!1}),this.doesTextAssetExist=function(e){return-1!==n.editor.assetProvider.getFontAssets().findIndex((function(t){return t.identifier===e}))},this.validFontWithConfig=function(e){return n.fonts.find((function(t){return t.identifier===e}))||n.fonts[0]},this.addOrselect=function(){n.state.size?(n.selectLast(),n.loadFonts()):n.add()},this.selectLast=function(){n.editor.spriteStore.selectHighestOrderSprite(Array.from(n.state.keys()))},this.add=Object(y.a)(g.a.mark((function e(){var t,i,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.fontsLoadStatus,i=function(){n.editor.spriteStore.addText({state:{identifier:xf.identifier,text:xf.text,textColor:xf.textColor,backgroundColor:xf.backgroundColor,lineHeight:xf.lineHeight,alignment:xf.alignment,fontSize:0}})},t.pending||t.loaded){e.next=18;break}return n.fontsLoadStatus.pending=!0,r=n.editor.assetProvider.getFontManager(),e.prev=5,e.next=8,r.loadFontsWithIdentifiers([xf.identifier]);case 8:i(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),n.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:xf.identifier});case 14:return e.next=16,n.loadFonts();case 16:e.next=19;break;case 18:i();case 19:case"end":return e.stop()}}),e,null,[[5,11]])}))),this.duplicate=function(){if(n.id){var e=n.editor.spriteStore.getDuplicateContainerTransform(n.id);n.editor.spriteStore.addText({state:{identifier:n.identifier,text:n.text,textColor:Object(E.kb)(n.textColor),lineHeight:n.lineHeight,alignment:n.alignment,fontSize:n.fontSize,backgroundColor:Object(E.kb)(n.backgroundColor),width:n.width},transform:e})}},this.bringToFront=function(){n.id&&n.editor.spriteStore.bringToFront(n.id)},this.delete=function(){if(n.id){var e=n.id;n.editor.spriteStore.removeSprite(e),n.state.delete(e),n.selectLast()}},this.setEditMode=function(e){n.editor.spriteStore.setEditMode(e)},this.changeFont=function(e){var t=n.fonts.find((function(t){return t.identifier===e}));n.changeIdentifier(t,n.id),n.id&&n.addSnapshot("edit",n.locale.history.fontFamily)},this.changeIdentifier=function(e,t){Object(E.db)((function(){if(e&&t){var i=n.state.get(t);if(i){n.editor.spriteStore.setContainerProperties(t,{fontIdentifier:e.identifier},!0);var r=n.editor.spriteStore.getContainerProperties(t);i.identifier=r.fontIdentifier,i.fontFamily=e.fontFamily,i.fontStyle=e.fontStyle,i.fontWeight=e.fontWeight,i.fontSize=r.fontSize,i.width=r.width,i.defaultFontSize=i.fontSize,n.state.set(t,i)}}}))},this.changeFontSize=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n.id){var i=n.state.get(n.id);i&&(i.fontSize=e,t&&(i.defaultFontSize=e),n.state.set(n.id,i))}},this.updateDefaultFontSize=function(){if(n.id){var e=n.state.get(n.id);e&&(e.defaultFontSize=e.fontSize,n.state.set(n.id,e))}},this.changeSize=function(e,t){var i=n.state.get(e);i&&(i.width=t.width,i.fontSize=t.fontSize,i.defaultFontSize=t.fontSize,n.state.set(e,i))},this.changeWidth=function(e){if(n.id){var t=n.state.get(n.id);t&&(t.width=e,n.state.set(n.id,t))}},this.changeText=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{text:e},!0);var i=n.editor.spriteStore.getContainerProperties(n.id),r=n.editor.outputContainer.getSizeInOutputSpace(),o=n.editor.spriteStore.getSize(n.id);n.config.disableAutoScaling||o.height>r.height&&n.editor.spriteStore.setContainerProperties(n.id,{fontSize:n.calculateFitFontSize(n.id,r.height)},!0),i=n.editor.spriteStore.getContainerProperties(n.id),t.text=i.text,t.fontSize=i.fontSize,t.defaultFontSize=i.fontSize,n.state.set(n.id,t),n.addSnapshot("edit",n.locale.history.edit)}}},this.calculateFitFontSize=function(t,i){if(!e.measureContext){var r=document.createElement("canvas");e.measureContext=r.getContext("2d")}for(var o=n.editor.spriteStore.getContainerProperties(t),a=n.editor.engine.assetProvider.getFontManager().getFontWithId(o.fontIdentifier),s=n.config.minFontSizeForAutoScaling,l=Object(E.tb)(e.measureContext,o.text,a,o.fontSize,o.lineHeight,o.width,a.textMetrics),u=Math.min(Math.floor(o.fontSize*(i/l.height)),1),c=Math.round(o.fontSize),f=0,d=c-u,h=Math.floor(2*(c-u)),p=d;f<=h;){d=f+Math.floor((h-f)/2);var m=Object(E.tb)(e.measureContext,o.text,a,d,o.lineHeight,o.width,a.textMetrics);if(i<m.height)h=d-1,p=d-1;else{if(!(i>m.height)){p=d;break}if(f=d+1,u+d>=c)return c}}return s&&p<s?s:p},this.changeLineHeight=function(e){if(n.id){var t=n.state.get(n.id);if(t&&e){n.editor.spriteStore.setContainerProperties(n.id,{lineHeight:e},!0);var i=n.editor.spriteStore.getContainerProperties(n.id);t.lineHeight=i.lineHeight,n.state.set(n.id,t)}}},this.changeColor=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{textColor:e});var i=n.editor.spriteStore.getContainerProperties(n.id);t.textColor=i.textColor,n.state.set(n.id,t)}}},this.changeBackgroundColor=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{backgroundColor:e});var i=n.editor.spriteStore.getContainerProperties(n.id);t.backgroundColor=i.backgroundColor,n.state.set(n.id,t)}}},this.colorSnapshot=function(){n.addSnapshot("edit",n.locale.history.textColor)},this.backgroundColorSnapshot=function(){n.addSnapshot("edit",n.locale.history.backgroundColor)},this.changeAlignment=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{alignment:e});var i=n.editor.spriteStore.getContainerProperties(n.id);t.alignment=i.alignment,n.state.set(n.id,t),n.addSnapshot("edit",n.locale.history.alignment)}}},this.toolSnapshot=function(){n.addSnapshot("edit",n.locale.history.lineSpacing)},this.addSnapshot=function(e,t){var i=n.editor.historyStore.getCurrentSpritesState();(null==i?void 0:i.text)&&(0,E.v.default)(i.text,Object(E.kb)(n.state))||n.currentText&&n.editor.spriteStore.addSnapshot(e,t)},this.updateStateFromHistory=function(e,t){(0,E.v.default)(t,n.state.get(e))||(n.setState(e,t),n.editor.spriteStore.setContainerProperties(e,t))},this.setState=function(e,t){var i=n.state.get(e);if(i)t.alignment&&(i.alignment=t.alignment),t.text&&(i.text=t.text),t.lineHeight&&(i.lineHeight=t.lineHeight),t.textColor&&(i.textColor=t.textColor),t.backgroundColor&&(i.backgroundColor=t.backgroundColor),t.fontIdentifier&&(i.identifier=t.fontIdentifier),t.fontSize&&(i.fontSize=t.fontSize,i.defaultFontSize=t.fontSize),t.width&&(i.width=t.width);else{var r=n.validFontWithConfig(t.fontIdentifier);r&&n.state.set(e,{text:t.text,identifier:r.identifier,alignment:t.alignment,textColor:t.textColor?t.textColor:xf.textColor,backgroundColor:t.backgroundColor?t.backgroundColor:xf.backgroundColor,fontFamily:r.fontFamily,fontStyle:r.fontStyle,fontSize:t.fontSize,fontWeight:r.fontWeight,lineHeight:t.lineHeight,width:t.width,defaultFontSize:t.fontSize})}},this.setFontSize=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{fontSize:e},!0);var i=n.editor.spriteStore.getContainerProperties(n.id);t.fontSize=i.fontSize,t.defaultFontSize=i.fontSize,n.state.set(n.id,t)}}},this.pureReset=function(){n.state=E.K.map(kf)},this.dispose=function(){n.state=null,n.fontsLoadStatus=null,n.editor=null,n.backgroundColorList=null,n.colorList=null},this.editor=t,this.fonts.find((function(e){return e.identifier===xf.identifier}))||(xf.identifier=this.fonts[0].identifier),xf.textColor=Object(E.kb)(Object(E.u)(this.config,"defaultColor",xf.textColor)),xf.backgroundColor=Object(E.kb)(Object(E.u)(this.config,"defaultBackgroundColor",xf.backgroundColor)),xf.text=this.locale.canvasControls.placeholderText,this.config.colors&&this.config.colors.length>0&&(this.colorList=Nc(Object(E.kb)(this.config.colors))),this.config.backgroundColors&&this.config.backgroundColors.length>0&&(this.backgroundColorList=Nc(Object(E.kb)(this.config.backgroundColors)))}return Object(S.a)(e,[{key:"loadFonts",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,i,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.fontsLoadStatus).loaded){e.next=3;break}return e.abrupt("return");case 3:return n=this.editor.assetProvider.getFontManager(),i=this.editor.assetProvider.getFontAssetsForText().filter(Boolean).map((function(e){return e.identifier})),e.prev=5,e.next=8,n.loadFontsWithIdentifiers(i);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),r=i.filter((function(e){return!n.isFontLoaded(e)})).join(", "),this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:r});case 14:t.loaded=!0;case 15:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"isEditMode",get:function(){return this.editor.spriteStore.isEditMode}},{key:"isTextSelected",get:function(){return this.editor.spriteStore.isSpriteText}},{key:"fontsLoaded",get:function(){return this.fontsLoadStatus.loaded}},{key:"currentText",get:function(){if(this.isTextSelected){var e=this.state.get(this.id);if(e)return e}}},{key:"text",get:function(){return this.currentText?this.currentText.text:xf.text}},{key:"fontSize",get:function(){return this.currentText?this.currentText.fontSize:xf.fontSize}},{key:"defaultFontSize",get:function(){return this.currentText?this.currentText.defaultFontSize:xf.defaultFontSize}},{key:"width",get:function(){return this.currentText?this.currentText.width:xf.width}},{key:"fontFamily",get:function(){return this.currentText?this.currentText.fontFamily:xf.fontFamily}},{key:"fontStyle",get:function(){return this.currentText?this.currentText.fontStyle:xf.fontStyle}},{key:"fontWeight",get:function(){return this.currentText?this.currentText.fontWeight:xf.fontWeight}},{key:"lineHeight",get:function(){return this.currentText?this.currentText.lineHeight:xf.lineHeight}},{key:"identifier",get:function(){return this.currentText?this.currentText.identifier:xf.identifier}},{key:"id",get:function(){if(this.isTextSelected)return this.editor.spriteStore.id}},{key:"alignment",get:function(){return this.currentText?this.currentText.alignment:xf.alignment}},{key:"textColor",get:function(){return this.currentText?this.currentText.textColor:xf.textColor}},{key:"backgroundColor",get:function(){return this.currentText?this.currentText.backgroundColor:xf.backgroundColor}},{key:"config",get:function(){return this.editor.configStore.config.text}},{key:"locale",get:function(){return this.editor.configStore.locale.text}},{key:"localeColor",get:function(){return this.editor.configStore.locale.common.color}},{key:"rawOptions",get:function(){return this.editor.assetProvider.getFontAssetsForText()}},{key:"availableOptions",get:function(){return this.config.fonts.length?this.config.fonts.map((function(e){return e.identifier})):this.rawOptions.filter(Boolean).map((function(e){return e.identifier}))}},{key:"fonts",get:function(){var e=this;return this.rawOptions.filter(Boolean).reduce((function(t,n){return-1!==e.availableOptions.indexOf(n.identifier)?[].concat(Object(v.a)(t),[{identifier:n.identifier,fontFamily:n.fontFamily,fontStyle:n.fontStyle||"",fontWeight:n.fontWeight||""}]):t}),[])}},{key:"fontFamilies",get:function(){return Object(v.a)(new Set(this.fonts))}}],[{key:"defaultText",value:function(){return xf.text}},{key:"getDisplayFontStyle",value:function(e){var t=e.fontWeight&&"regular"!==wf[e.fontWeight].toLowerCase()?wf[e.fontWeight]:"",n=e.fontStyle&&"normal"!==e.fontStyle.toLowerCase()?e.fontStyle:"";return"".concat(e.fontFamily.toLowerCase().includes(t.toLowerCase())?"":t," ").concat(n).trim()}}]),e}();Object(E.G)([E.bb],Of.prototype,"addOrselect",2),Object(E.G)([E.bb],Of.prototype,"selectLast",2),Object(E.G)([E.bb],Of.prototype,"add",2),Object(E.G)([E.bb],Of.prototype,"duplicate",2),Object(E.G)([E.bb],Of.prototype,"bringToFront",2),Object(E.G)([E.bb],Of.prototype,"delete",2),Object(E.G)([E.bb],Of.prototype,"setEditMode",2),Object(E.G)([E.bb],Of.prototype,"changeFont",2),Object(E.G)([E.bb],Of.prototype,"changeIdentifier",2),Object(E.G)([E.bb],Of.prototype,"changeFontSize",2),Object(E.G)([E.bb],Of.prototype,"updateDefaultFontSize",2),Object(E.G)([E.bb],Of.prototype,"changeSize",2),Object(E.G)([E.bb],Of.prototype,"changeWidth",2),Object(E.G)([E.bb],Of.prototype,"changeText",2),Object(E.G)([E.bb],Of.prototype,"changeLineHeight",2),Object(E.G)([E.bb],Of.prototype,"changeColor",2),Object(E.G)([E.bb],Of.prototype,"changeBackgroundColor",2),Object(E.G)([E.bb],Of.prototype,"changeAlignment",2),Object(E.G)([E.bb],Of.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],Of.prototype,"setState",2),Object(E.G)([E.bb],Of.prototype,"setFontSize",2),Object(E.G)([E.bb],Of.prototype,"pureReset",2),Object(E.G)([E.bb],Of.prototype,"dispose",2),Object(E.G)([E.N],Of.prototype,"isEditMode",1),Object(E.G)([E.N],Of.prototype,"isTextSelected",1),Object(E.G)([E.N],Of.prototype,"fontsLoaded",1),Object(E.G)([E.N],Of.prototype,"currentText",1),Object(E.G)([E.N],Of.prototype,"text",1),Object(E.G)([E.N],Of.prototype,"fontSize",1),Object(E.G)([E.N],Of.prototype,"defaultFontSize",1),Object(E.G)([E.N],Of.prototype,"width",1),Object(E.G)([E.N],Of.prototype,"fontFamily",1),Object(E.G)([E.N],Of.prototype,"fontStyle",1),Object(E.G)([E.N],Of.prototype,"fontWeight",1),Object(E.G)([E.N],Of.prototype,"lineHeight",1),Object(E.G)([E.N],Of.prototype,"identifier",1),Object(E.G)([E.N],Of.prototype,"id",1),Object(E.G)([E.N],Of.prototype,"alignment",1),Object(E.G)([E.N],Of.prototype,"textColor",1),Object(E.G)([E.N],Of.prototype,"backgroundColor",1),Object(E.G)([E.N],Of.prototype,"config",1),Object(E.G)([E.N],Of.prototype,"locale",1),Object(E.G)([E.N],Of.prototype,"localeColor",1),Object(E.G)([E.N],Of.prototype,"rawOptions",1),Object(E.G)([E.N],Of.prototype,"availableOptions",1),Object(E.G)([E.N],Of.prototype,"fonts",1),Object(E.G)([E.N],Of.prototype,"fontFamilies",1);var Sf={identifier:"imgly_text_design_blocks",color:Uc.white,isInverted:!1,text:"Write Something With Style",seed:0,padding:0,width:0},Cf={imgly_text_design_blocks:835,imgly_text_design_rotated:6,imgly_text_design_blocks_light:3,imgly_text_design_equal_width:727,imgly_text_design_masked:259,imgly_text_design_celebrate:579,imgly_text_design_sunshine:77,imgly_text_design_masked_badge:683,imgly_text_design_blocks_condensed:673,imgly_text_design_celebrate_simple:425,imgly_text_design_equal_width_fat:961,imgly_text_design_watercolor:671,imgly_text_design_particles:683,imgly_text_design_masked_speech_bubble:317,imgly_text_design_masked_speech_bubble_comic:229,imgly_text_design_multiline:831},jf={},Tf=function(){function e(t){var n=this;Object(O.a)(this,e),this.state=E.K.map(jf),this.colorList=mf(),this.fontsLoaded=!1,this.doesTextDesignAssetExist=function(e){return-1!==n.entityManager.items.findIndex((function(t){return t.identifier===e}))},this.addOrselect=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.loadFonts();case 2:n.state.size?n.selectLast():n.add();case 3:case"end":return e.stop()}}),e)}))),this.selectLast=function(){n.editor.spriteStore.selectHighestOrderSprite(Array.from(n.state.keys()))},this.add=function(){n.editor.spriteStore.addTextDesign({state:{identifier:Sf.identifier,text:Sf.text,color:Sf.color,isInverted:Sf.isInverted,seed:Cf[Sf.identifier]||Sf.seed,padding:0}})},this.updateStateFromHistory=function(e,t){if(!(0,E.v.default)(t,n.state.get(e))){var i=n.state.get(e);t.identifier===i.identifier?(n.setState(e,t),n.editor.spriteStore.setContainerProperties(e,t)):n.changeIdentifier(t.identifier,!1,t.seed,e)}},this.setState=function(e,t){var i=n.state.get(e);i?(t.inverted&&(i.isInverted=t.inverted),t.seed&&(i.seed=t.seed),t.color&&(i.color=t.color),t.padding&&(i.padding=t.padding),t.width&&(i.width=t.width)):n.state.set(e,{width:t.width,text:t.text,isInverted:t.inverted,identifier:t.identifier,seed:t.seed,color:t.color?t.color:Sf.color,padding:t.padding})},this.changeText=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{text:e},!0);var i=n.editor.spriteStore.getContainerProperties(n.id);t.text=i.text,n.state.set(n.id,t),n.addSnapshot("edit",n.locale.history.edit)}}},this.setEditMode=function(e){n.editor.spriteStore.setEditMode(e)},this.duplicate=function(){if(n.id){var e=n.editor.spriteStore.getDuplicateContainerTransform(n.id);n.editor.spriteStore.addTextDesign({state:{identifier:n.identifier,text:n.text,color:Object(E.kb)(n.color),isInverted:n.isInverted,seed:n.seed,padding:n.padding,width:n.width},transform:e})}},this.bringToFront=function(){n.id&&n.editor.spriteStore.bringToFront(n.id)},this.addSnapshot=function(e,t){var i=n.editor.historyStore.getCurrentSpritesState();(null==i?void 0:i.textdesign)&&(0,E.v.default)(i.textdesign,Object(E.kb)(n.state))||n.currentTextDesign&&n.editor.spriteStore.addSnapshot(e,t)},this.delete=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.id;e&&(n.editor.spriteStore.removeSprite(e),n.state.delete(e),n.selectLast())},this.changeSeed=function(){if(n.id){var e=n.state.get(n.id);if(e){n.editor.spriteStore.setContainerProperties(n.id,{seed:-1},!0);var t=n.editor.spriteStore.getContainerProperties(n.id);e.seed=t.seed,n.state.set(n.id,e),n.addSnapshot("edit",n.locale.history.shuffle)}}},this.changeIdentifier=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.id;if(r&&e!==n.identifier){var o=n.state.get(r),a=n.editor.spriteStore.getContainerTransform(r);n.editor.spriteStore.addTextDesign({spriteId:r,state:{identifier:e,text:o.text,color:Object(E.kb)(o.color),isInverted:o.isInverted,seed:i||Cf[e]||o.seed,padding:o.padding,width:o.width},transform:a},t,!0)}},this.changeColor=function(e){if(n.id){var t=n.state.get(n.id);if(t){n.editor.spriteStore.setContainerProperties(n.id,{color:e});var i=n.editor.spriteStore.getContainerProperties(n.id);t.color=i.color,n.state.set(n.id,t)}}},this.colorSnapshot=function(){n.addSnapshot("edit",n.locale.history.color)},this.invertBackground=function(){if(n.id){var e=n.state.get(n.id);if(e){n.editor.spriteStore.setContainerProperties(n.id,{inverted:!e.isInverted},!0);var t=n.editor.spriteStore.getContainerProperties(n.id);e.isInverted=t.inverted,n.state.set(n.id,e),n.addSnapshot("edit",n.locale.history.invert)}}},this.changeWidth=function(e){if(n.id){var t=n.state.get(n.id);t&&(t.width=e,n.state.set(n.id,t))}},this.changePadding=function(e){if(n.id){var t=n.state.get(n.id);t&&(t.padding=e,n.state.set(n.id,t))}},this.pureReset=function(){n.state=E.K.map(jf)},this.dispose=function(){n.state=null,n.fontsLoaded=null,n.editor=null,n.colorList=null},this.editor=t;var i=this.editor.assetProvider.getAssets("textdesign");this.entityManager=new Wc(i,Object(k.a)({},this.config,{flattenCategories:!0,locale:{},getAssetPath:this.editor.getAssetPath("textdesign")})),this.entityManager.items.find((function(e){return e.identifier===Sf.identifier}))||(Sf.identifier=this.entityManager.items[0].identifier),Sf.text=this.locale.canvasControls.placeholderText,Sf.color=Object(E.kb)(Object(E.u)(this.config,"defaultColor",Sf.color)),this.config.colors&&this.config.colors.length>0&&(this.colorList=Nc(Object(E.kb)(this.config.colors)))}return Object(S.a)(e,[{key:"loadFonts",value:function(){var e=Object(y.a)(g.a.mark((function e(){var t,n,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.fontsLoaded){e.next=2;break}return e.abrupt("return");case 2:return t=this.editor.assetProvider.getFontManager(),n=this.editor.assetProvider.getFontAssetsForTextDesign().map((function(e){return e.identifier})),e.prev=4,e.next=7,t.loadFontsWithIdentifiers(n);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(4),i=n.filter((function(e){return!t.isFontLoaded(e)})).join(", "),this.editor.modalStore.showActionModal({type:"error",identifier:"fontLoading",error:i});case 13:this.fontsLoaded=!0;case 14:case"end":return e.stop()}}),e,this,[[4,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"isTextDesignSelected",get:function(){return this.editor.spriteStore.isSpriteTextDesign}},{key:"isEditMode",get:function(){return this.editor.spriteStore.isEditMode}},{key:"currentTextDesign",get:function(){if(this.isTextDesignSelected&&this.id){var e=this.state.get(this.id);if(e)return e}}},{key:"id",get:function(){if(this.isTextDesignSelected)return this.editor.spriteStore.id}},{key:"text",get:function(){return this.currentTextDesign?this.currentTextDesign.text:Sf.text}},{key:"seed",get:function(){return this.currentTextDesign?this.currentTextDesign.seed:Sf.seed}},{key:"padding",get:function(){return this.currentTextDesign?this.currentTextDesign.padding:Sf.padding}},{key:"width",get:function(){return this.currentTextDesign?this.currentTextDesign.width:Sf.width}},{key:"identifier",get:function(){return this.currentTextDesign?this.currentTextDesign.identifier:null}},{key:"isInverted",get:function(){return this.currentTextDesign?this.currentTextDesign.isInverted:Sf.isInverted}},{key:"color",get:function(){return this.currentTextDesign?this.currentTextDesign.color:Sf.color}},{key:"config",get:function(){return this.editor.configStore.config.textdesign}},{key:"locale",get:function(){return this.editor.configStore.locale.textdesign}},{key:"localeColor",get:function(){return this.editor.configStore.locale.common.color}},{key:"items",get:function(){return this.entityManager.items}}],[{key:"defaultText",value:function(){return Sf.text}}]),e}();Object(E.G)([E.bb],Tf.prototype,"addOrselect",2),Object(E.G)([E.bb],Tf.prototype,"selectLast",2),Object(E.G)([E.bb],Tf.prototype,"add",2),Object(E.G)([E.bb],Tf.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],Tf.prototype,"setState",2),Object(E.G)([E.bb],Tf.prototype,"changeText",2),Object(E.G)([E.bb],Tf.prototype,"setEditMode",2),Object(E.G)([E.bb],Tf.prototype,"duplicate",2),Object(E.G)([E.bb],Tf.prototype,"bringToFront",2),Object(E.G)([E.bb],Tf.prototype,"delete",2),Object(E.G)([E.bb],Tf.prototype,"changeSeed",2),Object(E.G)([E.bb],Tf.prototype,"changeIdentifier",2),Object(E.G)([E.bb],Tf.prototype,"changeColor",2),Object(E.G)([E.bb],Tf.prototype,"invertBackground",2),Object(E.G)([E.bb],Tf.prototype,"changeWidth",2),Object(E.G)([E.bb],Tf.prototype,"changePadding",2),Object(E.G)([E.bb],Tf.prototype,"pureReset",2),Object(E.G)([E.bb],Tf.prototype,"dispose",2),Object(E.G)([E.N],Tf.prototype,"isTextDesignSelected",1),Object(E.G)([E.N],Tf.prototype,"isEditMode",1),Object(E.G)([E.N],Tf.prototype,"currentTextDesign",1),Object(E.G)([E.N],Tf.prototype,"id",1),Object(E.G)([E.N],Tf.prototype,"text",1),Object(E.G)([E.N],Tf.prototype,"seed",1),Object(E.G)([E.N],Tf.prototype,"padding",1),Object(E.G)([E.N],Tf.prototype,"width",1),Object(E.G)([E.N],Tf.prototype,"identifier",1),Object(E.G)([E.N],Tf.prototype,"isInverted",1),Object(E.G)([E.N],Tf.prototype,"color",1),Object(E.G)([E.N],Tf.prototype,"config",1),Object(E.G)([E.N],Tf.prototype,"locale",1),Object(E.G)([E.N],Tf.prototype,"localeColor",1),Object(E.G)([E.N],Tf.prototype,"items",1);var Ef={identifier:"identity",opacity:1,width:0,color:Uc.white},Df=Object(E.E)(ko()),If=new Vc(0,1),Rf=function(){function e(t){var n=this;Object(O.a)(this,e),this.changeIdentifier=function(e){n.state.identifier=e},this.changeOpacity=function(e){var t=If.clamp(e);n.state.opacity=t},this.changeWidth=function(e){n.state.width=e},this.changeColor=function(e){n.state.color=e},this.reset=function(){-1===n.indexInContainer&&(n.state.identifier=Ef.identifier,n.state.opacity=Ef.opacity,n.state.width=Ef.width,n.state.color=Ef.color,n.removeIndex())},this.removeFrameEffect=function(){n.effect&&(n.engine.removeEffect(n.effect),n.effect=void 0)},this.setEffectProperties=function(e){return n.effect?(n.removeIndex(),n.effect.setProperties(e),n.effect.getProperties()):null},this.setFrameEffect=function(e){var t=e.identifier,i=e.width,r=e.opacity,o=e.color,a=Object(k.a)({},n.state);return n.changeIdentifier(t),n.changeWidth(i),n.changeOpacity(r),n.changeColor(o),n.removeFrameEffect(),new Promise((function(e,s){n.engine.addFrameFromAssets(t,n.engineMediator.image.container).then((function(t){n.effect=t,n.effect.setProperties({tintColor:o,opacity:r,width:i}),e()})).catch((function(e){n.changeIdentifier(a.identifier),n.changeOpacity(a.opacity),n.changeWidth(a.width),n.changeColor(a.color),"identity"===a.identifier&&n.removeIndex(),s(e)}))}))},this.removeIndex=function(){n.engineMediator.orderHelper.removeSprite(n.state.identifier)},this.engineMediator=t,this.state=Ef}return Object(S.a)(e,[{key:"engine",get:function(){return this.engineMediator.engine}},{key:"imageContainer",get:function(){return this.engineMediator.image.container}},{key:"indexInContainer",get:function(){return this.effect?this.effect.getIndexInParent():-1}}]),e}();Object(E.G)([E.K],Rf.prototype,"state",2),Object(E.G)([E.bb],Rf.prototype,"changeIdentifier",2),Object(E.G)([E.bb],Rf.prototype,"changeOpacity",2),Object(E.G)([E.bb],Rf.prototype,"changeWidth",2),Object(E.G)([E.bb],Rf.prototype,"changeColor",2),Object(E.G)([E.bb],Rf.prototype,"reset",2);var Ff=function(){function e(t){var n=this;Object(O.a)(this,e),this.colorList=mf(),this.throttledRender=(0,Df.default)((function(){n.editor&&n.editor.render()}),10,{trailing:!0}),this.selectFrame=function(){var e=Object(y.a)(g.a.mark((function e(t){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===n.identifier){e.next=6;break}return i=.1*n.editor.shortestOutputSide,e.next=4,n.frameStore.setFrameEffect({identifier:t,width:i,opacity:1,color:Ef.color});case 4:n.editor.render(),n.addSnapshot("add","frame");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeOpacity=function(e){var t=n.frameStore.setEffectProperties({opacity:e});t&&(n.frameStore.changeOpacity(t.opacity),n.throttledRender())},this.changeWidth=function(e){var t=n.frameStore.setEffectProperties({width:e});t&&(n.frameStore.changeWidth(t.width),n.throttledRender())},this.changeColor=function(e){var t=n.frameStore.setEffectProperties({tintColor:e});t&&(n.frameStore.changeColor(t.tintColor),n.throttledRender())},this.colorSnapshot=function(){n.addSnapshot("edit",n.locale.controls.selectColor)},this.toolSnapshot=function(e){n.addSnapshot("edit",e)},this.addSnapshot=function(e,t){n.editor.addSnapshot(void 0,e,t)},this.pureReset=function(){n.frameStore.removeFrameEffect(),n.frameStore.reset()},this.reset=function(){n.pureReset(),n.addSnapshot("delete",n.locale.controls.buttonReset),n.editor.render()},this.updateStateFromHistory=function(e){return"identity"===e.identifier?(n.pureReset(),new Promise((function(e){e()}))):n.frameStore.setFrameEffect(e)},this.updateStateFromSerialization=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.entityManager.items.find((function(e){return e.identifier===t.identifier}))){e.next=3;break}return e.abrupt("return",n.frameStore.setFrameEffect(t).then((function(){n.editor.transformToolStore.setFrameOpacity(t.opacity)})));case 3:return e.abrupt("return",new Promise((function(e,t){t(new Error("Frame Asset doesn't exist"))})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.editor=t,this.frameStore=new Rf(this.editor.engineMediator);var i=this.editor.assetProvider.getAssets("frame"),r=this.config;this.entityManager=new Wc(i,Object(k.a)({},r,{flattenCategories:!0,locale:this.locale.items,getAssetPath:this.editor.getAssetPath("frame")})),Ef.color=Object(E.kb)(Object(E.u)(this.config,"defaultColor",Ef.color)),this.config.colors&&this.config.colors.length>0&&(this.colorList=Nc(Object(E.kb)(this.config.colors)))}return Object(S.a)(e,[{key:"state",get:function(){return this.frameStore.state}},{key:"identifier",get:function(){return this.state.identifier}},{key:"color",get:function(){return this.state.color}},{key:"size",get:function(){return this.state.width}},{key:"tintable",get:function(){var e=this,t=this.entityManager.items.find((function(t){return t.identifier===e.identifier}));return t&&t.tintable||!1}},{key:"opacity",get:function(){return this.state.opacity}},{key:"minSize",get:function(){return.05*this.editor.shortestOutputSide}},{key:"maxSize",get:function(){return.3*this.editor.shortestOutputSide}},{key:"config",get:function(){return this.editor.configStore.config.frame}},{key:"locale",get:function(){return this.editor.configStore.locale.frame}},{key:"localeColor",get:function(){return this.editor.configStore.locale.common.color}},{key:"items",get:function(){return this.entityManager.items}},{key:"isOptionSelected",get:function(){return"identity"!==this.identifier}}]),e}();Object(E.G)([E.bb],Ff.prototype,"selectFrame",2),Object(E.G)([E.bb],Ff.prototype,"changeOpacity",2),Object(E.G)([E.bb],Ff.prototype,"changeWidth",2),Object(E.G)([E.bb],Ff.prototype,"changeColor",2),Object(E.G)([E.bb],Ff.prototype,"pureReset",2),Object(E.G)([E.bb],Ff.prototype,"reset",2),Object(E.G)([E.bb],Ff.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],Ff.prototype,"updateStateFromSerialization",2),Object(E.G)([E.N],Ff.prototype,"state",1),Object(E.G)([E.N],Ff.prototype,"identifier",1),Object(E.G)([E.N],Ff.prototype,"color",1),Object(E.G)([E.N],Ff.prototype,"size",1),Object(E.G)([E.N],Ff.prototype,"tintable",1),Object(E.G)([E.N],Ff.prototype,"opacity",1),Object(E.G)([E.N],Ff.prototype,"minSize",1),Object(E.G)([E.N],Ff.prototype,"maxSize",1),Object(E.G)([E.N],Ff.prototype,"config",1),Object(E.G)([E.N],Ff.prototype,"locale",1),Object(E.G)([E.N],Ff.prototype,"localeColor",1),Object(E.G)([E.N],Ff.prototype,"items",1),Object(E.G)([E.N],Ff.prototype,"isOptionSelected",1);var Af={size:0,color:Uc.white,hardness:0,maximumSize:.125,minimumSize:0,maximumHardness:1,minimumHardness:0},Mf=function(){function e(t){var n=this;Object(O.a)(this,e),this.strokes={strokes:[]},this.colorList=mf(),this.dirty=E.K.box(!1),this.id="",this.containerId=function(){return n.id},this.initSize=function(){var e=n.state,t=e.minimumSize,i=e.maximumSize;0===n.size&&n.changeSize(Object(E.s)(n.config,"defaultSize",[t,i]))},this.changeColor=function(e){n.state.color=e},this.changeSize=function(e){n.state.size=e},this.changeRelativeSize=function(e){var t=n.state,i=t.maximumSize,r=t.minimumSize;n.state.size=(i-r)*e/100+r},this.changeHardness=function(e){n.state.hardness=e},this.reset=function(){n.pureReset(),n.addSnapshot("delete",n.locale.controls.buttonReset),n.editor.render()},this.editor=t,this.state=Object(k.a)({},Af,{hardness:Object(E.s)(this.config,"defaultHardness",[Af.minimumHardness,Af.maximumHardness]),color:Object(E.kb)(Object(E.u)(this.config,"defaultColor",Af.color))}),this.config.colors&&this.config.colors.length>0&&(this.colorList=Nc(Object(E.kb)(this.config.colors)))}return Object(S.a)(e,[{key:"addSnapshot",value:function(e,t){this.editor.addSnapshot(void 0,e,t)}},{key:"clickableCanvas",value:function(e){this.editor.clickableCanvas(e)}},{key:"beginStroke",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!this.drawingContainer){var t=this.editor.orderHelper.addSprite("brush");this.drawingContainer=this.editor.engine.addDrawing({strokes:e},this.editor.imageContainer,t)}this.id=this.drawingContainer.getID(),this.drawingContainer.beginStroke({id:"imgly_brush_radial",color:Object(E.kb)(this.state.color),size:this.state.size,hardness:this.state.hardness})}},{key:"strokePosition",value:function(e){if(this.drawingContainer){var t=this.editor.previewToWorld(e,!1);this.drawingContainer.addPointToCurrentStroke(t),this.editor.render()}}},{key:"endStroke",value:function(){this.drawingContainer&&(this.drawingContainer.endStroke(),this.editor.render(),this.strokes=this.drawingContainer.getData(),this.addSnapshot("edit",this.locale.history.brushStroke),this.dirty.set(!0))}},{key:"updateStateFromHistory",value:function(e){if(!(0,E.v.default)(e,this.strokes))if(!(0,E.v.default)(e,{strokes:[]})&&e){if(this.drawingContainer){if(this.strokes&&this.strokes.strokes.length===e.strokes.length)return void this.dirty.set(!1);this.strokes=e,this.drawingContainer.setData(this.strokes)}else{var t=this.editor.orderHelper.addSprite("brush");this.drawingContainer=this.editor.engine.addDrawing({strokes:e.strokes},this.editor.imageContainer,t),this.strokes=this.drawingContainer.getData()}this.dirty.set(0!==this.strokes.strokes.length),this.id=this.drawingContainer.getID()}else this.pureReset()}},{key:"pureReset",value:function(){this.dirty.set(!1),this.strokes={strokes:[]},this.drawingContainer&&(this.editor.engine.removeContainer(this.drawingContainer),this.drawingContainer=void 0)}},{key:"config",get:function(){return this.editor.configStore.config.brush}},{key:"locale",get:function(){return this.editor.configStore.locale.brush}},{key:"localeColor",get:function(){return this.editor.configStore.locale.common.color}},{key:"color",get:function(){return this.state.color}},{key:"size",get:function(){return this.state.size}},{key:"relativeSize",get:function(){var e=this.state,t=e.size,n=e.maximumSize,i=e.minimumSize;return 100*(t-i)/(n-i)}},{key:"sizeOnScreenSpace",get:function(){var e=this.editor.engineMediator.engine.getSmallerOutputSide();return this.editor.worldToPreview(this.state.size*e)}},{key:"hardness",get:function(){return this.state.hardness}},{key:"isDirty",get:function(){return this.dirty.get()}}]),e}();Object(E.G)([E.K],Mf.prototype,"state",2),Object(E.G)([E.K],Mf.prototype,"dirty",2),Object(E.G)([E.bb],Mf.prototype,"initSize",2),Object(E.G)([E.bb],Mf.prototype,"changeColor",2),Object(E.G)([E.bb],Mf.prototype,"changeSize",2),Object(E.G)([E.bb],Mf.prototype,"changeRelativeSize",2),Object(E.G)([E.bb],Mf.prototype,"changeHardness",2),Object(E.G)([E.bb],Mf.prototype,"clickableCanvas",1),Object(E.G)([E.bb],Mf.prototype,"beginStroke",1),Object(E.G)([E.bb],Mf.prototype,"strokePosition",1),Object(E.G)([E.bb],Mf.prototype,"endStroke",1),Object(E.G)([E.bb],Mf.prototype,"updateStateFromHistory",1),Object(E.G)([E.bb],Mf.prototype,"reset",2),Object(E.G)([E.N],Mf.prototype,"config",1),Object(E.G)([E.N],Mf.prototype,"locale",1),Object(E.G)([E.N],Mf.prototype,"localeColor",1),Object(E.G)([E.N],Mf.prototype,"color",1),Object(E.G)([E.N],Mf.prototype,"size",1),Object(E.G)([E.N],Mf.prototype,"relativeSize",1),Object(E.G)([E.N],Mf.prototype,"sizeOnScreenSpace",1),Object(E.G)([E.N],Mf.prototype,"hardness",1),Object(E.G)([E.N],Mf.prototype,"isDirty",1);var Pf={position:{x:0,y:0},size:{height:0,width:0},lockResolution:!1,forceDimensions:!1,ratio:"*"},zf=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).prevDimensions={width:0,height:0},e}return Object(S.a)(n,[{key:"onExport",value:function(e){this.emit("export",e)}},{key:"onClose",value:function(){this.emit("close")}},{key:"onUndo",value:function(){this.emit("historyUndo")}},{key:"onRedo",value:function(){this.emit("historyRedo")}},{key:"onHistoryChange",value:function(){this.emit("historyChange")}},{key:"onEditorReady",value:function(){this.emit("editorReady")}},{key:"onErrorImageLoading",value:function(e){this.emit("errorImageLoading",e)}},{key:"onImageLoaded",value:function(){this.emit("imageLoad")}},{key:"onStickerUploadedAdd",value:function(e){this.emit("stickerUploadAdd",e)}},{key:"onToolChanged",value:function(e){this.emit("toolEnter",e)}},{key:"onErrorWebGLContextLost",value:function(){this.emit("errorWebGLContextLost")}},{key:"onCropDimensionsChanged",value:function(e){this.prevDimensions.width===e.width&&this.prevDimensions.height===e.height||(this.emit("cropDimensionsChange",e),this.prevDimensions=e)}}]),n}(E.i),Bf=Fc([Tc,{layout:"basic",defaultTool:null}]),Lf=Object(_.a)({common:{error:"Fehler",warning:"Warnung",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Farbe",sliderOpacity:"Farbe Transparenz"}}},mainCanvasActions:{buttonExport:"Bild Exportieren",buttonUndo:"R\xfcckg\xe4ngig machen",buttonRedo:"Wiederholen",buttonClose:"Schlie\xdfen"},infoModals:{exporting:{heading:"Exportieren...",body:"Einen Moment bitte..."},saving:{heading:"Speichere...",body:"Einen Moment bitte..."},loading:{heading:"Lade...",body:"Einen Moment bitte..."},resizing:{heading:"Bild wird bearbeitet...",body:"Einen Moment bitte..."},loadingFonts:{heading:"Lade Schriftarten...",body:"Einen Moment bitte..."},stickerLoading:{heading:"Lade Sticker...",body:"Einen Moment bitte..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Laden des Bildes fehlgeschlagen. Dies kann verschiedene Gr\xfcnde haben, beispielsweise kann die Datei defekt sein oder der Dateityp wird nicht unterst\xfctzt",buttonYes:"Neu Laden",buttonNo:"Schlie\xdfen"},rendering:{headingDelimiter:":",body:"Beim Rendern des Bildes ist ein Fehler aufgetreten",buttonYes:"Neu Laden",buttonNo:"Schlie\xdfen"},fontLoading:{headingDelimiter:":",heading:"Laden von Schriftarten ist fehlgeschlagen",body:"Die folgenden Schriftarten konnten nicht geladen werden: ${error}",buttonNo:"Schlie\xdfen"},webcamUnavailable:{headingDelimiter:":",body:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})",buttonYes:"Schlie\xdfen"},stickerLoading:{headingDelimiter:":",body:"Laden des Stickers fehlgeschlagen.",buttonNo:"Schlie\xdfen"},unexpectedError:{headingDelimiter:":",body:"Ein unerwarteter Fehler ist aufgetreten, ${error}",buttonYes:"Neu Laden",buttonNo:"Schlie\xdfen"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Bild verkleinert",body:"Ihr Bild \xfcbersteigt die maximale Gr\xf6sse von ${megapixels} megapixels und wurde auf ${width}x${height} Pixel verkleinert",buttonYes:"Weiter"},discardChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xc4nderungen verwerfen wollen?",buttonYes:"\xc4nderungen verwerfen",buttonNo:"\xc4nderungen beibehalten"},unsavedChanges:{headingDelimiter:":",body:"Sind Sie sicher, dass Sie die \xc4nderungen verwerfen wollen?",buttonYes:"Beenden ohne zu speichern",buttonNo:"Schlie\xdfen"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Ihre Daten wurden von einem veralteten Format geladen und k\xf6nnten anders aussehen",buttonYes:"\xc4nderungen anwenden",buttonNo:"Abbrechen"},unsupportedWebGLRenderer:{body:"Es wurde ein Problem im Browser festgestellt, welches zu langen Ladezeiten f\xfchren kann. Bitte probieren sie einen anderen Browser.",buttonYes:"Weiter"}},library:{title:"Bibliothek",controls:{buttonUpload:"Bild Hochladen",buttonWebcamOpen:"Webcam \xd6ffnen",buttonWebcamClose:"Webcam Schlie\xdfen",placeholderSearch:"Bibliothek durchsuchen",noResults:"Keine Ergebnisse",itemAriaLabel:"Bild mit ${label} ersetzen"}},filter:{title:"Filter",controls:{buttonReset:"Zur\xfccksetzen",sliderIntensity:"Filter Intensit\xe4t",itemAriaLabel:"${label} Filter hinzuf\xfcgen"},categories:(r={},Object(_.a)(r,"imgly_filter_category_duotone","DuoTone"),Object(_.a)(r,"imgly_filter_category_bw","B & W"),Object(_.a)(r,"imgly_filter_category_vintage","Vintage"),Object(_.a)(r,"imgly_filter_category_smooth","Smooth"),Object(_.a)(r,"imgly_filter_category_cold","Cold"),Object(_.a)(r,"imgly_filter_category_warm","Warm"),Object(_.a)(r,"imgly_filter_category_legacy","Legacy"),r),items:(o={},Object(_.a)(o,"imgly_lut_celsius","Inferno"),Object(_.a)(o,"imgly_lut_chest","Chestnut"),Object(_.a)(o,"imgly_lut_fixie","Fixie"),Object(_.a)(o,"imgly_lut_fridge","Fridge"),Object(_.a)(o,"imgly_lut_front","Sunny 70s"),Object(_.a)(o,"imgly_lut_k2","Flat Black"),Object(_.a)(o,"imgly_lut_mellow","Mellow"),Object(_.a)(o,"imgly_lut_sin","Hard Stuff"),Object(_.a)(o,"imgly_lut_texas","Oldtimer"),Object(_.a)(o,"imgly_lut_ad1920","1920 A.D."),Object(_.a)(o,"imgly_lut_ancient","Ancient"),Object(_.a)(o,"imgly_lut_bleached","Kalmen"),Object(_.a)(o,"imgly_lut_bleachedblue","Joran"),Object(_.a)(o,"imgly_lut_blues","Polaroid"),Object(_.a)(o,"imgly_lut_blueshadows","Zephyr"),Object(_.a)(o,"imgly_lut_breeze","Levante"),Object(_.a)(o,"imgly_lut_bw","Greyed"),Object(_.a)(o,"imgly_lut_classic","Classic"),Object(_.a)(o,"imgly_lut_colorful","Colorful"),Object(_.a)(o,"imgly_lut_cool","Snappy"),Object(_.a)(o,"imgly_lut_cottoncandy","Candy"),Object(_.a)(o,"imgly_lut_creamy","Creamy"),Object(_.a)(o,"imgly_lut_eighties","Low Fire"),Object(_.a)(o,"imgly_lut_elder","Colla"),Object(_.a)(o,"imgly_lut_evening","Sunrise"),Object(_.a)(o,"imgly_lut_fall","Moss"),Object(_.a)(o,"imgly_lut_food","Food"),Object(_.a)(o,"imgly_lut_glam","Glam"),Object(_.a)(o,"imgly_lut_gobblin","Gobblin"),Object(_.a)(o,"imgly_lut_highcarb","High Carb"),Object(_.a)(o,"imgly_lut_highcontrast","Hicon"),Object(_.a)(o,"imgly_lut_k1","K1"),Object(_.a)(o,"imgly_lut_k6","K6"),Object(_.a)(o,"imgly_lut_kdynamic","Pebble"),Object(_.a)(o,"imgly_lut_keen","Keen"),Object(_.a)(o,"imgly_lut_lenin","Lemon"),Object(_.a)(o,"imgly_lut_litho","Litho"),Object(_.a)(o,"imgly_lut_lomo","Lomo"),Object(_.a)(o,"imgly_lut_lomo100","Lomo 100"),Object(_.a)(o,"imgly_lut_lucid","Lucid"),Object(_.a)(o,"imgly_lut_neat","Neat"),Object(_.a)(o,"imgly_lut_nogreen","Pumpkin"),Object(_.a)(o,"imgly_lut_orchid","Solanus"),Object(_.a)(o,"imgly_lut_pale","Pale"),Object(_.a)(o,"imgly_lut_pitched","Pitched"),Object(_.a)(o,"imgly_lut_plate","Weathered"),Object(_.a)(o,"imgly_lut_pola669","Green Gap"),Object(_.a)(o,"imgly_lut_polasx","Pola SX"),Object(_.a)(o,"imgly_lut_pro400","Pro 400"),Object(_.a)(o,"imgly_lut_quozi","Quozi"),Object(_.a)(o,"imgly_lut_sepiahigh","Sepia"),Object(_.a)(o,"imgly_lut_settled","Settled"),Object(_.a)(o,"imgly_lut_seventies","Seventies"),Object(_.a)(o,"imgly_lut_soft","Soft"),Object(_.a)(o,"imgly_lut_steel","Steel"),Object(_.a)(o,"imgly_lut_summer","Summer"),Object(_.a)(o,"imgly_lut_sunset","Golden"),Object(_.a)(o,"imgly_lut_tender","Tender"),Object(_.a)(o,"imgly_lut_twilight","Twilight"),Object(_.a)(o,"imgly_lut_winter","Softy"),Object(_.a)(o,"imgly_lut_x400","Dusty"),Object(_.a)(o,"imgly_duotone_desert","Desert"),Object(_.a)(o,"imgly_duotone_peach","Peach"),Object(_.a)(o,"imgly_duotone_clash","Clash"),Object(_.a)(o,"imgly_duotone_plum","Plum"),Object(_.a)(o,"imgly_duotone_breezy","Breezy"),Object(_.a)(o,"imgly_duotone_deepblue","Deep Blue"),Object(_.a)(o,"imgly_duotone_frog","Frog"),Object(_.a)(o,"imgly_duotone_sunset","Sunset"),o)},adjustment:{title:"Korrekturen",controls:{buttonReset:"Zur\xfccksetzen"},categories:{basics:"Grundlagen",refinements:"Feinheiten"},items:{brightness:"Helligkeit",saturation:"S\xe4ttigung",contrast:"Kontrast",gamma:"Gamma",sharpness:"Sch\xe4rfe",clarity:"Klarheit",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",whites:"Wei\xdf",blacks:"Schwarz",temperature:"Temperatur"}},focus:{title:"Weichzeichnen",controls:{buttonReset:"Zur\xfccksetzen",sliderIntensity:"Focus Intensit\xe4t",itemAriaLabel:"${label} Fokus hinzuf\xfcgen"},items:{radial:"Kreisf\xf6rmig",mirrored:"Gespiegelt",linear:"Linear",gaussian:"Gau\xdfsch"},history:{focusPosition:"Focus Position",focusSize:"Focus Gr\xf6\xdfe"}},overlay:{title:"Overlays",controls:{buttonReset:"Zur\xfccksetzen",sliderOpacity:"Overlay Transparenz",carouselBlendMode:"Overlay Mischmodus",blendModeNormal:"Normal",blendModeOverlay:"\xdcberblenden",blendModeHardLight:"Hartes Licht",blendModeSoftLight:"Weiches Licht",blendModeMultiply:"Multiplizieren",blendModeDarken:"Abdunkeln",blendModeLighten:"Aufhellen",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Transparenz",tabBlendMode:"Mischmodus",itemAriaLabel:"Overlay ${label} hinzuf\xfcgen"},items:(a={},Object(_.a)(a,"imgly_overlay_bokeh","Bokeh"),Object(_.a)(a,"imgly_overlay_chop","Chop"),Object(_.a)(a,"imgly_overlay_clouds","Clouds"),Object(_.a)(a,"imgly_overlay_golden","Golden"),Object(_.a)(a,"imgly_overlay_grain","Grain"),Object(_.a)(a,"imgly_overlay_hearts","Hearts"),Object(_.a)(a,"imgly_overlay_lightleak1","Light Leak 1"),Object(_.a)(a,"imgly_overlay_lightleak2","Light Leak 2"),Object(_.a)(a,"imgly_overlay_metal","Metal"),Object(_.a)(a,"imgly_overlay_mosaic","Mosaic"),Object(_.a)(a,"imgly_overlay_painting","Painting"),Object(_.a)(a,"imgly_overlay_paper","Paper"),Object(_.a)(a,"imgly_overlay_rain","Rain"),Object(_.a)(a,"imgly_overlay_vintage","Vintage"),Object(_.a)(a,"imgly_overlay_wall1","Wall"),Object(_.a)(a,"imgly_overlay_wall2","Wall 2"),Object(_.a)(a,"imgly_overlay_wood","Wood"),a)},sticker:{title:"Sticker",controls:{buttonUpload:"Sticker Hochladen",sliderOpacity:"Sticker Transparenz",selectColor:"Stickerfarbe",tabColor:"Farbe",tabOpacity:"Transparenz",itemAriaLabel:"Sticker ${label} hinzuf\xfcgen"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"L\xf6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren",buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"Neuer Text",dropdownFontFamily:"Schriftart",textFontSize:"Schriftgr\xf6\xdfe",selectAlignment:"Ausrichtung",selectFontColor:"Schriftfarbe",selectBackgroundColor:"Hintergrundfarbe",sliderLineSpacing:"Zeilenabstand",tabColor:"Farbe",tabBgColor:"Hintergrund",tabAlignment:"Ausrichtung",tabLineHeight:"Zeilenh\xf6he",tabFontSize:"Schriftgr\xf6\xdfe"},canvasControls:{placeholderText:"Etwas aufschreiben",buttonSave:"Fertig",buttonClose:"Abbrechen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonDelete:"L\xf6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"Neues Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Textfarbe",tabColor:"Farbe",tabShuffle:"Shuffle",itemAriaLabel:"Text Design ${label} hinzuf\xfcgen"},canvasControls:{placeholderText:"Etwas aufschreiben mit Style",buttonSave:"Done",buttonClose:"Schlie\xdfen",inputText:"Texteingabe"},canvasActions:{buttonEdit:"Bearbeiten",buttonInvert:"Invertieren",buttonDelete:"L\xf6schen",buttonBringToFront:"In den Vordergrund",buttonDuplicate:"Duplizieren"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Rahmen",controls:{buttonReset:"Zur\xfccksetzen",sliderOpacity:"Rahmen Transparenz",sliderSize:"Rahmen Dicke",selectColor:"Rahmen Farbe",tabColor:"Farbe",tabOpacity:"Transparenz",tabSize:"Dicke",itemAriaLabel:"Rahmen ${label} hinzuf\xfcgen"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Malen",controls:{buttonReset:"Zur\xfccksetzen",sliderSize:"Dicke",sliderHardness:"H\xe4rte",selectColor:"Farbe",tabSize:"Dicke",tabHardness:"H\xe4rte",tabColor:"Farbe"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Zuschneiden",controls:{buttonReset:"Zur\xfccksetzen",checkboxKeepResolution:"Fixiere Aufl\xf6sung",inputCropSize:"Bildgr\xf6\xdfe",inputHeight:"h",inputWidth:"b",tabFlipAndRotate:"Spiegeln & Drehen",tabResolution:"Aufl\xf6sung",tabCropSize:"Bildgr\xf6\xdfe",itemAriaLabel:"Zuschneiden ${label}",inputHeightAriaLabel:"H\xf6he",inputWidthAriaLabel:"Breite"},categories:{imgly_transforms_common:"Standard",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Frei",imgly_transform_common_square:"Quadratisch",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Titel",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Horizontal spiegeln",buttonFlipVertical:"Vertikal spiegeln",buttonRotateClockwise:"Drehe im Uhrzeigersinn",buttonRotateAntiClockwise:"Drehe gegen Uhrzeigersinn"}}},"customTool",{title:"Benutzerdefiniert"}),Nf=Object(_.a)({common:{error:"Error",warning:"Warning",color:{colorPicker:{hex:"Hex",r:"R",g:"G",b:"B",sliderHue:"Color",sliderOpacity:"Color Opacity"}}},mainCanvasActions:{buttonExport:"Export Image",buttonUndo:"Undo",buttonRedo:"Redo",buttonClose:"Close"},infoModals:{exporting:{heading:"Exporting...",body:"Just a few seconds..."},saving:{heading:"Saving...",body:"Just a few seconds..."},loading:{heading:"Loading...",body:"Just a few seconds..."},resizing:{heading:"Resizing...",body:"Just a few seconds..."},loadingFonts:{heading:"Loading Fonts...",body:"Just a few seconds..."},stickerLoading:{heading:"Loading Sticker...",body:"Just a few seconds..."}},errorModals:{imageLoading:{headingDelimiter:":",body:"Failed to load image. This can have multiple reasons, e.g. the file is corrupted or the file type is not supported",buttonYes:"Retry",buttonNo:"Close"},rendering:{headingDelimiter:":",body:"An error has occurred while rendering the image",buttonYes:"Retry",buttonNo:"Close"},fontLoading:{headingDelimiter:":",heading:"Failed to load font",body:"The following fonts could not be loaded: ${error}",buttonNo:"Close"},webcamUnavailable:{headingDelimiter:":",body:"Unable to display webcam image (Error: ${error})",buttonYes:"Close"},stickerLoading:{headingDelimiter:":",body:"Unable to load the sticker",buttonNo:"Close"},unexpectedError:{headingDelimiter:":",body:"An unexpected error has occured ${error}",buttonYes:"Retry",buttonNo:"Close"}},warningModals:{imageResized:{headingDelimiter:":",heading:"Image resized",body:"Your image exceeds the maximum size of ${megapixels} megapixels and has been resized to ${width}x${height} pixels",buttonYes:"Continue"},unsupportedSerializationVersion:{headingDelimiter:":",body:"Your data was restored from a legacy data format and might look different",buttonYes:"Apply changes",buttonNo:"Cancel"},discardChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to discard the changes?",buttonYes:"Discard changes",buttonNo:"Keep Changes"},unsavedChanges:{headingDelimiter:":",body:"You have unsaved changes. Are you sure you want to exit?",buttonYes:"Exit without saving",buttonNo:"Cancel"},unsupportedWebGLRenderer:{body:"A problem has been detected in the browser that could cause long loading times. Please try a different browser.",buttonYes:"Continue"}},library:{title:"Library",controls:{buttonUpload:"Upload Image",buttonWebcamOpen:"Open Webcam",buttonWebcamClose:"Close Webcam",placeholderSearch:"Search Library",noResults:"No Results",itemAriaLabel:"Replace image with ${label}"}},filter:{title:"Filters",controls:{buttonReset:"Remove Filter",sliderIntensity:"Filter Intensity",itemAriaLabel:"Add ${label} filter"},categories:(s={},Object(_.a)(s,"imgly_filter_category_duotone","DuoTone"),Object(_.a)(s,"imgly_filter_category_bw","B & W"),Object(_.a)(s,"imgly_filter_category_vintage","Vintage"),Object(_.a)(s,"imgly_filter_category_smooth","Smooth"),Object(_.a)(s,"imgly_filter_category_cold","Cold"),Object(_.a)(s,"imgly_filter_category_warm","Warm"),Object(_.a)(s,"imgly_filter_category_legacy","Legacy"),s),items:(l={},Object(_.a)(l,"imgly_lut_celsius","Inferno"),Object(_.a)(l,"imgly_lut_chest","Chestnut"),Object(_.a)(l,"imgly_lut_fixie","Fixie"),Object(_.a)(l,"imgly_lut_fridge","Fridge"),Object(_.a)(l,"imgly_lut_front","Sunny 70s"),Object(_.a)(l,"imgly_lut_k2","Flat Black"),Object(_.a)(l,"imgly_lut_mellow","Mellow"),Object(_.a)(l,"imgly_lut_sin","Hard Stuff"),Object(_.a)(l,"imgly_lut_texas","Oldtimer"),Object(_.a)(l,"imgly_lut_ad1920","1920 A.D."),Object(_.a)(l,"imgly_lut_ancient","Ancient"),Object(_.a)(l,"imgly_lut_bleached","Kalmen"),Object(_.a)(l,"imgly_lut_bleachedblue","Joran"),Object(_.a)(l,"imgly_lut_blues","Polaroid"),Object(_.a)(l,"imgly_lut_blueshadows","Zephyr"),Object(_.a)(l,"imgly_lut_breeze","Levante"),Object(_.a)(l,"imgly_lut_bw","Greyed"),Object(_.a)(l,"imgly_lut_classic","Classic"),Object(_.a)(l,"imgly_lut_colorful","Colorful"),Object(_.a)(l,"imgly_lut_cool","Snappy"),Object(_.a)(l,"imgly_lut_cottoncandy","Candy"),Object(_.a)(l,"imgly_lut_creamy","Creamy"),Object(_.a)(l,"imgly_lut_eighties","Low Fire"),Object(_.a)(l,"imgly_lut_elder","Colla"),Object(_.a)(l,"imgly_lut_evening","Sunrise"),Object(_.a)(l,"imgly_lut_fall","Moss"),Object(_.a)(l,"imgly_lut_food","Food"),Object(_.a)(l,"imgly_lut_glam","Glam"),Object(_.a)(l,"imgly_lut_gobblin","Gobblin"),Object(_.a)(l,"imgly_lut_highcarb","High Carb"),Object(_.a)(l,"imgly_lut_highcontrast","Hicon"),Object(_.a)(l,"imgly_lut_k1","K1"),Object(_.a)(l,"imgly_lut_k6","K6"),Object(_.a)(l,"imgly_lut_kdynamic","Pebble"),Object(_.a)(l,"imgly_lut_keen","Keen"),Object(_.a)(l,"imgly_lut_lenin","Lemon"),Object(_.a)(l,"imgly_lut_litho","Litho"),Object(_.a)(l,"imgly_lut_lomo","Lomo"),Object(_.a)(l,"imgly_lut_lomo100","Lomo 100"),Object(_.a)(l,"imgly_lut_lucid","Lucid"),Object(_.a)(l,"imgly_lut_neat","Neat"),Object(_.a)(l,"imgly_lut_nogreen","Pumpkin"),Object(_.a)(l,"imgly_lut_orchid","Solanus"),Object(_.a)(l,"imgly_lut_pale","Pale"),Object(_.a)(l,"imgly_lut_pitched","Pitched"),Object(_.a)(l,"imgly_lut_plate","Weathered"),Object(_.a)(l,"imgly_lut_pola669","Green Gap"),Object(_.a)(l,"imgly_lut_polasx","Pola SX"),Object(_.a)(l,"imgly_lut_pro400","Pro 400"),Object(_.a)(l,"imgly_lut_quozi","Quozi"),Object(_.a)(l,"imgly_lut_sepiahigh","Sepia"),Object(_.a)(l,"imgly_lut_settled","Settled"),Object(_.a)(l,"imgly_lut_seventies","Seventies"),Object(_.a)(l,"imgly_lut_soft","Soft"),Object(_.a)(l,"imgly_lut_steel","Steel"),Object(_.a)(l,"imgly_lut_summer","Summer"),Object(_.a)(l,"imgly_lut_sunset","Golden"),Object(_.a)(l,"imgly_lut_tender","Tender"),Object(_.a)(l,"imgly_lut_twilight","Twilight"),Object(_.a)(l,"imgly_lut_winter","Softy"),Object(_.a)(l,"imgly_lut_x400","Dusty"),Object(_.a)(l,"imgly_duotone_desert","Desert"),Object(_.a)(l,"imgly_duotone_peach","Peach"),Object(_.a)(l,"imgly_duotone_clash","Clash"),Object(_.a)(l,"imgly_duotone_plum","Plum"),Object(_.a)(l,"imgly_duotone_breezy","Breezy"),Object(_.a)(l,"imgly_duotone_deepblue","Deep Blue"),Object(_.a)(l,"imgly_duotone_frog","Frog"),Object(_.a)(l,"imgly_duotone_sunset","Sunset"),l)},adjustment:{title:"Adjust",controls:{buttonReset:"Reset Adjustment"},categories:{basics:"Basic",refinements:"Refinements"},items:{brightness:"Brightness",saturation:"Saturation",contrast:"Contrast",gamma:"Gamma",sharpness:"Sharpness",clarity:"Clarity",exposure:"Exposure",shadows:"Shadows",highlights:"Highlights",whites:"Whites",blacks:"Blacks",temperature:"Temperature"}},focus:{title:"Focus",controls:{buttonReset:"Remove Focus",sliderIntensity:"Focus Intensity",itemAriaLabel:"Add ${label} focus"},items:{radial:"Radial",mirrored:"Mirrored",linear:"Linear",gaussian:"Gaussian"},history:{focusPosition:"Focus Position",focusSize:"Focus Size"}},overlay:{title:"Overlays",controls:{buttonReset:"Remove Overlay",sliderOpacity:"Overlay Opacity",carouselBlendMode:"Overlay Blend mode",blendModeNormal:"Normal",blendModeOverlay:"Overlay",blendModeHardLight:"Hard Light",blendModeSoftLight:"Soft Light",blendModeMultiply:"Multiply",blendModeDarken:"Darken",blendModeLighten:"Lighten",blendModeScreen:"Screen",blendModeColorBurn:"Color Burn",tabOpacity:"Opacity",tabBlendMode:"Blend Mode",itemAriaLabel:"Add ${name} overlay"},items:(u={},Object(_.a)(u,"imgly_overlay_bokeh","Bokeh"),Object(_.a)(u,"imgly_overlay_chop","Chop"),Object(_.a)(u,"imgly_overlay_clouds","Clouds"),Object(_.a)(u,"imgly_overlay_golden","Golden"),Object(_.a)(u,"imgly_overlay_grain","Grain"),Object(_.a)(u,"imgly_overlay_hearts","Hearts"),Object(_.a)(u,"imgly_overlay_lightleak1","Light Leak 1"),Object(_.a)(u,"imgly_overlay_lightleak2","Light Leak 2"),Object(_.a)(u,"imgly_overlay_metal","Metal"),Object(_.a)(u,"imgly_overlay_mosaic","Mosaic"),Object(_.a)(u,"imgly_overlay_painting","Painting"),Object(_.a)(u,"imgly_overlay_paper","Paper"),Object(_.a)(u,"imgly_overlay_rain","Rain"),Object(_.a)(u,"imgly_overlay_vintage","Vintage"),Object(_.a)(u,"imgly_overlay_wall1","Wall"),Object(_.a)(u,"imgly_overlay_wall2","Wall 2"),Object(_.a)(u,"imgly_overlay_wood","Wood"),u)},sticker:{title:"Stickers",controls:{buttonUpload:"Upload Sticker",sliderOpacity:"Sticker Opacity",selectColor:"Sticker Color",tabColor:"Color",tabOpacity:"Opacity",itemAriaLabel:"Add ${label} sticker"},categories:{imgly_sticker_emoticons:"Emoticons",imgly_sticker_shapes:"Shapes",imgly_sticker_custom:"Custom"},items:{imgly_sticker_emoticons_alien:"Alien",imgly_sticker_emoticons_angel:"Angel",imgly_sticker_emoticons_angry:"Angry",imgly_sticker_emoticons_anxious:"Anxious",imgly_sticker_emoticons_asleep:"Asleep",imgly_sticker_emoticons_attention:"Attention",imgly_sticker_emoticons_baby_chicken:"Baby Chicken",imgly_sticker_emoticons_batman:"Batman",imgly_sticker_emoticons_beer:"Beer",imgly_sticker_emoticons_black:"Black",imgly_sticker_emoticons_blue:"Blue",imgly_sticker_emoticons_blush:"Blush",imgly_sticker_emoticons_boxer:"Boxer",imgly_sticker_emoticons_business:"Business",imgly_sticker_emoticons_chicken:"Chicken",imgly_sticker_emoticons_cool:"Cool",imgly_sticker_emoticons_cry:"Cry",imgly_sticker_emoticons_deceased:"Deceased",imgly_sticker_emoticons_devil:"Devil",imgly_sticker_emoticons_duckface:"Duckface",imgly_sticker_emoticons_furious:"Furious",imgly_sticker_emoticons_grin:"Grin",imgly_sticker_emoticons_guitar:"Guitar",imgly_sticker_emoticons_harry_potter:"Harry Potter",imgly_sticker_emoticons_hippie:"Hippie",imgly_sticker_emoticons_hitman:"Hitman",imgly_sticker_emoticons_humourous:"Humourous",imgly_sticker_emoticons_idea:"Idea",imgly_sticker_emoticons_impatient:"Impatient",imgly_sticker_emoticons_kiss:"Kiss",imgly_sticker_emoticons_kisses:"Kisses",imgly_sticker_emoticons_laugh:"Laugh",imgly_sticker_emoticons_loud_cry:"Loud Cry",imgly_sticker_emoticons_loving:"Loving",imgly_sticker_emoticons_masked:"Masked",imgly_sticker_emoticons_music:"Music",imgly_sticker_emoticons_nerd:"Nerd",imgly_sticker_emoticons_ninja:"Ninja",imgly_sticker_emoticons_not_speaking_to_you:"Not speaking to you",imgly_sticker_emoticons_pig:"Pig",imgly_sticker_emoticons_pumpkin:"Pumpkin",imgly_sticker_emoticons_question:"Question",imgly_sticker_emoticons_rabbit:"Rabbit",imgly_sticker_emoticons_sad:"Sad",imgly_sticker_emoticons_sick:"Sick",imgly_sticker_emoticons_skateboard:"Skateboard",imgly_sticker_emoticons_skull:"Skull",imgly_sticker_emoticons_sleepy:"Sleepy",imgly_sticker_emoticons_smile:"Smile",imgly_sticker_emoticons_smoking:"Smoking",imgly_sticker_emoticons_sobbing:"Sobbing",imgly_sticker_emoticons_star:"Star",imgly_sticker_emoticons_steaming_furious:"Steaming Furious",imgly_sticker_emoticons_sunbathing:"Sunbathing",imgly_sticker_emoticons_tired:"Tired",imgly_sticker_emoticons_tongue_out_wink:"Tongue out wink",imgly_sticker_emoticons_wave:"Wave",imgly_sticker_emoticons_wide_grin:"Wide Grin",imgly_sticker_emoticons_wink:"Wink",imgly_sticker_emoticons_wrestler:"Wrestler",imgly_sticker_shapes_arrow_02:"Arrow 1",imgly_sticker_shapes_arrow_03:"Arrow 2",imgly_sticker_shapes_badge_01:"Badge 1",imgly_sticker_shapes_badge_11:"Badge 5",imgly_sticker_shapes_badge_12:"Badge 6",imgly_sticker_shapes_badge_13:"Badge 7",imgly_sticker_shapes_badge_15:"Badge 8",imgly_sticker_shapes_badge_18:"Badge 9",imgly_sticker_shapes_badge_19:"Badge 10",imgly_sticker_shapes_badge_20:"Badge 11",imgly_sticker_shapes_badge_28:"Badge 12",imgly_sticker_shapes_badge_32:"Badge 13",imgly_sticker_shapes_badge_35:"Badge 14",imgly_sticker_shapes_badge_36:"Badge 15",imgly_sticker_shapes_badge_04:"Badge 2",imgly_sticker_shapes_badge_06:"Badge 3",imgly_sticker_shapes_badge_08:"Badge 4",imgly_sticker_shapes_spray_01:"Spray 1",imgly_sticker_shapes_spray_03:"Spray 2",imgly_sticker_shapes_spray_04:"Spray 3"},canvasActions:{buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate",buttonFlipHorizontal:"Flip",buttonFlipVertical:"Flip"},history:{add:"Sticker",resize:"Sticker resize",position:"Sticker position",color:"Sticker color",delete:"Sticker delete",order:"Sticker order",opacity:"Sticker opacity",flip:"Sticker flip"}},text:{title:"Text",controls:{buttonNew:"New Text",dropdownFontFamily:"Font Family",textFontSize:"Font Size",selectAlignment:"Alignment",selectFontColor:"Font Color",selectBackgroundColor:"Background Color",sliderLineSpacing:"Line Spacing",tabColor:"Color",tabBgColor:"Bg Color",tabAlignment:"Alignment",tabLineHeight:"Line Height",tabFontSize:"Font Size"},canvasControls:{placeholderText:"Write Something",buttonSave:"Done",buttonClose:"Cancel",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text",edit:"Text edit",resize:"Text resize",position:"Text position",alignment:"Text alignment",textColor:"Text color",backgroundColor:"Text background color",fontFamily:"Font family",fontStyle:"Font style",lineSpacing:"Line spacing",width:"Text width",delete:"Text delete",order:"Text order"}},textdesign:{title:"Text Design",controls:{buttonNew:"New Text Design",buttonShuffle:"Shuffle Layout",selectColor:"Text Color",tabColor:"Color",tabShuffle:"Shuffle",itemAriaLabel:"Add ${label} text design"},canvasControls:{placeholderText:"Write Something With Style",buttonSave:"Done",buttonClose:"Schlie\xdfen",inputText:"Text Input"},canvasActions:{buttonEdit:"Edit",buttonInvert:"Invert",buttonDelete:"Delete",buttonBringToFront:"Move to front",buttonDuplicate:"Duplicate"},history:{add:"Text design",edit:"Text design edit",resize:"Text design resize",position:"Text design position",color:"Text design color",shuffle:"Text design shuffle",invert:"Text design invert",padding:"Text design padding",order:"Text design order",delete:"Text design delete"}},frame:{title:"Frames",controls:{buttonReset:"Remove Frame",sliderOpacity:"Frame Opacity",sliderSize:"Frame Size",selectColor:"Frame Color",tabColor:"Color",tabOpacity:"Opacity",tabSize:"Size",itemAriaLabel:"Add ${label} frame"},items:{imgly_frame_dia:"Dia",imgly_frame_art_decor:"Art Decor",imgly_frame_black_passepartout:"Black",imgly_frame_lowpoly_shadow:"Low Poly",imgly_frame_wood_passepartout:"Wood"}},brush:{title:"Brush",controls:{buttonReset:"Remove Brush",sliderSize:"Brush Size",sliderHardness:"Brush Hardness",selectColor:"Brush Color",tabSize:"Size",tabHardness:"Hardness",tabColor:"Color"},history:{brushStroke:"Brush Stroke"}},transform:{title:"Transform",controls:{buttonReset:"Reset to default",checkboxKeepResolution:"Keep Resolution",inputCropSize:"Crop Size",inputHeight:"h",inputWidth:"w",tabFlipAndRotate:"Flip & Rotate",tabResolution:"Resolution",tabCropSize:"Crop Size",itemAriaLabel:"Apply ${label} crop",inputHeightAriaLabel:"crop height",inputWidthAriaLabel:"crop width"},categories:{imgly_transforms_common:"Common",imgly_transforms_facebook:"Facebook",imgly_transforms_twitter:"Twitter",imgly_transforms_instagram:"Instagram"},items:{imgly_transform_common_custom:"Custom",imgly_transform_common_square:"Square",imgly_transform_common_4:"4:3",imgly_transform_common_16:"16:9",imgly_transform_common_3:"3:4",imgly_transform_common_9:"9:16",imgly_transform_facebook_profile:"Profile",imgly_transform_facebook_title:"Title",imgly_transform_facebook_post:"Post",imgly_transform_instagram_story:"Story",imgly_transform_instagram_landscape:"Landscape",imgly_transform_instagram_portrait:"Portrait",imgly_transform_instagram_square:"Square",imgly_transform_twitter_profile:"Profile",imgly_transform_twitter_title:"Title",imgly_transform_twitter_post:"Post"},transformActions:{buttonFlipHorizontal:"Flip Horizontal",buttonFlipVertical:"Flip Vertical",buttonRotateClockwise:"Rotate Clockwise",buttonRotateAntiClockwise:"Rotate Counterclockwise"}}},"customTool",{title:"Custom"}),Uf=function(e){return"de"===e?Lf:Nf},Gf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{primary:"#365afc",background:"#0B0B0B",foreground:"#FFFFFF"},t=e.primary,n=void 0===t?"#365afc":t,i=e.background,r=void 0===i?"#0B0B0B":i,o=e.foreground,a=void 0===o?"#FFFFFF":o,s="rgba(255, 255, 255, 0.90)",l="rgba(255, 255, 255, 0.60)",u="rgba(255, 255, 255, 0.38)",c="#424242",f="#333333",d="#242424",h="#171717",p="#0B0B0B",m="rgba(255, 255, 255, 0.08)",g="rgba(0, 0, 0, 0.3)",y="rgba(89, 121, 252, 0.20)",v="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",format:"woff",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",provider:"file"},background:r,foreground:a,primary:n,warning:"#ffba5c",error:"#c2393a",success:"#39c26c",focusOutlineColor:"rgba(255, 255, 255, 0.12)",scrollbar:{handleColor:"rgba(255, 255, 255, 0.2)"},button:{outlinedBorderColor:f,activeForeground:n,containedPrimaryBackground:n,containedPrimaryForeground:s,outlinedPrimaryBackground:d,outlinedPrimaryForeground:s,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:l,textPrimaryForeground:n,textSecondaryForeground:l,outlinedInactiveOverlayColor:g,textInactiveOpacity:"0.5",hoverOverlayColor:m},checkbox:{background:f,foreground:a,activeForeground:a,activeBackground:n,inactiveOpacity:v,hoverOpacity:"0.8"},modal:{background:d,bodyForeground:s,headerForeground:l,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:f,foreground:s,activeBorderColor:n,activeOverlayColor:y,labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:s,inactiveOverlayColor:g,hoverOverlayColor:m},tabTitle:{foreground:l,background:"transparent",activeBackground:"transparent",activeBorderColor:n,activeForeground:s},dropdown:{background:"transparent",foreground:s,hoverBorderColor:l,borderColor:f,caretColor:u,listBackground:f,listBorderColor:f,listItemHoverBackground:c,listForeground:l,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",inactiveOpacity:v},textInput:{foreground:s,hoverBorderColor:"rgba(255, 255, 255, 0.40)",background:"transparent",borderColor:f,inactiveOpacity:v},slider:{trackColor:"rgba(255, 255, 255, 0.4)",activeTrackColor:n,thumbBackground:h,thumbBorderColor:n,inactiveOpacity:v,hoverOpacity:"0.7"},selectColor:{activeBorderColor:n,inactiveOpacity:v},toolbar:{foreground:s,background:d,activeBackground:"transparent",activeForeground:n,borderColor:"transparent"},tooltip:{background:c,foreground:s},toolControlBar:{background:"rgba(23, 23, 23, 0.9)",borderColor:"transparent",shadow:"none",separatorColor:f,titleForeground:l,inputLabelForeground:l,inputLabelInactiveOpacity:v},mainCanvasActionBar:{background:"linear-gradient(0deg, transparent 0%,  rgba(0, 0, 0, 0.6) 98%)",foreground:s,borderColor:"none"},canvasActionBar:{background:c,foreground:s,separatorColor:u},canvas:{background:p,controlsOutline:"rgba(255, 255, 255, 0.5)",controlsColor:"#ffffff",cropBackdrop:"rgba(0, 0, 0, 0.5)"},colorPicker:{listBackground:f,listShadow:"0 12px 17px 2px rgba(0,0,0,0.14),\n        0 5px 22px 4px rgba(0,0,0,0.12),\n        0 7px 8px -4px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:c},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:a,background:p},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#424242",highlight:"#565656",shadow:"#333333"}}}},Hf=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{primary:"#1e47fb",background:"#FBFBFB",foreground:"#000000"},t=e.primary,n=void 0===t?"#1e47fb":t,i=e.background,r=void 0===i?"#FBFBFB":i,o=e.foreground,a=void 0===o?"#000000":o,s="rgba(0, 0, 0, 0.90)",l="rgba(0, 0, 0, 0.60)",u="rgba(0, 0, 0, 0.38)",c="#CCCCCC",f="#D4D4D4",d="#E6E6E6",h="#EEEEEE",p="#FBFBFB",m="rgba(125, 125, 125, 0.12)",g="rgba(30, 71, 251, 0.2)",y="rgba(0, 0, 0, 0.1)",v="0.3";return{shape:{radiusSmall:2,radiusMedium:4,radiusLarge:4},typography:{fontFamily:"Fira Sans",format:"woff",fontURI:"./fonts/imgly_font_fira_sans_regular.woff",provider:"file"},background:r,foreground:a,primary:n,warning:"#ffb045",error:"#c01a1b",success:"#17c658",focusOutlineColor:"rgba(125, 125, 125, 0.12)",scrollbar:{handleColor:"rgba(0, 0, 0, 0.2)"},button:{outlinedBorderColor:f,activeForeground:n,containedPrimaryBackground:n,containedPrimaryForeground:"rgba(255, 255, 255, 0.9)",outlinedPrimaryBackground:d,outlinedPrimaryForeground:s,outlinedSecondaryBackground:"transparent",outlinedSecondaryForeground:l,textPrimaryForeground:n,textSecondaryForeground:l,outlinedInactiveOverlayColor:y,textInactiveOpacity:"0.5",hoverOverlayColor:m},checkbox:{background:f,foreground:a,activeForeground:a,activeBackground:n,inactiveOpacity:v,hoverOpacity:"0.8"},modal:{background:d,bodyForeground:s,headerForeground:l,backdrop:"rgba(0, 0, 0, 0.6)"},card:{background:f,foreground:s,activeBorderColor:n,activeOverlayColor:g,labelBackground:"linear-gradient(transparent, rgba(0, 0, 0, 0.6))",labelForeground:"rgba(255, 255, 255, 0.87)",inactiveOverlayColor:y,hoverOverlayColor:m},tabTitle:{foreground:l,background:"transparent",activeBackground:"transparent",activeBorderColor:n,activeForeground:s},dropdown:{background:"transparent",foreground:s,hoverBorderColor:l,borderColor:f,listBackground:f,caretColor:u,listForeground:l,listBorderColor:f,listItemHoverBackground:c,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",inactiveOpacity:v},textInput:{foreground:s,hoverBorderColor:s,background:"transparent",borderColor:f,inactiveOpacity:v},slider:{trackColor:c,activeTrackColor:n,thumbBackground:h,thumbBorderColor:n,inactiveOpacity:v,hoverOpacity:"0.7"},selectColor:{activeBorderColor:n,inactiveOpacity:v},toolbar:{foreground:s,background:f,activeBackground:"transparent",activeForeground:n,borderColor:"transparent"},tooltip:{background:c,foreground:s},toolControlBar:{background:"rgba(238, 238, 238, 0.9)",borderColor:h,shadow:"none",separatorColor:f,titleForeground:l,inputLabelForeground:l,inputLabelInactiveOpacity:v},mainCanvasActionBar:{background:"transparent",foreground:s,borderColor:"none"},canvasActionBar:{background:c,foreground:s,separatorColor:u},canvas:{background:p,controlsOutline:"rgba(255, 255, 255, 0.6)",controlsColor:"#ffffff",cropBackdrop:"rgba(255, 255, 255, 0.3)"},colorPicker:{listBackground:f,listShadow:"0 8px 10px 1px rgba(0,0,0,0.14),\n        0 3px 14px 2px rgba(0,0,0,0.12),\n        0 5px 5px -3px rgba(0,0,0,0.20)",controlsColor:"#ffffff",inputBorderColor:c},colorItem:{borderRadius:"2px",margin:"1px"},webcam:{backdrop:"rgba(0, 0, 0, 0.3)",floatButton:a,background:p},snapping:{positionGuideColor:"#f0f",rotationGuideColor:"#0ff"},transform:{crops:{main:"#B8B8B8",highlight:"#E6E6E6",shadow:"#D4D4D4"}}}},Wf=Gf(),Vf=Pc(),qf=Object(k.a)({},Wf,{measurements:Vf}),Kf=function(e,t){var n=function(e){return"light"===e?Hf:Gf}(e);if(t&&t[e]){var i=t[e],r={primary:i.primary,background:i.background,foreground:i.foreground};return Fc([n(Object.keys(r).reduce((function(e,t){return r[t]?Object(k.a)({},e,Object(_.a)({},t,r[t])):e}),{})),t[e]])}return n()||Wf},Xf=["canvas","advancedUIToolbar","advancedUIToolControlBar","advancedUICard","advancedUISpacer","basicUIToolbar","basicUIToolControlBar","mainCanvasActionBar","inputs","colorItem","fontSystem"],Yf={config:Tc,locale:Nf,theme:Wf,measurements:Vf,initialMeasurements:Vf},Qf=function(){function e(){var t=this;Object(O.a)(this,e),this.dispose=function(){t.state=null,t.events=null,t.assetProvider=null},this.checkDefaultToolAvailability=function(e,t){return-1!==t.indexOf(e)},this.state=Object(E.K)(Yf),this.events=new zf,this.licenseChecker=null}return Object(S.a)(e,[{key:"saveConfig",value:function(e){var t=this;e.mainCanvasActions&&4!==e.mainCanvasActions.length&&(e.mainCanvasActions.length=4);var n=Fc([e.layout&&"basic"===e.layout?Bf:Tc,e],{clone:!0});this.licenseChecker=new E.xb(n.license),this.licenseChecker.areCustomAssetsAllowed()||(n.sticker.enableCustomUpload=!1);var i=function(e,t){return t&&t[e]?Fc([Uf(e),t[e]]):Uf(e)||Nf}(n.language,n.custom.languages),r=Kf(n.theme,n.custom.themes),o=function(e){var t=Pc();if(e){var n={};return Object.keys(e).forEach((function(t){-1!==Xf.indexOf(t)&&(n[t]=e[t])})),Fc([t,n])}return t}(n.custom.measurements),a=n.library.provider,s=[];n.adjustment.categories=n.adjustment.categories.reduce((function(e,t){return e.push(Object(k.a)({},t,{items:t.items.filter((function(e){return!!E.q[e.identifier]||(s.push(e.identifier),!1)}))})),e}),[]),0!==s.length&&console.error("The following identifier are incorrect for the adjustment tool: ".concat(s.join(", "))),delete n.language,delete n.custom.languages,delete n.custom.themes,delete n.library.provider;var l=n.tools.reduce((function(e,t){return[].concat(Object(v.a)(e),"object"===typeof t?Object(v.a)(t):[t])}),[]);if((l.length||(console.error("Empty list input for tools"),l=jc.reduce((function(e,t){return[].concat(Object(v.a)(e),"object"===typeof t?Object(v.a)(t):[t])}),[])),l=l.filter((function(e){return t.licenseChecker.isToolAllowed(e)})),n.defaultTool)&&!this.checkDefaultToolAvailability(n.defaultTool,l)){var u=l,c=Object(x.a)(u,1);n.defaultTool=c[0]}n.tools=l,this.state.config=n,this.state.locale=i,this.state.theme=r,this.state.measurements=o,this.state.initialMeasurements=o;var f=this.buildCustomAssetsConfig();return this.assetProvider=new E.D(f,this.licenseChecker.areCustomAssetsAllowed(),n.assetResolver),this.loadThemeFont(),a}},{key:"loadThemeFont",value:function(){var e=this.theme.typography;e.skipLoading||this.assetProvider.getFontManager().injectFonts([e])}},{key:"buildCustomAssetsConfig",value:function(){var e=this.tools,t=Object(E.kb)(this.state.config),n=this.state.config.assetBaseUrl,i=this.state.theme,r=-1!==e.indexOf("filter")?t.filter:void 0,o=-1!==e.indexOf("focus")?t.focus:void 0,a=-1!==e.indexOf("adjustment")?t.adjustment:void 0;return{basePath:n,theme:i,filter:r,focus:o,sticker:-1!==e.indexOf("sticker")?t.sticker:void 0,frame:-1!==e.indexOf("frame")?t.frame:void 0,overlay:-1!==e.indexOf("overlay")?t.overlay:void 0,transform:-1!==e.indexOf("transform")?t.transform:void 0,text:-1!==e.indexOf("text")?t.text:void 0,adjustment:a,textdesign:-1!==e.indexOf("textdesign")?t.textdesign:void 0}}},{key:"config",get:function(){return this.state.config}},{key:"locale",get:function(){return this.state.locale}},{key:"theme",get:function(){return this.state.theme}},{key:"measurements",get:function(){return this.state.measurements}},{key:"initialMeasurements",get:function(){return this.state.initialMeasurements}},{key:"tools",get:function(){return this.config.tools.reduce((function(e,t){return"string"===typeof t?[].concat(Object(v.a)(e),[t]):[].concat(Object(v.a)(e),[""],Object(v.a)(t))}),[])}},{key:"defaultTool",get:function(){return this.config.defaultTool}},{key:"isOrderDefault",get:function(){return"default"===this.config.order}},{key:"isLayoutAdvanced",get:function(){return"advanced"===this.config.layout}},{key:"displayCloseButton",get:function(){return-1!==this.config.mainCanvasActions.indexOf("close")}}]),e}();Object(E.G)([E.bb],Qf.prototype,"saveConfig",1),Object(E.G)([E.bb],Qf.prototype,"dispose",2),Object(E.G)([E.N],Qf.prototype,"config",1),Object(E.G)([E.N],Qf.prototype,"locale",1),Object(E.G)([E.N],Qf.prototype,"theme",1),Object(E.G)([E.N],Qf.prototype,"measurements",1),Object(E.G)([E.N],Qf.prototype,"initialMeasurements",1),Object(E.G)([E.N],Qf.prototype,"tools",1),Object(E.G)([E.N],Qf.prototype,"defaultTool",1),Object(E.G)([E.N],Qf.prototype,"isOrderDefault",1),Object(E.G)([E.N],Qf.prototype,"isLayoutAdvanced",1),Object(E.G)([E.N],Qf.prototype,"displayCloseButton",1);var Zf=function(){function e(t){Object(O.a)(this,e),this.editor=t}return Object(S.a)(e,[{key:"setBackgroundImage",value:function(e){this.container?this.container.setData({image:e,originalImage:e}):this.container=this.engine.addImage({image:e,originalImage:e,blendMode:"normal",opacity:1})}},{key:"getchildren",value:function(){return this.container.getChildren()}},{key:"addImageToContainer",value:function(){var e=this;return new Promise((function(t,n){var i=e.editor.activeStore.image;if(Object(E.b)(i))e.setBackgroundImage(i),t();else{var r=e.editor.libraryStore.getRawUrl(i);e.getImageElement(r).then((function(n){e.setBackgroundImage(n),t()})).catch((function(e){n({identifier:"imageLoading",message:e.message})}))}}))}},{key:"getImageElement",value:function(e){var t=this;return new Promise((function(n,i){var r=new Image;r.addEventListener("load",(function(){n(r)})),r.addEventListener("error",(function(e){i(e)})),r.crossOrigin=t.editor.configStore.config.engine.crossOrigin,r.src=e}))}},{key:"getImgageContainerId",value:function(){return this.container?this.container.getID():""}},{key:"engine",get:function(){return this.editor.engine}}]),e}(),Jf=function(){function e(t){var n=this;Object(O.a)(this,e),this.applyNewImageTransform=function(){var e=n.editor.engineMediator.image.container.getBounds(),t=e.size,i=e.width,r=e.height,o=n.container;o.setTransform(E.Y.IDENTITY),o.setResolution(t),o.setPivot(.5,.5),o.setPosition({x:i/2,y:r/2})},this.editor=t}return Object(S.a)(e,[{key:"engine",get:function(){return this.editor.engine}},{key:"container",get:function(){return this.engine.getOutputContainer()}}]),e}();function $f(e,t){return e.width/e.height>t.width/t.height?e.height/t.height:e.width/t.width}var ed={transform:E.Y.IDENTITY},td=function(){function e(t){Object(O.a)(this,e),this.initialTransform=E.Y.IDENTITY,this.editor=t,this.state=Object(E.K)(ed)}return Object(S.a)(e,[{key:"createPreview",value:function(e){this.container=this.editor.engine.createPreview(e)}},{key:"updateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.calculateTransform(e);return!!n.scale.x&&(t?this.saveInitialTransform(n):this.savePreviewTransform(n),this.container.setTransform(this.state.transform),!0)}},{key:"saveInitialTransform",value:function(e){this.initialTransform=e,this.savePreviewTransform(e)}},{key:"savePreviewTransform",value:function(e){var t=this;Object(E.db)((function(){t.state.transform.position=e.position,t.state.transform.scale=e.scale,t.state.transform.rotation=e.rotation;var n=Object(E.B)(),i=new E.n(e.scale).divide(n);t.previewTransformWithoutDpr={position:new E.n(e.position).divide(n),scale:i,rotation:e.rotation}}))}},{key:"calculateTransform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Object(E.B)(),n=this.editor.configStore.config.scaleImageToFit,i=this.editor.canvasStore.canvasSize,r=i.width,o=i.height,a=this.editor.engine.getOutputDimensions(),s=$f({width:r,height:o},a),l=n?s:Math.min(1,s),u=o-a.height*l,c=2*this.editor.configStore.measurements.mainCanvasActionBar.height;u<c&&(l=$f({width:r,height:o-c},a));var f=.95;a.height*l>o*f&&(l=$f({width:r,height:o*f},a)),a.width*l>r*f&&(l=$f({width:r*f,height:o},a));var d={x:r*t/2,y:o*t/2},h={x:l*=t,y:l};return new E.Y(d,h,e)}},{key:"transform",get:function(){return this.state.transform}},{key:"position",get:function(){return this.state.transform.position}},{key:"scale",get:function(){return this.state.transform.scale}},{key:"rotation",get:function(){return this.state.transform.rotation}}]),e}();Object(E.G)([E.bb],td.prototype,"updateTransform",1),Object(E.G)([E.bb],td.prototype,"savePreviewTransform",1),Object(E.G)([E.N],td.prototype,"transform",1),Object(E.G)([E.N],td.prototype,"position",1),Object(E.G)([E.N],td.prototype,"scale",1),Object(E.G)([E.N],td.prototype,"rotation",1);var nd=function(){function e(){Object(O.a)(this,e),this.imageContainerOrder=[],this.spriteContainerOrder=[]}return Object(S.a)(e,[{key:"addIndex",value:function(t){e.checkTool(t);var n=e.indexForOrder(e.IMAGE_CONTAINER_INDEX,this.imageContainerOrder,t),i=n.index,r=n.order;return this.imageContainerOrder=r,i}},{key:"removeIndex",value:function(t){e.checkTool(t),e.remove(t,this.imageContainerOrder)}},{key:"addSprite",value:function(e){return this.spriteContainerOrder.push(e),this.imageContainerOrder.length+this.spriteContainerOrder.length-1}},{key:"removeSprite",value:function(t){e.remove(t,this.spriteContainerOrder)}},{key:"renameSprite",value:function(e,t){var n=this.spriteContainerOrder.findIndex((function(t){return t===e}));-1!==n&&(this.spriteContainerOrder[n]=t)}},{key:"bringToFront",value:function(e){var t=this.spriteContainerOrder.findIndex((function(t){return t===e}));return-1!==t&&(this.spriteContainerOrder.splice(t,1),this.spriteContainerOrder.push(e)),this.getLastSpriteIndex()}},{key:"getLastSpriteId",value:function(){var e=this.spriteContainerOrder.length;return this.spriteContainerOrder[e-1]}},{key:"getSpriteIndex",value:function(e){return this.spriteContainerOrder.findIndex((function(t){return t===e}))+this.imageContainerOrder.length-1}},{key:"getLastSpriteIndex",value:function(){return this.imageContainerOrder.length+this.spriteContainerOrder.length-1}}],[{key:"checkTool",value:function(e){if(-1!==["sticker","text","textdesign","brush"].indexOf(e))throw new Error("addIndex is used for non sprites, for sprites use addSprite")}},{key:"remove",value:function(e,t){var n=t.findIndex((function(t){return t===e}));-1!==n&&t.splice(n,1)}},{key:"indexForOrder",value:function(e,t,n){var i=e[n],r=t.findIndex((function(e){return e===n}));if(-1!==r)return{index:r,order:t};var o,a=t.length;if(a)for(o=0;o<a;o+=1){if(i<e[t[o]])return{index:o,order:t=[].concat(Object(v.a)(t.slice(0,o)),[n],Object(v.a)(t.slice(o)))}}return t.push(n),{index:t.length-1,order:t}}}]),e}();nd.IMAGE_CONTAINER_INDEX=(c={},Object(_.a)(c,"filter",0),Object(_.a)(c,"adjustment",1),Object(_.a)(c,"focus",2),Object(_.a)(c,"overlay",3),c);var id=function(){function e(t){var n=this;Object(O.a)(this,e),this.orderHelper=new nd,this.init=function(){var e=n.editor.configStore.config.engine;n.engine=new E.vb(Object(k.a)({},e,{license:n.editor.configStore.config.license,assetProvider:n.editor.configStore.assetProvider,watermark:n.editor.configStore.config.watermark})),n.image=new Zf(n.editor),n.output=new Jf(n.editor),n.preview=new td(n.editor)},this.dispose=function(){n.engine&&(n.engine.dispose(),n.engine=null),n.image=null,n.output=null,n.preview=null},this.editor=t}return Object(S.a)(e,[{key:"render",value:function(e){return this.engine.render(e)}},{key:"previewSpaceToWorldSpace",value:function(e,t){var n=this.preview.previewTransformWithoutDpr;if(Object(E.F)(e)){var i=this.editor.engine.convertPointFromPreviewIntoWorldSpace(E.n.ZERO,n,t),r=this.editor.engine.convertPointFromPreviewIntoWorldSpace({x:e,y:0},n,t);return E.n.distance(new E.n(i),new E.n(r))}return this.editor.engine.convertPointFromPreviewIntoWorldSpace(e,n,t)}},{key:"worldSpaceToPreviewSpace",value:function(e){var t=this.preview.previewTransformWithoutDpr;if(Object(E.F)(e)){var n=this.editor.engine.convertPointFromWorldIntoPreviewSpace(E.n.ZERO,t),i=this.editor.engine.convertPointFromWorldIntoPreviewSpace({x:e,y:0},t);return E.n.distance(new E.n(n),new E.n(i))}return this.editor.engine.convertPointFromWorldIntoPreviewSpace(e,t)}},{key:"outputSpaceToWorldSpace",value:function(e){return Object(E.F)(e)?E.cb.getScalarInWorldSpace(e,this.editor.engine.getOutputContainer()):E.cb.getPointInWorldSpace(e,this.editor.engine.getOutputContainer())}},{key:"previewSpaceToOutputSpace",value:function(e){var t=this.preview.previewTransformWithoutDpr;if(Object(E.F)(e)){var n=this.editor.engine.convertPointFromPreviewIntoOutputSpace(E.n.ZERO,t),i=this.editor.engine.convertPointFromPreviewIntoOutputSpace({x:e,y:0},t);return E.n.distance(new E.n(n),new E.n(i))}return this.editor.engine.convertPointFromPreviewIntoOutputSpace(e,t)}},{key:"previewSpaceToFlippedPreviewSpace",value:function(e){return this.editor.engine.convertPointFromPreviewIntoFlippedPreviewSpace(e)}}]),e}(),rd=function(){function e(){Object(O.a)(this,e),this.snapshots=[],this.observeIndex=E.K.box(-1)}return Object(S.a)(e,[{key:"addSnapshot",value:function(e){this.index===this.snapshots.length-1?this.snapshots=this.snapshots.concat(JSON.stringify(e)):this.snapshots=[].concat(Object(v.a)(this.snapshots.slice(0,this.index+1)),[JSON.stringify(e)]),this.observeIndex.set(this.snapshots.length-1)}},{key:"getCurrentState",value:function(){return this.snapshots[this.index]}},{key:"reset",value:function(){this.snapshots=[],this.observeIndex.set(-1)}},{key:"undo",value:function(){return this.canUndo?(this.observeIndex.set(this.index-1),JSON.parse(this.getCurrentState())):null}},{key:"redo",value:function(){return this.canRedo?(this.observeIndex.set(this.index+1),JSON.parse(this.getCurrentState())):null}},{key:"discardSnapshotsfromIndex",value:function(e){e>0&&e<this.snapshots.length-1&&(this.snapshots=this.snapshots.slice(0,e),this.observeIndex.set(this.snapshots.length-1))}},{key:"index",get:function(){return this.observeIndex.get()}},{key:"canUndo",get:function(){return this.index>0}},{key:"canRedo",get:function(){return this.snapshots.length-1>this.index}}]),e}();Object(E.G)([E.N],rd.prototype,"index",1),Object(E.G)([E.N],rd.prototype,"canUndo",1),Object(E.G)([E.N],rd.prototype,"canRedo",1);var od=function(){function e(t){var n=this;Object(O.a)(this,e),this.awaitHistoryChange=!1,this.isDirtySinceSave=!1,this.undo=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.awaitHistoryChange){e.next=8;break}return n.editor.configStore.events.onUndo(),n.awaitHistoryChange=!0,t=n.appHistoryManager.undo(),e.next=6,n.applyState(t);case 6:n.awaitHistoryChange=!1,n.canUndo||(n.isDirtySinceSave=!1);case 8:case"end":return e.stop()}}),e)}))),this.redo=Object(y.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.awaitHistoryChange){e.next=7;break}return n.editor.configStore.events.onRedo(),n.awaitHistoryChange=!0,t=n.appHistoryManager.redo(),e.next=6,n.applyState(t);case 6:n.awaitHistoryChange=!1;case 7:case"end":return e.stop()}}),e)}))),this.editor=t,this.appHistoryManager=new rd}return Object(S.a)(e,[{key:"getHistoryState",value:function(){var e,t=Object(E.kb)(this.editor.adjustmentsToolStore.state),n=Object(E.kb)(this.editor.filterToolStore.state),i=this.editor.focusToolStore.getFocusStateForHistory(),r=Object(E.kb)(this.editor.overlayToolStore.state),o=Object(E.kb)(this.editor.frameToolStore.state),a=this.editor.brushToolStore.strokes,s=this.editor.spriteStore.getSpriteHistoryState(),l=this.editor.transformToolStore.serializableState;return e={},Object(_.a)(e,"adjustment",t),Object(_.a)(e,"filter",n),Object(_.a)(e,"focus",i),Object(_.a)(e,"overlay",r),Object(_.a)(e,"frame",o),Object(_.a)(e,"brush",a),Object(_.a)(e,"sprite",s),Object(_.a)(e,"transform",l),e}},{key:"addInitialSnapshot",value:function(){var e=this.getHistoryState();this.appHistoryManager.addSnapshot({state:e,type:"add",description:"Initial State"})}},{key:"addSnapshot",value:function(e,t,n){var i;i=e?e.sprite||e.transform?Object(k.a)({},this.getHistoryState(),{},e):e:this.getHistoryState(),this.appHistoryManager.addSnapshot({state:i,type:t,description:n}),this.editor.configStore.events.onHistoryChange(),this.isDirtySinceSave||(this.isDirtySinceSave=!0)}},{key:"applyState",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r,o,a,s=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.state,e.prev=1,!n){e.next=47;break}i=Object.keys(n),r=0,o=i;case 5:if(!(r<o.length)){e.next=45;break}a=o[r],e.t0=a,e.next="filter"===e.t0?10:"adjustment"===e.t0?13:"overlay"===e.t0?16:"frame"===e.t0?19:"focus"===e.t0?22:"brush"===e.t0?25:"sprite"===e.t0?28:"transform"===e.t0?31:41;break;case 10:return e.next=12,this.editor.filterToolStore.updateStateFromHistory(n[a]);case 12:return e.abrupt("break",42);case 13:return e.next=15,this.editor.adjustmentsToolStore.updateStateFromHistory(n[a]);case 15:return e.abrupt("break",42);case 16:return e.next=18,this.editor.overlayToolStore.updateStateFromHistory(n[a]);case 18:return e.abrupt("break",42);case 19:return e.next=21,this.editor.frameToolStore.updateStateFromHistory(n[a]);case 21:return e.abrupt("break",42);case 22:return e.next=24,this.editor.focusToolStore.updateStateFromHistory(n[a],this.editor.canvasStore.sizeVector);case 24:return e.abrupt("break",42);case 25:return e.next=27,this.editor.brushToolStore.updateStateFromHistory(n[a]);case 27:return e.abrupt("break",42);case 28:return e.next=30,this.editor.spriteStore.updateStateFromHistory(n[a]);case 30:return e.abrupt("break",42);case 31:return this.editor.outputContainer.pauseChildrenUpdates(),this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(n[a]),this.editor.transformToolStore.onLeave(),this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.onLeave(),this.editor.outputContainer.resumeChildrenUpdates(),e.next=40,this.editor.wait();case 40:case 41:return e.abrupt("break",42);case 42:r++,e.next=5;break;case 45:return e.next=47,this.editor.renderPromise();case 47:e.next=53;break;case 49:e.prev=49,e.t1=e.catch(1),console.error(e.t1),this.editor.modalStore.showActionModal({type:"error",identifier:"unexpectedError",error:e.t1,handleConfirm:function(){s.applyState({state:n})}});case 53:case"end":return e.stop()}}),e,this,[[1,49]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isDirty",value:function(){return this.appHistoryManager.snapshots.length>1}},{key:"reset",value:function(){this.appHistoryManager.reset(),this.isDirtySinceSave=!1}},{key:"getCurrentSpritesState",value:function(){var e,t;return null==(t=null==(e=JSON.parse(this.appHistoryManager.getCurrentState()))?void 0:e.state)?void 0:t.sprite}},{key:"canUndo",get:function(){return this.appHistoryManager.canUndo}},{key:"canRedo",get:function(){return this.appHistoryManager.canRedo}}]),e}();Object(E.G)([E.bb],od.prototype,"undo",2),Object(E.G)([E.bb],od.prototype,"redo",2),Object(E.G)([E.N],od.prototype,"canUndo",1),Object(E.G)([E.N],od.prototype,"canRedo",1);var ad=function(e,t){return new Promise((function(n,i){var r=new Image;r.onload=function(){n(r)},r.onerror=function(){i(new Error("Failed to load image with src:".concat(e)))},r.crossOrigin=t,r.src=e}))},sd=function(e,t){return new Promise((function(n,i){(function(e,t){return new Promise((function(n,i){var r=new XMLHttpRequest;r.onload=function(){var t=new FileReader;t.onloadend=function(){"string"===typeof t.result&&"data:image"===t.result.substr(0,10)?n(t.result):i(new Error("The image could not be loaded from ".concat(e)))},t.onerror=function(e){i(e)},t.readAsDataURL(r.response)},r.open("GET",e),r.responseType="blob",r.withCredentials="use-credentials"===t,r.send()}))})(e,t).then((function(e){var t=new Image;t.addEventListener("load",(function(){n(t)})),t.src=e})).catch((function(){ad(e,t).then((function(e){return n(e)})).catch((function(e){i(e)}))}))}))},ld=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,i=t.image,r=t.crossOrigin,o=void 0===r?"anonymous":r,e.prev=1,!(i&&i.src&&"data:"===i.src.substr(0,5)||i&&i.src&&i.src.includes(".svg"))){e.next=4;break}return e.abrupt("return",i);case 4:if(!("string"===typeof n&&"data:"===n.substr(0,5)||"string"===typeof n&&n.includes(".svg"))){e.next=6;break}return e.abrupt("return",ad(n,o));case 6:return e.abrupt("return",sd(n||i.src,o));case 9:throw e.prev=9,e.t0=e.catch(1),new Error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ud={tool:null,isWebcam:!1,image:"",imageLoadedToEngine:!1},cd=function(){function e(t){var n=this;Object(O.a)(this,e),this.setImage=function(){var e=Object(y.a)(g.a.mark((function e(t){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n.editor.configStore.config.engine.crossOrigin,("string"!==typeof t||t.trim())&&void 0!==t&&null!==t){e.next=6;break}n.state.image=null,e.next=16;break;case 6:if("string"!==typeof t){e.next=12;break}return e.next=9,ld({url:Object(E.Eb)(t)?t:n.editor.assetProvider.getPath(t),crossOrigin:i});case 9:n.state.image=e.sent,e.next=16;break;case 12:if(!(t instanceof HTMLImageElement)){e.next=16;break}return e.next=15,ld({image:t,crossOrigin:i});case 15:n.state.image=e.sent;case 16:n.isWebcam&&(n.state.isWebcam=!1),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(0),new Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),this.setImageLoadedToEngine=function(e){n.state.imageLoadedToEngine=e},this.newImage=function(e){n.editor.init(e)},this.dispose=function(){n.state=null,n.editor=null},this.editor=t,this.state=Object(E.K)(ud)}return Object(S.a)(e,[{key:"selectTool",value:function(e){var t,n,i,r=this.editor.configStore.licenseChecker;if(this.state.tool!==e&&(null==r?void 0:r.isToolAllowed(e))&&(this.image||"library"===e||"customTool"===e)){if(this.editor.configStore.isLayoutAdvanced){var o=null==(i=null==(n=null==(t=this.editor.configStore.state.config.customTool)?void 0:t.measurements)?void 0:n.advancedUIToolControlBar)?void 0:i.width;o&&("customTool"===e?this.editor.configStore.measurements.advancedUIToolControlBar.width=o:"customTool"===this.state.tool&&(this.editor.configStore.measurements.advancedUIToolControlBar.width=this.editor.configStore.initialMeasurements.advancedUIToolControlBar.width))}switch(this.editor.onToolChange(this.state.tool,e),this.state.tool=e,this.editor.configStore.events.onToolChanged(e),e){case"text":this.editor.configStore.config.text.addDefaultTextOnEnter?this.editor.spriteStore.textToolStore.addOrselect():this.editor.spriteStore.textToolStore.loadFonts();break;case"textdesign":this.editor.configStore.config.textdesign.addDefaultTextOnEnter&&this.editor.spriteStore.textDesignToolStore.addOrselect();break;case"brush":this.editor.brushToolStore.initSize();break;case"transform":this.editor.transformToolStore.applyDefaultCrop()}}}},{key:"selectWebcam",value:function(e){this.state.isWebcam=e}},{key:"webcamLabel",get:function(){return this.editor.libraryStore.locale.controls.buttonWebcamClose}},{key:"tool",get:function(){return this.state.tool}},{key:"isWebcam",get:function(){return this.state.isWebcam}},{key:"image",get:function(){return this.state.image}},{key:"imageLoadedToEngine",get:function(){return this.state.imageLoadedToEngine}}]),e}();Object(E.G)([E.bb],cd.prototype,"selectTool",1),Object(E.G)([E.bb],cd.prototype,"selectWebcam",1),Object(E.G)([E.bb],cd.prototype,"setImage",2),Object(E.G)([E.bb],cd.prototype,"setImageLoadedToEngine",2),Object(E.G)([E.bb],cd.prototype,"newImage",2),Object(E.G)([E.bb],cd.prototype,"dispose",2),Object(E.G)([E.N],cd.prototype,"webcamLabel",1),Object(E.G)([E.N],cd.prototype,"tool",1),Object(E.G)([E.N],cd.prototype,"isWebcam",1),Object(E.G)([E.N],cd.prototype,"image",1),Object(E.G)([E.N],cd.prototype,"imageLoadedToEngine",1);var fd={height:0,width:0},dd=function(){function e(t){var n=this;Object(O.a)(this,e),this.canvasClickDisabled=E.K.box(!1),this.resizeCanvas=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.editor.activeStore.tool,i="transform"===e||!e&&"transform"===t,r=n.editor.configStore,o=r.isLayoutAdvanced,a=r.measurements,s=n.editor.canvasStore.storedSize,l=0;!o&&i&&(l=-1*a.basicUIToolControlBar.controlsBarHeight,"transform"===e&&"brush"===t&&(l-=a.basicUIToolControlBar.itemsBarHeight+4)),n.setCanvasSize({width:s.width,height:s.height+l})},this.setCanvasSize=function(e){n.state.canvasSize=e},this.dispose=function(){n.state=null,n.canvas=null,n.canvasClickDisabled=null,n.editor=null},this.editor=t,this.state=Object(E.K)(e.initialState)}return Object(S.a)(e,[{key:"setCanvasElement",value:function(e){this.canvas=e,this.editor.engineMediator.preview.createPreview(e),this.editor.activeStore.image&&this.editor.init(this.editor.activeStore.image)}},{key:"saveDimensions",value:function(e){var t=e.height,n=e.width,i=e.render,r=this.editor.activeStore.imageLoadedToEngine;t>fd.height&&n>fd.width&&(this.state.storedSize={width:n,height:t},0===this.state.canvasSize.height&&(this.state.canvasSize={width:n,height:t}),i&&r&&this.editor.resize())}},{key:"disableCanvasClick",value:function(){this.canvasClickDisabled.set(!0)}},{key:"enableCanvasClick",value:function(){this.canvasClickDisabled.set(!1)}},{key:"getContainersAtPreviewPoint",value:function(e){var t=this,n=this.editor.engine.getContainersAtPreviewPoint(e,this.editor.engineMediator.preview.previewTransformWithoutDpr).map((function(e){return e.getID()})).filter((function(e){return e!==t.editor.engineMediator.image.getImgageContainerId()}));this.editor.spriteStore.onCanvasClick(n)}},{key:"isCanvasClickable",get:function(){return!this.canvasClickDisabled.get()}},{key:"canvasSize",get:function(){return this.state.canvasSize}},{key:"storedSize",get:function(){return this.state.storedSize}},{key:"sizeVector",get:function(){return E.n.fromSize(this.state.canvasSize)}},{key:"sizeVectorMagnitude",get:function(){return this.sizeVector.magnitude}}]),e}();dd.initialState={canvasSize:fd,storedSize:{height:150,width:150}},Object(E.G)([E.bb],dd.prototype,"setCanvasElement",1),Object(E.G)([E.bb],dd.prototype,"saveDimensions",1),Object(E.G)([E.bb],dd.prototype,"resizeCanvas",2),Object(E.G)([E.bb],dd.prototype,"disableCanvasClick",1),Object(E.G)([E.bb],dd.prototype,"enableCanvasClick",1),Object(E.G)([E.bb],dd.prototype,"setCanvasSize",2),Object(E.G)([E.bb],dd.prototype,"dispose",2),Object(E.G)([E.N],dd.prototype,"isCanvasClickable",1),Object(E.G)([E.N],dd.prototype,"canvasSize",1),Object(E.G)([E.N],dd.prototype,"storedSize",1),Object(E.G)([E.N],dd.prototype,"sizeVector",1),Object(E.G)([E.N],dd.prototype,"sizeVectorMagnitude",1);var hd={type:null,identifier:null,isVisible:!1,error:""},pd=function(){function e(t){var n=this;Object(O.a)(this,e),this.showActionModal=function(e){var t=e.type,i=e.identifier,r=e.error,o=e.handleConfirm,a=e.handleDismiss;n.resetHandlers(),n.state.isVisible=!0,n.state.identifier=i,n.state.type=t,n.state.error=r||"",n.handleConfirm=o,n.handleDismiss=a},this.hideModal=function(){n.state.isVisible=!1,n.state.type=null,n.state.error="",n.state.identifier=null,n.resetHandlers()},this.dispose=function(){n.state=null,n.configStore=null},this.resetHandlers=function(){n.handleConfirm=null,n.handleDismiss=null},this.configStore=t.configStore,this.state=Object(E.K)(hd)}return Object(S.a)(e,[{key:"showInfoModal",value:function(e){this.resetHandlers(),this.state.isVisible=!0,this.state.type="info",this.state.identifier=e,this.state.error=""}},{key:"showTextEditModal",value:function(){this.resetHandlers(),this.state.isVisible=!0,this.state.type="textEdit",this.state.identifier="inputText",this.state.error=""}},{key:"getModalLocale",value:function(){var e=this.state,t=e.identifier,n=e.error,i=e.type,r=this.configStore.locale;if(!i||!t||"textEdit"===i)return null;if(i&&t&&r["".concat(i,"Modals")]&&r["".concat(i,"Modals")][t]){var o=r["".concat(i,"Modals")][t],a=o.body;a&&"object"===typeof n?Object.keys(n).forEach((function(e){a=a.replace("${".concat(e,"}"),n[e])})):a&&(a=a.replace("${error}",n));var s=o.heading;if("error"===i||"warning"===i){var l={error:r.common.error,warning:r.common.warning};s="".concat("error"===i?l.error:l.warning).concat(o.headingDelimiter||""," ").concat(o.header||"")}return{bodyLabel:a,headerLabel:s,buttonYes:o.buttonYes,buttonNo:o.buttonNo}}return null}},{key:"modalProps",get:function(){var e=this.state.isVisible,t=this.getModalLocale();if(t){var n=t.bodyLabel;return{headerLabel:t.headerLabel,bodyLabel:n,confirmLabel:t.buttonYes,dismissLabel:t.buttonNo,isVisible:e,handleClose:this.hideModal,handleConfirm:this.handleConfirm,handleDismiss:this.handleDismiss}}return{isVisible:!1}}},{key:"isVisible",get:function(){return this.state.isVisible}},{key:"type",get:function(){return this.state.type}},{key:"identifier",get:function(){return this.state.identifier}},{key:"positionOffset",get:function(){var e=this.configStore,t=e.isLayoutAdvanced,n=e.measurements,i=n.basicCanvasOffset,r=n.advancedUIToolControlBar,o=n.advancedUIToolbar,a=e.isOrderDefault,s=(r.width+o.width)*(a?1:-1);return t?{x:s/2,y:0}:{x:0,y:-i}}}]),e}();Object(E.G)([E.bb],pd.prototype,"showActionModal",2),Object(E.G)([E.bb],pd.prototype,"showInfoModal",1),Object(E.G)([E.bb],pd.prototype,"showTextEditModal",1),Object(E.G)([E.bb],pd.prototype,"hideModal",2),Object(E.G)([E.bb],pd.prototype,"dispose",2),Object(E.G)([E.N],pd.prototype,"modalProps",1),Object(E.G)([E.N],pd.prototype,"isVisible",1),Object(E.G)([E.N],pd.prototype,"type",1),Object(E.G)([E.N],pd.prototype,"identifier",1),Object(E.G)([E.N],pd.prototype,"positionOffset",1);var md=function(){function e(t){var n=this;Object(O.a)(this,e),this.defaultScale=1,this.SCALE_LEVELS=[8.33,12.5,16.66,25,33.33,50,66.66,100,125,150,200,300,400,500,600].map((function(e){return e/100})),this.state={position:{x:0,y:0},scaleIndex:-1},this.offset={x:0,y:0},this.in=function(){n.canZoomIn&&(n.state.scaleIndex+=1,n.scaleRender())},this.out=function(){if(n.canZoomOut){n.state.scaleIndex-=1;var e=n.checkOffset({x:0,y:0}),t=e.maxOffsetX,i=e.maxOffsetY;n.state.scaleIndex===n.defaultIndex&&(n.offset.y=i),n.state.scaleIndex===n.defaultIndex&&(n.offset.x=t),n.savePosition(),n.scaleRender()}},this.setOffset=function(e){var t=n.checkOffset(e),i=t.canDragX,r=t.canDragY;i&&(n.offset.x=e.x),r&&(n.offset.y=e.y),n.scaleRender()},this.editor=t}return Object(S.a)(e,[{key:"setInitialTransform",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=Object(E.B)(),i=this.editor.configStore.config.scaleImageToFit,r=this.editor.engineMediator.preview.transform;Object(E.db)((function(){var o=Math.abs(t||r.scale.x);e.setDefaultScale(i?o:Math.min(1*n,o)),e.setPosition(r.position)}))}},{key:"resetScale",value:function(){this.state.scaleIndex=-1}},{key:"resetPosition",value:function(){var e=this.editor.canvasStore.canvas,t=e.width,n=e.height;this.setPosition({x:t/2,y:n/2})}},{key:"resetOffset",value:function(){this.offset={x:0,y:0}}},{key:"setPosition",value:function(e){this.state.position.x=e.x,this.state.position.y=e.y}},{key:"savePosition",value:function(){this.setPosition(this.getPositionWithOffset()),this.offset={x:0,y:0}}},{key:"setDefaultScale",value:function(e){var t=this;if(1!==this.defaultScale){var n=this.SCALE_LEVELS.findIndex((function(e){return e===t.defaultScale}));-1!==n&&(this.SCALE_LEVELS=[].concat(Object(v.a)(this.SCALE_LEVELS.slice(0,n)),Object(v.a)(this.SCALE_LEVELS.slice(n+1))))}var i=this.SCALE_LEVELS.findIndex((function(t){return t===e}));if(-1!==i)this.state.scaleIndex=i;else{var r=this.SCALE_LEVELS.findIndex((function(n,i){return(0===i||t.SCALE_LEVELS[i-1]<e)&&e<n}));-1!==r?(this.SCALE_LEVELS=[].concat(Object(v.a)(this.SCALE_LEVELS.slice(0,r)),[e],Object(v.a)(this.SCALE_LEVELS.slice(r))),this.state.scaleIndex=r):(this.SCALE_LEVELS=[].concat(Object(v.a)(this.SCALE_LEVELS),[e]),this.state.scaleIndex=this.SCALE_LEVELS.length-1)}this.defaultScale=e}},{key:"setScaleToDefault",value:function(){this.state.scaleIndex=this.defaultIndex}},{key:"checkOffset",value:function(e){var t=Object(E.B)(),n=this.scaledSize,i=this.previewSize,r=this.editor.engineMediator.preview.initialTransform.position,o=this.getPositionWithOffset(e),a=(n.width-i.width)*t/2,s=(n.height-i.height)*t/2,l=r.x-o.x,u=r.y-o.y,c=Math.abs(l)-a,f=Math.abs(u)-s;return{canDragX:c<0,canDragY:f<0,maxOffsetX:l>0?-c:c,maxOffsetY:u>0?-f:f}}},{key:"calculateScale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.previewSize,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaultScale,i=t.width,r=t.height,o=new E.n({x:i,y:r}),a=new E.n(Math.abs(o.x*Math.cos(e))+Math.abs(o.y*Math.sin(e)),Math.abs(o.x*Math.sin(e))+Math.abs(o.y*Math.cos(e))),s=o.subtract(a).divide(2).multiply(n).abs;return s.y>s.x?2*s.y/o.y+n:2*s.x/o.x+n}},{key:"getPositionWithOffset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.offset,t=this.position;return{x:t.x-e.x,y:t.y-e.y}}},{key:"scaleRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.editor.scale.getPositionWithOffset(),n=e?this.defaultScale:this.scale,i={x:n,y:n};this.editor.engineMediator.preview.container.setScale(i),this.editor.engineMediator.preview.container.setPosition(t),this.editor.engineMediator.preview.savePreviewTransform({scale:i,position:t,rotation:0}),e||this.editor.render()}},{key:"defaultIndex",get:function(){var e=this;return this.SCALE_LEVELS.findIndex((function(t){return t===e.defaultScale}))}},{key:"scale",get:function(){var e=this.state.scaleIndex;return-1!==e?this.SCALE_LEVELS[e]:this.defaultScale}},{key:"zoomLevel",get:function(){var e=Object(E.B)();return(this.scale/e*100).toFixed(1)}},{key:"canDrag",get:function(){return this.defaultScale<this.scale}},{key:"canZoomOut",get:function(){return this.editor.configStore.config.restrictZoomOutToDefault?this.state.scaleIndex>this.defaultIndex:0!==this.state.scaleIndex}},{key:"canZoomIn",get:function(){return this.SCALE_LEVELS.length-1>this.state.scaleIndex}},{key:"position",get:function(){return this.state.position}},{key:"scaledSize",get:function(){var e=this.state.scaleIndex,t=-1!==e?this.SCALE_LEVELS[e]:this.defaultScale,n=this.previewSize;return{width:n.width*t/this.defaultScale,height:n.height*t/this.defaultScale}}},{key:"previewSize",get:function(){return this.editor.getPreviewSize()}}]),e}();Object(E.G)([E.K],md.prototype,"state",2),Object(E.G)([E.bb],md.prototype,"in",2),Object(E.G)([E.bb],md.prototype,"out",2),Object(E.G)([E.bb],md.prototype,"setInitialTransform",1),Object(E.G)([E.bb],md.prototype,"resetScale",1),Object(E.G)([E.bb],md.prototype,"resetPosition",1),Object(E.G)([E.bb],md.prototype,"setPosition",1),Object(E.G)([E.bb],md.prototype,"savePosition",1),Object(E.G)([E.bb],md.prototype,"setDefaultScale",1),Object(E.G)([E.bb],md.prototype,"setScaleToDefault",1),Object(E.G)([E.N],md.prototype,"scale",1),Object(E.G)([E.N],md.prototype,"zoomLevel",1),Object(E.G)([E.N],md.prototype,"canDrag",1),Object(E.G)([E.N],md.prototype,"canZoomOut",1),Object(E.G)([E.N],md.prototype,"canZoomIn",1),Object(E.G)([E.N],md.prototype,"position",1),Object(E.G)([E.N],md.prototype,"scaledSize",1);var gd=[[0,0],[0,1],[1,0],[1,1]],yd=[[0,1,2,3],[2,3,0,1],[1,0,3,2],[3,2,1,0]],vd=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(O.a)(this,e),this.considerRotation=!0,this.considerFlip=!0,this.store=n,this.m="center"===i?e.movePivotTo([.5,.5]):gd,this.considerRotation=r,this.considerFlip=o,this.configStore=t.configStore}return Object(S.a)(e,[{key:"handleOrigin",value:function(t,n,i){var r=e.getFlippedEdgeIndex(t,n,i);return{width:this.m[r][0]*this.size.width,height:this.m[r][1]*this.size.height}}},{key:"position",get:function(){return this.store.position}},{key:"size",get:function(){return this.store.size}},{key:"rotation",get:function(){return this.considerRotation?this.store.rotationWRTOutputRotation:0}},{key:"flipHorizontally",get:function(){return!!this.considerFlip&&this.store.isFlippedHorizontal}},{key:"flipVertically",get:function(){return!!this.considerFlip&&this.store.isFlippedVertical}},{key:"flipCenter",get:function(){return this.considerFlip?this.store.flipCenter:null}},{key:"leftTop",get:function(){var t=this.position,n=this.flipHorizontally,i=this.flipVertically,r=this.handleOrigin(0,n,i);return e.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)}},{key:"leftBottom",get:function(){var t=this.position,n=this.flipHorizontally,i=this.flipVertically,r=this.handleOrigin(1,n,i);return e.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)}},{key:"rightTop",get:function(){var t=this.position,n=this.flipHorizontally,i=this.flipVertically,r=this.handleOrigin(2,n,i);return e.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)}},{key:"rightBottom",get:function(){var t=this.position,n=this.flipHorizontally,i=this.flipVertically,r=this.handleOrigin(3,n,i);return e.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)}},{key:"leftBottomHandle",get:function(){var t=this.position,n=this.flipHorizontally,i=this.flipVertically,r=this.handleOrigin(1,n,i);return r.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,e.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)}},{key:"rightBottomHandle",get:function(){var t=this.position,n=this.flipHorizontally,i=this.flipVertically,r=this.handleOrigin(3,n,i);return r.height+=this.configStore.measurements.canvasControls.sprite.rotateHandle.height,e.coordinatesWithRotation(r,this.rotation,this.flipHorizontally,this.flipVertically,this.flipCenter,t)}},{key:"leftMid",get:function(){var e=new E.n(this.leftTop),t=new E.n(this.leftBottom);return e.add(t).divide(2)}},{key:"rightMid",get:function(){var e=new E.n(this.rightTop),t=new E.n(this.rightBottom);return e.add(t).divide(2)}}],[{key:"getFlippedEdgeIndex",value:function(e,t,n){return yd[(t?1:0)+(n?2:0)][e]}},{key:"movePivotTo",value:function(e){return gd.map((function(t){return[t[0]-e[0],t[1]-e[1]]}))}}]),e}();vd.coordinatesWithRotation=function(e,t,n,i,r,o){var a=e.width,s=e.height,l=a*Math.cos(t)-s*Math.sin(t)+o.x,u=a*Math.sin(t)+s*Math.cos(t)+o.y;return n&&(l=2*r.x-l),i&&(u=2*r.y-u),new E.n({x:l,y:u}).rounded},Object(E.G)([E.N],vd.prototype,"position",1),Object(E.G)([E.N],vd.prototype,"size",1),Object(E.G)([E.N],vd.prototype,"rotation",1),Object(E.G)([E.N],vd.prototype,"flipHorizontally",1),Object(E.G)([E.N],vd.prototype,"flipVertically",1),Object(E.G)([E.N],vd.prototype,"flipCenter",1),Object(E.G)([E.N],vd.prototype,"leftTop",1),Object(E.G)([E.N],vd.prototype,"leftBottom",1),Object(E.G)([E.N],vd.prototype,"rightTop",1),Object(E.G)([E.N],vd.prototype,"rightBottom",1),Object(E.G)([E.N],vd.prototype,"leftBottomHandle",1),Object(E.G)([E.N],vd.prototype,"rightBottomHandle",1),Object(E.G)([E.N],vd.prototype,"leftMid",1),Object(E.G)([E.N],vd.prototype,"rightMid",1);var bd=function(){function e(t,n){var i=this;Object(O.a)(this,e),this.minCropSize=0,this.id="",this.dispose=function(){i.state=null,i.defaults=null,i.configStore=null},this.state={identifier:"identity",outputRotation:0,rotationInDegrees:0,flipHorizontally:!1,flipVertically:!1,cropState:E.K.map({})},this.configStore=t.configStore,this.id=Object(E.l)(),this.minCropSize=this.configStore.measurements.crop.minSize,this.defaults=n}return Object(S.a)(e,[{key:"changeIdentifier",value:function(e){this.state.identifier=e,this.state.cropState.get("".concat(this.id,"-").concat(e))||this.state.cropState.set("".concat(this.id,"-").concat(e),Object(k.a)({},Pf))}},{key:"changeRatio",value:function(e){var t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),Object(k.a)({},t,{ratio:e}))}},{key:"changeSize",value:function(e){var t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&(e.width&&e.width>0&&(t.size.width=Math.round(e.width)),e.height&&e.height>0&&(t.size.height=Math.round(e.height)),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}},{key:"changeHeight",value:function(e){var t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&e&&(t.size.height=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}},{key:"changeWidth",value:function(e){var t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&e&&(t.size.width=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}},{key:"changePositionX",value:function(e,t){var n=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));return!!(n&&e<=t-this.minCropSize&&e>=0)&&(n.position.x=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),n),!0)}},{key:"changePositionY",value:function(e,t){var n=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));return!!(n&&e<=t-this.minCropSize&&e>=0)&&(n.position.y=Math.round(e),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),n),!0)}},{key:"changePosition",value:function(e,t){var n=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));return!!(n&&e.x<=t.width-this.minCropSize&&e.x>=0&&e.y<=t.height-this.minCropSize&&e.y>=0)&&(n.position.x=Math.round(e.x),n.position.y=Math.round(e.y),this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),n),!0)}},{key:"changeLockResolution",value:function(e){var t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&(t.lockResolution=void 0!==e?e:!t.lockResolution,this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}},{key:"changeForceDimensions",value:function(e){var t=this.state.cropState.get("".concat(this.id,"-").concat(this.identifier));t&&(t.forceDimensions=e,this.state.cropState.set("".concat(this.id,"-").concat(this.identifier),t))}},{key:"clearState",value:function(){var e=this;this.state.cropState.forEach((function(t,n){return n.startsWith(e.id)&&e.state.cropState.delete(n)}))}},{key:"setRotation",value:function(e){this.state.rotationInDegrees=e}},{key:"resetRotation",value:function(){this.state.rotationInDegrees=0}},{key:"resetOutputRotation",value:function(){this.state.outputRotation=0}},{key:"resetFlip",value:function(){this.state.flipHorizontally=!1,this.state.flipVertically=!1}},{key:"updateFlip",value:function(e){var t=e.flipHorizontally,n=e.flipVertically;this.state.flipHorizontally=t,this.state.flipVertically=n}},{key:"setOutputRotation",value:function(e){this.state.outputRotation=e}},{key:"flipHorizontally",value:function(){this.state.flipHorizontally=!this.state.flipHorizontally}},{key:"flipVertically",value:function(){this.state.flipVertically=!this.state.flipVertically}},{key:"flipCenter",get:function(){var e=this.defaults.maxCropMaskSize,t=e.width,n=e.height;return new E.n(t/2,n/2)}},{key:"isFlippedHorizontal",get:function(){return this.state.flipHorizontally}},{key:"isFlippedVertical",get:function(){return this.state.flipVertically}},{key:"identifier",get:function(){return this.state.identifier}},{key:"height",get:function(){return this.selectedCrop?this.selectedCrop.size.height:Pf.size.height}},{key:"width",get:function(){return this.selectedCrop?this.selectedCrop.size.width:Pf.size.width}},{key:"position",get:function(){return this.selectedCrop?this.selectedCrop.position:Pf.position}},{key:"ratio",get:function(){return this.selectedCrop?this.selectedCrop.ratio:Pf.ratio}},{key:"size",get:function(){return this.selectedCrop?this.selectedCrop.size:Pf.size}},{key:"x",get:function(){return this.selectedCrop?this.selectedCrop.position.x:Pf.position.x}},{key:"y",get:function(){return this.selectedCrop?this.selectedCrop.position.y:Pf.position.y}},{key:"lockResolution",get:function(){return this.selectedCrop?this.selectedCrop.lockResolution:Pf.lockResolution}},{key:"forceDimensions",get:function(){return this.selectedCrop?this.selectedCrop.forceDimensions:Pf.forceDimensions}},{key:"selectedCrop",get:function(){return this.state.cropState.get("".concat(this.id,"-").concat(this.identifier))}},{key:"rotationInDegrees",get:function(){return this.state.rotationInDegrees}},{key:"outputRotation",get:function(){return this.state.outputRotation}}]),e}();Object(E.G)([E.K],bd.prototype,"state",2),Object(E.G)([E.bb],bd.prototype,"changeIdentifier",1),Object(E.G)([E.bb],bd.prototype,"changeRatio",1),Object(E.G)([E.bb],bd.prototype,"changeSize",1),Object(E.G)([E.bb],bd.prototype,"changeHeight",1),Object(E.G)([E.bb],bd.prototype,"changeWidth",1),Object(E.G)([E.bb],bd.prototype,"changePositionX",1),Object(E.G)([E.bb],bd.prototype,"changePositionY",1),Object(E.G)([E.bb],bd.prototype,"changePosition",1),Object(E.G)([E.bb],bd.prototype,"changeLockResolution",1),Object(E.G)([E.bb],bd.prototype,"changeForceDimensions",1),Object(E.G)([E.bb],bd.prototype,"clearState",1),Object(E.G)([E.bb],bd.prototype,"setRotation",1),Object(E.G)([E.bb],bd.prototype,"resetRotation",1),Object(E.G)([E.bb],bd.prototype,"resetOutputRotation",1),Object(E.G)([E.bb],bd.prototype,"resetFlip",1),Object(E.G)([E.bb],bd.prototype,"updateFlip",1),Object(E.G)([E.bb],bd.prototype,"setOutputRotation",1),Object(E.G)([E.bb],bd.prototype,"flipHorizontally",1),Object(E.G)([E.bb],bd.prototype,"flipVertically",1),Object(E.G)([E.bb],bd.prototype,"dispose",2),Object(E.G)([E.N],bd.prototype,"flipCenter",1),Object(E.G)([E.N],bd.prototype,"isFlippedHorizontal",1),Object(E.G)([E.N],bd.prototype,"isFlippedVertical",1),Object(E.G)([E.N],bd.prototype,"identifier",1),Object(E.G)([E.N],bd.prototype,"height",1),Object(E.G)([E.N],bd.prototype,"width",1),Object(E.G)([E.N],bd.prototype,"position",1),Object(E.G)([E.N],bd.prototype,"ratio",1),Object(E.G)([E.N],bd.prototype,"size",1),Object(E.G)([E.N],bd.prototype,"x",1),Object(E.G)([E.N],bd.prototype,"y",1),Object(E.G)([E.N],bd.prototype,"lockResolution",1),Object(E.G)([E.N],bd.prototype,"forceDimensions",1),Object(E.G)([E.N],bd.prototype,"selectedCrop",1),Object(E.G)([E.N],bd.prototype,"rotationInDegrees",1),Object(E.G)([E.N],bd.prototype,"outputRotation",1);var _d=function(){function e(t){var n=this;Object(O.a)(this,e),this.transforms={output:JSON.stringify(E.Y.IDENTITY),preview:JSON.stringify(E.Y.IDENTITY)},this.setFrameOpacity=function(e){n.frameOpacity=e,n.entered&&"identity"!==n.editor.frameToolStore.identifier&&n.editor.frameToolStore.changeOpacity(0)},this.setOverlayOpacity=function(e){n.overlayOpacity=e,n.entered&&"identity"!==n.editor.overlayToolStore.identifier&&n.editor.overlayToolStore.changeOpacity(0)},this.editor=t,this.overlayOpacity=0,this.frameOpacity=0,this.entered=!1}return Object(S.a)(e,[{key:"onLeave",value:function(){var e=this.transformToolStore.rotateFlipState,t=e.flipHorizontally,n=e.flipVertically,i=e.rotation,r=e.outputRotation;this.entered=!1,"identity"!==this.editor.overlayToolStore.identifier&&this.editor.overlayToolStore.changeOpacity(this.overlayOpacity),"identity"!==this.editor.frameToolStore.identifier&&this.editor.frameToolStore.changeOpacity(this.frameOpacity),this.editor.engine.setWatermarkOpacity(1);var o=this.editor.previewToWorld(new E.n(this.transformToolStore.leftTopRespectFlip).add(new E.n(this.transformToolStore.rightBottomRespectFlip)).divide(2).add(new E.n(this.transformToolStore.unRotatedDefaults.cropMaskPosition)),!0),a=this.engineMediator.preview.container,s=this.editor.outputContainer;s.setResolution(Object(E.kb)(this.transformToolStore.localOutputImageSize)),s.setData({flipVertically:n,flipHorizontally:t});var l=a.getScale();this.editor.overlayToolStore.correctOverlayFlip(),this.saveTransforms();var u=1;if(this.transformToolStore.lockResolution){var c=this.transformToolStore,f=c.cropMaskSize,d=c.defaultImageSize,h=this.transformToolStore.maxCropMaskSize;u={height:f.height*d.height/h.height,width:f.width*d.width/h.width}.width/this.transformToolStore.localOutputImageSize.width}var p=u/(Math.abs(l.x)/this.transformToolStore.defaultScale),m={x:p,y:p},g=-(i-r);s.setTransform({scale:m,position:o,rotation:g}),this.editor.engineMediator.preview.updateTransform(0,!1),this.editor.scale.setInitialTransform(),this.editor.spriteStore.updateCanvasControls(),this.editor.focusToolStore.updateCanvasControls()}},{key:"resetTransforms",value:function(e){this.transforms=e}},{key:"onEnter",value:function(){this.entered=!0,"identity"!==this.editor.overlayToolStore.identifier&&(this.overlayOpacity=this.editor.overlayToolStore.opacity,this.editor.overlayToolStore.changeOpacity(0)),"identity"!==this.editor.frameToolStore.identifier&&(this.frameOpacity=this.editor.frameToolStore.opacity,this.editor.frameToolStore.changeOpacity(0)),this.editor.engine.setWatermarkOpacity(0),this.editor.scale.setScaleToDefault();var e=this.engineMediator.preview.container,t=this.editor.outputContainer,n=JSON.parse(this.transforms.preview);t.setResolution(Object(E.kb)(this.transformToolStore.defaultImageSize)),e.setTransform(n),t.setTransform(JSON.parse(this.transforms.output));var i=n.scale;t.setData({flipVertically:!1,flipHorizontally:!1}),this.transformToolStore.transformStore.updateFlip({flipVertically:i.y<0,flipHorizontally:i.x<0}),this.engineMediator.preview.savePreviewTransform(n);var r=this.engineMediator.preview.calculateTransform().scale;this.editor.scale.setInitialTransform(r.x)}},{key:"rotateOutputContainer",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.editor.engineMediator.image.container.getBounds(),r=i.width,o=i.height,a=Object(E.W)(e)?{width:o,height:r}:{width:r,height:o};this.editor.outputContainer.rotate(e,a),this.transformToolStore.transformStore.setOutputRotation(this.editor.outputContainer.getRotation());var s=this.transformToolStore.rotateFlipState.rotation;this.engineMediator.preview.updateTransform(s),Object(E.db)((function(){t.editor.scale.setInitialTransform();var e=t.getScaleWithFlip(s);t.engineMediator.preview.container.setScale(e),t.transformToolStore.setCropDefaults(!0),t.transformToolStore.updateCropMask()})),n&&this.editor.render()}},{key:"applyPreviewTransform",value:function(){var e=this.transformToolStore.rotateFlipState,t=e.rotation,n=e.flipHorizontally,i=e.flipVertically,r=this.editor.scale.getPositionWithOffset(),o=this.getScaleWithFlip(),a=t;n&&(a=Object(E.ob)(a)),i&&(a=Object(E.ob)(a));var s={position:r,rotation:a,scale:o};this.engineMediator.preview.savePreviewTransform(s),this.engineMediator.preview.container.setTransform(s)}},{key:"getScaleWithFlip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.transformToolStore.rotateFlipState.rotation,t=this.transformToolStore.rotateFlipState,n=t.flipHorizontally,i=t.flipVertically,r=n?-1:1,o=i?-1:1,a=this.editor.scale.calculateScale(e);return{x:a*r,y:a*o}}},{key:"saveTransforms",value:function(){var e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:e,output:t}}},{key:"saveTransformsBasedOnFlip",value:function(){var e=this.engineMediator.preview.container.getTransform(),t=e.scale,n=this.editor.outputContainer.getData(),i=n.flipVertically,r=n.flipHorizontally,o=JSON.stringify(this.editor.outputContainer.getTransform());this.transforms={preview:JSON.stringify(Object(k.a)({},e,{scale:{x:r?-t.x:t.x,y:i?-t.y:t.y}})),output:o}}},{key:"engineMediator",get:function(){return this.editor.engineMediator}},{key:"transformToolStore",get:function(){return this.editor.transformToolStore}}]),e}(),xd=function(){function e(t){var n=this;Object(O.a)(this,e),this.store=t,this.initialState={},this.state={},this.dispose=function(){n.initialState=null,n.state=null}}return Object(S.a)(e,[{key:"init",value:function(){this.initialState=this.store.serializableState,this.state=Object(k.a)({},this.initialState)}},{key:"trackChanges",value:function(){this.state=this.store.serializableState}},{key:"isEqual",value:function(){return(0,E.v.default)(this.state,this.initialState)}},{key:"hasChanges",value:function(){return!this.isEqual()}}]),e}(),kd="identity",wd=function(){function e(t){var n=this;Object(O.a)(this,e),this.unRotatedDefaults={cropMaskPosition:{x:0,y:0},scale:1},this.defaultAngle=0,this.dragMode=E.K.box(!1),this.minCropSize=0,this.transformHistory=new xd(this),this.defaults={cropMaskPosition:{x:0,y:0},maxCropMaskSize:{width:0,height:0},imageSize:{width:0,height:0},scale:1},this.localOutputSize={width:0,height:0},this.checkIfTransformThumbnailExits=function(e){if(!e.trim())return!1;var t=n.editor.configStore.config.assetBaseUrl;if("/"!==t[t.length-1]&&(t+="/"),"".concat(t,"transform")===e)return!1;var i=new Image;try{return i.src=e,!0}catch(o){return!1}},this.reset=function(){n.transformStore.resetRotation(),n.transformStore.resetOutputRotation(),n.transformStore.resetFlip(),n.resetCrop(),n.editor.spriteStore.correctTextFlip(),n.editor.overlayToolStore.correctOverlayFlip(),n.setDefaultAngle(0),0!==n.editor.outputContainer.getRotation()&&n.engineMediator.output.applyNewImageTransform(),n.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),n.engineMediator.preview.updateTransform(),n.editor.scale.setInitialTransform(),n.setCropDefaults(),n.applyInitialCrop(),n.editor.render(),n.trackChanges()},this.changeLocalOutputSize=function(e){n.localOutputSize.height=Math.round(e.height),n.localOutputSize.width=Math.round(e.width),n.editor.configStore.events.onCropDimensionsChanged({width:Math.round(e.width),height:Math.round(e.height)})},this.changeDefaultScale=function(e){n.defaults.scale=e},this.changeLocalOutputHeight=function(e){n.localOutputSize.height=Math.round(e)},this.changeLocalOutputWidth=function(e){n.localOutputSize.width=Math.round(e)},this.changeLockResolution=function(){n.transformStore.changeLockResolution(),n.trackChanges()},this.rotateClockwise=function(){var e=n.editor.outputContainer.getRotation(),t=n.isFlippedVertical?E.R:E.T;n.rotateOutputContainer(t(e))},this.rotateAntiClockwise=function(){var e=n.editor.outputContainer.getRotation(),t=n.isFlippedVertical?E.T:E.R;n.rotateOutputContainer(t(e))},this.flipHorizontally=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.transformStore.flipHorizontally(),n.editor.spriteStore.reverseTextHorizontally(n.transformStore.isFlippedHorizontal),n.transformRender(e),e&&n.trackChanges()},this.flipVertically=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.transformStore.flipVertically(),n.editor.spriteStore.reverseTextVertically(n.transformStore.isFlippedVertical),n.transformRender(e),e&&n.trackChanges()},this.applyDefaultCrop=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("identity"===n.identifier){var t=n.getMatchingItem(),i=t.identifier;n.changeIdentifier(i,e)}},this.updateCropMask=function(){n.changeIdentifier(n.identifier,!0)},this.onLeftTop=function(e){var t=e.x,i=e.y,r=n.getRatio(),o=n.rightBottom,a=n.minCropMaskSize,s=n.maxCropMaskSize,l=Math.min(Math.max(0,t),o.x-a.width),u=Math.min(Math.max(0,i),o.y-a.height),c=o.x-l,f=o.y-u,d={width:Math.max(n.minCropSize,Math.min(c,s.width-l)),height:Math.max(n.minCropSize,Math.min(f,s.height-u))};if("*"===r)n.changePosition({x:l,y:u})&&n.changeCropAndOutputSize(d);else{var h=n.proportionalSize(r,d),p=new E.n(o).subtract({x:h.width,y:h.height});n.changePosition(p)&&n.changeCropAndOutputSize(h,r)}},this.onLeftBottom=function(e){var t=e.x,i=e.y,r=n.getRatio(),o=n.rightTop,a=n.minCropMaskSize,s=n.maxCropMaskSize,l=Math.min(Math.max(0,t),o.x-a.width),u=Math.max(0,i,o.y+a.height),c=o.x-l,f=u-o.y,d={width:Math.max(1,Math.min(c,s.width-l)),height:Math.max(1,Math.min(f,s.height-o.y))};if("*"===r)n.changePositionX(l)&&n.changeCropAndOutputSize(d);else{var h=n.proportionalSize(r,d);n.changePositionX(o.x-h.width)&&n.changeCropAndOutputSize(h,r)}},this.onRightTop=function(e){var t=e.x,i=e.y,r=n.getRatio(),o=n.leftBottom,a=n.minCropMaskSize,s=n.maxCropMaskSize,l=Math.max(0,t,o.x+a.width),u=Math.min(Math.max(0,i),o.y-a.height),c=l-o.x,f=o.y-u,d={width:Math.max(1,Math.min(c,s.width-o.x)),height:Math.max(1,Math.min(f,s.height-u))};if("*"===r)n.changePositionY(u)&&n.changeCropAndOutputSize(d);else{var h=n.proportionalSize(r,d);n.changePositionY(o.y-h.height)&&n.changeCropAndOutputSize(h,r)}},this.onRightBottom=function(e){var t=e.x,i=e.y,r=n.getRatio(),o=n.leftTop,a=n.minCropMaskSize,s=n.maxCropMaskSize,l=Math.max(0,t,o.x+a.width),u=Math.max(0,i,o.y+a.height),c=l-o.x,f=u-o.y,d={width:Math.max(1,Math.min(c,s.width-o.x)),height:Math.max(1,Math.min(f,s.height-o.y))};if("*"===r)n.changeCropAndOutputSize(d);else{var h=n.proportionalSize(r,d);n.changeCropAndOutputSize(h,r)}},this.onPixelWidth=function(t){var i=JSON.stringify(Object(E.kb)(n.localOutputSize)),r=n.entityManager.items.find((function(e){return e.identifier===n.identifier})),o=n.defaults.imageSize;if(r&&r.ratio){var a=t,s=n.localOutputSize.height,l=r.ratio;if("*"===l&&n.lockResolution&&(l=n.localOutputSize.width/n.localOutputSize.height),"*"!==l||n.lockResolution){var u=e.placeCropMask(l,o);s=(a=Math.max(Math.min(a,u.width),n.minCropSize))/l,n.changeLocalOutputSize({height:s,width:a})}else a=Math.max(Math.min(t,o.width),n.minCropSize),n.changeLocalOutputWidth(a),n.editor.configStore.events.onCropDimensionsChanged({width:Math.round(a),height:Math.round(s)});return n.lockResolution||n.updatePreviewSizeWRTImageSize(),n.checkAndAddSnapshot(JSON.parse(i)),Math.round(a)}return t},this.onPixelHeight=function(t){var i=JSON.stringify(Object(E.kb)(n.localOutputSize)),r=n.entityManager.items.find((function(e){return e.identifier===n.identifier})),o=n.defaults.imageSize;if(r&&r.ratio){var a=t,s=n.localOutputSize.width,l=r.ratio;if("*"===l&&n.lockResolution&&(l=n.localOutputSize.width/n.localOutputSize.height),"*"!==l||n.lockResolution){var u=e.placeCropMask(l,o);s=(a=Math.max(Math.min(a,u.height),n.minCropSize))*l,n.changeLocalOutputSize({height:a,width:s})}else a=Math.max(Math.min(t,o.height),n.minCropSize),n.changeLocalOutputHeight(a),n.editor.configStore.events.onCropDimensionsChanged({width:Math.round(s),height:Math.round(a)});return n.lockResolution||n.updatePreviewSizeWRTImageSize(),n.checkAndAddSnapshot(JSON.parse(i)),Math.round(a)}return t},this.dispose=function(){n.transformStore&&(n.transformStore.dispose(),n.transformStore=null),n.transformHistory&&(n.transformHistory.dispose(),n.transformHistory=null),n.editor=null,n.dragMode=null,n.selectedCategory=null,n.defaults=null,n.localOutputSize=null,n.rect=null,n.transformations=null,n.entityManager=null},this.setFrameOpacity=function(e){n.transformations.setFrameOpacity(e)},this.setOverlayOpacity=function(e){n.transformations.setOverlayOpacity(e)},this.closestRatioReducer=function(e){return function(t,n){return null===n||Math.abs(e-t.ratio)<Math.abs(e-n.ratio)?-1:1}},this.closestDimensionsReducer=function(e){return function(t,n){if(null===n)return-1;var i=Math.abs(t.dimensions.x/t.dimensions.y),r=Math.abs(n.dimensions.x/n.dimensions.y);return i===r?t.dimensions.x*t.dimensions.y>n.dimensions.x*n.dimensions.y?-1:1:Math.abs(e-i)<Math.abs(e-r)?-1:1}},this.getMatchingItem=function(){var e=n.entityManager.items.findIndex((function(e){return"imgly_transform_common_custom"===e.identifier}));if(-1!==e)return n.entityManager.items[e];var t=n.entityManager.items.findIndex((function(e){return"*"===e.ratio}));if(-1!==t)return n.entityManager.items[t];var i=Object(E.kb)(n.editor.outputContainer.getResolution()),r=Math.abs(i.width/i.height),o=n.entityManager.items.filter((function(e){return e.ratio&&"number"===typeof e.ratio})).sort(n.closestRatioReducer(r)),a=Object(x.a)(o,1)[0],s=n.entityManager.items.filter((function(e){return e.dimensions&&!e.ratio})).sort(n.closestDimensionsReducer(r)),l=Object(x.a)(s,1)[0];if(!a||!l||!a.ratio&&!l.dimensions)return n.entityManager.items[0];if(!l||!l.dimensions)return a;if(!a||!a.ratio)return l;var u=Math.abs(l.dimensions.x/l.dimensions.y);return u===a.ratio||Math.abs(r-a.ratio)<Math.abs(r-u)?a:l},this.getTransform=function(e){var t=n.entityManager.items.find((function(t){return t.identifier===e}));return t||(t=n.getMatchingItem()),t},this.editor=t,this.selectedCategory=kd,this.transformStore=new bd(t,this.defaults),this.transformations=new _d(t);var i=this.config,r=(i.enableRotation,i.enableFlip,Object(w.a)(i,["enableRotation","enableFlip"])),o=this.editor.assetProvider.getAssets("transform");this.entityManager=new Wc(o,Object(k.a)({},r,{locale:Object(k.a)({},this.locale.items,{},this.locale.categories),getAssetPath:this.editor.getAssetPath("transform")})),this.rect=new vd(this.editor,this.transformStore,"topLeft",!1,!1),this.rectForUi=new vd(this.editor,this.transformStore,"topLeft",!1,!0),this.minCropSize=this.editor.configStore.measurements.crop.minSize}return Object(S.a)(e,[{key:"changeIdentifier",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.transformStore.changeIdentifier(e);var n=this.getCropMask(e,this.defaults.imageSize);n&&(this.transformStore.changeRatio(n.ratio),this.changeLocalOutputSize(n),this.updatePreviewSizeWRTImageSize(),void 0!==n.yChanged&&this.updateInitialCropMaskPosition(n.yChanged),n.dimensions&&this.changeLocalOutputSize({width:n.dimensions.x,height:n.dimensions.y}),t&&this.trackChanges())}},{key:"setDragMode",value:function(e){this.dragMode.set(e)}},{key:"getCropMask",value:function(t,n){var i=this.getTransform(t);if(i){var r=i.ratio,o=i.forceDimensions,a=i.lockDimensions,s=i.dimensions,l=void 0===s?null:s;if(o&&this.transformStore.changeForceDimensions(o),a&&this.transformStore.changeLockResolution(a),!r){var u=i.dimensions,c=u.x,f=u.y;return Object(k.a)({},e.placeCropMask(c/f,n),{ratio:null,dimensions:l})}switch(r){case"*":return this.changePosition({x:0,y:0}),Object(k.a)({},n,{yChanged:void 0,ratio:"*",dimensions:l});default:return Object(k.a)({},e.placeCropMask(i.ratio,n),{ratio:i.ratio,dimensions:l})}}return null}},{key:"setCropDefaults",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.editor.outputContainer.getResolution();this.setDefaultImageSize(t);var n=this.editor.getPreviewSize(),i=this.editor.engineMediator.preview.previewTransformWithoutDpr.position;this.setMaxCropSize(n),this.setDefaultCropPosition({x:i.x-n.width/2,y:i.y-n.height/2}),this.changeDefaultScale(this.editor.scale.defaultScale),e||(this.unRotatedDefaults.cropMaskPosition=this.defaultCropMaskPosition,this.unRotatedDefaults.scale=this.defaultScale)}},{key:"setDefaultImageSize",value:function(e){this.defaults.imageSize=Object(k.a)({},Object(E.kb)(e)),this.lockResolution||(this.localOutputSize=Object(k.a)({},Object(E.kb)(e)))}},{key:"setMaxCropSize",value:function(e){this.defaults.maxCropMaskSize.height=e.height,this.defaults.maxCropMaskSize.width=e.width}},{key:"setDefaultCropPosition",value:function(e){this.defaults.cropMaskPosition.x=e.x,this.defaults.cropMaskPosition.y=e.y}},{key:"resetCrop",value:function(){this.transformStore.clearState(),this.transformStore.changeIdentifier("identity")}},{key:"toggleCategorySelection",value:function(e){this.selectedCategory=this.selectedCategory===e?kd:e}},{key:"pureReset",value:function(){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.editor.spriteStore.correctTextFlip(),this.editor.overlayToolStore.correctOverlayFlip(),this.setDefaultAngle(0),this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();var e=JSON.stringify(this.engineMediator.preview.container.getTransform()),t=JSON.stringify(this.editor.outputContainer.getTransform());this.transformations.resetTransforms({preview:e,output:t})}},{key:"changePosition",value:function(e){return this.transformStore.changePosition(e,this.defaults.maxCropMaskSize)}},{key:"changePositionX",value:function(e){return this.transformStore.changePositionX(e,this.defaults.maxCropMaskSize.width)}},{key:"changePositionY",value:function(e){return this.transformStore.changePositionY(e,this.defaults.maxCropMaskSize.height)}},{key:"changeCropAndOutputSize",value:function(e,t){var n=e.width,i=e.height,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.transformStore.changeWidth(n),this.transformStore.changeHeight(i),!this.lockResolution){var o=this.defaults.maxCropMaskSize,a=o.height,s=o.width,l=this.defaults.imageSize,u=l.height,c=l.width,f=u/a*i,d=c/s*n;t&&(f=d/t),r&&this.editor.configStore.events.onCropDimensionsChanged({width:Math.round(d),height:Math.round(f)}),i>=this.minCropSize&&this.changeLocalOutputHeight(f),n>=this.minCropSize&&this.changeLocalOutputWidth(d)}}},{key:"transformRender",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.transformations.applyPreviewTransform(),e&&this.editor.render()}},{key:"addSnapshot",value:function(){this.transformHistory.isEqual()||this.editor.addSnapshot(Object(_.a)({},"transform",this.serializableState),"edit","Transform edit")}},{key:"trackChanges",value:function(){this.transformHistory.trackChanges()}},{key:"getStartEndForOperation",value:function(e){var t=this.leftTop,n=this.rightBottom,i=this.maxCropMaskSize,r=t.y,o=t.x,a=n.x,s=n.y;switch(e){case 270:return{leftTop:{x:i.height-s,y:o},rightBottom:{x:i.height-r,y:a}};case 180:return{leftTop:{x:i.width-a,y:i.height-s},rightBottom:{x:i.width-o,y:i.height-r}};case 90:return{leftTop:{x:r,y:i.width-a},rightBottom:{x:s,y:i.width-o}};default:return{leftTop:{x:o,y:r},rightBottom:{x:a,y:s}}}}},{key:"getStartEndForUI",value:function(e,t,n){var i=this.maxCropMaskSize,r=t.y,o=t.x,a=n.x,s=n.y;switch(e){case 90:return{leftTop:{x:i.width-s,y:o},rightBottom:{x:i.width-r,y:a}};case 180:return{leftTop:{x:i.width-a,y:i.height-s},rightBottom:{x:i.width-o,y:i.height-r}};case 270:return{leftTop:{x:r,y:i.height-a},rightBottom:{x:s,y:i.height-o}};default:return{leftTop:{x:o,y:r},rightBottom:{x:a,y:s}}}}},{key:"convertOperationOptionsToUI",value:function(e){var t=e.start,n=e.end,i=e.rotation,r=e.outputRotation,o=90===r||270===r,a=o?E.n.fromSize(this.defaultImageSize).swapped:E.n.fromSize(this.defaultImageSize),s=Math.cos(i),l=Math.sin(i),u=this.calculateScale(i),c=new E.n(Math.min(t.x,n.x),Math.min(t.y,n.y)),f=new E.n(Math.max(t.x,n.x),Math.max(t.y,n.y)).subtract(c).divide(2),d=c.add(f).multiply(a).subtract(a.multiply(.5)),h=new E.n(d.x*s-d.y*l,d.x*l+d.y*s).multiply(u),p=a.multiply(.5).add(h).divide(a),m=p.subtract(f.multiply(u)),g=p.add(f.multiply(u)),y=o?E.n.fromSize(this.maxCropMaskSize).swapped:E.n.fromSize(this.maxCropMaskSize),v=m.multiply(y),b=g.multiply(y),_=this.getStartEndForUI(r,v,b),x=_.leftTop,k=_.rightBottom;return{start:new E.n(x),end:new E.n(k)}}},{key:"convertUIToOperationOptions",value:function(e,t){var n=90===t||270===t,i=n?E.n.fromSize(this.defaultImageSize).swapped:E.n.fromSize(this.defaultImageSize),r=n?E.n.fromSize(this.maxCropMaskSize).swapped:E.n.fromSize(this.maxCropMaskSize),o=Math.cos(-e),a=Math.sin(-e),s=this.calculateScale(e,n),l=this.getStartEndForOperation(t),u=l.leftTop,c=l.rightBottom,f=new E.n(u).divide(r),d=new E.n(c).divide(r).subtract(f).divide(2),h=f.add(d).multiply(i).subtract(i.multiply(.5)),p=new E.n(h.x*o-h.y*a,h.x*a+h.y*o).divide(s),m=i.multiply(.5).add(p).divide(i);return{start:m.subtract(d.divide(s)),end:m.add(d.divide(s))}}},{key:"calculateScale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?E.n.fromSize(this.defaultImageSize).swapped:E.n.fromSize(this.defaultImageSize),i=new E.n(Math.abs(n.x*Math.cos(e))+Math.abs(n.y*Math.sin(e)),Math.abs(n.x*Math.sin(e))+Math.abs(n.y*Math.cos(e))),r=n.subtract(i.clone()).divide(2).abs;return r.y>r.x?2*r.y/n.y+1:2*r.x/n.x+1}},{key:"updateStateFromSerialization",value:function(e){this.transformStore.resetRotation(),this.transformStore.resetOutputRotation(),this.transformStore.resetFlip(),this.setDefaultAngle(0),0!==this.editor.outputContainer.getRotation()&&this.engineMediator.output.applyNewImageTransform(),this.engineMediator.output.container.setData({flipHorizontally:!1,flipVertically:!1}),this.engineMediator.preview.updateTransform(),this.editor.scale.setInitialTransform(),this.setCropDefaults(),this.applyInitialCrop();var t=Math.round(Object(E.J)(e.rotation));if(this.transformStore.setRotation(t>180?t-360:t),this.transformations.rotateOutputContainer(Object(E.H)(Object(E.P)(e.outputRotation||0))),e.identifier&&this.transformStore.changeIdentifier(e.identifier),e.start&&e.end){0!==e.end.x&&0!==e.end.y||(e.end.x=1,e.end.y=1);var n=this.convertOperationOptionsToUI({start:new E.n(e.start),end:new E.n(e.end),rotation:e.rotation,outputRotation:e.outputRotation}),i=n.start,r=n.end;this.changePositionX(i.x),this.changePositionY(i.y);var o=r.x-i.x,a=r.y-i.y;this.transformStore.changeSize({width:o,height:a});var s=this.defaults,l=s.maxCropMaskSize,u=s.imageSize,c={height:a*u.height/l.height,width:o*u.width/l.width};this.changeLocalOutputSize(c)}e.flipHorizontally&&this.flipHorizontally(!1),e.flipVertically&&this.flipVertically(!1),this.editor.overlayToolStore.correctOverlayFlip()}},{key:"setDefaultAngle",value:function(e){this.defaultAngle=e}},{key:"updateCanvasControls",value:function(e){var t=Object(E.kb)(this.cropMaskPosition),n=Object(E.kb)(this.cropMaskSize),i=Object(E.kb)(this.defaults.maxCropMaskSize);this.changeCropAndOutputSize({height:i.height*n.height/e.height,width:i.width*n.width/e.width},void 0,!1),this.changePosition({y:i.height*t.y/e.height,x:i.width*t.x/e.width})}},{key:"onLeave",value:function(){this.transformations.onLeave()}},{key:"onEnter",value:function(){this.transformations.onEnter(),this.transformHistory.init()}},{key:"saveTransforms",value:function(){this.transformations.saveTransforms()}},{key:"saveTransformsBasedOnFlip",value:function(){this.transformations.saveTransformsBasedOnFlip()}},{key:"setRotation",value:function(e){this.transformStore.setRotation(e),this.transformRender()}},{key:"rotateOutputContainer",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(i.length>1&&void 0!==i[1])||i[1],this.setDragMode(!0),this.transformations.rotateOutputContainer(t,n),e.next=5,this.editor.wait();case 5:this.setDragMode(!1);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"applyInitialCrop",value:function(){var e=this.getMatchingItem().identifier;this.changeIdentifier(e,!1)}},{key:"clickableCanvas",value:function(e){this.editor.clickableCanvas(e)}},{key:"proportionalSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.defaults.maxCropMaskSize,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.minCropSize,r=t.height*e,o=t.height;return(r>n.width||r<i||o<i)&&(r=t.width,o=t.width/e),{width:Math.round(r),height:Math.round(o)}}},{key:"checkAndAddSnapshot",value:function(e){var t=Object(E.kb)(this.localOutputSize);e.width===t.width&&e.height===t.height||this.trackChanges()}},{key:"updateInitialCropMaskPosition",value:function(e){var t=this.cropMaskSize,n=this.defaults.maxCropMaskSize;e?this.changePosition({x:0,y:Math.abs(n.height-t.height)/2}):this.changePosition({x:Math.abs(n.width-t.width)/2,y:0})}},{key:"updatePreviewSizeWRTImageSize",value:function(){var e=Object(E.kb)(this.localOutputSize),t=Object(E.kb)(this.defaults.imageSize),n=Object(E.kb)(this.defaults.maxCropMaskSize),i={height:n.height*e.height/t.height,width:n.width*e.width/t.width};this.transformStore.changeSize(i)}},{key:"getScaleWithFlip",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotateFlipState.rotation;return this.transformations.getScaleWithFlip(e)}},{key:"getRatio",value:function(){var e=this.getTransform(this.identifier);if(e){if(Object.prototype.hasOwnProperty.call(e,"ratio"))return this.lockResolution?this.localOutputWidth/this.localOutputHeight:e.ratio;var t=e.dimensions;return t.x/t.y}return"*"}},{key:"serializableState",get:function(){var e=this.rotateFlipState,t=e.flipHorizontally,n=e.flipVertically,i=this.identifier,r=this.rotationInDegrees,o=Object(E.H)(r),a=Object(E.P)(Object(E.J)(this.editor.engineMediator.output.container.getRotation())+r),s=this.convertUIToOperationOptions(o,a);return{flipHorizontally:t,flipVertically:n,rotation:o,start:s.start,end:s.end,identifier:i,outputRotation:a}}},{key:"cropState",get:function(){return this.transformStore.selectedCrop}},{key:"identifier",get:function(){return this.transformStore.identifier}},{key:"ratio",get:function(){return this.transformStore.ratio}},{key:"height",get:function(){return this.transformStore.height}},{key:"width",get:function(){return this.transformStore.width}},{key:"localOutputImageSize",get:function(){return this.localOutputSize}},{key:"localOutputHeight",get:function(){return this.localOutputSize.height}},{key:"localOutputWidth",get:function(){return this.localOutputSize.width}},{key:"lockResolution",get:function(){return this.transformStore.lockResolution}},{key:"forceDimensions",get:function(){return this.transformStore.forceDimensions}},{key:"rotationInDegrees",get:function(){return this.transformStore.rotationInDegrees}},{key:"outputRotation",get:function(){return this.transformStore.outputRotation}},{key:"isDragMode",get:function(){return this.dragMode.get()}},{key:"rotateFlipState",get:function(){var t=this.transformStore.state,n=t.flipHorizontally,i=t.flipVertically,r=t.rotationInDegrees,o=t.outputRotation;return{flipHorizontally:n,flipVertically:i,rotation:e.inRadians(r),outputRotation:o}}},{key:"selectedCategoryIdentifier",get:function(){return this.selectedCategory}},{key:"categories",get:function(){return this.entityManager.categories}},{key:"items",get:function(){return this.entityManager.items}},{key:"config",get:function(){return this.editor.configStore.config.transform}},{key:"locale",get:function(){return this.editor.configStore.locale.transform}},{key:"isOptionSelected",get:function(){return"identity"!==this.identifier}},{key:"leftTop",get:function(){return this.rect.leftTop}},{key:"leftBottom",get:function(){return this.rect.leftBottom}},{key:"rightTop",get:function(){return this.rect.rightTop}},{key:"rightBottom",get:function(){return this.rect.rightBottom}},{key:"isFlippedHorizontal",get:function(){return this.transformStore.isFlippedHorizontal}},{key:"isFlippedVertical",get:function(){return this.transformStore.isFlippedVertical}},{key:"leftTopRespectFlip",get:function(){return this.rectForUi.leftTop}},{key:"leftBottomRespectFlip",get:function(){return this.rectForUi.leftBottom}},{key:"rightTopRespectFlip",get:function(){return this.rectForUi.rightTop}},{key:"rightBottomRespectFlip",get:function(){return this.rectForUi.rightBottom}},{key:"cropMaskPosition",get:function(){return this.transformStore.position}},{key:"cropMaskSize",get:function(){return this.transformStore.size}},{key:"state",get:function(){return this.transformStore.state}},{key:"defaultImageSize",get:function(){return this.defaults.imageSize}},{key:"maxCropMaskSize",get:function(){return this.defaults.maxCropMaskSize}},{key:"minCropMaskSize",get:function(){var e=this.getRatio();return"*"===e||1===e?{width:this.minCropSize,height:this.minCropSize}:e>1?{width:this.minCropSize*e,height:this.minCropSize}:{width:this.minCropSize,height:this.minCropSize*e}}},{key:"defaultCropMaskPosition",get:function(){return this.defaults.cropMaskPosition}},{key:"defaultScale",get:function(){return this.defaults.scale}},{key:"engineMediator",get:function(){return this.editor.engineMediator}}],[{key:"inRadians",value:function(e){return e*Math.PI/180}},{key:"placeCropMask",value:function(e,t){if(t.height*e>t.width)return{height:t.width/e,width:t.width,yChanged:!0};var n=t.height*e;return{height:t.height,width:n,yChanged:!1}}}]),e}();Object(E.G)([E.K],wd.prototype,"selectedCategory",2),Object(E.G)([E.K],wd.prototype,"defaults",2),Object(E.G)([E.K],wd.prototype,"localOutputSize",2),Object(E.G)([E.bb],wd.prototype,"changeIdentifier",1),Object(E.G)([E.bb],wd.prototype,"setDragMode",1),Object(E.G)([E.bb],wd.prototype,"setCropDefaults",1),Object(E.G)([E.bb],wd.prototype,"setDefaultImageSize",1),Object(E.G)([E.bb],wd.prototype,"setMaxCropSize",1),Object(E.G)([E.bb],wd.prototype,"setDefaultCropPosition",1),Object(E.G)([E.bb],wd.prototype,"resetCrop",1),Object(E.G)([E.bb],wd.prototype,"toggleCategorySelection",1),Object(E.G)([E.bb],wd.prototype,"pureReset",1),Object(E.G)([E.bb],wd.prototype,"reset",2),Object(E.G)([E.bb],wd.prototype,"changePosition",1),Object(E.G)([E.bb],wd.prototype,"changePositionX",1),Object(E.G)([E.bb],wd.prototype,"changePositionY",1),Object(E.G)([E.bb],wd.prototype,"changeCropAndOutputSize",1),Object(E.G)([E.bb],wd.prototype,"onLeave",1),Object(E.G)([E.bb],wd.prototype,"onEnter",1),Object(E.G)([E.bb],wd.prototype,"changeLocalOutputSize",2),Object(E.G)([E.bb],wd.prototype,"changeDefaultScale",2),Object(E.G)([E.bb],wd.prototype,"changeLocalOutputHeight",2),Object(E.G)([E.bb],wd.prototype,"changeLocalOutputWidth",2),Object(E.G)([E.bb],wd.prototype,"changeLockResolution",2),Object(E.G)([E.bb],wd.prototype,"setRotation",1),Object(E.G)([E.bb],wd.prototype,"rotateClockwise",2),Object(E.G)([E.bb],wd.prototype,"rotateAntiClockwise",2),Object(E.G)([E.bb],wd.prototype,"rotateOutputContainer",1),Object(E.G)([E.bb],wd.prototype,"flipHorizontally",2),Object(E.G)([E.bb],wd.prototype,"flipVertically",2),Object(E.G)([E.bb],wd.prototype,"applyDefaultCrop",2),Object(E.G)([E.bb],wd.prototype,"applyInitialCrop",1),Object(E.G)([E.bb],wd.prototype,"updateCropMask",2),Object(E.G)([E.bb],wd.prototype,"clickableCanvas",1),Object(E.G)([E.bb],wd.prototype,"onLeftTop",2),Object(E.G)([E.bb],wd.prototype,"onLeftBottom",2),Object(E.G)([E.bb],wd.prototype,"onRightTop",2),Object(E.G)([E.bb],wd.prototype,"onRightBottom",2),Object(E.G)([E.bb],wd.prototype,"proportionalSize",1),Object(E.G)([E.bb],wd.prototype,"onPixelWidth",2),Object(E.G)([E.bb],wd.prototype,"onPixelHeight",2),Object(E.G)([E.bb],wd.prototype,"updateInitialCropMaskPosition",1),Object(E.G)([E.bb],wd.prototype,"updatePreviewSizeWRTImageSize",1),Object(E.G)([E.bb],wd.prototype,"dispose",2),Object(E.G)([E.N],wd.prototype,"cropState",1),Object(E.G)([E.N],wd.prototype,"identifier",1),Object(E.G)([E.N],wd.prototype,"ratio",1),Object(E.G)([E.N],wd.prototype,"height",1),Object(E.G)([E.N],wd.prototype,"width",1),Object(E.G)([E.N],wd.prototype,"localOutputImageSize",1),Object(E.G)([E.N],wd.prototype,"localOutputHeight",1),Object(E.G)([E.N],wd.prototype,"localOutputWidth",1),Object(E.G)([E.N],wd.prototype,"lockResolution",1),Object(E.G)([E.N],wd.prototype,"forceDimensions",1),Object(E.G)([E.N],wd.prototype,"rotationInDegrees",1),Object(E.G)([E.N],wd.prototype,"outputRotation",1),Object(E.G)([E.N],wd.prototype,"isDragMode",1),Object(E.G)([E.N],wd.prototype,"rotateFlipState",1),Object(E.G)([E.N],wd.prototype,"selectedCategoryIdentifier",1),Object(E.G)([E.N],wd.prototype,"categories",1),Object(E.G)([E.N],wd.prototype,"items",1),Object(E.G)([E.N],wd.prototype,"config",1),Object(E.G)([E.N],wd.prototype,"locale",1),Object(E.G)([E.N],wd.prototype,"isOptionSelected",1),Object(E.G)([E.N],wd.prototype,"leftTop",1),Object(E.G)([E.N],wd.prototype,"leftBottom",1),Object(E.G)([E.N],wd.prototype,"rightTop",1),Object(E.G)([E.N],wd.prototype,"rightBottom",1),Object(E.G)([E.N],wd.prototype,"isFlippedHorizontal",1),Object(E.G)([E.N],wd.prototype,"isFlippedVertical",1),Object(E.G)([E.N],wd.prototype,"leftTopRespectFlip",1),Object(E.G)([E.N],wd.prototype,"leftBottomRespectFlip",1),Object(E.G)([E.N],wd.prototype,"rightTopRespectFlip",1),Object(E.G)([E.N],wd.prototype,"rightBottomRespectFlip",1),Object(E.G)([E.N],wd.prototype,"cropMaskPosition",1),Object(E.G)([E.N],wd.prototype,"cropMaskSize",1),Object(E.G)([E.N],wd.prototype,"state",1),Object(E.G)([E.N],wd.prototype,"defaultImageSize",1),Object(E.G)([E.N],wd.prototype,"maxCropMaskSize",1),Object(E.G)([E.N],wd.prototype,"minCropMaskSize",1),Object(E.G)([E.N],wd.prototype,"defaultCropMaskPosition",1),Object(E.G)([E.N],wd.prototype,"defaultScale",1);var Od=Object(E.E)(Object(E.a)()),Sd={},Cd="none",jd={x:0,y:0},Td=function(){function e(t){var n=this;Object(O.a)(this,e),this.state=E.K.map(Sd),this.selectedId=E.K.box(Cd),this.editMode=E.K.box(!1),this.dragMode=E.K.box(!1),this.minLength=0,this.counter=0,this.addSticker=function(){var e=Object(y.a)(g.a.mark((function e(t){var i,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,n.addStickerAsync(t,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addStickerAsync=function(){var t=Object(y.a)(g.a.mark((function t(i){var r,o,a,s,l=arguments;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.spriteId,o=i.state,a=i.transform,s=!(l.length>1&&void 0!==l[1])||l[1],t.abrupt("return",new Promise((function(t,i){a=n.getInitialTransform(a);var l=o.identifier,u=n.editor.orderHelper.addSprite(l);n.editor.engine.addStickerFromAssets(l,n.editor.engineMediator.image.container,u).then(function(){var i=Object(y.a)(g.a.mark((function i(u){var c,f,d,h,p,m,y,v,b;return g.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r&&u.setData({id:r}),c=u.getID(),n.container[c]=u,n.editor.orderHelper.renameSprite(l,c),(f=n.getSize(c)).width*=u.getScale().x,f.height*=u.getScale().y,u.setPivot(.5,.5),a.scale?d=a.scale:a.size?d={x:a.size.width/f.width,y:a.size.height/f.height}:(h=.4*n.editor.shortestOutputSide,p=e.magnitude(h)/e.sizeMagnitude(u.getSizeInWorldSpace()),d={x:p,y:p}),m=n.editor.outputContainer.getData(),y=m.flipHorizontally,v=m.flipVertically,u.setFlipHorizontally(y),u.setFlipVertically(v),u.setTransform({position:a.position,scale:d,rotation:a.rotation}),void 0!==o.flipHorizontally&&u.setFlipHorizontally(o.flipHorizontally!==y),void 0!==o.flipVertically&&u.setFlipVertically(o.flipVertically!==v),n.setContainerProperties(c,Object(k.a)({},o)),b=u.getData(),n.setInitialSpriteState(c,"sticker"),n.stickerToolStore.setState(c,Object(k.a)({},b,{identifier:l})),i.next=21,n.editor.renderPromise();case 21:s&&(n.setId(c),n.addSnapshot("add",n.stickerLocale.add)),t();case 23:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()).catch((function(e){console.error(e),i()}))})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.addText=function(){var e=Object(y.a)(g.a.mark((function e(t){var i,r=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(r.length>1&&void 0!==r[1])||r[1],e.next=3,n.addTextAsync(t,i);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addTextAsync=function(e){var t=e.spriteId,i=e.state,r=e.transform,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new Promise((function(e,a){r=n.getInitialTransform(r);var s=n.editor.orderHelper.addSprite(i.identifier),l=n.editor.shortestOutputSide,u={fontIdentifier:i.identifier,text:i.text,width:i.width||.6*l,fontSize:i.fontSize||.1*l,lineHeight:i.lineHeight,alignment:i.alignment,textColor:i.textColor,backgroundColor:i.backgroundColor};n.editor.engine.addTextWithFontLoading(u,n.editor.engineMediator.image.container,s).then(function(){var a=Object(y.a)(g.a.mark((function a(s){var l,u,c,f,d;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t&&s.setData({id:t}),l=s.getID(),n.container[l]=s,n.editor.orderHelper.renameSprite(i.identifier,l),u=n.editor.outputContainer.getData(),c=u.flipHorizontally,f=u.flipVertically,s.setFlipHorizontally(c),s.setFlipVertically(f),s.setPivot(.5,.5),s.setPosition(r.position),s.setRotation(r.rotation),n.setInitialSpriteState(l,"text"),d=s.getData(),n.textToolStore.setState(l,Object(k.a)({},d)),a.next=15,n.editor.renderPromise();case 15:o&&(n.setId(l),n.addSnapshot("add",n.textLocale.add)),e();case 17:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()).catch((function(e){console.error(e),a()}))}))},this.addTextDesign=function(){var e=Object(y.a)(g.a.mark((function e(t){var i,r,o=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!(o.length>1&&void 0!==o[1])||o[1],r=o.length>2&&void 0!==o[2]&&o[2],e.prev=2,e.next=5,n.addTextDesignAsync(t,i,r);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),this.addTextDesignAsync=function(e){var t=e.spriteId,i=e.state,r=e.transform,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(e,s){r=n.getInitialTransform(r);var l=n.editor.orderHelper.addSprite(i.identifier),u=n.editor.shortestOutputSide,c={width:i.width||.6*u,text:i.text,color:i.color,inverted:i.isInverted,seed:i.seed,padding:i.padding};n.editor.engine.addTextDesignAsync(i.identifier,c,n.editor.engineMediator.image.container,l).then(function(){var s=Object(y.a)(g.a.mark((function s(l){var u,c,f,d,h;return g.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t&&(a&&(n.pureRemoveSprite(t),n.textDesignToolStore.state.delete(t)),l.setData({id:t})),u=l.getID(),n.container[u]=l,n.editor.orderHelper.renameSprite(i.identifier,u),c=n.editor.outputContainer.getData(),f=c.flipHorizontally,d=c.flipVertically,l.setFlipHorizontally(f),l.setFlipVertically(d),l.setPivot(.5,.5),l.setPosition(r.position),l.setRotation(r.rotation),n.setInitialSpriteState(u,"textdesign"),h=l.getData(),n.textDesignToolStore.setState(u,Object(k.a)({},h,{identifier:i.identifier})),s.next=15,n.editor.renderPromise();case 15:o&&(n.setId(u),n.addSnapshot("add",n.textDesignLocale.add)),e();case 17:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()).catch((function(e){s(e)}))}))},this.spriteLocalTransform=function(){return{position:n.editor.previewToOutput(n.position),size:n.size,rotation:n.rotation}},this.clickableCanvas=function(e){n.editor.clickableCanvas(e)},this.setContainerProperties=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.container[e].setData(t),i&&n.updatePositionAndSize(),n.editor.render()},this.setContainerPosition=function(e,t){n.container[e].setPosition(t)},this.pureRemoveSprite=function(e){return n.editor.engine.removeContainer(n.container[e]),-1===n.container[e].getIndexInParent()&&(delete n.container[e],n.state.delete(e),n.editor.orderHelper.removeSprite(e),!0)},this.deleteSprite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.id,t=n.state.get(e);"sticker"===t.tool?n.stickerToolStore.delete():"text"===t.tool?n.textToolStore.delete():"textdesign"===t.tool&&n.textDesignToolStore.delete()},this.removeSprite=function(e){n.pureRemoveSprite(e)&&(n.selectLast(),n.spriteSnapshot("delete"),n.editor.render())},this.addSnapshot=function(e,t){n.editor.addSnapshot(void 0,e,t)},this.spriteSnapshot=function(e){n.addSnapshot("edit",n.historyLocale[e])},this.addNewText=function(){var e=Object(y.a)(g.a.mark((function e(t,i){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.textToolStore.doesTextAssetExist(i.identifier)){e.next=5;break}return e.next=3,n.addTextAsync(Object(k.a)({},t,{state:i}),!1);case 3:e.next=6;break;case 5:throw new E.z(i.identifier);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.addNewTextDesign=function(){var e=Object(y.a)(g.a.mark((function e(t,i){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.textDesignToolStore.doesTextDesignAssetExist(i.identifier)){e.next=5;break}return e.next=3,n.addTextDesignAsync(Object(k.a)({},t,{state:i}),!1);case 3:e.next=6;break;case 5:throw new E.z(i.identifier);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.addNewSticker=function(){var e=Object(y.a)(g.a.mark((function e(t,i){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.stickerToolStore.doesStickerAssetExist(i.identifier)){e.next=5;break}return e.next=3,n.addStickerAsync(Object(k.a)({},t,{state:i}),!1);case 3:e.next=6;break;case 5:throw new E.z(i.identifier);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getSpriteHistoryState=function(){var e,t=Object(E.kb)(n.textToolStore.state),i=Object(E.kb)(n.textDesignToolStore.state),r=(e={common:Object(E.kb)(n.state)},Object(_.a)(e,"sticker",Object(E.kb)(n.stickerToolStore.state)),Object(_.a)(e,"text",t),Object(_.a)(e,"textdesign",i),Object(_.a)(e,"spriteIdList",Object.keys(n.container)),e);return Object.keys(r.common).forEach((function(e){r.common[e].size=n.container[e].getSizeInWorldSpace(),r.common[e].position=n.container[e].getPosition(),r.common[e].order=n.container[e].getIndexInParent()})),r},this.updateStateFromSerialization=function(){var e=Object(y.a)(g.a.mark((function e(t,i,r){var o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.length){e.next=13;break}return e.prev=1,e.next=4,Promise.all(i.map(function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r,o,a,s,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.svg,i=t.raster,r=t.name,o=t.identifier,a=(null==n?void 0:n.data)?"image/svg+xml":i.type,s="data:".concat(a,";base64,").concat((null==n?void 0:n.data)||i.data),e.next=5,gf(s,150);case 5:return l=e.sent,e.abrupt("return",{stickerURI:s,thumbnailURI:l,name:r,type:a,identifier:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return o=e.sent,e.next=7,n.stickerToolStore.addCustomStickerAsset(o);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),n.editor.modalStore.hideModal(),n.editor.modalStore.showInfoModal("stickerLoading");case 13:if(!t.text){e.next=16;break}return e.next=16,n.textToolStore.loadFonts();case 16:if(!t.textdesign){e.next=19;break}return e.next=19,n.textDesignToolStore.loadFonts();case 19:return e.next=21,n.updateStateByHistoryState(t.spriteIdList,t,r);case 21:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n,i){return e.apply(this,arguments)}}(),this.updateStateFromHistory=function(){var e=Object(y.a)(g.a.mark((function e(t){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object.keys(n.container),i.filter((function(e){return-1===t.spriteIdList.indexOf(e)})).forEach((function(e){n.pureRemoveSprite(e)})),e.next=5,n.updateStateByHistoryState(t.spriteIdList,t,0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.serializableState=Object(y.a)(g.a.mark((function e(){var t,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.editor.spriteStore.getSpriteHistoryState(),Object.keys(t.common).forEach((function(e){var i=n.editor.outputContainer.getData(),r=i.flipHorizontally,o=i.flipVertically,a=n.editor.outputContainer.getRotation(),s=o!==r?-t.common[e].rotation:t.common[e].rotation;t.common[e].rotation=o!==r?s+a:s-a})),e.next=4,Promise.all(n.editor.spriteStore.stickerToolStore.customStickers.map(function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r,o,a,s,l,u,c,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.identifier,i=t.type,r=t.stickerURI,o=t.name,a={identifier:n,name:o,raster:{data:"",type:"image/jpeg"}},"image/svg+xml"===i&&(a.svg={data:r.split(",")[1]}),"image/jpeg"!==i&&"image/png"!==i&&"image/gif"!==i){e.next=10;break}s=r.split(","),l=Object(x.a)(s,2),a.raster.data=l[1],a.raster.type=i,e.next=17;break;case 10:return e.next=12,gf(r);case 12:u=e.sent,c=u.split(","),f=Object(x.a)(c,2),a.raster.data=f[1],a.raster.type="image/png";case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return i=e.sent,e.abrupt("return",{sprite:t,customStickers:i});case 6:case"end":return e.stop()}}),e)}))),this.updateCanvasControls=function(){Object.keys(n.container).forEach((function(e){n.updatePositionAndSize(e,!0);var t=n.state.get(e);if(t)if("text"===t.tool){var i=n.getContainerProperties(e);n.textToolStore.changeSize(e,i)}else if("textdesign"===t.tool){var r=n.getContainerProperties(e);n.textToolStore.changeWidth(r.width)}}))},this.setEditMode=function(e){n.currentSprite&&-1!==["text","textdesign"].indexOf(n.tool)&&(e?n.editor.modalStore.showTextEditModal():n.editor.modalStore.hideModal(),n.editMode.set(e))},this.setDragMode=function(e){n.dragMode.set(e)},this.setPosition=function(e){var t=n.currentSprite,i=n.container[n.id];if(t&&i){i.setPosition(n.editor.previewToWorld(e));var r=n.getSizePositionFromContainer().position;t.position.x=r.x,t.position.y=r.y,n.state.set(n.id,t),n.editor.render()}},this.setSize=function(e){var t=n.currentSprite;t&&(t.size.width=e.width,t.size.height=e.height,n.state.set(n.id,t))},this.setRotation=function(e){var t=n.currentSprite;if(t){var i=n.editor.outputContainer.getData(),r=i.flipHorizontally,o=i.flipVertically,a=n.editor.outputContainer.getRotation(),s=Object(E.rb)({rotation:e,outputRotation:a,flipHorizontally:r,flipVertically:o});n.container[n.id].setRotation(s),t.rotation=n.container[n.id].getRotation(),n.state.set(n.id,t),n.editor.render()}},this.onCanvasClick=function(e){n.isEditMode||n.selectHighestOrderSprite(e)},this.select=function(e){var t=n.state.get(e);t&&(n.editor.activeStore.tool!==t.tool&&n.editor.activeStore.selectTool(t.tool),n.setId(e))},this.selectLast=function(){var e=n.editor.orderHelper.getLastSpriteId();e&&n.select(e)},this.selectNext=function(){if(n.currentSprite){var e=n.container[n.id].getIndexInParent();if(e){var t=Object.keys(n.container).find((function(t){return n.container[t].getIndexInParent()===e-1}));t&&n.select(t)}}},this.deselect=function(){n.setId(Cd)},this.bringToFront=function(){var e=Object(y.a)(g.a.mark((function e(t){var i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.editor.orderHelper.bringToFront(t),n.container[t].setIndexInParent(i),n.spriteSnapshot("order"),e.next=5,n.editor.render();case 5:n.counter+=1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.flipHorizontally=function(e){var t=n.state.get(e),i=n.container[e];i.setFlipHorizontally(!i.getFlipHorizontally()),t.flipHorizontally=i.getFlipHorizontally(),n.spriteSnapshot("flip"),n.state.set(e,t),n.editor.render()},this.pureReset=function(){n.deselect(),Array.from(n.state.keys()).forEach((function(e){n.pureRemoveSprite(e)})),n.stickerToolStore.pureReset(),n.textToolStore.pureReset(),n.textDesignToolStore.pureReset()},this.selectHighestOrderSprite=function(e){var t=n.editor.brushToolStore.containerId();if((e=e.filter((function(e){return e!==t}))).length<1)n.deselect();else{var i="",r=0;e.forEach((function(e){var t=n.container[e],o=t&&t.getIndexInParent()||0;o>=r&&(r=o,i=e)})),n.select(i)}},this.onCornerDrag=function(t){var i=t.x,r=t.y;if(n.currentSprite){var o=new E.n(n.currentSprite.position),a=new E.n(i,r),s=a.subtract(o).magnitude,l=n.getSize(),u=2*s/e.sizeMagnitude(l);if(s>n.minLength)if(n.isSpriteSticker)if("unrestricted"!==n.stickerToolStore.resizeMode)n.setStickerSize({width:l.width*u,height:l.height*u});else{var c=n.rotationWRTOutputRotation,f=a.subtract(o),d=Math.cos(c),h=Math.sin(c),p=Math.max(Math.abs(f.x*d*2+f.y*h*2),n.minLength),m=Math.max(Math.abs(f.x*-h*2+f.y*d*2),n.minLength);n.setStickerSize({width:p,height:m})}else n.isSpriteText?n.setTextSize(l.width*u):n.isSpriteTextDesign&&n.setTextDesignScale(u);n.editor.render()}},this.onWidthDrag=function(e){var t=e.x,i=e.y,r=new E.n(n.currentSprite.position),o=new E.n(t,i).subtract(r).magnitude,a=n.editor.previewToWorld(2*o);if(a>n.minLength&&(n.setContainerProperties(n.id,{width:a},!0),n.isSpriteText)){var s=n.getContainerProperties(n.id);n.textToolStore.changeWidth(s.width)}},this.onPaddingDrag=function(e){var t=e.x,i=e.y;if(n.isSpriteTextDesign){var r=n.getContainerProperties(n.id),o=new E.n(n.currentSprite.position),a=new E.n(t,i).subtract(o).magnitude,s=Math.max(n.editor.previewToWorld(a)-r.width/2,0);n.setContainerProperties(n.id,{padding:s},!0),n.isSpriteTextDesign&&(r=n.getContainerProperties(n.id),n.textDesignToolStore.changePadding(r.padding))}},this.correctTextFlip=function(){var e=n.editor.outputContainer.getData(),t=e.flipHorizontally,i=e.flipVertically;Object.values(n.container).forEach((function(e){"text"!==e.type&&"text-design"!==e.type||(e.setFlipHorizontally(t),e.setFlipVertically(i))}))},this.reverseTextHorizontally=function(e){Object.values(n.container).forEach((function(t){"text"!==t.type&&"text-design"!==t.type||t.setFlipHorizontally(e)}))},this.reverseTextVertically=function(e){Object.values(n.container).forEach((function(t){"text"!==t.type&&"text-design"!==t.type||t.setFlipVertically(e)}))},this.dispose=function(){n.state=null,n.stickerToolStore&&(n.stickerToolStore.dispose(),n.stickerToolStore=null),n.textToolStore&&(n.textToolStore.dispose(),n.textToolStore=null),n.textDesignToolStore&&(n.textDesignToolStore.dispose(),n.textDesignToolStore=null),n.selectedId=null,n.editMode=null,n.dragMode=null,n.editor=null,n.rect=null},this.getOutputProperties=function(){return n.editor.outputContainer.getData()},this.getContainerProperties=function(e){return n.container[e].getData()},this.getContainerTransform=function(e){return n.container[e].getTransform()},this.getDuplicateContainerTransform=function(e){var t=n.container[e].getTransform(),i=.1*n.editor.shortestOutputSide,r=new E.n(t.position).add(new E.n(i,i));return Object(k.a)({},t,{position:r})},this.getDuplicateContainerFlip=function(e){return{flipHorizontally:n.container[e].getFlipHorizontally(),flipVertically:n.container[e].getFlipVertically()}},this.updatePositionAndSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.id,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=n.getSizePositionFromContainer(e),r=i.position,o=i.size,a=n.state.get(e);if(a){if(a.position.x=r.x,a.position.y=r.y,a.size.width=o.width,a.size.height=o.height,t){var s=n.container[e].getRotation();n.container[e].setRotation(s),a.rotation=n.container[e].getRotation()}n.state.set(e,a)}},this.getInitialTransform=function(e){var t=n.editor.outputToWorld(jd);return e?Object(k.a)({position:t},e):{rotation:n.editor.outputContainer.getRotation(),position:t}},this.setInitialSpriteState=function(e,t){var i=n.container[e],r=n.getSizePositionFromContainer(e),o=r.position,a=r.size,s=i.getRotation(),l="sticker"===t&&i.getFlipHorizontally(),u="sticker"===t&&i.getFlipVertically();n.state.set(e,{tool:t,position:o,rotation:s,size:a,flipHorizontally:l,flipVertically:u})},this.setStickerSize=function(e){var t=n.container[n.id];t.setSizeInWorldSpace(n.editor.previewSizeToWorld(e));var i=n.currentSprite;i&&(i.size=n.editor.worldSizeToPreview(t.getSizeInWorldSpace()),n.state.set(n.id,i))},this.setTextSize=function(e){var t=n.getContainerProperties(n.id),i={width:n.editor.previewToWorld(e)},r=i.width/t.width,o={fontSize:Math.round(t.fontSize*r)},a=n.isSpriteText?Object(k.a)({},i,{},o):i;i.width>n.minLength&&o.fontSize&&(n.setContainerProperties(n.id,a,!0),t=n.getContainerProperties(n.id),n.textToolStore.changeFontSize(t.fontSize,!0),n.textToolStore.changeWidth(t.width))},this.setTextDesignScale=function(e){var t=n.getContainerProperties(n.id),i=t.width*e;if(i>n.minLength){n.setContainerProperties(n.id,{width:i},!0);var r=n.getContainerProperties(n.id).width;n.textDesignToolStore.changeWidth(r),t=n.getContainerProperties(n.id),n.textDesignToolStore.changePadding(t.padding)}},this.getSizePositionFromContainer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.id,t=n.container[e];if(t){var i=n.editor.worldToPreview(t.getPosition()),r=n.editor.worldSizeToPreview(t.getSizeInWorldSpace());return{position:i,size:r}}return{position:{x:0,y:0},size:{height:1,width:1}}},this.getSize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.id,t=n.container[e];return t?n.editor.worldSizeToPreview(t.getSizeInWorldSpace()):{width:0,height:0}},this.editor=t,this.container={},this.stickerToolStore=new _f(t),this.textToolStore=new Of(t),this.textDesignToolStore=new Tf(t),this.rect=new vd(this.editor,this),this.minLength=this.editor.configStore.measurements.canvasControls.sprite.minSize/Math.sqrt(2)}return Object(S.a)(e,[{key:"updateStateByHistoryState",value:function(){var e=Object(y.a)(g.a.mark((function e(t,n,i){var r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Od.default)(t,function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.common[t]){e.next=3;break}return e.abrupt("return");case 3:if(!r.state.get(t)){e.next=7;break}r.updateExistingItem(t,n),e.next=9;break;case 7:return e.next=9,r.addNewItem(t,n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:t.forEach((function(e){var t=n.common[e],o=r.container[e];t&&o&&o.setIndexInParent(t.order+i)})),this.counter+=1;case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"addNewItem",value:function(){var e=Object(y.a)(g.a.mark((function e(t,n){var i,r,o,a,s,l,u,c,f,d,h,p;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.common[t],r=i.size?{width:this.editor.worldToPreview(i.size.width),height:this.editor.worldToPreview(i.size.height)}:void 0,o=this.editor.outputContainer.getData(),a=o.flipHorizontally,s=o.flipVertically,l=this.editor.outputContainer.getRotation(),u=s!==a?i.rotation-l:i.rotation+l,c=s!==a?-u:u,f={spriteId:t,transform:{size:r,position:new E.n(i.position),rotation:c}},!n.text[t]){e.next=14;break}return d=n.text[t],h=this.textToolStore.validFontWithConfig(d.identifier),d.identifier=null==h?void 0:h.identifier,e.next=13,this.addNewText(f,d);case 13:return e.abrupt("return");case 14:if(!n.textdesign[t]){e.next=18;break}return e.next=17,this.addNewTextDesign(f,n.textdesign[t]);case 17:return e.abrupt("return");case 18:if(!n.sticker[t]){e.next=22;break}return p=this.stickerToolStore.items.find((function(e){return e.identifier===n.sticker[t].identifier})),e.next=22,this.addNewSticker(f,Object(k.a)({},n.sticker[t],{flipHorizontally:i.flipHorizontally,flipVertically:i.flipVertically,resizeMode:n.sticker[t].resizeMode||(null==p?void 0:p.resizeMode)||"keepAspect"}));case 22:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateExistingItem",value:function(e,t){var n=t.common[e],i=this.state.get(e);this.state.set(e,i);var r=this.container[e];if(r.setPosition(new E.n(n.position)),r.setRotation(n.rotation),i.rotation=r.getRotation(),void 0!==n.flipHorizontally&&r.setFlipHorizontally(n.flipHorizontally),void 0!==n.flipVertically&&r.setFlipVertically(n.flipVertically),t.text[e]){var o=t.text[e];this.textToolStore.updateStateFromHistory(e,Object(k.a)({},o,{fontIdentifier:o.identifier}))}if(t.textdesign[e]){var a=t.textdesign[e];this.textDesignToolStore.updateStateFromHistory(e,Object(k.a)({},a,{inverted:a.isInverted}))}t.sticker[e]&&(r.setSizeInWorldSpace(n.size),this.stickerToolStore.updateStateFromHistory(e,t.sticker[e])),this.updatePositionAndSize(e)}},{key:"setId",value:function(e){this.selectedId.set(e)}},{key:"currentSprite",get:function(){if(this.isSpriteSelected)return this.state.get(this.id)}},{key:"padding",get:function(){return this.textDesignToolStore.padding}},{key:"isEditMode",get:function(){return this.editMode.get()}},{key:"isDragMode",get:function(){return this.dragMode.get()}},{key:"id",get:function(){return this.selectedId.get()}},{key:"isSpriteSelected",get:function(){return this.id!==Cd}},{key:"position",get:function(){if(this.currentSprite)return this.currentSprite.position}},{key:"tool",get:function(){if(this.currentSprite)return this.currentSprite.tool}},{key:"size",get:function(){if(this.currentSprite)return this.currentSprite.size}},{key:"rotation",get:function(){if(this.currentSprite)return this.currentSprite.rotation}},{key:"rotationWRTOutputRotation",get:function(){if(this.currentSprite){var e=this.editor.outputContainer.getData(),t=e.flipHorizontally,n=e.flipVertically,i=this.editor.outputContainer.getRotation();return Object(E.rb)({rotation:this.currentSprite.rotation-i,flipHorizontally:t,flipVertically:n})}}},{key:"flipHorizontal",get:function(){if(this.currentSprite)return this.currentSprite.flipHorizontally}},{key:"isSpriteSticker",get:function(){return"sticker"===this.tool}},{key:"isSpriteText",get:function(){return"text"===this.tool}},{key:"isSpriteTextDesign",get:function(){return"textdesign"===this.tool}},{key:"isOnTop",get:function(){this.counter;return this.editor.engine.isSpriteTop(this.id)}},{key:"spritePosition",get:function(){if(this.currentSprite){var e=this.currentSprite.position,t=e.x,n=e.y,i=this.currentSprite.size,r=i.height,o=i.width;return{x:Math.round(t-o/2),y:Math.round(n-r/2)}}}},{key:"currentRect",get:function(){if(this.currentSprite)return this.rect}},{key:"leftTopPosition",get:function(){if(this.currentSprite)return this.rect.leftTop}},{key:"leftBottomPosition",get:function(){if(this.currentSprite)return this.rect.leftBottom}},{key:"leftMidPosition",get:function(){if(this.currentSprite)return this.rect.leftMid}},{key:"leftMidPadPosition",get:function(){if(this.currentSprite){var e=this.rect.leftMid;return{x:e.x-this.editor.worldToPreview(this.padding),y:e.y}}}},{key:"rightTopPosition",get:function(){if(this.currentSprite)return this.rect.rightTop}},{key:"rightBottomPosition",get:function(){if(this.currentSprite)return this.rect.rightBottom}},{key:"rightMidPosition",get:function(){if(this.currentSprite)return this.rect.rightMid}},{key:"rightMidPadPosition",get:function(){if(this.currentSprite){var e=this.rect.rightMid;return{x:e.x+this.editor.worldToPreview(this.padding),y:e.y}}}},{key:"leftBottomHandlePosition",get:function(){if(this.currentSprite)return this.rect.leftBottomHandle}},{key:"rightBottomHandlePosition",get:function(){if(this.currentSprite)return this.rect.rightBottomHandle}},{key:"historyLocale",get:function(){return this.isSpriteSticker?this.stickerLocale:this.isSpriteText?this.textDesignLocale:this.textLocale}},{key:"stickerLocale",get:function(){return this.editor.configStore.locale.sticker.history}},{key:"textLocale",get:function(){return this.editor.configStore.locale.text.history}},{key:"textDesignLocale",get:function(){return this.editor.configStore.locale.textdesign.history}}],[{key:"magnitude",value:function(e,t){return new E.n(e,t||e).magnitude}},{key:"sizeMagnitude",value:function(e){return Math.sqrt(e.width*e.width+e.height*e.height)}}]),e}();Object(E.G)([E.K],Td.prototype,"counter",2),Object(E.G)([E.bb],Td.prototype,"addSticker",2),Object(E.G)([E.bb],Td.prototype,"addStickerAsync",2),Object(E.G)([E.bb],Td.prototype,"addText",2),Object(E.G)([E.bb],Td.prototype,"addTextAsync",2),Object(E.G)([E.bb],Td.prototype,"addTextDesign",2),Object(E.G)([E.bb],Td.prototype,"addTextDesignAsync",2),Object(E.G)([E.bb],Td.prototype,"clickableCanvas",2),Object(E.G)([E.bb],Td.prototype,"setContainerProperties",2),Object(E.G)([E.bb],Td.prototype,"setContainerPosition",2),Object(E.G)([E.bb],Td.prototype,"pureRemoveSprite",2),Object(E.G)([E.bb],Td.prototype,"deleteSprite",2),Object(E.G)([E.bb],Td.prototype,"removeSprite",2),Object(E.G)([E.bb],Td.prototype,"addSnapshot",2),Object(E.G)([E.bb],Td.prototype,"addNewText",2),Object(E.G)([E.bb],Td.prototype,"addNewTextDesign",2),Object(E.G)([E.bb],Td.prototype,"addNewSticker",2),Object(E.G)([E.bb],Td.prototype,"updateStateFromSerialization",2),Object(E.G)([E.bb],Td.prototype,"updateStateFromHistory",2),Object(E.G)([E.bb],Td.prototype,"updateCanvasControls",2),Object(E.G)([E.bb],Td.prototype,"setEditMode",2),Object(E.G)([E.bb],Td.prototype,"setDragMode",2),Object(E.G)([E.bb],Td.prototype,"setPosition",2),Object(E.G)([E.bb],Td.prototype,"setSize",2),Object(E.G)([E.bb],Td.prototype,"setRotation",2),Object(E.G)([E.bb],Td.prototype,"onCanvasClick",2),Object(E.G)([E.bb],Td.prototype,"select",2),Object(E.G)([E.bb],Td.prototype,"selectLast",2),Object(E.G)([E.bb],Td.prototype,"selectNext",2),Object(E.G)([E.bb],Td.prototype,"deselect",2),Object(E.G)([E.bb],Td.prototype,"bringToFront",2),Object(E.G)([E.bb],Td.prototype,"flipHorizontally",2),Object(E.G)([E.bb],Td.prototype,"pureReset",2),Object(E.G)([E.bb],Td.prototype,"onCornerDrag",2),Object(E.G)([E.bb],Td.prototype,"onWidthDrag",2),Object(E.G)([E.bb],Td.prototype,"onPaddingDrag",2),Object(E.G)([E.bb],Td.prototype,"correctTextFlip",2),Object(E.G)([E.bb],Td.prototype,"reverseTextHorizontally",2),Object(E.G)([E.bb],Td.prototype,"reverseTextVertically",2),Object(E.G)([E.bb],Td.prototype,"dispose",2),Object(E.G)([E.N],Td.prototype,"currentSprite",1),Object(E.G)([E.N],Td.prototype,"padding",1),Object(E.G)([E.N],Td.prototype,"isEditMode",1),Object(E.G)([E.N],Td.prototype,"isDragMode",1),Object(E.G)([E.N],Td.prototype,"id",1),Object(E.G)([E.N],Td.prototype,"isSpriteSelected",1),Object(E.G)([E.N],Td.prototype,"position",1),Object(E.G)([E.N],Td.prototype,"tool",1),Object(E.G)([E.N],Td.prototype,"size",1),Object(E.G)([E.N],Td.prototype,"rotation",1),Object(E.G)([E.N],Td.prototype,"rotationWRTOutputRotation",1),Object(E.G)([E.N],Td.prototype,"flipHorizontal",1),Object(E.G)([E.N],Td.prototype,"isSpriteSticker",1),Object(E.G)([E.N],Td.prototype,"isSpriteText",1),Object(E.G)([E.N],Td.prototype,"isSpriteTextDesign",1),Object(E.G)([E.N],Td.prototype,"isOnTop",1),Object(E.G)([E.N],Td.prototype,"spritePosition",1),Object(E.G)([E.N],Td.prototype,"currentRect",1),Object(E.G)([E.N],Td.prototype,"leftTopPosition",1),Object(E.G)([E.N],Td.prototype,"leftBottomPosition",1),Object(E.G)([E.N],Td.prototype,"leftMidPosition",1),Object(E.G)([E.N],Td.prototype,"leftMidPadPosition",1),Object(E.G)([E.N],Td.prototype,"rightTopPosition",1),Object(E.G)([E.N],Td.prototype,"rightBottomPosition",1),Object(E.G)([E.N],Td.prototype,"rightMidPosition",1),Object(E.G)([E.N],Td.prototype,"rightMidPadPosition",1),Object(E.G)([E.N],Td.prototype,"leftBottomHandlePosition",1),Object(E.G)([E.N],Td.prototype,"rightBottomHandlePosition",1),Object(E.G)([E.N],Td.prototype,"historyLocale",1),Object(E.G)([E.N],Td.prototype,"stickerLocale",1),Object(E.G)([E.N],Td.prototype,"textLocale",1),Object(E.G)([E.N],Td.prototype,"textDesignLocale",1);var Ed={categories:[],query:""},Dd=function(){function e(t){var n=this;Object(O.a)(this,e),this.initProvider=function(e){e&&(n.libraryProvider=new e)},this.fetchImages=Object(y.a)(g.a.mark((function e(){var t,i,r,o,a=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:"",!n.libraryProvider){e.next=17;break}return i=null,e.prev=3,e.next=6,n.libraryProvider.getCategories();case 6:return r=e.sent,e.next=9,n.libraryProvider.searchImages(t);case 9:o=e.sent,i=r.map((function(e,t){var n=o.filter((function(t){return t.category===e.name}));return{identifier:e.name,name:e.name,thumbnailURI:e.coverImageUrl,items:n.map((function(n){return{name:n.title||"image".concat(t),identifier:"".concat(e.name,"-").concat(n.title,"-").concat(t),thumbnailURI:n.thumbUrl,rawUrl:n.rawUrl,authorName:n.authorName,authorAvatar:n.authorAvatar}}))}})).filter((function(e){return e.items.length})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:Object(E.db)((function(){n.state.query=t,n.state.categories=i}));case 17:case"end":return e.stop()}}),e,null,[[3,13]])}))),this.toggleCategorySelection=function(e){n.selectedCategory=n.selectedCategory!==e?e:""},this.dispose=function(){n.state=null,n.configStore=null,n.libraryProvider=null,n.selectedCategory=null},this.getRawUrl=function(e){var t=n.items.findIndex((function(t){return t.identifier===e}));return-1!==t?n.items[t].rawUrl:e},this.configStore=t.configStore,this.state=Object(E.K)(Ed),this.selectedCategory=""}return Object(S.a)(e,[{key:"selectedCategoryIdentifier",get:function(){return this.selectedCategory}},{key:"categories",get:function(){return this.state.categories}},{key:"items",get:function(){return this.state.categories.map((function(e){return e.items})).reduce((function(e,t){return[].concat(Object(v.a)(e),Object(v.a)(t))}),[])}},{key:"query",get:function(){return this.state.query}},{key:"config",get:function(){return this.configStore.config.library}},{key:"locale",get:function(){return this.configStore.locale.library}}]),e}();Object(E.G)([E.K],Dd.prototype,"selectedCategory",2),Object(E.G)([E.bb],Dd.prototype,"initProvider",2),Object(E.G)([E.bb],Dd.prototype,"fetchImages",2),Object(E.G)([E.bb],Dd.prototype,"toggleCategorySelection",2),Object(E.G)([E.bb],Dd.prototype,"dispose",2),Object(E.G)([E.N],Dd.prototype,"selectedCategoryIdentifier",1),Object(E.G)([E.N],Dd.prototype,"categories",1),Object(E.G)([E.N],Dd.prototype,"items",1),Object(E.G)([E.N],Dd.prototype,"query",1),Object(E.G)([E.N],Dd.prototype,"config",1),Object(E.G)([E.N],Dd.prototype,"locale",1);var Id=/^data:image\/(.+?);base64,/,Rd=function(e){return e.match(/^data:([^;]+)/)[1]},Fd=function(e){return e.replace(Id,"")},Ad=function(){function e(t){var n=this;Object(O.a)(this,e),this.applySerialization=function(){var e=Object(y.a)(g.a.mark((function e(t,i,r,o){var a,s,l,u,c,f;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.editor.resetToolStates(),(a="transform"===n.editor.activeStore.tool)||n.editor.transformToolStore.onEnter(),n.editor.transformToolStore.reset(),a||n.editor.transformToolStore.onLeave(),s="Unexpected error occured",!(l=i.deserializeImage(t)).image||!l.image.data){e.next=23;break}return u=l.image.data,e.next=11,n.editor.setImage(u);case 11:return n.editor.scale.defaultScale=1,n.editor.scale.resetOffset(),n.editor.transformToolStore.reset(),n.editor.activeStore.setImage(u),e.next=17,n.editor.engineMediator.image.addImageToContainer();case 17:n.editor.engineMediator.output.applyNewImageTransform(),n.editor.engineMediator.preview.updateTransform(),n.editor.scale.setInitialTransform(),n.editor.transformToolStore.setCropDefaults(),n.editor.historyStore.addInitialSnapshot(),n.editor.transformToolStore.saveTransforms();case 23:if(c=i.deserializeTransformation(t)){e.next=27;break}return o(s),e.abrupt("return");case 27:return e.next=29,n.applyStateOnUI(c);case 29:if(f=i.deserialize(t)){e.next=33;break}return o(s),e.abrupt("return");case 33:return e.next=35,n.applyStateOnUI(f);case 35:return n.editor.historyStore.addInitialSnapshot(),a&&n.editor.transformToolStore.onEnter(),e.next=39,n.editor.render();case 39:"loading"===n.editor.modalStore.identifier&&n.editor.modalStore.hideModal(),r();case 41:case"end":return e.stop()}}),e)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),this.editor=t}return Object(S.a)(e,[{key:"serialize",value:function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{image:!1},r=i.image,o="transform"===this.editor.activeStore.tool,a=this.editor.configStore.config.displaySerializationModal;return a&&this.editor.modalStore.showInfoModal("saving"),new Promise((function(i,s){n.e(0).then(n.bind(null,55)).then(function(){var n=Object(y.a)(g.a.mark((function n(l){var u,c,f,d,h,p,m,y,v,b,x,k,w,O;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=l.Serializer,n.prev=1,o&&t.editor.transformToolStore.onLeave(),n.next=5,t.editor.wait();case 5:return t.editor.transformToolStore.applyDefaultCrop(!1),f=t.editor.imageContainer.getData(),d=f.originalImage,h=t.editor.engineMediator.output.container.getResolution(),p={width:d.width,height:d.height},m=new u(t.editor.transformToolStore.defaultCropMaskPosition,t.editor.transformToolStore.maxCropMaskSize,h,p,t.editor.engine.getRootContainers()[0],t.editor.engine.getOutputContainer()),c={},Object(_.a)(c,"adjustment",Object(E.kb)(t.editor.adjustmentsToolStore.state)),Object(_.a)(c,"filter",Object(E.kb)(t.editor.filterToolStore.state)),Object(_.a)(c,"focus",Object(E.kb)(t.editor.focusToolStore.serializableState)),Object(_.a)(c,"overlay",Object(E.kb)(t.editor.overlayToolStore.state)),Object(_.a)(c,"frame",Object(E.kb)(t.editor.frameToolStore.state)),Object(_.a)(c,"brush",t.editor.brushToolStore.strokes||{strokes:[]}),y=c,n.next=13,t.editor.spriteStore.serializableState();case 13:v=n.sent,b=v.sprite,x=v.customStickers,b.spriteIdList=b.spriteIdList.sort((function(e,t){return b.common[e].order-b.common[t].order})),y.sprite=b,y.customStickers=x,y.transform=t.editor.transformToolStore.serializableState,r&&(O=e.getDataURL(d),w=Rd(O),k=Fd(O)),a&&t.editor.modalStore.hideModal(),i(m.serialise(y,k,w)),o&&t.editor.transformToolStore.onEnter(),n.next=30;break;case 26:n.prev=26,n.t0=n.catch(1),a&&t.editor.modalStore.hideModal(),s(n.t0);case 30:case"end":return n.stop()}}),n,null,[[1,26]])})));return function(e){return n.apply(this,arguments)}}())}))}},{key:"deserialize",value:function(e){var t=this;return this.editor.modalStore.showInfoModal("loading"),new Promise((function(i,r){try{n.e(0).then(n.bind(null,55)).then((function(n){var o=n.Deserializers,a=e.version.match(/[0-3].[0-8].[0-9]/i),s=null;s=a&&o["3.9.0"]?new o["3.9.0"](t.editor):o[e.version]?new o[e.version](t.editor):new o["3.12.0"](t.editor),a?(t.editor.modalStore.hideModal(),t.editor.modalStore.showActionModal({type:"warning",identifier:"unsupportedSerializationVersion",handleConfirm:function(){return t.applySerialization(e,s,i,r)}})):t.applySerialization(e,s,i,r)}))}catch(o){"loading"===t.editor.modalStore.identifier&&t.editor.modalStore.hideModal(),r(o)}}))}},{key:"applyStateOnUI",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="transform"===this.editor.activeStore.tool,e.prev=1,!t.transform){e.next=13;break}return n||this.editor.transformToolStore.onEnter(),this.editor.transformToolStore.updateStateFromSerialization(t.transform),e.next=7,this.editor.wait();case 7:if(this.editor.transformToolStore.onLeave(),n){e.next=13;break}return this.editor.transformToolStore.onEnter(),e.next=12,this.editor.wait();case 12:this.editor.transformToolStore.onLeave();case 13:if(!t.filter){e.next=16;break}return e.next=16,this.editor.filterToolStore.updateStateFromSerialization(t.filter);case 16:if(t.adjustment&&this.editor.adjustmentsToolStore.updateStateFromSerialization(t.adjustment),!t.focus){e.next=20;break}return e.next=20,this.editor.focusToolStore.updateStateFromSerialization(t.focus);case 20:if(!t.overlay){e.next=23;break}return e.next=23,this.editor.overlayToolStore.updateStateFromSerialization(t.overlay);case 23:if(!t.sprite){e.next=29;break}return i=Object.keys(t).length-1,t.customStickers&&(i-=1),t.sprite.spriteIdList=t.sprite.spriteIdList.sort((function(e,n){return t.sprite.common[e].order-t.sprite.common[n].order})),e.next=29,this.editor.spriteStore.updateStateFromSerialization(t.sprite,t.customStickers,Math.max(0,i));case 29:if(t.brush&&this.editor.brushToolStore.updateStateFromHistory(t.brush),!t.frame){e.next=33;break}return e.next=33,this.editor.frameToolStore.updateStateFromSerialization(t.frame);case 33:this.editor.outputContainer.updateChildrenContainers(),e.next=39;break;case 36:e.prev=36,e.t0=e.catch(1),"AssetNotFoundError"===e.t0.name?console.error(e.t0):(console.error(e.t0),this.editor.modalStore.showActionModal({type:"error",identifier:"unexpectedError",error:e.t0.message,handleConfirm:function(){r.applyStateOnUI(t)}}));case 39:case"end":return e.stop()}}),e,this,[[1,36]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"getDataURL",value:function(e){if(e instanceof HTMLImageElement){var t=e.src;if(function(e){return Id.test(e)}(t))return t}if(e instanceof HTMLCanvasElement)return e.toDataURL("image/png");var n=document.createElement("canvas");n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(e,0,0);var i=n.toDataURL("image/png");return Object(E.pb)(n),i}}]),e}(),Md=function(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),o=0;o<t.length;o+=1)r[o]=t.charCodeAt(o);return new Blob([i],{type:n})},Pd=function(e){return e.split(",")[0].split(":")[1].split(";")[0]},zd=Object(E.E)(Object(E.a)()),Bd=function(){function e(t){var n=t.license,i=t.assetProvider,r=t.crossOrigin,o=t.backgroundColor;Object(O.a)(this,e),this.crossOrigin=r,this.engine=new E.vb({license:n,crossOrigin:r,assetProvider:i,downscaleOptions:{maxDimensions:{width:174,height:174}},backgroundColor:o})}return Object(S.a)(e,null,[{key:"isImageElement",value:function(e){return e instanceof HTMLImageElement}}]),Object(S.a)(e,[{key:"getAllFilterPreviewThumbnails",value:function(e){var t=this;return new Promise((function(n,i){var r=[],o=[];e.forEach((function(e){e.isDuotone?r.push(e.identifier):o.push(e.identifier)})),t.getAllDuotonePreview(r).then((function(e){t.getAllLutPreview(o).then((function(t){n(Object.assign(e,t))})).catch((function(e){i(e)}))})).catch((function(e){i(e)}))}))}},{key:"getAllDuotonePreview",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},t.length){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.engine.addDuoToneFilterFromAssets(t[0],this.container);case 5:return i=e.sent,e.next=8,(0,zd.default)(t,function(){var e=Object(y.a)(g.a.mark((function e(t){var o,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.engine.assetProvider.getDuotoneFilterAsset(t),i.filterOperation.getFilter().set({intensity:.5,lightColor:E.ab.Color.fromHex(o.lightColor),darkColor:E.ab.Color.fromHex(o.darkColor)}),e.next=5,r.engine.export("data-url","image/jpeg",.8,!1,!0);case 5:a=e.sent,n[t]=a;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{concurrency:1});case 8:return this.engine.removeEffect(i),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadLutAssets",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.next=3,(0,zd.default)(t,function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getImageElement(i.engine.assetProvider.getAssetSource("filter",t));case 2:n[t]=e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllLutPreview",value:function(){var e=Object(y.a)(g.a.mark((function e(t){var n,i,r,o=this;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},t.length){e.next=3;break}return e.abrupt("return",n);case 3:return e.next=5,this.loadLutAssets(t);case 5:return i=e.sent,e.next=8,this.engine.addLUTFilterFromAssets(t[0],this.container);case 8:return r=e.sent,e.next=11,(0,zd.default)(t,function(){var e=Object(y.a)(g.a.mark((function e(t){var a,s,l,u;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.engine.assetProvider.getLUTFilterAsset(t),s=r.filterOperation.getFilter(),l={horizontalTileCount:a.horizontalTileCount||5,verticalTileCount:a.verticalTileCount||5,image:i[t]},s.set(Object(k.a)({},l,{intensity:a.defaultIntensity||1})),r.setProperties({intensity:1}),s._lutPrimitive.set(l),e.next=8,o.engine.export("data-url","image/jpeg",.8,!1,!0);case 8:u=e.sent,n[t]=u;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{concurrency:1});case 11:return this.engine.removeEffect(r),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addImageToContainer",value:function(t){var n=this;return new Promise((function(i,r){var o;e.isImageElement(t)?(o=t,n.setBackgroundImage(o),i()):n.getImageElement(t).then((function(e){o=e,n.setBackgroundImage(o),i()})).catch((function(e){r({identifier:"imageLoading",message:e.message})}))}))}},{key:"getImageElement",value:function(e){var t=this;return new Promise((function(n,i){var r=new Image;r.addEventListener("load",(function(){n(r)})),r.addEventListener("error",(function(e){i(e)})),r.crossOrigin=t.crossOrigin,r.src=e}))}},{key:"setBackgroundImage",value:function(e){this.container?this.container.setData({image:e}):this.container=this.engine.addImage({image:e,blendMode:"normal",opacity:1});var t=this.container.getBounds().size;this.engine.getOutputContainer().setResolution(t)}}]),e}(),Ld={horizontalGuides:[],verticalGuides:[],rotationGuides:[]},Nd=function(){function e(t){var n=this;Object(O.a)(this,e),this.previewTopLeftPosition={x:0,y:0},this.init=function(){n.state.horizontalGuides=n.getHorizontalGuidesFromConfig(),n.state.verticalGuides=n.getVerticalGuidesFromConfig(),n.state.rotationGuides=n.getRotationGuidesFromConfig()},this.getGuideValue=function(e,t){var i=n.editor.getPreviewSize(),r=i.height,o=i.width,a=n.configStore.config.snapping.position,s=a.snapToLeft,l=a.snapToRight,u=a.snapToTop,c=a.snapToBottom,f=Math.min(r,o),d=0;return"bottom"===t?d=Math.round(r-f*c):"top"===t?d=Math.round(f*u):"right"===t?d=Math.round(o-f*l):"left"===t?d=Math.round(f*s):"vertical"===e&&"center"===t?d=Math.round(o/2):"horizontal"===e&&"center"===t&&(d=Math.round(r/2)),d},this.getVerticalGuidesFromConfig=function(){var e=n.configStore.config.snapping.position,t=e.snapToVerticalCenter,i=e.snapToLeft,r=e.snapToRight,o=[];return t&&o.push({value:n.getGuideValue("vertical","center"),edge:"center",isVisible:!1,direction:"vertical"}),i&&o.push({value:n.getGuideValue("vertical","left"),edge:"leading",isVisible:!1,direction:"vertical"}),r&&o.push({value:n.getGuideValue("vertical","right"),edge:"trailing",isVisible:!1,direction:"vertical"}),o},this.getHorizontalGuidesFromConfig=function(){var e=n.configStore.config.snapping.position,t=e.snapToHorizontalCenter,i=e.snapToTop,r=e.snapToBottom,o=[];return t&&o.push({value:n.getGuideValue("horizontal","center"),edge:"center",isVisible:!1,direction:"horizontal"}),i&&o.push({value:n.getGuideValue("horizontal","top"),edge:"leading",isVisible:!1,direction:"horizontal"}),r&&o.push({value:n.getGuideValue("horizontal","bottom"),edge:"trailing",isVisible:!1,direction:"horizontal"}),o},this.getRotationGuidesFromConfig=function(){var e=n.configStore.config.snapping.rotation.angles,t=[];return e.forEach((function(e){t.push(e),t.push(e+360),t.push(e-360)})),t.filter((function(e,n){return t.indexOf(e)===n})).map((function(e){return{value:e*Math.PI/180,edge:"center",isVisible:!1,position:{x:0,y:0}}}))},this.getSpriteDimensions=function(e){var t=e.leftTop,n=e.leftBottom,i=e.rightTop,r=e.rightBottom,o=Math.min(t.y,i.y,n.y,r.y),a=Math.max(t.y,i.y,n.y,r.y),s=Math.min(t.x,i.x,n.x,r.x),l=Math.max(t.x,i.x,n.x,r.x);return{height:Math.round(a-o),width:Math.round(l-s)}},this.mapRange=function(e){var t=e.value,n=e.fromMin,i=e.fromLength,r=e.toMin;return(t-n)*e.toLength/i+r},this.updateGuides=function(){n.state.horizontalGuides=n.getHorizontalGuidesFromConfig(),n.state.verticalGuides=n.getVerticalGuidesFromConfig()},this.mapToSnapSystem=function(e,t,i,r){if(0===t.length)return e;if(t[0]>e)return e-i;for(var o=0;o<t.length-1;o+=1){var a=t[o],s=t[o+1],l=a+i,u=s-i,c=0;r&&(l+=c=o*i*2,u+=c+2*i);var f=1e-5;if(a<=e&&e<=s)return e<=a+f?a+c:e>=s-f?s+c+(r?2*i:0):n.mapRange({value:e,fromMin:a,fromLength:s-a,toMin:l,toLength:u-l})}return r?e+(t.length-1)*i*2+i:e},this.mapFromSnapSystem=function(e,t,i,r){if(0===t.length)return e;if(t[0]>e)return e>=t[0]-i?t[0]:e+i;for(var o=e,a=0;a<t.length-1;a+=1){var s=t[a],l=t[a+1],u=s+i,c=l-i,f=l;if(r&&(c+=2*i,f+=2*i,o=e-a*i*2),s<=o&&o<=f)return u<=o&&o<=c?n.mapRange({value:o,fromMin:u,fromLength:c-u,toMin:s,toLength:l-s}):o<u?s:l}o-=3*i;var d=t[t.length-1];return o<=d?d:o},this.centerSnapValue=function(e,t){var n=.5*t,i=e.value,r=e.edge,o=i;return"leading"===r?o+=n:"trailing"===r&&(o-=n),o},this.mapSnappingGuidesToCenter=function(e,t){var i=[];return e.forEach((function(e){i.push(n.centerSnapValue(e,t))})),i},this.calcSnapThresholdInRadians=function(e,t){return 0===e?0:t/e},this.calculatePreviewTopLeftPosition=function(){var e=n.editor.engineMediator.preview.container.getPosition(),t=n.editor.getPreviewSize(),i=Object(E.B)();n.previewTopLeftPosition={x:e.x/i-t.width/2,y:e.y/i-t.height/2}},this.snapToRotation=function(e,t,i){var r=n.state.rotationGuides,o=n.configStore.config.snapping.rotation,a=o.enabled,s=o.threshold,l=n.previewTopLeftPosition,u=l.x,c=l.y,f=n.editor.getPreviewSize().width,d=(e+2*Math.PI)%(2*Math.PI);if(a){var h=new E.n(t).magnitude,p=r.map((function(e){return e.value})).sort((function(e,t){return e-t})),m=n.calcSnapThresholdInRadians(h,s);if(!n.rotationOffset){var g=n.mapToSnapSystem(e,p,m,!1);n.rotationOffset=g-d}d=n.mapFromSnapSystem(d+n.rotationOffset,p,m,!1);var y={x:i.position.x-u-f,y:i.position.y-c};return r.forEach((function(e){e.isVisible=e.value===d,e.position=y})),d}return e},this.snapToPosition=function(e,t){var i=n.state,r=i.horizontalGuides,o=i.verticalGuides,a=n.configStore.config.snapping.position,s=a.enabled,l=a.threshold,u=new E.n(n.previewTopLeftPosition),c=n.getSpriteDimensions(t),f=c.height,d=c.width,h=new E.n(e).subtract(u),p=h.x,m=h.y;if(s){var g=n.mapSnappingGuidesToCenter(r,f).sort((function(e,t){return e-t})),y=n.mapSnappingGuidesToCenter(o,d).sort((function(e,t){return e-t}));if(!n.positionOffset){var v=n.mapToSnapSystem(p,y,l,!0),b=n.mapToSnapSystem(m,g,l,!0);n.positionOffset=new E.n(v,b).subtract(new E.n(p,m))}var _=n.mapFromSnapSystem(p+n.positionOffset.x,y,l,!0),x=n.mapFromSnapSystem(m+n.positionOffset.y,g,l,!0);return _=Math.round(_),x=Math.round(x),r.forEach((function(e){var t=Math.round(n.centerSnapValue(e,f));e.isVisible=t===x})),o.forEach((function(e){var t=Math.round(n.centerSnapValue(e,d));e.isVisible=t===_})),new E.n(_,x).add(u)}return{x:p,y:m}},this.dispose=function(){n.state=null,n.editor=null,n.configStore=null},this.editor=t,this.configStore=t.configStore,this.state=Object(E.K)(Ld),this.rotationOffset=null,this.positionOffset=null}return Object(S.a)(e,[{key:"hidePositionGuides",value:function(){this.positionOffset=null,this.state.verticalGuides=this.state.verticalGuides.map((function(e){return Object(k.a)({},e,{isVisible:!1})})),this.state.horizontalGuides=this.state.horizontalGuides.map((function(e){return Object(k.a)({},e,{isVisible:!1})}))}},{key:"hideRotationGuides",value:function(){this.rotationOffset=null,this.state.rotationGuides=this.state.rotationGuides.map((function(e){return Object(k.a)({},e,{isVisible:!1})}))}},{key:"positionGuides",get:function(){var e=this.state,t=e.verticalGuides,n=e.horizontalGuides;return[].concat(Object(v.a)(t),Object(v.a)(n))}},{key:"rotationGuides",get:function(){return this.state.rotationGuides}}]),e}();Object(E.G)([E.K],Nd.prototype,"state",2),Object(E.G)([E.bb],Nd.prototype,"snapToRotation",2),Object(E.G)([E.bb],Nd.prototype,"snapToPosition",2),Object(E.G)([E.bb],Nd.prototype,"hidePositionGuides",1),Object(E.G)([E.bb],Nd.prototype,"hideRotationGuides",1),Object(E.G)([E.bb],Nd.prototype,"dispose",2),Object(E.G)([E.N],Nd.prototype,"positionGuides",1),Object(E.G)([E.N],Nd.prototype,"rotationGuides",1);var Ud=function(){function e(t,n){var i=this;Object(O.a)(this,e),this.initWithImage=function(){var e=Object(y.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i.modalStore.showInfoModal("loading"),i.engineMediator.init(),i.snappingStore.init(),e.next=6,i.activeStore.setImage(t);case 6:i.configStore.config.displayResizeWarning&&i.checkImageResize(),i.configStore.config.filter.enablePreviewThumbnails&&"webgl"===i.configStore.config.engine.preferredRenderer&&(n=i.configStore.config.engine,i.previewThumbnails=new Bd(Object(k.a)({},n,{license:i.configStore.config.license,assetProvider:i.configStore.assetProvider}))),i.engine&&i.engine.pesdk.on("context-lost",(function(){i.configStore.events.onErrorWebGLContextLost()})),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),i.configStore.events.onErrorImageLoading(e.t0),i.modalStore.hideModal(),i.modalStore.showActionModal({type:"error",identifier:e.t0.identifier?e.t0.identifier:"rendering",error:e.t0,handleConfirm:function(){i.initWithImage(t)},handleDismiss:function(){i.activeStore.setImage(void 0)}});case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),this.checkImageResize=function(){i.engine.on("beganImageDownscaling",(function(){i.modalStore.showInfoModal("resizing")})),i.engine.on("imageDownscaled",(function(e){var t=e.width,n=e.height,r=i.configStore.config.engine.downscaleOptions.maxMegaPixels,o=E.k.isMobile()?r.mobile:r.desktop;i.modalStore.hideModal(),i.modalStore.showActionModal({type:"warning",identifier:"imageResized",handleConfirm:function(){i.modalStore.hideModal()},error:{megapixels:"".concat(o),width:"".concat(t),height:"".concat(n)}})}))},this.init=function(e){var t,n;if(null==(t=i.activeStore)?void 0:t.image){if(i.historyStore&&(null==(n=i.configStore)?void 0:n.config)){var r=i.historyStore.isDirty(),o=i.configStore.config.displayDiscardChangesWarning;r&&o?i.modalStore.showActionModal({type:"warning",identifier:"discardChanges",handleConfirm:function(){i.setImage(e),i.resetToolStates()},handleDismiss:function(){i.setImage(e,!0)}}):!r||o?(i.historyStore.reset(),i.setImage(e,!0).then((function(){"imageResized"!==i.modalStore.identifier&&i.modalStore.hideModal();var e=i.configStore.config,t=e.engine,n=e.displayCanvasRendererWarning;"canvas"===t.preferredRenderer&&n&&i.modalStore.showActionModal({type:"warning",identifier:"unsupportedWebGLRenderer",handleConfirm:function(){i.modalStore.hideModal()}})})).catch((function(){return null}))):i.setImage(e,!0)}}else i.initWithImage(e)},this.setImage=function(){var e=Object(y.a)(g.a.mark((function e(t){var n,r,o,a,s,l=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]&&l[1],e.prev=1,i.activeStore.image){e.next=6;break}i.initWithImage(t),e.next=34;break;case 6:return i.activeStore.setImageLoadedToEngine(!1),i.modalStore.showInfoModal(i.configStore.config.displayResizeWarning?"resizing":"loading"),i.scale.defaultScale=1,i.scale.resetOffset(),e.next=12,i.activeStore.setImage(t);case 12:return e.next=14,i.engineMediator.image.addImageToContainer();case 14:return i.canvasStore.resizeCanvas(),i.engineMediator.output.applyNewImageTransform(),i.engineMediator.preview.updateTransform(),i.scale.setInitialTransform(),i.transformToolStore.setCropDefaults(),r=i.transformToolStore.rotateFlipState,o=r.flipHorizontally,a=r.flipVertically,s=r.outputRotation,i.outputContainer.setData({flipVertically:a,flipHorizontally:o}),e.next=23,i.transformToolStore.rotateOutputContainer(Object(E.M)(s),!1);case 23:return n?(i.focusToolStore.updateCanvasControls(),i.spriteStore.updateCanvasControls(),i.transformToolStore.resetCrop(),i.transformToolStore.applyDefaultCrop(),i.transformToolStore.saveTransforms(),i.transformToolStore.onEnter(),i.transformToolStore.setRotation(i.transformToolStore.rotationInDegrees),i.transformToolStore.onLeave(),i.transformToolStore.onEnter(),i.transformToolStore.onLeave()):i.transformToolStore.saveTransforms(),i.snappingStore.calculatePreviewTopLeftPosition(),i.historyStore.addInitialSnapshot(),e.next=28,i.renderPromise();case 28:i.configStore.config.filter.enablePreviewThumbnails&&"webgl"===i.configStore.config.engine.preferredRenderer&&i.filterToolStore.setImageAndGetPreviews(),i.activeStore.tool?i.configStore.events.onImageLoaded():i.onReady(),"imageResized"!==i.modalStore.identifier&&i.modalStore.hideModal(),i.activeStore.setImageLoadedToEngine(!0),i.resize();case 34:e.next=42;break;case 36:throw e.prev=36,e.t0=e.catch(1),i.configStore.events.onErrorImageLoading(e.t0),i.modalStore.hideModal(),i.modalStore.showActionModal({type:"error",identifier:e.t0.identifier?e.t0.identifier:"rendering",error:e.t0,handleConfirm:function(){i.setImage(t,n)},handleDismiss:function(){i.activeStore.setImage(void 0)}}),new Error(e.t0);case 42:case"end":return e.stop()}}),e,null,[[1,36]])})));return function(t){return e.apply(this,arguments)}}(),this.onToolChange=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e!==r&&(null==(n=null==(t=i.engineMediator)?void 0:t.preview)?void 0:n.container)&&(-1!==[e,r].indexOf("transform")?("transform"===e?(i.transformToolStore.onLeave(),i.transformToolStore.addSnapshot(),i.snappingStore.calculatePreviewTopLeftPosition()):"transform"===r&&i.transformToolStore.onEnter(),i.resize(r)):(i.scale.resetOffset(),i.scale.resetPosition(),i.scale.setScaleToDefault(),i.scale.scaleRender(!0)),o&&i.render())},this.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(i.engineMediator)try{var t=i.activeStore.tool,r="transform"===e||!e&&"transform"===t;i.canvasStore.resizeCanvas(e),i.transformToolStore.applyDefaultCrop();var o=Object(E.kb)(i.transformToolStore.maxCropMaskSize);r||i.transformToolStore.onEnter();var a=i.engineMediator.preview.container.getRotation(),s=i.engineMediator.preview.updateTransform(a);if(s){i.scale.setInitialTransform(),i.transformToolStore.setCropDefaults(),i.transformToolStore.updateCanvasControls(o),i.focusToolStore.updateCanvasControls(),i.spriteStore.updateCanvasControls();var l=i.transformToolStore.getScaleWithFlip(a);i.engineMediator.preview.container.setScale(l),r||(i.transformToolStore.onLeave(),i.transformToolStore.onEnter(),i.transformToolStore.onLeave()),i.snappingStore.calculatePreviewTopLeftPosition(),i.render()}}catch(n){i.configStore.events.onErrorImageLoading(n),i.modalStore.showActionModal({type:"error",identifier:"rendering",handleConfirm:function(){i.resize(e)},handleDismiss:function(){i.activeStore.setImage(void 0)}})}},this.export=Object(y.a)(g.a.mark((function e(){var t,n,r,o,a,s,l,u,c,f,d,h,p=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},n=t.preventExportEvent,r=Object(w.a)(t,["preventExportEvent"]),o="transform"===i.activeStore.tool,e.prev=2,i.modalStore.showInfoModal("exporting"),o&&i.transformToolStore.onLeave(),a=i.configStore.config,s=Object(k.a)({},a.export.image,{},r),l=s.exportType,u=s.format,c=s.quality,f=s.enableDownload,d=s.transparent,e.next=10,i.engineMediator.engine.export(l,u,c,d);case 10:if(h=e.sent,!o||!i.transformToolStore){e.next=15;break}return i.transformToolStore.onEnter(),e.next=15,i.render();case 15:return i.historyStore&&(i.historyStore.isDirtySinceSave=!1),i.modalStore&&i.modalStore.hideModal(),f&&i.triggerFileDownload(a.export.filename,u,l,h),n||i.configStore.events.onExport(h),e.abrupt("return",h);case 22:if(e.prev=22,e.t0=e.catch(2),i.modalStore&&i.modalStore.hideModal(),!o||!i.transformToolStore){e.next=29;break}return i.transformToolStore.onEnter(),e.next=29,i.render();case 29:throw new Error(e.t0);case 30:case"end":return e.stop()}}),e,null,[[2,22]])}))),this.serialize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{image:!0},t=e.image;return i.serializationMediator?i.serializationMediator.serialize({image:t}):Promise.resolve({})},this.deserialize=function(e){return i.serializationMediator?i.serializationMediator.deserialize(e):Promise.resolve()},this.close=function(){var e,t,n,r,o,a;((null==(e=i.historyStore)?void 0:e.isDirtySinceSave)||(null==(n=null==(t=i.transformToolStore)?void 0:t.transformHistory)?void 0:n.hasChanges()))&&(null==(o=null==(r=i.configStore)?void 0:r.config)?void 0:o.displayCloseWarning)&&i.modalStore?i.modalStore.showActionModal({type:"warning",identifier:"unsavedChanges",handleConfirm:function(){var e;(null==(e=i.configStore)?void 0:e.events)&&i.configStore.events.onClose()}}):(null==(a=i.configStore)?void 0:a.events)&&i.configStore.events.onClose()},this.hasChanges=function(){return!!i.historyStore&&i.historyStore.isDirtySinceSave},this.getImageDimensions=function(){if(i.engine){var e=i.engine.getOutputDimensions();return{width:e.width,height:e.height}}return{width:0,height:0}},this.wait=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t){return setTimeout(t,e)}))},this.clickableCanvas=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,new Promise((function(e){return setTimeout(e,0)}));case 3:i.canvasStore.enableCanvasClick(),e.next=7;break;case 6:i.canvasStore.disableCanvasClick();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.onReady=Object(y.a)(g.a.mark((function e(){var t,n,r,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=i.configStore.config.forceCrop,i.activeStore.selectTool(i.configStore.defaultTool),t&&(n=i.transformToolStore.localOutputImageSize,r=n.width/n.height,-1!==(o=i.transformToolStore.entityManager.items.map((function(e){return e.ratio?e.ratio:e.dimensions.x/e.dimensions.y}))).indexOf("*")?console.error('ForceCrop will not work if "*" is one of the ratios'):-1===o.indexOf(parseFloat(r.toFixed(2)))&&i.activeStore.selectTool("transform")),i.configStore.events.onEditorReady();case 4:case"end":return e.stop()}}),e)}))),this.addSnapshot=function(e,t,n){i.historyStore.addSnapshot(e,t,n)},this.resetToolStates=function(){i.transformToolStore.pureReset(),i.filterToolStore.pureReset(),i.focusToolStore.pureReset(),i.adjustmentsToolStore.pureReset(),i.overlayToolStore.pureReset(),i.frameToolStore.pureReset(),i.brushToolStore.pureReset(),i.spriteStore.pureReset(),i.historyStore.reset(),i.render()},this.getAssetPath=function(e){return i.assetProvider.getPathForCategory(e)},this.render=Object(y.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.renderPromise();case 2:case"end":return e.stop()}}),e)}))),this.applyFlipToPreview=function(e){return i.engineMediator?i.engineMediator.previewSpaceToFlippedPreviewSpace(e):{x:0,y:0}},this.getPreviewSize=function(){if(!i.engine)return{width:0,height:0};var e=i.engine.getOutputDimensions(),t=e.width,n=e.height;return t&&n?{width:Math.round(i.worldToPreview(i.outputToWorld(t))),height:Math.round(i.worldToPreview(i.outputToWorld(n)))}:{height:n,width:t}},this.getImageMimeType=function(){return function(e){return"string"===typeof e?Pd(e):e.src.includes(".svg")?"image/svg+xml":e.src?Pd(e.src):"image/jpeg"}(i.activeStore.image)},this.cleanUpCanvasMemory=function(){var e,t,n;null==(n=null==(t=null==(e=i.engineMediator)?void 0:e.image)?void 0:t.container)||n.dispose()},this.dispose=function(){i.engineMediator&&(i.engineMediator.dispose(),i.engineMediator=null),i.serializationMediator=null,i.spriteStore&&(i.spriteStore.dispose(),i.spriteStore=null),i.scale=null,i.filterToolStore=null,i.adjustmentsToolStore=null,i.focusToolStore=null,i.overlayToolStore=null,i.frameToolStore=null,i.brushToolStore=null,i.transformToolStore&&(i.transformToolStore.dispose(),i.transformToolStore=null),i.libraryStore&&(i.libraryStore.dispose(),i.libraryStore=null),i.modalStore&&(i.modalStore.dispose(),i.modalStore=null),i.snappingStore&&(i.snappingStore.dispose(),i.snappingStore=null),i.activeStore&&(i.activeStore.dispose(),i.activeStore=null),i.canvasStore&&(i.canvasStore.dispose(),i.canvasStore=null),i.historyStore=null,i.configStore&&(i.configStore.dispose(),i.configStore=null)},this.triggerFileDownload=function(e,t,n,r){var o=e+("image/jpeg"===t&&"ms-blob"!==n?".jpeg":".png"),a=i.blobFromExportData(r);i.triggerBlobDownload(o,a)},this.triggerBlobDownload=function(e,t){if(navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var n=document.createElement("a"),i=URL.createObjectURL(t);n.href=i,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),Object(E.Ab)()||URL.revokeObjectURL(i)}},this.blobFromExportData=function(e){return"string"===typeof e?Md(e):e instanceof HTMLImageElement?Md(e.src):e},this.configStore=new Qf,n&&Object.entries(n).forEach((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];i.configStore.events.on(n,r)}));var r=this.configStore.saveConfig(t);this.engineMediator=new id(this),this.serializationMediator=new Ad(this),this.spriteStore=new Td(this),this.scale=new md(this),this.filterToolStore=new ef(this),this.adjustmentsToolStore=new Xc(this),this.focusToolStore=new sf(this),this.overlayToolStore=new df(this),this.frameToolStore=new Ff(this),this.brushToolStore=new Mf(this),this.transformToolStore=new wd(this),this.libraryStore=new Dd(this),this.modalStore=new pd(this),this.snappingStore=new Nd(this),this.activeStore=new cd(this),this.canvasStore=new dd(this),this.historyStore=new od(this),this.libraryStore.initProvider(r),this.libraryStore.fetchImages(),this.configStore.config.image?this.initWithImage(this.configStore.config.image):(this.configStore.events.onEditorReady(),"library"!==this.configStore.defaultTool&&"customTool"!==this.configStore.defaultTool||this.activeStore.selectTool(this.configStore.defaultTool))}return Object(S.a)(e,[{key:"renderPromise",value:function(){return this.engineMediator?this.engineMediator.render(this.engineMediator.preview.container):null}},{key:"previewToWorld",value:function(e,t){return this.engineMediator?(Object(E.F)(e),this.engineMediator.previewSpaceToWorldSpace(e,t)):{x:0,y:0}}},{key:"worldToPreview",value:function(e){return this.engineMediator?(Object(E.F)(e),this.engineMediator.worldSpaceToPreviewSpace(e)):{x:0,y:0}}},{key:"worldSizeToPreview",value:function(e){return this.engineMediator?{width:this.engineMediator.worldSpaceToPreviewSpace(e.width),height:this.engineMediator.worldSpaceToPreviewSpace(e.height)}:{width:0,height:0}}},{key:"previewSizeToWorld",value:function(e,t){return this.engineMediator?{width:this.engineMediator.previewSpaceToWorldSpace(e.width,t),height:this.engineMediator.previewSpaceToWorldSpace(e.height,t)}:{width:0,height:0}}},{key:"outputToWorld",value:function(e){return this.engineMediator?(Object(E.F)(e),this.engineMediator.outputSpaceToWorldSpace(e)):{x:0,y:0}}},{key:"previewToOutput",value:function(e){return this.engineMediator?(Object(E.F)(e),this.engineMediator.previewSpaceToOutputSpace(e)):{x:0,y:0}}},{key:"shortestOutputSide",get:function(){var e=this.outputContainer.getBounds();return Math.min(e.width,e.height)}},{key:"assetProvider",get:function(){return this.configStore.assetProvider}},{key:"engine",get:function(){return this.engineMediator?this.engineMediator.engine:null}},{key:"imageContainer",get:function(){return this.engineMediator?this.engineMediator.image.container:null}},{key:"orderHelper",get:function(){return this.engineMediator?this.engineMediator.orderHelper:null}},{key:"outputContainer",get:function(){return this.engineMediator.output.container}}]),e}();Object(E.G)([E.bb],Ud.prototype,"resize",2),Object(E.G)([E.bb],Ud.prototype,"export",2),Object(E.G)([E.bb],Ud.prototype,"clickableCanvas",2);var Gd=function(e){var t=e.children;return R.a.createElement(R.a.Fragment,null,t)},Hd=Object(D.c)(dc)(Nn(),(function(e){return e.theme.measurements.basicCard.large.width}),(function(e){return e.theme.measurements.basicCard.large.height}),(function(e){return e.theme.card.foreground})),Wd=Object(D.c)(dc)(Ln(),(function(e){return e.theme.measurements.basicCard.medium.width}),(function(e){return e.theme.measurements.basicCard.medium.height}),(function(e){return e.theme.card.foreground})),Vd=Object(D.c)(mu).attrs((function(){return{"data-test":E.r.CardContainer}}))(Bn(),(function(e){return e.theme.measurements.basicUIToolControlBar.itemsBarHeight})),qd=Object(D.c)(oa)(zn(),(function(e){return e.theme.measurements.fontSystem.basicUICardLabel.size}),(function(e){return e.theme.measurements.fontSystem.basicUICardLabel.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.basicUICardLabel.case})),Kd=D.c.div(Pn()),Xd=D.c.div.attrs((function(){return{"data-test":E.r.BasicToolControlBar}}))(Mn(),(function(e){return e.show?Object(D.b)(An()):Object(D.b)(Fn())})),Yd=Xd;Xd.defaultProps={show:!0};var Qd=Object(D.b)(Rn()),Zd=D.c.div(In(),(function(e){return e.theme.toolControlBar.shadow}),(function(e){return e.smallContainer&&Qd}),Qd),Jd=Object(D.b)(Dn(),(function(e){return e.theme.measurements.basicUIToolControlBar.controlsBarHeight})),$d=D.c.div(En(),(function(e){return e.theme.measurements.basicUIToolControlBar.controlsBarHeight}),(function(e){return e.theme.measurements.zIndex.controlsBar}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.inputLabelForeground}),(function(e){return e.show&&Object(D.b)(Tn())}),(function(e){return e.smallContainer&&Jd}),Jd),eh=Object(D.b)(jn()),th=D.c.div(Cn(),(function(e){return e.smallContainer&&eh}),eh),nh=Object(E.E)(xo()),ih=D.c.div(Sn()),rh=function(e){var t=e.label,n=e.className,i=e.children;return R.a.createElement(ih,{"aria-label":t,className:n},i)};function oh(){return Object(I.useContext)(Gs)}var ah=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-blacks-icon",d:"M24 12c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12m0 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10m4 12c0 2.788-2.326 3.879-7 3V18.5c4.148-.459 6.516.226 6.516 2.623 0 1.207-.492 1.998-1.512 2.474C27.504 23.999 28 24.619 28 26zm-5-6v3c2.244.068 2.775-.719 2.775-1.536 0-1.22-.531-1.812-2.775-1.464zm0 7.5c2.19.193 3.038-.04 3.038-1.484 0-1.37-1.096-1.695-3.038-1.516v3z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-blacks-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-blacks-icon"})))},sh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-brightness-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),R.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",null,R.a.createElement("use",{xlinkHref:"#photoeditorsdk-brightness-icon"})),R.a.createElement("use",{fillOpacity:"0.9",transform:"rotate(-45 24.039 24)",xlinkHref:"#photoeditorsdk-brightness-icon"})))},lh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-clarity-icon",d:"M24 12L13 24.001 24 36l11-11.999L24 12zm-8.29 12.001H21l3-9.041 8.29 9.041-8.28 9.029L28 24.001h-7l2.99 9.029-8.28-9.029z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-clarity-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-clarity-icon"})))},uh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-contrast-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c-6.62 0-12 5.38-12 12s5.38 12 12 12 12-5.38 12-12-5.38-12-12-12"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-contrast-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-contrast-icon"})))},ch=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-exposure-icon",d:"M24 34V14c5.51 0 10 4.49 10 10s-4.49 10-10 10m0-22c6.62 0 12 5.38 12 12s-5.38 12-12 12-12-5.38-12-12 5.38-12 12-12zm-3.536 8.464l-2.121 2.122-2.121-2.122-1.414 1.415L16.929 24l-2.121 2.121 1.414 1.415 2.121-2.122 2.121 2.122 1.415-1.415L19.757 24l2.122-2.121-1.415-1.415zm5.304 4.597l4.242-4.243 1.415 1.414-4.243 4.243-1.414-1.414z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-exposure-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(45 24 24)",xlinkHref:"#photoeditorsdk-exposure-icon"})))},fh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-gamma-icon",d:"M22.185 33.836c.594.109 1.2.164 1.815.164v2c-.735 0-1.462-.066-2.175-.197zm5.58-.568l.753 1.852c-.675.275-1.375.487-2.093.635l-.402-1.96c.597-.122 1.18-.299 1.741-.527zm-9.446-1.037c.5.346 1.03.646 1.586.895l-.82 1.824c-.666-.3-1.303-.66-1.903-1.074zm12.884-1.295l1.44 1.388a12.06 12.06 0 01-1.65 1.429l-1.167-1.625a10.06 10.06 0 001.377-1.192zm-15.758-1.754c.316.52.679 1.01 1.083 1.464l-1.493 1.33a12.038 12.038 0 01-1.3-1.756zm17.97-1.802l1.882.676a11.948 11.948 0 01-.925 1.982l-1.727-1.008a9.948 9.948 0 00.77-1.65zM24 18c.091 0 .182.002.273.006L24 18a6.071 6.071 0 01.668.037l.192.024a5.974 5.974 0 011.847.585l.01.005a5.992 5.992 0 011.154.768A5.99 5.99 0 0130 24c0 3.309-2.691 6-6 6a5.985 5.985 0 01-4.404-1.929l.163.17a6.052 6.052 0 01-1.353-2.07A5.951 5.951 0 0118 24c0-3.309 2.691-6 6-6zm2.827 3.173l-5.654 5.654A3.988 3.988 0 0024 28c2.206 0 4-1.794 4-4a3.988 3.988 0 00-1.173-2.827zM14.08 25.268c.076.606.208 1.2.392 1.777l-1.905.608a11.936 11.936 0 01-.472-2.134zm21.885-2.192a12.16 12.16 0 01-.032 2.198l-1.989-.21a10.193 10.193 0 00.027-1.836zM12.522 20.49l1.912.584a9.943 9.943 0 00-.37 1.783l-1.987-.226c.083-.73.232-1.445.445-2.14zm22.059-2.155c.345.643.63 1.316.853 2.013l-1.905.608a9.934 9.934 0 00-.71-1.676zm-19.587-2.266l1.5 1.323c-.402.456-.762.948-1.075 1.47l-1.715-1.03c.376-.625.808-1.215 1.29-1.763zm16.272-1.62c.58.442 1.12.936 1.61 1.476l-1.479 1.346c-.41-.45-.859-.862-1.343-1.23zm-12.241-1.372l.83 1.82a9.986 9.986 0 00-1.58.903l-1.147-1.638a11.986 11.986 0 011.897-1.085zm7.7-.766c.714.166 1.408.396 2.076.688L28 14.832a9.916 9.916 0 00-1.727-.573zm-2.857-.31l.021 2c-.613.006-1.22.068-1.812.184l-.383-1.964a12.046 12.046 0 012.174-.22z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"#fff"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-gamma-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-gamma-icon"})))},dh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-highlights-icon",d:"M31.07 31.07A9.932 9.932 0 0124 34c-2.67 0-5.18-1.04-7.07-2.93l14.14-14.14c3.9 3.9 3.9 10.24 0 14.14m1.42-15.56A11.995 11.995 0 0024 12c-3.07 0-6.14 1.17-8.49 3.51-4.68 4.69-4.68 12.29 0 16.98C17.86 34.83 20.93 36 24 36c3.07 0 6.14-1.17 8.49-3.51 4.68-4.69 4.68-12.29 0-16.98"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-highlights-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-highlights-icon"})))},hh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-saturation-icon",d:"M17 31c1.334 1.099 2 2.177 2 3.234 0 .797-.454 1.39-1.211 1.655-.165.057-.428.094-.789.111l-.172-.01a2.54 2.54 0 01-.617-.101C15.454 35.624 15 35.03 15 34.234c0-1.057.666-2.135 2-3.234zm8.7-6l-4.24 4H17v-3.81l.2-.19h8.5zm-.7-7.59l4.24 4.25L26.76 24h-8.54L25 17.41zm7.778-3.532a3 3 0 01.135 4.1l-.135.143-1.414 1.414 1.414 1.415-1.414 1.414-7.07-7.071 1.413-1.414 1.414 1.413 1.414-1.414a3.001 3.001 0 014.243 0z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-saturation-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-saturation-icon"})))},ph=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-shadows-icon",d:"M30.365 17.637l3.076 3.076c.382 1.09.566 2.234.56 3.387l-5.05-5.049-1.414 1.414 6.123 6.124a9.674 9.674 0 01-.792 2.036l-6.746-6.745-1.414 1.414 7.036 7.036c-.212.254-.43.502-.672.742-.24.24-.488.46-.742.672l-7.036-7.036-1.414 1.414 6.745 6.746a9.674 9.674 0 01-2.036.792l-6.124-6.123-1.414 1.414L24.101 34a10.012 10.012 0 01-3.388-.558l-3.076-3.076-.707.707c-3.896-3.896-3.896-10.246 0-14.142 3.896-3.896 10.246-3.896 14.142 0l-.707.707zm-14.849-2.12c-4.688 4.687-4.688 12.281 0 16.97a12.036 12.036 0 004.108 2.693c.064.022.127.057.191.078 4.264 1.577 9.242.658 12.671-2.772 3.43-3.429 4.35-8.407 2.772-12.67-.02-.065-.056-.128-.078-.192a12.036 12.036 0 00-2.694-4.108c-4.688-4.688-12.282-4.688-16.97 0z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-shadows-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shadows-icon"})))},mh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-sharpness-icon",d:"M24 12l11 24H13l11-24zm0 4.8V34h7.883L24 16.8z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-sharpness-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-sharpness-icon"})))},gh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-temperature-icon",d:"M24 12a4 4 0 014 4v7.255a7 7 0 11-8 0V16a4 4 0 014-4zm0 2a2 2 0 00-2 2v8.298l-.856.597a5 5 0 105.712 0L26 24.298V16a2 2 0 00-2-2zm1 6v5.126A4.002 4.002 0 0124 33a4 4 0 01-1-7.874V20h2z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-temperature-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-temperature-icon"})))},yh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-whites-icon",d:"M24 12c6.627 0 12 5.373 12 12s-5.373 12-12 12-12-5.373-12-12 5.373-12 12-12zm-2 6.46h-2c.221 4.539.762 9.051 1 11.04h1.5l1.5-5.52 1.5 5.52H27c.238-1.989.779-6.501 1-11.04h-2c-.051 1.071-.432 7.446-.5 7.973-.459-1.717-.541-3.111-1-4.811h-1c-.442 1.7-.541 2.975-1 4.811-.051-.527-.466-6.902-.5-7.973z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-whites-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-whites-icon"})))},vh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-close-icon",d:"M21.583 0L24 2.416 14.416 12 24 21.584 21.583 24 12 14.416 2.417 24 0 21.584 9.584 12 0 2.416 2.417 0 12 9.584 21.583 0z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-close-icon"})),R.a.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-close-icon"})))};var bh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-export-icon",d:"M22 1.5a1.5 1.5 0 011.493 1.356L23.5 3H22h1.5v17a1.5 1.5 0 01-1.5 1.5H12a1.5 1.5 0 01-1.493-1.356L10.5 20v-6h2v5.499h9v-16h-9V9h-2V3A1.5 1.5 0 0112 1.5h10zM6.15 5.817L7.634 7.3l-3.171 3.171h13.978v2H4.47l3.171 3.17-1.483 1.483L.5 11.467l5.65-5.65z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"#fff"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-export-icon"})),R.a.createElement("use",{fill:"currentcolor",fillOpacity:"0.9",transform:"rotate(90 12 11.5)",xlinkHref:"#photoeditorsdk-export-icon"})))},_h=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-redo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-redo-icon"})),R.a.createElement("use",{fill:"currentColor",transform:"matrix(0 1 1 0 .25 -.25)",xlinkHref:"#photoeditorsdk-redo-icon"})))},xh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"25",height:"25",viewBox:"0 0 25 25"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-undo-icon",d:"M4 10.065C4 4.506 8.365 0 13.75 0s9.75 4.506 9.75 10.065v9.29h-3v-9.29c0-3.849-3.022-6.968-6.75-6.968S7 6.217 7 10.065v7.741h3L5.5 24 1 17.806h3v-7.741z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-undo-icon"})),R.a.createElement("use",{fill:"currentColor",transform:"rotate(90 12.25 12)",xlinkHref:"#photoeditorsdk-undo-icon"})))};var kh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Center Align",width:"26",height:"26"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-align-center-icon",d:"M31.5 30v3h-15v-3h15zm4.5-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"#fff"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-align-center-icon"})),R.a.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-center-icon"})))},wh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Left Align",width:"26",height:"26"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-align-left-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"#fff"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-align-left-icon"})),R.a.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-align-left-icon"})))};var Oh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",width:"26",height:"26",focusable:"false","aria-hidden":"true","aria-label":"Right Align"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-align-right-icon",d:"M27 30v3H12v-3h15zm9-7.5v3H12v-3h24zm0-7.5v3H12v-3h24z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H48V48H0z"}),R.a.createElement("mask",{fill:"#fff"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-align-right-icon"})),R.a.createElement("use",{fill:"currentColor",transform:"matrix(-1 0 0 1 48 0)",xlinkHref:"#photoeditorsdk-align-right-icon"})))},Sh=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Adjustments",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},R.a.createElement("g",{fill:"none",fillRule:"evenodd"},R.a.createElement("g",null,R.a.createElement("g",{fill:"#D8D8D8",opacity:"0"},R.a.createElement("rect",{width:"48",height:"48"})),R.a.createElement("g",{transform:"translate(12 12)"},R.a.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),R.a.createElement("g",{transform:"translate(2 13)",fill:"currentColor"},R.a.createElement("path",{d:"M3.02746439,4 C3.00931666,4.16416693 3,4.33099545 3,4.5 C3,4.66900455 3.00931666,4.83583307 3.02746439,5 L0,5 L0,4 L3.02746439,4 Z M13,4 L20,4 L20,5 L13,5 L13,4 Z",fillOpacity:"0.2"}),R.a.createElement("path",{d:"M5.09842503,6.29819429 C5.0340931,6.05140089 5,5.7851211 5,5.5 C5,3.56700338 6.56700338,2 8.5,2 C8.7851211,2 9.05140089,2.0340931 9.29819429,2.09842503 C10.0278893,2.64566496 10.5,3.5176988 10.5,4.5 C10.5,6.15685425 9.15685425,7.5 7.5,7.5 C6.5176988,7.5 5.64566496,7.02788926 5.09842503,6.29819429 Z M11.1637159,7.11349161 C10.874061,7.51881791 10.5188179,7.87406095 10.1134916,8.16371592 C10.5772175,7.93004328 10.9300433,7.5772175 11.1637159,7.11349161 Z",fillOpacity:"0.2"}),R.a.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,0 7.5,0 C9.98528137,0 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"})),R.a.createElement("g",{transform:"rotate(-180 11 5.5)",fill:"currentColor"},R.a.createElement("path",{d:"M11.9725356,4 L20,4 L20,5 L11.9725356,5 C11.9906833,4.83583307 12,4.66900455 12,4.5 C12,4.33099545 11.9906833,4.16416693 11.9725356,4 Z M0,4 L2,4 L2,5 L0,5 L0,4 Z",fillOpacity:"0.2"}),R.a.createElement("g",{transform:"rotate(-180 5 3.5)",fillOpacity:"0.2"},R.a.createElement("path",{d:"M0.0984250251,4.29819429 C0.0340930963,4.05140089 0,3.7851211 0,3.5 C0,1.56700338 1.56700338,0 3.5,0 C3.7851211,0 4.05140089,0.0340930963 4.29819429,0.0984250251 C5.02788926,0.645664963 5.5,1.5176988 5.5,2.5 C5.5,4.15685425 4.15685425,5.5 2.5,5.5 C1.5176988,5.5 0.645664963,5.02788926 0.0984250251,4.29819429 Z M6.16371592,5.11349161 C5.87406095,5.51881791 5.51881791,5.87406095 5.11349161,6.16371592 C5.5772175,5.93004328 5.93004328,5.5772175 6.16371592,5.11349161 Z"})),R.a.createElement("path",{d:"M7.5,7.5 C9.15685425,7.5 10.5,6.15685425 10.5,4.5 C10.5,2.84314575 9.15685425,1.5 7.5,1.5 C5.84314575,1.5 4.5,2.84314575 4.5,4.5 C4.5,6.15685425 5.84314575,7.5 7.5,7.5 Z M7.5,9 C5.01471863,9 3,6.98528137 3,4.5 C3,2.01471863 5.01471863,-3.6739404e-16 7.5,-3.6739404e-16 C9.98528137,-3.6739404e-16 12,2.01471863 12,4.5 C12,6.98528137 9.98528137,9 7.5,9 Z",fillOpacity:"0.87"}))))))};var Ch=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Brush",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{fillOpacity:"0.87",d:"M14.73 18.86C13.293 19.503 11.624 20 10 20 2 20 0 13 0 10c.486.972 2.37 5.848 7.537 4.165C7.873 17.125 10.427 19 13 19c.6 0 1.177-.05 1.73-.14zM8.422 8.63a7.352 7.352 0 00-1.127 1.616L2.401 3.705c-.215-.287-.178-.807.072-1.056l.088-.088L8.5 8.5l-.078.13z",opacity:"0.5",transform:"translate(12 12) translate(2 2)"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M7.295 10.246c-.27.526-.48 1.09-.615 1.68L1.2 4.603c-.663-.885-.564-2.24.212-3.015l.176-.176c.78-.78 2.121-.881 3.015-.212l7.245 5.421a6.088 6.088 0 00-1.67.624L3.706 2.401c-.294-.22-.801-.184-1.056.072l-.176.176c-.25.25-.287.769-.072 1.056l4.894 6.54z",transform:"translate(12 12) translate(2 2)"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858z",opacity:"0.5",transform:"translate(12 12) translate(2 2) translate(7 7)"}),R.a.createElement("path",{fillOpacity:"0.25",d:"M10.379 9.027c.053.135.108.263.165.385C8.914 10.158 7.545 10.5 6 10.5c-2.165 0-4-1.706-4-4 0-1.528.79-2.921 1.88-3.74-.882 2.084-1.025 6.482 6.499 6.267z",transform:"translate(12 12) translate(2 2) translate(7 7)"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M9.702 6.554c-.185-.869-.151-.71-.207-.955C8.88 2.902 8.145 2 6 2 3.98 2 2 4.08 2 6.5c0 2.294 1.835 4 4 4 1.545 0 2.915-.342 4.544-1.088-.332-.7-.578-1.619-.842-2.858zM6 12C3.239 12 .5 9.842.5 6.5S3.239.5 6 .5c6.5 0 4 8 7 9.342C11 10.947 8.761 12 6 12z",transform:"translate(12 12) translate(2 2) translate(7 7)"})))},jh=function(){return R.a.createElement("svg",{"aria-hidden":"true",focusable:"false","aria-label":"Filter",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},R.a.createElement("g",{fill:"none",fillRule:"evenodd"},R.a.createElement("g",null,R.a.createElement("g",{fill:"#D8D8D8",opacity:"0"},R.a.createElement("rect",{width:"48",height:"48"})),R.a.createElement("g",{transform:"translate(16 14)",fill:"currentColor"},R.a.createElement("g",null,R.a.createElement("path",{d:"M1.53468397,11.3244256 C2.30584171,10.1516526 4.0927284,8.69757613 8,10 C11.5643313,11.1881104 13.1877038,10.2588113 13.9183327,9.30853287 C14.2918933,10.1286474 14.5,11.0400207 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.41014913,18.5 1.5,15.5898509 1.5,12 C1.5,11.7718729 1.51175212,11.5464906 1.53468397,11.3244256 Z",fillOpacity:"0.2"}),R.a.createElement("path",{d:"M1.53471819,12.6759057 C2.39408133,13.5811739 4.12541941,14.1109247 5.5,13.5 C9.81068889,11.5841383 9.99203585,9.66827654 14.3948028,10.8290113 C14.4639074,11.2088572 14.5,11.6002137 14.5,12 C14.5,15.5898509 11.5898509,18.5 8,18.5 C4.63838968,18.5 1.87279864,15.9481381 1.53471819,12.6759057 Z",fillOpacity:"0.25"}),R.a.createElement("path",{d:"M11,1.44328993e-15 L11,4.58151705 C13.9318303,5.7682918 16,8.64262245 16,12 C16,16.418278 12.418278,20 8,20 C3.581722,20 0,16.418278 0,12 C0,8.64262245 2.06816966,5.7682918 5,4.58151705 L5,1.60982339e-15 L6.5,1.44328993e-15 L6.5,5.67393184 C3.6333,6.35109564 1.5,8.92641836 1.5,12 C1.5,15.5898509 4.41014913,18.5 8,18.5 C11.5898509,18.5 14.5,15.5898509 14.5,12 C14.5,8.92641836 12.3667,6.35109564 9.5,5.67393184 L9.5,1.77635684e-15 L11,1.44328993e-15 Z",fillOpacity:"0.87"}))))))},Th=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Focus",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},R.a.createElement("g",{fill:"none",fillRule:"evenodd"},R.a.createElement("g",null,R.a.createElement("g",{fill:"#D8D8D8",opacity:"0"},R.a.createElement("rect",{width:"48",height:"48"})),R.a.createElement("g",{transform:"translate(12 12)"},R.a.createElement("rect",{fill:"#D8D8D8",opacity:"0",width:"24",height:"24"}),R.a.createElement("g",{transform:"translate(4 2)",fill:"currentColor"},R.a.createElement("path",{d:"M8.51312274,19.9836057 C8.77273397,19.9669655 9.02898229,19.9377873 9.2812837,19.8966625 C9.14309542,19.9643562 9.04607398,20 9,20 C8.83633495,20 8.67398178,19.9944755 8.51312274,19.9836057 Z M2.27242753,15.0235117 C2.09503729,14.4174909 2,13.7771617 2,13.115 C2,8.89625769 7.39855682,4.1952443 9.03524007,2.8669743 C9.66704719,3.45933018 10.2896864,4.09178959 10.8802638,4.75434357 C12.9939648,7.12565193 14.310818,9.45010207 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C5.525182,18.5 3.37015673,17.0943182 2.27242753,15.0235117 Z M15.999821,11.9547651 C15.9999402,11.9698392 16,11.9849176 16,12 C16,12.0581275 15.9984809,12.1163475 15.9954873,12.1746435 C15.9978914,12.1015915 15.9993401,12.0282946 15.999821,11.9547651 Z",fillOpacity:"0.2"}),R.a.createElement("path",{d:"M3.47269084,16.6357644 C3.47244857,13.6389249 9.59189484,15.3529683 12,11.5 C13.2066771,9.56931667 12.316614,7.05620551 11.0727604,4.97270186 C13.0737756,7.26814668 14.316054,9.51197209 14.481291,11.4644804 C14.4937541,11.6117488 14.5,11.7569175 14.5,11.9 C14.5,15.5490785 11.5855665,18.5 8,18.5 C6.2411126,18.5 4.64375705,17.7899702 3.47269084,16.6357644 Z",fillOpacity:"0.25"}),R.a.createElement("path",{d:"M7.73975027,2.16383649 C6.84545319,2.94914111 5.95084629,3.82194197 5.11973623,4.75434357 C3.00603518,7.12565193 1.68918197,9.45010207 1.51870896,11.4644804 C1.50624591,11.6117488 1.5,11.7569175 1.5,11.9 C1.5,15.5492218 4.41434886,18.5 8,18.5 C11.5855665,18.5 14.5,15.5490785 14.5,11.9 C14.5,11.7569175 14.4937541,11.6117488 14.481291,11.4644804 C14.310818,9.45010207 12.9939648,7.12565193 10.8802638,4.75434357 C10.0491537,3.82194197 9.15454681,2.94914111 8.26024973,2.16383649 C8.17157048,2.08596503 8.08476013,2.01060875 8,1.93784184 C7.91523987,2.01060875 7.82842952,2.08596503 7.73975027,2.16383649 Z M8,20 C3.581722,20 0,16.3735065 0,11.9 C0,6.05 8,0 8,0 C8,0 16,6.05 16,11.9 C16,16.3732777 12.418278,20 8,20 Z",fillOpacity:"0.87"}))))))},Eh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",focusable:"false","aria-hidden":"true","aria-label":"Frames",width:"48",height:"48",viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},R.a.createElement("path",{fillOpacity:"0.2",d:"M8 8L17 7 17 17 7 17z"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M4.5 19.5h15v-15h-15v15zM3 3h18v18H3V3z"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M7 17h10V7H7v10zM6 6h12v12H6V6z"}),R.a.createElement("path",{fillOpacity:"0.25",d:"M9 15L11 12 13 14 14 13.5 15 15z"})))},Dh=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Library",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},R.a.createElement("g",{fill:"none",fillRule:"evenodd"},R.a.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},R.a.createElement("g",null,R.a.createElement("polygon",{fillOpacity:"0.2",points:"3 3 12.5 1.5 12.5 15.5 1.5 15.5"}),R.a.createElement("path",{d:"M1.5,1.5 L1.5,15.5 L12.5,15.5 L12.5,1.5 L1.5,1.5 Z M0,0 L14,0 L14,17 L0,17 L0,0 Z",fillOpacity:"0.87"}),R.a.createElement("polygon",{fillOpacity:"0.25",points:"3 11 6 7 8 9 9 8.5 11 11"}),R.a.createElement("circle",{fillOpacity:"0.25",cx:"9",cy:"5",r:"1"}),R.a.createElement("rect",{fillOpacity:"0.25",x:"3",y:"13",width:"8",height:"1"}),R.a.createElement("g",{transform:"rotate(14 -2.352 56.952)",fillOpacity:"0.2"},R.a.createElement("path",{d:"M1.32904158,1.07500967e-13 L5,1.07500967e-13 L5,14.7234101 L4,10.7126291 L4,1 L1.57836958,1 L1.32904158,1.07500967e-13 Z M5,14.9745817 L5,16 L0.887271787,16 L5,14.9745817 Z"}),R.a.createElement("path",{d:"M1.82769758,2 L3,2 L3,6.70184819 L1.82769758,2 Z"}))))))},Ih=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Overlays",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},R.a.createElement("g",{fill:"none",fillRule:"evenodd"},R.a.createElement("g",{transform:"translate(15 15)",fill:"currentColor"},R.a.createElement("path",{d:"M13.5,4 L13.5,13.5 L4,13.5 L4,5 C4,4.44771525 4.44771525,4 5,4 L13.5,4 Z M15,4 L17,4 C17.5522847,4 18,4.44771525 18,5 L18,17 C18,17.5522847 17.5522847,18 17,18 L5,18 C4.44771525,18 4,17.5522847 4,17 L4,15 L14,15 C14.5522847,15 15,14.5522847 15,14 L15,4 Z",fillOpacity:"0.2"}),R.a.createElement("path",{d:"M1.5,1.5 L1.5,13.5 L13.5,13.5 L13.5,1.5 L1.5,1.5 Z M1,0 L14,0 C14.5522847,-1.01453063e-16 15,0.44771525 15,1 L15,14 C15,14.5522847 14.5522847,15 14,15 L1,15 C0.44771525,15 6.76353751e-17,14.5522847 0,14 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z",fillOpacity:"0.87"}))))},Rh=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true",width:"48px",height:"48px",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-label":"Stickers",viewBox:"0 0 48 48"},R.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},R.a.createElement("g",null,R.a.createElement("g",{transform:"translate(14.000000, 14.000000)",fill:"currentColor"},R.a.createElement("g",{transform:"translate(2.000000, 2.000000)",fillOpacity:"0.2"},R.a.createElement("path",{d:"M11.5840291,0.290311095 C14.1040281,1.4637822 15.9529364,3.83641178 16.3972985,6.6747443 C11.4538042,7.5567274 7.55733385,11.4556991 6.68374109,16.3973312 C3.83946575,15.9530468 1.46423317,14.1041207 0.290132399,11.5832649 C0.0988489957,10.7650202 3.01980663e-14,9.89786431 3.01980663e-14,9 C3.01980663e-14,6.64646143 0.903391324,4.50392121 2.38232909,2.90022422 C4.02683831,1.11698861 6.38297582,-3.55271368e-15 9,-3.55271368e-15 C9.89814387,-3.55271368e-15 10.7655602,0.0989105588 11.5840291,0.290311095 Z"}),R.a.createElement("path",{d:"M17.9877222,8 L8,17.9877222 C8.2591955,12.5923102 12.5906864,8.26470667 17.9877222,8 Z"})),R.a.createElement("path",{d:"M9.87290303,14.9211604 C9.09408801,14.4293124 5,11.7146562 5,9 C5,7.34 6.34,6 8,6 C8.77,6 9.47,6.52 10,7 C10.53,6.52 11.23,6 12,6 C13.66,6 15,7.34 15,9 C15,9.30171667 14.9494261,9.60343334 14.8584511,9.90209822 C12.7354304,11.0373368 10.9933363,12.7905402 9.87290303,14.9211604 Z",fillOpacity:"0.25"}),R.a.createElement("path",{d:"M10,1.5 C5.30557963,1.5 1.5,5.30557963 1.5,10 C1.5,14.2449983 4.61102233,17.7611603 8.68374109,18.3973312 C9.55733385,13.4556991 13.4538042,9.5567274 18.3972985,8.6747443 C17.7608961,4.60976745 14.2436106,1.5 10,1.5 Z M0,10 C0,4.4771525 4.4771525,0 10,0 C15.5228475,0 20,4.4771525 20,10 C14.5988732,10.2649073 10.2649073,14.5988732 10.0116954,19.9999933 C4.4771525,20 0,15.5228475 0,10 Z",fillOpacity:"0.87"})))))},Fh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",focusable:"false","aria-hidden":"true","aria-label":"Texts",width:"48",height:"48"},R.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{fillOpacity:"0.2",d:"M17.883 19.5H16.07L11.702 6.833l1.235-1.411L17.883 19.5z",transform:"translate(12 12)"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M10.8 8.818L8.483 14.5h4.275l-1.96-5.682zM10 6.5l3.5-4 5.973 17H21V21h-8v-1.5h1.483L13.276 16H7.873l-1.426 3.5H8V21H3v-1.5h1.704L10 6.5zm1.702.333L16.069 19.5h1.814L12.937 5.422l-1.235 1.411z",transform:"translate(12 12)"}),R.a.createElement("path",{fillOpacity:"0.2",d:"M19.55 15l-.35-1H21v1h-1.45zm1.05 3l-.35-1H21v1h-.4zM7.639 8L7.25 9H3V8h4.639zm1.167-3l-.39 1H7V5h1.806zm-2.334 6l-.389 1H6v-1h.472zm-1.166 3l-.39 1H3v-1h2.306zm-1.167 3l-.389 1H3v-1h1.139zM15.35 3L15 2h1v1h-.65zm3.15 9l-.35-1H21v1h-2.5zm-1.05-3l-.35-1H21v1h-3.55zM16.4 6l-.35-1H18v1h-1.6zm-5.9-3H9V2h2.5l-1 1zM3 5h3v1H3V5zm16 0h2v1h-2V5zM3 11h2v1H3v-1zm18-8h-4V2h4v1zM8 3H3V2h5v1z",transform:"translate(12 12)"})))},Ah=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Text Design",width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},R.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{fillOpacity:"0.87",d:"M1 0h14a1 1 0 011 1v19l-8-6-8 6V1a1 1 0 011-1zm.5 1.5V17L8 12.125 14.5 17V1.5h-13z",transform:"translate(14 14) translate(2)"}),R.a.createElement("path",{fillOpacity:"0.2",d:"M1.5 1.5h13V17L8 12.125 1.5 17V1.5z",transform:"translate(14 14) translate(2)"}),R.a.createElement("path",{fillOpacity:"0.25",d:"M9 4l2.52 7H10.2l-.7-1.85H6.45L5.77 11H4.49L6.9 4H9zm-1.04.78h-.05L6.73 8.14H9.2L7.96 4.78z",transform:"translate(14 14) translate(2)"})))};var Mh=function(){return R.a.createElement("svg",{focusable:"false","aria-hidden":"true","aria-label":"Transform",width:"48",height:"48",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(12 12)"},R.a.createElement("path",{fillOpacity:"0.2",d:"M10 10L15 9 15 15 9 15z"}),R.a.createElement("path",{fillOpacity:"0.87",d:"M9 15h6V9H9v6zm-1.5 0V7.5H15V3h1.5v13.5H3V15h4.5zm0 2.5H9V21H7.5v-3.5zM21 7.5V9h-3.5V7.5H21z"}),R.a.createElement("g",{fillOpacity:"0.2"},R.a.createElement("path",{d:"M0 10h1a9.003 9.003 0 015.5-8.294L7 3 10.942.044C10.632.014 10.318 0 10 0 4.477 0 0 4.477 0 10z",transform:"translate(2 2)"}),R.a.createElement("path",{d:"M9 20h1a9.003 9.003 0 015.5-8.294L16 13l3.942-2.956c-.31-.03-.624-.044-.942-.044-5.523 0-10 4.477-10 10z",transform:"translate(2 2) rotate(-180 14.47 15)"}))))},Ph=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-icon-add-text",d:"M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm1 6h-2v5H6v2h5v5h2v-5h5v-2h-5V6z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-icon-add-text"})),R.a.createElement("use",{fill:"currentColor",fillRule:"nonzero",xlinkHref:"#photoeditorsdk-icon-add-text"})))},zh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M12 1c5.523 0 10 4.477 10 10a9.98 9.98 0 01-3.678 7.749c1.877.92 3.445 2.251 4.502 3.88l.176.283-1.743 1.02c-1.04-1.735-2.824-3.102-4.995-3.884A9.94 9.94 0 0112 21a9.962 9.962 0 01-4.255-.948c-2.076.748-3.797 2.033-4.852 3.661l-.147.237L1 22.935c1.053-1.766 2.694-3.204 4.684-4.183A9.975 9.975 0 012 11C2 5.477 6.477 1 12 1zm0 2a8 8 0 100 16 8 8 0 000-16zm0 5a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6zm1-4v1h-2V6h2z"}))},Bh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("path",{fill:"currentColor",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M16.23 10.885a2.292 2.292 0 00-2.285-2.286 2.292 2.292 0 00-2.286 2.286 2.292 2.292 0 002.286 2.286 2.292 2.292 0 002.286-2.286zM13.946.599C8.265.6 3.66 5.205 3.66 10.885H.231l4.571 4.571 4.572-4.571H5.945c0-4.423 3.577-8 8-8s8 3.577 8 8a7.994 7.994 0 01-12.64 6.514l-1.623 1.646a10.3 10.3 0 006.263 2.126c5.68 0 10.286-4.606 10.286-10.286S19.625.599 13.945.599z",transform:"rotate(56 11.298 10.261)"}))};var Lh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-shuffle-icon",d:"M24 10v8a3 3 0 01-3 3H6v3l-6-4 6-4v3h15a1 1 0 001-1v-8h2zM18 0l6 4-6 4V5H3a1 1 0 00-1 1v8H0V6a3 3 0 013-3h15V0z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-shuffle-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-shuffle-icon"})))},Nh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-upload-icon",d:"M4.143 17.286l-.001 3.142h15.715v-3.142H23v6.285H1v-6.285h3.143zM12 0l9.429 9.429-2.2 2.2L13.57 5.97v9.743H10.43V5.971L4.77 11.63l-2.2-2.2L12 0z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-upload-icon"})),R.a.createElement("use",{fill:"currentColor",xlinkHref:"#photoeditorsdk-upload-icon"})))},Uh=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-bring-to-front-icon",d:"M21 16a2 2 0 012 2v4a2 2 0 01-2 2H3a2 2 0 01-2-2v-4a2 2 0 012-2h18zM12.006 1l5.996 5.996-1.414 1.414-3.578-3.577V12h-2.008V4.833L7.418 8.417 6.004 7.003 12.006 1z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{d:"M0 0H24V24H0z"}),R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-bring-to-front-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-bring-to-front-icon"})))},Gh=function(e){var t=e.highlight,n=void 0===t?"currentColor":t,i=e.width,r=void 0===i?48:i,o=e.height,a=void 0===o?48:o;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:a,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(13 13)"},R.a.createElement("path",{d:"M22 3.701h-1.642V1.644l-2.06-.001V0h2.538c.421 0 .682.174.827.32.322.322.337.748.337.83v2.551z"}),R.a.createElement("path",{d:"M1.643 3.701H0V1.165C0 .743.174.482.32.336.64.016 1.06 0 1.147 0H3.701v1.643H1.644l-.001 2.058z"}),R.a.createElement("path",{d:"M13.7232174 1.5486087L17.4249565 1.5486087 17.4249565 0 13.7232174 0z"}),R.a.createElement("path",{d:"M9.15008696 1.5486087L12.8508696 1.5486087 12.8508696 0 9.15008696 0z"}),R.a.createElement("path",{d:"M4.57504348 1.5486087L8.27678261 1.5486087 8.27678261 0 4.57504348 0z"}),R.a.createElement("path",{d:"M0 8.27582609L1.5486087 8.27582609 1.5486087 4.57504348 0 4.57504348z"}),R.a.createElement("path",{d:"M20.4513913 8.27582609L22 8.27582609 22 4.57504348 20.4513913 4.57504348z"}),R.a.createElement("path",{d:"M0 12.8508696L1.5486087 12.8508696 1.5486087 9.14913043 0 9.14913043z"}),R.a.createElement("path",{d:"M0 17.4249565L1.5486087 17.4249565 1.5486087 13.7232174 0 13.7232174z"}),R.a.createElement("path",{d:"M20.4513913 12.8508696L22 12.8508696 22 9.14913043 20.4513913 9.14913043z"}),R.a.createElement("path",{d:"M20.4513913 17.4249565L22 17.4249565 22 13.7232174 20.4513913 13.7232174z"}),R.a.createElement("path",{d:"M3.702 22H1.165c-.421 0-.682-.174-.828-.32-.322-.322-.337-.748-.337-.83v-2.552h1.643v2.059h2.059V22z"}),R.a.createElement("path",{d:"M20.853 22h-2.554v-1.642h2.057l.001-2.06H22v2.538c0 .42-.174.682-.319.827-.32.32-.742.337-.828.337"}),R.a.createElement("path",{d:"M4.57504348 22L8.27678261 22 8.27678261 20.4513913 4.57504348 20.4513913z"}),R.a.createElement("path",{d:"M9.15008696 22L12.8508696 22 12.8508696 20.4513913 9.15008696 20.4513913z"}),R.a.createElement("path",{d:"M13.7232174 22L17.4249565 22 17.4249565 20.4513913 13.7232174 20.4513913z"}))))},Hh=function(e){var t=e.highlight,n=void 0===t?"currentColor":t,i=e.width,r=void 0===i?48:i,o=e.height,a=void 0===o?48:o;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:a,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{fill:n,d:"M29.967 13.005L26.984 13c-3.35 0-5.516 2.222-5.516 5.66v2.61h-2.999c-.26 0-.469.21-.469.47v3.78c0 .26.21.47.469.47h2.999v9.541c0 .26.21.469.469.469h3.912c.26 0 .47-.21.47-.469V25.99h3.506c.259 0 .469-.21.469-.47l.001-3.78a.47.47 0 00-.469-.47h-3.508v-2.212c0-1.064.254-1.603 1.639-1.603l2.01-.001c.258 0 .468-.21.468-.47v-3.51a.47.47 0 00-.468-.47z"})))},Wh=function(e){var t=e.highlight,n=void 0===t?"currentColor":t,i=e.width,r=void 0===i?48:i,o=e.height,a=void 0===o?48:o;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:a,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(13 13)"},R.a.createElement("path",{d:"M15.125 0h-8.25A6.876 6.876 0 000 6.875v8.25A6.876 6.876 0 006.875 22h8.25A6.876 6.876 0 0022 15.125v-8.25A6.876 6.876 0 0015.125 0zm4.813 15.125a4.818 4.818 0 01-4.813 4.813h-8.25a4.818 4.818 0 01-4.813-4.813v-8.25a4.818 4.818 0 014.813-4.813h8.25a4.818 4.818 0 014.813 4.813v8.25z"}),R.a.createElement("path",{d:"M11 5.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zm0 8.938A3.442 3.442 0 017.562 11 3.441 3.441 0 0111 7.562 3.441 3.441 0 0114.438 11 3.442 3.442 0 0111 14.438z"}),R.a.createElement("circle",{cx:"16.913",cy:"5.088",r:"1"}))))},Vh=function(e){var t=e.highlight,n=void 0===t?"currentColor":t,i=e.width,r=void 0===i?48:i,o=e.height,a=void 0===o?48:o;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:a,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillOpacity:"0.9",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("path",{fill:n,d:"M36 17.305c-.892.402-1.843.668-2.835.797a4.997 4.997 0 002.165-2.79 9.685 9.685 0 01-3.12 1.222 4.874 4.874 0 00-3.595-1.596c-2.723 0-4.916 2.267-4.916 5.047 0 .4.032.785.113 1.151-4.09-.205-7.71-2.215-10.141-5.278a5.18 5.18 0 00-.673 2.55c0 1.748.877 3.297 2.185 4.194a4.766 4.766 0 01-2.223-.621v.055c0 2.452 1.705 4.49 3.942 4.958-.4.113-.837.167-1.29.167-.315 0-.633-.019-.931-.087.637 1.999 2.446 3.468 4.597 3.516a9.73 9.73 0 01-6.1 2.152c-.404 0-.791-.018-1.178-.07a13.601 13.601 0 007.548 2.266c9.054 0 14.004-7.693 14.004-14.36 0-.224-.008-.439-.018-.653A9.958 9.958 0 0036 17.305z"})))},qh=D.c.svg.attrs({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"})(On()),Kh=function(e){var t=e.highlight,n=void 0===t?"#565656":t,i=e.width,r=void 0===i?32:i,o=e.height,a=void 0===o?32:o;return R.a.createElement(qh,{width:r,height:a,viewBox:"0 0 32 32"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(-8 -8)"},R.a.createElement("g",{transform:"translate(8 8)"},R.a.createElement("g",null,R.a.createElement("path",{d:"M.941 31.992h2.824v-.94L.941 31.05v-2.822h-.94v2.846s-.004.918.94.918"}),R.a.createElement("path",{d:"M31.974 31.051v-2.823h-.942v2.823h-2.823v.941h2.846s.919.003.919-.94"}),R.a.createElement("path",{d:"M4.62305882 31.9926588L8.38776471 31.9926588 8.38776471 31.0514824 4.62305882 31.0514824z"}),R.a.createElement("path",{d:"M9.32894118 31.9926588L13.0936471 31.9926588 13.0936471 31.0514824 9.32894118 31.0514824z"}),R.a.createElement("path",{d:"M14.0348235 31.9926588L17.7995294 31.9926588 17.7995294 31.0514824 14.0348235 31.0514824z"}),R.a.createElement("path",{d:"M18.7407059 31.9926588L22.5054118 31.9926588 22.5054118 31.0514824 18.7407059 31.0514824z"}),R.a.createElement("path",{d:"M23.4465882 31.9926588L27.2112941 31.9926588 27.2112941 31.0514824 23.4465882 31.0514824z"}),R.a.createElement("path",{d:"M0 .94v2.824h.941L.942.941h2.823V0H.919S0-.002 0 .94"}),R.a.createElement("path",{d:"M31.032 0H28.21v.94l2.823.002v2.822h.942V.92s.002-.92-.942-.92"}),R.a.createElement("path",{d:"M4.62305882 0.940423529L8.38776471 0.940423529 8.38776471 -0.000752941176 4.62305882 -0.000752941176z"}),R.a.createElement("path",{d:"M9.32894118 0.940423529L13.0936471 0.940423529 13.0936471 -0.000752941176 9.32894118 -0.000752941176z"}),R.a.createElement("path",{d:"M14.0348235 0.940423529L17.7995294 0.940423529 17.7995294 -0.000752941176 14.0348235 -0.000752941176z"}),R.a.createElement("path",{d:"M18.7407059 0.940423529L22.5054118 0.940423529 22.5054118 -0.000752941176 18.7407059 -0.000752941176z"}),R.a.createElement("path",{d:"M23.4465882 0.940423529L27.2112941 0.940423529 27.2112941 -0.000752941176 23.4465882 -0.000752941176z"}),R.a.createElement("path",{d:"M0 8.46324706L0.941176471 8.46324706 0.941176471 4.69854118 0 4.69854118z"}),R.a.createElement("path",{d:"M0 13.1691294L0.941176471 13.1691294 0.941176471 9.40442353 0 9.40442353z"}),R.a.createElement("path",{d:"M0 17.8750118L0.941176471 17.8750118 0.941176471 14.1103059 0 14.1103059z"}),R.a.createElement("path",{d:"M0 22.5808941L0.941176471 22.5808941 0.941176471 18.8161882 0 18.8161882z"}),R.a.createElement("path",{d:"M0 27.2867765L0.941176471 27.2867765 0.941176471 23.5220706 0 23.5220706z"}),R.a.createElement("path",{d:"M30.976 8.46324706L31.9171765 8.46324706 31.9171765 4.69854118 30.976 4.69854118z"}),R.a.createElement("path",{d:"M30.976 13.1691294L31.9171765 13.1691294 31.9171765 9.40442353 30.976 9.40442353z"}),R.a.createElement("path",{d:"M30.976 17.8750118L31.9171765 17.8750118 31.9171765 14.1103059 30.976 14.1103059z"}),R.a.createElement("path",{d:"M30.976 22.5808941L31.9171765 22.5808941 31.9171765 18.8161882 30.976 18.8161882z"}),R.a.createElement("path",{d:"M30.976 27.2867765L31.9171765 27.2867765 31.9171765 23.5220706 30.976 23.5220706z"}))))))},Xh=function(e){var t=e.highlight,n=void 0===t?"#565656":t,i=e.width,r=void 0===i?32:i,o=e.height,a=void 0===o?48:o;return R.a.createElement(qh,{width:r,height:a,viewBox:"0 0 42 32"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(-3 -8)"},R.a.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5"}))))},Yh=function(e){var t=e.highlight,n=void 0===t?"#565656":t,i=e.width,r=void 0===i?26:i,o=e.height,a=void 0===o?46:o;return R.a.createElement(qh,{width:r,height:a,viewBox:"0 0 26 46"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(-11 -1)"},R.a.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z",transform:"rotate(90 24 24)"}))))},Qh=function(e){var t=e.highlight,n=void 0===t?"#565656":t,i=e.width,r=void 0===i?26:i,o=e.height,a=void 0===o?46:o;return R.a.createElement(qh,{width:r,height:a,viewBox:"0 0 26 46"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(-11 -1)"},R.a.createElement("path",{d:"M1 11.496A.5.5 0 011.5 11h45a.5.5 0 01.5.496v25.008a.5.5 0 01-.5.496h-45a.5.5 0 01-.5-.496V11.496z"}))))},Zh=function(e){var t=e.highlight,n=void 0===t?"#565656":t,i=e.mask,r=void 0===i?"#fff":i,o=e.width,a=void 0===o?32:o,s=e.height,l=void 0===s?32:s;return R.a.createElement(qh,{width:a,height:l,viewBox:"0 0 32 32"},R.a.createElement("defs",null,R.a.createElement("rect",{id:"photoeditorsdk-square-icon",width:"32",height:"32",x:"0.92",y:"0.707",rx:"1"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{transform:"translate(-8 -8)"},R.a.createElement("g",{transform:"translate(7.08 7.293)"},R.a.createElement("mask",{fill:r},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-square-icon"})),R.a.createElement("use",{fill:n,xlinkHref:"#photoeditorsdk-square-icon"})))))},Jh=function(e){var t=e.highlight,n=void 0===t?"#565656":t,i=e.width,r=void 0===i?32:i,o=e.height,a=void 0===o?42:o;return R.a.createElement(qh,{width:r,height:a,viewBox:"0 0 32 42"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{fill:n,transform:"translate(-8 -3)"},R.a.createElement("rect",{width:"42",height:"32",x:"3",y:"8",rx:"0.5",transform:"rotate(90 24 24)"}))))},$h=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"28",height:"3",x:"12",y:"41",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),R.a.createElement("rect",{width:"34",height:"28",x:"7",y:"8",fill:r,rx:"0.5",transform:"matrix(1 0 0 -1 0 44)"}),R.a.createElement("rect",{width:"3",height:"3",x:"8",y:"41",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),R.a.createElement("rect",{width:"28",height:"3",x:"12",y:"37",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 52 0)"}),R.a.createElement("rect",{width:"28",height:"3",x:"12",y:"4",fill:n,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"}),R.a.createElement("rect",{width:"3",height:"3",x:"8",y:"37",fill:n,rx:"0.5",transform:"matrix(-1 0 0 1 19 0)"}),R.a.createElement("rect",{width:"3",height:"3",x:"8",y:"4",fill:n,rx:"0.5",transform:"matrix(1 0 0 -1 0 11)"})))},ep=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",null,R.a.createElement("path",{fill:n,d:"M42 5a1 1 0 011 1v13a1 1 0 01-1 1H6a1 1 0 01-1-1V6a1 1 0 011-1h36zM21.505 18h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0029.51 18z"}),R.a.createElement("rect",{width:"22",height:"11",x:"20",y:"29",fill:n,rx:"1"}),R.a.createElement("rect",{width:"13",height:"10",x:"6",y:"23",fill:n,rx:"1"}),R.a.createElement("rect",{width:"22",height:"5",x:"20",y:"23",fill:n,rx:"1"}),R.a.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:r,rx:"1"}),R.a.createElement("rect",{width:"13",height:"9",x:"6",y:"34",fill:n,rx:"1"}))))},tp=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("g",{transform:"translate(5 5)"},R.a.createElement("path",{fill:r,d:"M37 0a1 1 0 011 1v13a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1h36zM16.505 13h-2.01a.494.494 0 00-.495.5c0 .268.222.5.495.5h2.01c.28 0 .495-.224.495-.5l-.008-.088a.503.503 0 00-.487-.412zm8.004 0h-5.018a.5.5 0 000 1h5.018a.5.5 0 00.491-.5l-.008-.088A.5.5 0 0024.51 13z"}),R.a.createElement("rect",{width:"22",height:"11",x:"15",y:"24",fill:n,rx:"1"}),R.a.createElement("rect",{width:"13",height:"10",x:"1",y:"18",fill:n,rx:"1"}),R.a.createElement("rect",{width:"22",height:"5",x:"15",y:"18",fill:n,rx:"1"}),R.a.createElement("rect",{width:"7",height:"7",x:"4",y:"9",fill:n,rx:"1"}),R.a.createElement("rect",{width:"13",height:"9",x:"1",y:"29",fill:n,rx:"1"}))))},np=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"26",height:"7",x:"7",y:"18",fill:n,rx:"1"}),R.a.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:n,rx:"1"}),R.a.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:n,rx:"1"}),R.a.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:n,rx:"1"}),R.a.createElement("rect",{width:"26",height:"21",x:"7",y:"27",fill:n,rx:"1"}),R.a.createElement("rect",{width:"26",height:"16",x:"7",y:"5",fill:r,rx:"1"})))},ip=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"26",height:"7",x:"7",y:"34",fill:n,rx:"1"}),R.a.createElement("rect",{width:"26",height:"32",x:"7",y:"5",fill:r,rx:"1"}),R.a.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:n,rx:"1"}),R.a.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:n,rx:"1"}),R.a.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:n,rx:"1"}),R.a.createElement("rect",{width:"26",height:"5",x:"7",y:"43",fill:n,rx:"1"})))},rp=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"26",height:"7",x:"7",y:"28",fill:n,rx:"1"}),R.a.createElement("rect",{width:"26",height:"26",x:"7",y:"5",fill:r,rx:"1"}),R.a.createElement("rect",{width:"9",height:"7",x:"34",y:"11",fill:n,rx:"1"}),R.a.createElement("rect",{width:"9",height:"8",x:"34",y:"19",fill:n,rx:"1"}),R.a.createElement("rect",{width:"3",height:"3",x:"40",y:"6",fill:n,rx:"1"}),R.a.createElement("rect",{width:"26",height:"11",x:"7",y:"37",fill:n,rx:"1"})))},op=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"20",height:"34",x:"14",y:"10",fill:r,rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"14",y:"5",fill:n,rx:"1"})))},ap=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.shadow,a=void 0===o?"#333333":o,s=e.width,l=void 0===s?"48px":s,u=e.height,c=void 0===u?"48px":u;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:c,viewBox:"0 0 48 48"},R.a.createElement("defs",null,R.a.createElement("filter",{id:"photoeditorsdk-twitter-post-icon",width:"166.7%",height:"166.7%",x:"-33.3%",y:"-33.3%",filterUnits:"objectBoundingBox"},R.a.createElement("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"1"}))),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:r,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"9",height:"9",x:"8",y:"13",fill:a,filter:"url(#photoeditorsdk-twitter-post-icon)",rx:"1"}),R.a.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:n,rx:"1"})))},sp=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:r,rx:"1"})))},lp=function(e){var t=e.main,n=void 0===t?"#424242":t,i=e.highlight,r=void 0===i?"#565656":i,o=e.width,a=void 0===o?"48px":o,s=e.height,l=void 0===s?"48px":s;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:a,height:l,viewBox:"0 0 48 48"},R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("rect",{width:"38",height:"15",x:"5",y:"5",fill:r,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"24",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"26",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"11",height:"1",x:"5",y:"28",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"13",x:"17",y:"24",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"3",x:"17",y:"38",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"26",height:"3",x:"17",y:"42",fill:n,rx:"0.5"}),R.a.createElement("rect",{width:"7",height:"7",x:"9",y:"14",fill:n,rx:"1"})))},up=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-delete-icon",d:"M20 6l-2.312 15.718A1.5 1.5 0 0116.204 23H5.796a1.5 1.5 0 01-1.484-1.282L2 6h18zM7 1a1 1 0 011-1h6a1 1 0 011 1v1h7v2H0V2h7V1z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-delete-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-delete-icon"})))},cp=function(e){var t=e.height,n=void 0===t?3:t,i=e.width,r=void 0===i?102:i,o=e.x,a=void 0===o?-102:o,s=e.className,l=e.style;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:n,viewBox:"0 0 102 3",className:s,style:l},R.a.createElement("pattern",{id:"photoeditorsdk-slider-dots",fill:"currentColor",patternUnits:"userSpaceOnUse",width:"102",height:"3"},R.a.createElement("rect",{width:"3",height:"3",x:"99",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"88",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"77",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"66",y:"0",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"55",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"44",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"33",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"22",y:"0",opacity:"0.5",rx:"1.5"}),R.a.createElement("rect",{width:"3",height:"3",x:"11",y:"0",rx:"1.5"})),R.a.createElement("rect",{fill:"url(#photoeditorsdk-slider-dots)",x:1.5*-r,y:"0",width:4*r,height:"3",transform:"translate(".concat(a,", 0)")}))},fp=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-duplicate-icon",d:"M3.429 8.571v12h12v-12h-12zM1.714 5.143h15.429c.947 0 1.714.767 1.714 1.714v15.429c0 .946-.767 1.714-1.714 1.714H1.714A1.714 1.714 0 010 22.286V6.857c0-.947.768-1.714 1.714-1.714zM22.286 0C23.232 0 24 .768 24 1.714v15.429c0 .947-.768 1.714-1.714 1.714H20.57V3.429L5.142 3.428V1.714C5.143.768 5.91 0 6.858 0h15.429z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},R.a.createElement("mask",{fill:"currentColor"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-duplicate-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-duplicate-icon"})))},dp=function(){return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},R.a.createElement("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",strokeWidth:"1",d:"M2.087 7.115h7.66v15.32h5.027l.223-15.32h7.438V2.087H2.087v5.028zM14.075 24h-4.15a2.42 2.42 0 01-1.718-.711 2.423 2.423 0 01-.711-1.717V9.01H2.429c-.67 0-1.278-.273-1.718-.713A2.426 2.426 0 010 6.579V2.43C0 1.76.272 1.153.711.713A2.424 2.424 0 012.43 0h19.142c.671 0 1.278.272 1.718.713.439.44.711 1.047.711 1.718v4.148c0 .671-.272 1.278-.711 1.718-.44.44-1.047.713-1.718.713h-5.067v12.562c0 .67-.272 1.278-.711 1.717a2.42 2.42 0 01-1.718.711z"}))},hp=function(e){var t=e.className;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",transform:"scale(-1, 1)",className:t},R.a.createElement("title",null,"Flip Horizontal"),R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-flip-horizontal-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},R.a.createElement("mask",{fill:"none"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-flip-horizontal-icon"})))},pp=function(e){var t=e.className;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 15 14",className:t},R.a.createElement("title",null,"Flip Vertical"),R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-flip-vertical-icon",d:"M42 1v14h-1.167v-1.167H37a2 2 0 01-2-2V4.167a2 2 0 012-2l3.833-.001V1H42zm5.833 11.958a.875.875 0 01-.875.875h-3.791v-1.166l3.499-.001V3.333h-3.5V2.167h3.792c.446 0 .815.333.869.765l.006.11v9.916z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-34 -1)"},R.a.createElement("mask",{fill:"none"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-flip-vertical-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",transform:"rotate(-90 41.417 8)",xlinkHref:"#photoeditorsdk-flip-vertical-icon"})))},mp=function(e){var t=e.alt,n=void 0===t?"Rotate":t,i=e.className;return R.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"24",height:"24",viewBox:"0 0 16 16",className:i},R.a.createElement("title",null,n),R.a.createElement("defs",null,R.a.createElement("path",{id:"photoeditorsdk-rotate-icon",d:"M132 0l1.25 1.57a8.01 8.01 0 0110.41.77 8.015 8.015 0 010 11.32c-.33.33-.67.62-1.04.859-1.38.991-3 1.481-4.62 1.481v-2c1.22 0 2.44-.37 3.47-1.111a6 6 0 00.77-9.129 5.992 5.992 0 00-7.73-.63L136 5h-5l1-5zm2.43 12.82c.5.38 1.06.67 1.66.87l-.64 1.89a7.56 7.56 0 01-1.48-.67l-.03-.01v-.01h-.02v-.01h-.01c0-.01-.01-.01-.01-.01h-.01v-.01h-.02v-.01h-.01l-.01-.01s-.01 0-.01-.01h-.01c-.2-.12-.4-.26-.6-.4zm-2.15-3.02c.18.6.47 1.17.83 1.68l-1.63 1.16v-.01s-.01 0-.01-.01c0 0 0-.01-.01-.01v-.01h-.01v-.01c-.01 0-.01-.01-.01-.01v-.01h-.01v-.01h-.01v-.01c0-.01-.01-.01-.01-.01v-.01c-.01 0-.01 0-.01-.01-.27-.39-.49-.79-.68-1.21-.01 0-.01-.01-.01-.01v-.01h-.01v-.02l-.01-.01c0-.02-.01-.02-.01-.02v-.02h-.01v-.02h-.01v-.03h-.01v-.02h-.01v-.02c-.01 0-.01 0-.01-.01v-.01c-.1-.23-.19-.47-.26-.7z"})),R.a.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",transform:"translate(-130)"},R.a.createElement("mask",{fill:"none"},R.a.createElement("use",{xlinkHref:"#photoeditorsdk-rotate-icon"})),R.a.createElement("use",{fill:"currentColor",fillOpacity:"0.9",xlinkHref:"#photoeditorsdk-rotate-icon"})))},gp=(f={},Object(_.a)(f,"adjustment",Sh),Object(_.a)(f,"filter",jh),Object(_.a)(f,"library",Dh),Object(_.a)(f,"overlay",Ih),Object(_.a)(f,"focus",Th),Object(_.a)(f,"sticker",Rh),Object(_.a)(f,"text",Fh),Object(_.a)(f,"textdesign",Ah),Object(_.a)(f,"frame",Eh),Object(_.a)(f,"transform",Mh),Object(_.a)(f,"brush",Ch),f),yp={left:wh,right:Oh,center:kh},vp={addText:Ph,openWebcam:zh,reset:Bh,shuffle:Lh,uploadImage:Nh},bp={undo:xh,redo:_h,close:vh,export:bh},_p={categories:(d={},Object(_.a)(d,"imgly_transforms_common",Gh),Object(_.a)(d,"imgly_transforms_facebook",Hh),Object(_.a)(d,"imgly_transforms_twitter",Vh),Object(_.a)(d,"imgly_transforms_instagram",Wh),d),crops:(h={},Object(_.a)(h,"imgly_transform_common_custom",Kh),Object(_.a)(h,"imgly_transform_common_square",Zh),Object(_.a)(h,"imgly_transform_common_3",Jh),Object(_.a)(h,"imgly_transform_common_4",Xh),Object(_.a)(h,"imgly_transform_common_9",Yh),Object(_.a)(h,"imgly_transform_common_16",Qh),Object(_.a)(h,"imgly_transform_facebook_post",$h),Object(_.a)(h,"imgly_transform_facebook_profile",ep),Object(_.a)(h,"imgly_transform_facebook_title",tp),Object(_.a)(h,"imgly_transform_instagram_landscape",np),Object(_.a)(h,"imgly_transform_instagram_portrait",ip),Object(_.a)(h,"imgly_transform_instagram_square",rp),Object(_.a)(h,"imgly_transform_instagram_story",op),Object(_.a)(h,"imgly_transform_twitter_post",ap),Object(_.a)(h,"imgly_transform_twitter_profile",sp),Object(_.a)(h,"imgly_transform_twitter_title",lp),h),dots:cp,duplicate:fp,edit:dp,bringToFront:Uh,delete:up,flipHorizontal:hp,flipVertical:pp,rotate:mp},xp=(p={},Object(_.a)(p,"brightness",sh),Object(_.a)(p,"contrast",uh),Object(_.a)(p,"saturation",hh),Object(_.a)(p,"clarity",lh),Object(_.a)(p,"shadows",ph),Object(_.a)(p,"highlights",dh),Object(_.a)(p,"exposure",ch),Object(_.a)(p,"gamma",fh),Object(_.a)(p,"blacks",ah),Object(_.a)(p,"whites",yh),Object(_.a)(p,"temperature",gh),Object(_.a)(p,"sharpness",mh),p),kp=D.c.div(wn(),(function(e){return e.maxWidth})),wp=function(e){var t=e.children,n=oh().config,i=0;return n.isLayoutAdvanced&&(i=n.measurements.advancedUIToolbar.width+n.measurements.advancedUIToolControlBar.width),R.a.createElement(kp,{maxWidth:i},t)},Op=D.c.div.attrs((function(){return{"data-test":E.r.MainCanvasActionBar}}))(kn(),(function(e){return e.hide?"none":"flex"}),(function(e){return e.theme.measurements.mainCanvasActionBar.height}),(function(e){return e.theme.mainCanvasActionBar.foreground}),(function(e){return e.theme.mainCanvasActionBar.borderColor}),(function(e){return e.theme.measurements.zIndex.canvas.bar}),(function(e){return e.transparentBackgound?"transparent":e.theme.mainCanvasActionBar.background}),(function(e){return e.bottom?Object(D.b)(xn()):Object(D.b)(_n())})),Sp=D.c.canvas(bn()),Cp=D.c.div.attrs({role:"main"})(vn(),(function(e){return e.theme.canvas.background}),(function(e){return e.theme.measurements.canvas.marginTop})),jp=D.c.div.attrs((function(e){var t=e.height,n=e.width;return{style:{height:"".concat(t,"px"),width:"".concat(n,"px")}}}))(yn(),(function(e){return e.theme.canvas.controlsOutline})),Tp=D.c.div.attrs((function(e){var t=e.radius;return{style:{height:"".concat(2*t,"px"),width:"".concat(2*t,"px")}}}))(gn(),(function(e){return e.theme.canvas.controlsOutline})),Ep=D.c.div(mn()),Dp=D.c.div((function(e){var t=e.theme.measurements.canvasControls.corner.touchable,n=t.desktop,i=t.mobile,r=n/4,o=i/2;return Object(D.b)(pn(),n,n,(function(e){return"top"===e.vertical?Object(D.b)(hn()):Object(D.b)(dn())}),(function(e){return"left"===e.horizontal?Object(D.b)(fn()):Object(D.b)(cn())}),(function(e){return"top"===e.vertical?Object(D.b)(un(),r):Object(D.b)(ln(),r)}),(function(e){return"left"===e.horizontal?Object(D.b)(sn(),r):Object(D.b)(an(),r)}),i,i,(function(e){return"top"===e.vertical?Object(D.b)(on(),o):Object(D.b)(rn(),o)}),(function(e){return"left"===e.horizontal?Object(D.b)(nn(),o):Object(D.b)(tn(),o)}))})),Ip=Object(D.c)(Dp)((function(e){var t="right"===e.horizontal?e.borderWidth:0,n="bottom"===e.vertical?e.borderWidth:0,i="left"===e.horizontal?e.borderWidth:0,r="top"===e.vertical?e.borderWidth:0,o="".concat(r,"px ").concat(t,"px ").concat(n,"px ").concat(i,"px"),a="left"===e.horizontal&&"bottom"===e.vertical||"right"===e.horizontal&&"top"===e.vertical?"nesw-resize":"nwse-resize",s=e.theme.measurements.canvasControls.corner.touchable.desktop/4-e.borderWidth,l=e.theme.measurements.canvasControls.corner.touchable.mobile/4+e.borderWidth;return Object(D.b)(en(),(function(e){return e.theme.measurements.canvasControls.corner.size}),(function(e){return e.theme.measurements.canvasControls.corner.size}),(function(e){return e.theme.measurements.zIndex.canvas.controls}),(function(e){return e.theme.canvas.controlsColor}),o,"top"===e.vertical?Object(D.b)($t(),s):Object(D.b)(Jt(),s),"left"===e.horizontal?Object(D.b)(Zt(),s):Object(D.b)(Qt(),s),"top"===e.vertical?Object(D.b)(Yt(),l):Object(D.b)(Xt(),l),"left"===e.horizontal?Object(D.b)(Kt(),l):Object(D.b)(qt(),l),a)})),Rp=D.c.div.attrs((function(){return{"data-test":E.r.Knob}}))(Vt(),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop}),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop}),(function(e){return e.theme.measurements.zIndex.canvas.knob}),(function(e){return e.theme.canvas.controlsColor}),(function(e){return e.theme.measurements.canvasControls.knob.size}),(function(e){return e.theme.measurements.canvasControls.knob.size}),(function(e){return e.theme.measurements.canvasControls.knob.size/4}),(function(e){return e.theme.measurements.canvasControls.knob.size/4})),Fp=D.c.div(Wt(),(function(e){return e.theme.canvas.controlsOutline})),Ap=D.c.div.attrs((function(e){return{style:{left:"".concat(e.x,"px")}}}))(Ht(),(function(e){return e.theme.measurements.canvasControls.sprite.rotateHandle.height}),(function(e){return e.theme.measurements.canvasControls.sprite.rotateHandle.height}),(function(e){return e.theme.canvas.controlsOutline})),Mp=D.c.div.attrs((function(e){var t=e.height,n=e.width,i=e.theme;return{style:{height:"".concat(t+i.measurements.canvasControls.sprite.controlPadding,"px"),width:"".concat(n+i.measurements.canvasControls.sprite.controlPadding,"px")}}}))(Gt(),(function(e){return e.theme.measurements.canvasControls.sprite.controlPadding/2}),(function(e){return e.theme.measurements.canvasControls.sprite.controlPadding/2}),(function(e){return e.theme.canvas.controlsColor})),Pp=D.c.div.attrs((function(){return{"data-test":E.r.TextWidth}}))(Ut(),(function(e){return e.theme.measurements.canvasControls.width.size}),(function(e){return e.theme.measurements.zIndex.canvas.controls}),(function(e){return e.theme.canvas.controlsColor})),zp=D.c.div.attrs({tabIndex:0})(Nt(),(function(e){return e.height}),(function(e){return e.width})),Bp=Object(E.yb)()?Object(D.b)(Lt()):Object(D.b)(Bt()),Lp=D.c.div(zt(),(function(e){return e.theme.canvas.cropBackdrop}),(function(e){return e.theme.measurements.zIndex.canvas.crop.backdrop}),Bp),Np=D.c.div.attrs({"data-test":E.r.CropMask})(Pt(),(function(e){return e.theme.canvas.controlsOutline}),Bp),Up=D.c.div(Mt(),(function(e){return e.theme.canvas.controlsOutline}),(function(e){return e.theme.measurements.zIndex.canvas.crop.grid}),Bp),Gp=Object(D.c)(Ip)(At(),(function(e){return e.theme.measurements.zIndex.canvas.controls}),Bp),Hp=D.c.canvas(Ft()),Wp=D.c.video(Rt()),Vp=D.c.div(It(),(function(e){return e.theme.measurements.zIndex.canvas.webcam.backdrop}),(function(e){return e.theme.webcam.background})),qp={Index:Sp,Area:wp,Bar:{Index:Op,ButtonGroup:kc},Button:{TextSecondary:xc,Float:function(e){return R.a.createElement(Sc,Object(k.a)({},e),R.a.createElement(Cc,null))}},Container:Cp,Element:Hp,Wrapper:Vp,Webcam:Wp,Controls:{Knob:Rp,Circle:Tp,Corner:Ip,Line:Fp,Area:jp,Sprite:Mp,RotateHandle:Ap,Container:Ep,Wrapper:zp,SpriteActionsWrapper:Oc,SpriteActionButton:wc,Width:Pp},Crop:{Mask:Np,GridLine:Up,Backdrop:Lp,Control:Gp}},Kp=qp.Button.TextSecondary,Xp=D.c.span(Dt(),(function(e){return e.theme.canvasActionBar.foreground}),(function(e){return e.theme.measurements.fontSystem.button2.letterSpacing})),Yp=D.c.div(Et(),(function(e){return e.isDisabled&&Object(D.b)(Tt())})),Qp=qs("scale","active")(Ns((function(e){var t=e.isDisabled,n=e.scale,i=e.active,r=n.canZoomIn,o=n.canZoomOut,a=n.zoomLevel;return-1!==["transform","brush","focus","sticker","text","textdesign"].indexOf(i.tool)?null:R.a.createElement(Yp,{isDisabled:t},R.a.createElement(Kp,{"data-test":E.r.MainBarButtonZoom,ariaLabel:"Zoom out",isDisabled:!o,onClick:n.out},"-"),R.a.createElement(Xp,{"data-test":E.r.ZoomLevel},a," %"),R.a.createElement(Kp,{ariaLabel:"Zoom in",isDisabled:!r,onClick:n.in},"+"))})));Xp.defaultProps={theme:qf};var Zp=Object(D.c)(qp.Bar.ButtonGroup)(jt()),Jp=Ns((function(){var e=oh(),t=e.config,n=e.editor,i=e.history,r=e.custom,o=e.active,a=t.locale.mainCanvasActions,s=i.canUndo,l=i.canRedo,u=t.config.mainCanvasActions,c=function(){n.export()},f=function(){if("transform"===n.activeStore.tool)return null;var e=r.getButton("mainCanvasActionUndo");return R.a.createElement(e,{key:"mainCanvasActionUndo","data-test":E.r.MainBarButtonUndo,onClick:i.undo,isDisabled:!s||!o.image,label:a.buttonUndo,ariaLabel:a.buttonUndo,icon:R.a.createElement(bp.undo,null)})},d=function(){if("transform"===n.activeStore.tool)return null;var e=r.getButton("mainCanvasActionRedo");return R.a.createElement(e,{key:"mainCanvasActionRedo","data-test":E.r.MainBarButtonRedo,onClick:i.redo,isDisabled:!l||!o.image,label:a.buttonRedo,ariaLabel:a.buttonRedo,icon:R.a.createElement(bp.redo,null)})},h=function(){var e=r.getButton("mainCanvasActionExport");return R.a.createElement(e,{key:"mainCanvasActionExport","data-test":E.r.MainBarButtonExport,onClick:c,isDisabled:!o.image,label:a.buttonExport,ariaLabel:a.buttonExport,icon:R.a.createElement(bp.export,null)})},p=function(){if(!t.displayCloseButton)return null;var e=r.getButton("mainCanvasActionClose");return R.a.createElement(e,{key:"mainCanvasActionClose","data-test":E.r.MainBarButtonClose,onClick:n.close,isDisabled:!o.image,label:a.buttonClose,ariaLabel:a.buttonClose,icon:R.a.createElement(bp.close,null)})},m=u.map((function(e){switch(e){case"undo":return f;case"redo":return d;case"export":return h;case"close":return p;default:return null}}));return R.a.createElement(qp.Bar.Index,null,R.a.createElement(Zp,null,m[0]&&m[0]()||null,m[1]&&m[1]()||null),t.config.enableZoom?R.a.createElement(Qp,{isDisabled:!o.image}):null,R.a.createElement(Zp,null,m[2]&&m[2]()||null,m[3]&&m[3]()||null))}));function $p(e,t){(function(e){return"string"===typeof e&&e.includes(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&e.includes("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function em(e){return e=parseFloat(e),(Number.isNaN(e)||e<0||e>1)&&(e=1),e}function tm(e){return e<=1?"".concat(100*Number(e),"%"):e}function nm(e){return 1===e.length?"0".concat(e):String(e)}function im(e,t,n){return{r:255*$p(e,255),g:255*$p(t,255),b:255*$p(n,255)}}function rm(e,t,n){e=$p(e,255),t=$p(t,255),n=$p(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o=0,a=0,s=(i+r)/2;if(i===r)a=0,o=0;else{var l=i-r;switch(a=s>.5?l/(2-i-r):l/(i+r),i){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:a,l:s}}function om(e,t,n){e=$p(e,255),t=$p(t,255),n=$p(n,255);var i=Math.max(e,t,n),r=Math.min(e,t,n),o=0,a=i,s=i-r,l=0===i?0:s/i;if(i===r)o=0;else{switch(i){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:a}}function am(e,t,n,i){var r=[nm(Math.round(e).toString(16)),nm(Math.round(t).toString(16)),nm(Math.round(n).toString(16))];return i&&r[0].charAt(0)===r[0].charAt(1)&&r[1].charAt(0)===r[1].charAt(1)&&r[2].charAt(0)===r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function sm(e){return Math.round(255*parseFloat(e)).toString(16)}function lm(e){return parseInt(e,16)}function um(e){return lm(e)/255}function cm(e,t,n,i,r){var o=[nm(Math.round(e).toString(16)),nm(Math.round(t).toString(16)),nm(Math.round(n).toString(16)),nm(sm(i))];return r&&o[0].charAt(0)===o[0].charAt(1)&&o[1].charAt(0)===o[1].charAt(1)&&o[2].charAt(0)===o[2].charAt(1)&&o[3].charAt(0)===o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}var fm={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},dm="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),hm="[\\s|\\(]+(".concat(dm,")[,|\\s]+(").concat(dm,")[,|\\s]+(").concat(dm,")\\s*\\)?"),pm="[\\s|\\(]+(".concat(dm,")[,|\\s]+(").concat(dm,")[,|\\s]+(").concat(dm,")[,|\\s]+(").concat(dm,")\\s*\\)?"),mm={CSS_UNIT:new RegExp(dm),rgb:new RegExp("rgb".concat(hm)),rgba:new RegExp("rgba".concat(pm)),hsl:new RegExp("hsl".concat(hm)),hsla:new RegExp("hsla".concat(pm)),hsv:new RegExp("hsv".concat(hm)),hsva:new RegExp("hsva".concat(pm)),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function gm(e){return Boolean(mm.CSS_UNIT.exec(String(e)))}function ym(e){var t={r:0,g:0,b:0},n=1,i=null,r=null,o=null,a=!1,s=!1;if("string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(fm[e])e=fm[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=mm.rgb.exec(e);return n?{r:n[1],g:n[2],b:n[3]}:(n=mm.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=mm.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=mm.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=mm.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=mm.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=mm.hex8.exec(e))?{r:lm(n[1]),g:lm(n[2]),b:lm(n[3]),a:um(n[4]),format:t?"name":"hex8"}:(n=mm.hex6.exec(e))?{r:lm(n[1]),g:lm(n[2]),b:lm(n[3]),format:t?"name":"hex"}:(n=mm.hex4.exec(e))?{r:lm(n[1]+n[1]),g:lm(n[2]+n[2]),b:lm(n[3]+n[3]),a:um(n[4]+n[4]),format:t?"name":"hex8"}:!!(n=mm.hex3.exec(e))&&{r:lm(n[1]+n[1]),g:lm(n[2]+n[2]),b:lm(n[3]+n[3]),format:t?"name":"hex"}}(e)),Array.isArray(e)){var l=e,u=Object(x.a)(l,3),c=u[0],f=u[1],d=u[2];gm(c)&&gm(f)&&gm(d)&&(t=im(255*c,255*f,255*d),a=!0,s="rgb"),4===e.length&&(n=e[3])}return"object"===typeof e&&(gm(e.r)&&gm(e.g)&&gm(e.b)?(t=im(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):gm(e.h)&&gm(e.s)&&gm(e.v)?(i=tm(e.s),r=tm(e.v),t=function(e,t,n){e=6*$p(e,360),t=$p(t,100),n=$p(n,100);var i=Math.floor(e),r=e-i,o=n*(1-t),a=n*(1-r*t),s=n*(1-(1-r)*t),l=i%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(e.h,i,r),a=!0,s="hsv"):gm(e.h)&&gm(e.s)&&gm(e.l)&&(i=tm(e.s),o=tm(e.l),t=function(e,t,n){var i,r,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=$p(e,360),t=$p(t,100),n=$p(n,100),0===t)r=n,o=n,i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;i=a(l,s,e+1/3),r=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,i,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=em(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var vm=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object(O.a)(this,e),t instanceof e)return t;this.originalInput=t;var i=ym(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=n.format||i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return Object(S.a)(e,[{key:"getAlpha",value:function(){return this.a}},{key:"setAlpha",value:function(e){return this.a=em(e),this.roundA=Math.round(100*this.a)/100,this}},{key:"toHsv",value:function(){var e=om(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}}},{key:"toHsvString",value:function(){var e=om(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")}},{key:"toHsl",value:function(){var e=rm(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}}},{key:"toHslString",value:function(){var e=rm(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),i=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(i,"%, ").concat(this.roundA,")")}},{key:"toHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return am(this.r,this.g,this.b,e)}},{key:"toHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"#".concat(this.toHex(e))}},{key:"toHex8",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return cm(this.r,this.g,this.b,this.a,e)}},{key:"toHex8String",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"#".concat(this.toHex8(e))}},{key:"toRgb",value:function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}}},{key:"toRgbArray",value:function(){return[Math.round(this.r),Math.round(this.g),Math.round(this.b),this.a]}},{key:"toRgbString",value:function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")}},{key:"toPercentageRgb",value:function(){var e=function(e){return"".concat(Math.round(100*$p(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}}},{key:"toPercentageRgbString",value:function(){var e=function(e){return Math.round(100*$p(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")}},{key:"toName",value:function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#".concat(am(this.r,this.g,this.b,!1)),t=0,n=Object.keys(fm);t<n.length;t++){var i=n[t];if(fm[i]===e)return i}return!1}},{key:"toString",value:function(e){var t=Boolean(e);e=e||this.format;var n=this.a<1&&this.a>=0;if(!t&&n&&e&&(e.startsWith("hex")||"name"===e))return"name"===e&&0===this.a?this.toName():this.toRgbString();switch(e){case"rgb":return this.toRgbString();case"prgb":return this.toPercentageRgbString();case"hex":case"hex6":return this.toHexString();case"hex3":return this.toHexString(!0);case"hex4":return this.toHex8String(!0);case"hex8":return this.toHex8String();case"hsl":return this.toHslString();case"hsv":return this.toHsvString();case"name":return this.toName();default:return this.toHexString()}}},{key:"clone",value:function(){return new e(this.toString())}}]),e}(),bm=D.c.div(Ct(),(function(e){return e.theme.measurements.color.colorPicker.arrow.width}),(function(e){return e.theme.measurements.color.colorPicker.arrow.width/2}),(function(e){return"bottom"===e.direction?Object(D.b)(St()):Object(D.b)(Ot())}),(function(e){return e.arrowOffset}),(function(e){return e.theme.measurements.color.colorPicker.arrow.width/2}),(function(e){return e.theme.measurements.color.colorPicker.arrow.width/2}),(function(e){return"bottom"===e.direction?Object(D.b)(wt()):Object(D.b)(kt())}),(function(e){return e.theme.colorPicker.listBackground})),_m=D.c.div(xt()),xm=Object(D.c)(_c.Input.Text)(_t(),(function(e){return e.theme.colorPicker.inputBorderColor})),km=function(e){var t=e.value,n=e.label,i=e.onChange;return R.a.createElement(_m,null,R.a.createElement(_c.Input.Label,{label:n}),R.a.createElement(xm,{min:0,max:255,value:t,onChange:i}))},wm=D.c.div(bt()),Om=Object(D.c)(_c.Input.Text)(vt(),(function(e){return e.theme.colorPicker.inputBorderColor})),Sm=function(e){var t=e.value,n=e.label,i=e.onChange;return R.a.createElement(wm,null,R.a.createElement(_c.Input.Label,{label:n}),R.a.createElement(Om,{value:t.toUpperCase(),onChange:i}))},Cm=D.c.div.attrs((function(e){return{style:{left:e.position[0]||"".concat(0,"px"),top:e.position[1]||"".concat(0,"px")}}}))(yt(),(function(e){return e.theme.measurements.color.colorPicker.thumb.size}),(function(e){return e.theme.measurements.color.colorPicker.thumb.size}),(function(e){return e.theme.colorPicker.controlsColor}));Cm.defaultProps={theme:qf};var jm=Object(E.E)(xo()),Tm=D.c.div(gt()),Em=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},Dm=Object(I.forwardRef)((function(e,t){var n=e.surface,i=e.onChange,r=e.className,o=e.children,a=Object(I.useRef)(null),s=Object(I.useRef)(null),l=oh().config,u=Object(I.useState)(!1),c=Object(x.a)(u,2),f=c[0],d=c[1],h=function(e){var t,n,r=l.measurements.color.colorPicker.thumb.size/2,o=l.measurements.color.colorPicker.thumb.size;t=e.clientX,n=e.clientY;var s=a.current.getBoundingClientRect(),u=s.top,c=s.left,f=s.width,d=s.height,h=t-c-r,p=n-u-r;h=Math.max(0,Math.min(f-o,h)),p=Math.max(0,Math.min(d-o,p)),i&&i([h,p])},p=Object(I.useCallback)((0,jm.default)((function(e){f&&h(e)}),10),[f]);return R.a.createElement(Tm,{ref:Em([a,t]),className:r},R.a.createElement(_c.DraggableCore,{nodeRef:s,onStart:function(e){d(!0),h(e)},onDrag:p,onStop:function(){f&&d(!1)}},R.a.createElement("div",{ref:s},n)),o)})),Im=Object(D.b)(mt()),Rm=D.c.div(pt(),Im),Fm=D.c.div.attrs((function(e){return{style:{background:"linear-gradient(to left, ".concat(e.transparentColor," 0%, ").concat(e.opaqueColor," 100%)")}}}))(ht(),Im),Am=D.c.div.attrs((function(e){return{style:{backgroundImage:"url(".concat(e.url,")")}}}))(dt(),Im),Mm=D.c.div.attrs((function(e){return{style:{backgroundColor:"hsl(".concat(e.hue,", 100%, 50%)")}}}))(ft(),Im,(function(e){return e.theme.measurements.color.colorPicker.saturationSlider.height})),Pm=Object(D.c)(Dm)(ct(),(function(e){return e.theme.measurements.color.colorPicker.saturationSlider.height})),zm=function(e){var t=e.color,n=e.hue,i=e.onChange,r=Object(I.useState)([0,0]),o=Object(x.a)(r,2),a=o[0],s=o[1],l=Object(I.useRef)(null),u=oh().config;Object(I.useEffect)((function(){var e=t.toHsv(),n=e.s,i=e.v;if(l.current){var r=l.current,o=r.offsetWidth,a=r.offsetHeight,c=o-u.measurements.color.colorPicker.thumb.size,f=a-u.measurements.color.colorPicker.thumb.size;s([n*o*c/o,(1-i)*a*f/a])}}),[t.toString()]);return R.a.createElement(Pm,{ref:l,surface:R.a.createElement(Mm,{hue:n}),onChange:function(e){if(l.current){var t=Object(x.a)(e,2),n=t[0],r=t[1],o=l.current,a=o.offsetHeight,c=o.offsetWidth,f=n*c/(c-u.measurements.color.colorPicker.thumb.size),d=r*a/(a-u.measurements.color.colorPicker.thumb.size),h=Math.min(1,Math.max(0,f/c)),p=Math.min(1,Math.max(0,(a-d)/a));i(h,p),s([n,r])}}},R.a.createElement(Cm,{position:a}))},Bm=D.c.div(ut(),(function(e){return e.leftOffset}),(function(e){return e.topOffset}),(function(e){return e.theme.measurements.zIndex.input.list}),(function(e){return e.show&&Object(D.b)(lt())})),Lm=D.c.div(st(),(function(e){return"top"===e.direction&&Object(D.b)(at())}),(function(e){return e.theme.colorPicker.listShadow}),(function(e){return e.theme.colorPicker.listBackground}),(function(e){return e.theme.shape.radiusMedium}),(function(e){return e.theme.measurements.color.colorPicker.width}),(function(e){return e.theme.measurements.color.colorPicker.height})),Nm=Object(D.c)((function(e){var t=e.hue,n=e.onChange,i=Object(I.useState)(0),r=Object(x.a)(i,2),o=r[0],a=r[1],s=Object(I.useRef)(null),l=oh().config;return Object(I.useEffect)((function(){if(s.current){var e=s.current.offsetWidth,n=e-l.measurements.color.colorPicker.thumb.size;a(t*e/360*n/e)}}),[t]),R.a.createElement(Dm,{surface:R.a.createElement(Rm,null),ref:s,onChange:function(e){if(s.current){var t=Object(x.a)(e,1)[0],i=s.current.offsetWidth,r=t*i/(i-l.measurements.color.colorPicker.thumb.size),o=Math.max(0,Math.min(360,r/i*360));n(o),a(t)}}},R.a.createElement(Cm,{position:[o,0]}))}))(ot()),Um=Object(D.c)((function(e){var t=e.color,n=e.opaqueColor,i=e.transparentColor,r=e.onChange,o=oh().config,a=Object(I.useState)(0),s=Object(x.a)(a,2),l=s[0],u=s[1],c=Object(I.useRef)(null),f=o.assetProvider.getPath("controls","/tiled-background.png");return Object(I.useEffect)((function(){if(c.current){var e,n=c.current.offsetWidth,i=n-o.measurements.color.colorPicker.thumb.size;e=(1-t.toHsv().a)*n,u(e*i/n)}}),[t.toString()]),R.a.createElement(Dm,{ref:c,surface:R.a.createElement(Fm,{opaqueColor:n,transparentColor:i}),onChange:function(e){if(c.current){var t=c.current.offsetWidth,n=Object(x.a)(e,1)[0],i=(t-n*t/(t-o.measurements.color.colorPicker.thumb.size))/t,a=Math.round(100*(i+Number.EPSILON))/100,s=Math.min(1,Math.max(0,a));r(s),u(n)}}},R.a.createElement(Am,{url:f}),R.a.createElement(Cm,{position:[l,0]}))}))(rt()),Gm=D.c.div(it()),Hm=D.c.div(nt()),Wm=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;Object(O.a)(this,n),(i=t.call(this,e)).node=R.a.createRef(),i.checkId=function(e,t,n){for(var i=e,r=0;i.parentElement&&r<n;)if(r+=1,(i=i.parentElement).id===t)return!0;return!1},i.handleOutsideClick=function(e){var t,n=i.props,r=n.onRequestClose,o=n.onAddSnapshot,a=n.show,s=i.state.color;if(a){if(null==(t=i.node.current)?void 0:t.contains(e.target))return;i.setState({hexInputValue:s.toHexString()}),r&&r(),o&&o()}},i.onChange=function(e){(0,i.props.onChange)({color:e.toRgbArray(),colorString:e.toRgbString()})},i.onHexValueChange=function(e){if(e.match(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i)){var t=new vm(e);i.onChange(t),i.setState({color:t,hue:t.toHsl().h})}i.setState({hexInputValue:e})},i.onAlphaChange=function(e){var t=i.state.color.setAlpha(e);i.onChange(t),i.setState({color:t,hexInputValue:t.toHexString()})},i.onHueChange=function(e){var t=i.state.color.toHsv(),n=t.s,r=t.v,o=t.a,a=new vm({h:e,s:n,v:r,a:o});i.onChange(a),i.setState({color:a,hexInputValue:a.toHexString(),hue:e})},i.onSaturationBrightnessChange=function(e,t){var n=i.state,r=n.color,o=n.hue,a=r.toHsv().a,s=new vm({h:o,s:e,v:t,a:a});i.onChange(s),i.setState({color:s,hexInputValue:s.toHexString()})},i.onInputChange=function(e){return function(t){var n=i.state.color;if(t.match(/0*([0-9]|[1-8][0-9]|9[0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/g)||!t.trim()){var r=n.toRgb();r[e]=parseInt(t,10)||0;var o=new vm(r);i.onChange(o),i.setState({color:o,hexInputValue:o.toHexString(),hue:o.toHsl().h})}}};var r=i.props.color,o=new vm(r);return i.state={color:o,hue:o.toHsl().h,hexInputValue:o.toHexString()},i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleOutsideClick,!1),document.addEventListener("touchstart",this.handleOutsideClick,!1),document.addEventListener("keydown",this.handleOutsideClick,!1)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.color;if(t.show&&!e.show){var i=new vm(n);this.setState({color:i,hue:i.toHsl().h,hexInputValue:i.toHexString()})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleOutsideClick,!1),document.removeEventListener("touchstart",this.handleOutsideClick,!1),document.removeEventListener("keydown",this.handleOutsideClick,!1)}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.showArrow,i=e.direction,r=e.arrowOffset,o=e.topOffset,a=e.leftOffset,s=e.labelHex,l=e.labelR,u=e.labelG,c=e.labelB,f=e.labelSliderHue,d=e.labelSliderOpacity,h=this.state,p=h.color,m=h.hexInputValue,g=h.hue,y=p.toRgb(),v=y.r,b=y.g,_=y.b,x=p.clone().setAlpha(1).toRgbString(),k=p.clone().setAlpha(0).toRgbString();return R.a.createElement("div",{ref:this.node},R.a.createElement(Bm,{show:t,direction:i,leftOffset:a,topOffset:o},R.a.createElement(Lm,{direction:i},n&&R.a.createElement(bm,{direction:i,arrowOffset:r}),R.a.createElement(zm,{color:p,hue:g,onChange:this.onSaturationBrightnessChange}),R.a.createElement(_c.Spacer,{count:2}),R.a.createElement(_c.Input.Label,{label:f}),R.a.createElement(Nm,{hue:g,onChange:this.onHueChange}),R.a.createElement(_c.Spacer,{count:2}),R.a.createElement(_c.Input.Label,{label:d}),R.a.createElement(Um,{color:p,opaqueColor:x,transparentColor:k,onChange:this.onAlphaChange}),R.a.createElement(Gm,null,R.a.createElement(Sm,{value:m,label:s,onChange:this.onHexValueChange}),R.a.createElement(Hm,null,R.a.createElement(km,{value:v,label:l,onChange:this.onInputChange("r")}),R.a.createElement(km,{value:b,label:u,onChange:this.onInputChange("g")}),R.a.createElement(km,{value:_,label:c,onChange:this.onInputChange("b")}))))))}}]),n}(R.a.Component);Wm.defaultProps={direction:"bottom",showArrow:!0},Lm.defaultProps={theme:qf};var Vm=D.c.div(tt()),qm=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;Object(O.a)(this,n),(i=t.call(this,e)).containerRef=null,i.onClick=function(e){return function(t){var n=i.props,r=n.onAddSnapshot,o=n.config,a=n.onChange,s=n.colorPickerDirection,l=n.rect,u=i.state,c=u.activeIdentifier,f=u.showColorPicker,d=u.colorList.find((function(t){return t.identifier===e}));if(c!==d.identifier||f)f?i.setState({showColorPicker:!1}):(a(d.color),i.setState({activeIdentifier:e}),r&&r());else{var h=t.currentTarget.getBoundingClientRect(),p=h.left,m=h.width,g=h.top,y=h.height,v=i.containerRef.current.getBoundingClientRect(),b=v.left,_=v.top,x=o.measurements.color.colorPicker,k=x.arrow.width/2,w=p-b+m/2-2,O="bottom"===s?g-_+y+k:g-_-k,S=-24,C=x.width-x.arrow.width-12;w>C&&(w-=S+=w-C);var j=!0;if("bottom"===s&&l){var T=l.height,E=g-l.top,D=T-(E+y),I=o.measurements.color.colorPicker.height+k;D<I&&(O=D-I),E+O<E+y/2&&(O+=k,j=!1)}i.setState({showColorPicker:!0,showColorPickerArrow:j,arrowOffset:w,topOffset:O,leftOffset:S})}}},i.onChange=function(e){var t=e.color,n=e.colorString,r=i.props.onChange,o=i.state,a=o.activeIdentifier,s=o.colorList,l=s.findIndex((function(e){return e.identifier===a}));if(-1!==l){var u=Object(v.a)(s);u[l]={identifier:s[l].identifier,colorString:n,color:t},i.setState({colorList:u})}r(t)},i.onChangeColorPicker=function(e){var t=e.color,n=e.colorString;i.onChange({color:[t[0]/255,t[1]/255,t[2]/255,t[3]],colorString:n})},i.closeColorPicker=function(){i.setState({showColorPicker:!1})},i.getColorPicker=function(){var e=i.props,t=e.activeColor,n=e.labelsColor,r=e.colorPickerDirection,o=e.onAddSnapshot,a=i.state,s=a.showColorPicker,l=a.showColorPickerArrow,u=a.arrowOffset,c=a.leftOffset,f=a.topOffset;return R.a.createElement(Wm,{color:Object(E.kb)(t),show:s,showArrow:l,direction:r,arrowOffset:u,leftOffset:c,topOffset:f,labelHex:n.hex,labelR:n.r,labelG:n.g,labelB:n.b,labelSliderOpacity:n.sliderOpacity,labelSliderHue:n.sliderHue,onChange:i.onChangeColorPicker,onRequestClose:i.closeColorPicker,onAddSnapshot:o})};var r=i.props.colors;return i.containerRef=R.a.createRef(),i.state={activeIdentifier:"",activeSprite:"",colorList:Object(v.a)(r),showColorPicker:!1,showColorPickerArrow:!1,arrowOffset:0,leftOffset:0,topOffset:0},i}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tool,i=t.isDisabled,r=t.custom,o=t.config,a=t.className,s=this.state,l=s.activeIdentifier,u=s.colorList,c=r.getColorItem(),f=o.assetProvider.getPath("controls","/tiled-background.png"),d=u.map((function(t){return c?R.a.createElement(c,{tool:n,key:"".concat(t.colorString,"-item-").concat(t.identifier),isActive:t.identifier===l,isDisabled:i,onClick:e.onClick(t.identifier),color:t.colorString,label:t.identifier,tiledBackgroundUrl:f}):null}));return R.a.createElement(Vm,{className:a,"data-test":E.r.ColorList,ref:this.containerRef},d,this.getColorPicker())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.activeSprite,i=e.activeColor,r=t.activeSprite,o=t.colorList;if(n!==r||!n){var a=Lc(Object(E.kb)(i)),s=o.find((function(e){return e.colorString===a}));return{activeSprite:n,activeIdentifier:s?s.identifier:""}}return null}}]),n}(R.a.Component);qm.defaultProps={colorPickerDirection:"bottom",isDisabled:!1};var Km=qs("config","custom")(Ns(qm)),Xm=function(e){return R.a.createElement(No.Consumer,null,(function(t){var n=t.rect;return R.a.createElement(Km,Object(k.a)({},e,{rect:n}))}))},Ym=Object(E.E)(xo()),Qm=Object(D.c)(qp.Controls.Container)(et()),Zm=D.c.div($e(),(function(e){return e.theme.foreground})),Jm=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).INITIAL_POSITION={x:void 0,y:void 0},i.state=Object(k.a)({},i.INITIAL_POSITION,{isDrawing:!1}),i.containerElementRef=null,i.getCursorCoordinates=function(e){var t=0,n=0;if(-1!==e.type.indexOf("touch")){var r=e;if(!r.touches.length)return Object(k.a)({},i.INITIAL_POSITION,{height:0,width:0});t=r.touches[0].clientX,n=r.touches[0].clientY}else{var o=e;t=o.clientX,n=o.clientY}var a=i.containerElementRef.current.getBoundingClientRect();return{x:t-a.left,y:n-a.top,height:a.height,width:a.width}},i.draw=function(e){e.preventDefault(),e.stopPropagation(),i.touchDraw(e)},i.touchDraw=function(e){var t=i.getCursorCoordinates(e),n=t.x,r=t.y;void 0!==n&&void 0!==r&&(i.setState({x:n,y:r}),i.state.isDrawing&&i.brushTool.strokePosition({x:n,y:r}))},i.touchStart=function(){i.brushTool.clickableCanvas(!1),i.setState({isDrawing:!0}),i.brushTool.beginStroke()},i.start=function(e){0===e.button?i.touchStart():i.stop(e)},i.stop=function(e){i.state.isDrawing&&(e.preventDefault(),e.stopPropagation(),i.setState({isDrawing:!1}),i.brushTool.endStroke(),i.brushTool.clickableCanvas(!0))},i.setInitialPosition=function(){i.setState(Object(k.a)({},i.INITIAL_POSITION))},i.mouseOut=function(e){var t=i.props.config;e.preventDefault(),e.stopPropagation();var n=i.brushTool.sizeOnScreenSpace/2,r=i.getCursorCoordinates(e),o=r.x,a=r.y,s=r.height,l=r.width;o&&a&&(o<0||a<0||o>l-n||a>s-n||a<t.measurements.mainCanvasActionBar.height)&&i.setInitialPosition()},i.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=i.state,n=t.x,r=t.y;n&&r&&i.setInitialPosition()},i.getCursor=function(){var e=i.state,t=e.x,n=e.y;if(t&&n){var r=Lc(i.brushTool.color),o="".concat(i.brushTool.sizeOnScreenSpace,"px"),a={left:"".concat(i.state.x,"px"),top:"".concat(i.state.y,"px"),borderColor:r,height:o,width:o};return R.a.createElement(Zm,{style:a,"data-test":E.r.Cursor})}return null},i.containerElementRef=R.a.createRef(),i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!1})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)}},{key:"render",value:function(){return R.a.createElement(Qm,{ref:this.containerElementRef,"data-test":E.r.CursorContainer,onMouseMove:this.draw,onTouchMove:this.touchDraw,onMouseDown:this.start,onTouchStart:this.touchStart,onMouseOut:this.mouseOut,onTouchEnd:this.touchEnd},this.getCursor())}},{key:"brushTool",get:function(){return this.props.brushTool}}]),n}(R.a.Component),$m=qs("brushTool","config")(Ns(Jm)),eg=function(e,t){return void 0!==e&&void 0!==t&&!Number.isNaN(e)&&!Number.isNaN(t)},tg=Object(D.c)(qp.Controls.Knob)(Je(),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop/2}),(function(e){return e.theme.measurements.canvasControls.knob.touchable.desktop/2})),ng=qp.Controls.Container,ig=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).start=function(e,t){var n=t.x,r=t.y;eg(n,r)&&i.focusTool.setStart({x:n,y:r})},i.end=function(e,t){var n=t.x,r=t.y;eg(n,r)&&i.focusTool.setEnd({x:n,y:r})},i.onKnob1DragStart=function(e,t){i.focusTool.clickableCanvas(!1),i.start(e,t)},i.onKnob1DragStop=function(e,t){i.addSnapshot(t,i.historyLocale.focusPosition),i.start(e,t),i.focusTool.clickableCanvas(!0)},i.onKnob2DragStart=function(e,t){i.focusTool.clickableCanvas(!1),i.end(e,t)},i.onKnob2DragStop=function(e,t){i.addSnapshot(t,i.historyLocale.focusPosition),i.end(e,t),i.focusTool.clickableCanvas(!0)},i.addSnapshot=function(e,t){var n=e.x,r=e.y;eg(n,r)&&i.focusTool.toolSnapshot(t)},i.getLine=function(){var e=i.props.canvas.canvasSize,t=e.height,n=e.width,r=i.focusTool.startOnPreview,o=i.focusTool.endOnPreview;return R.a.createElement("svg",{focusable:"false",height:t,width:n},R.a.createElement("line",{x1:r.x,y1:r.y,x2:o.x,y2:o.y,strokeWidth:"2",stroke:"currentColor"}))},i.startRef=R.a.createRef(),i.endRef=R.a.createRef(),i}return Object(S.a)(n,[{key:"render",value:function(){return R.a.createElement(ng,null,R.a.createElement(qp.Controls.Line,null,this.getLine()),R.a.createElement(_c.Draggable,{nodeRef:this.startRef,bounds:"parent",position:this.focusTool.startOnPreview,onStart:this.onKnob1DragStart,onDrag:this.start,onStop:this.onKnob1DragStop},R.a.createElement(tg,{ref:this.startRef})),R.a.createElement(_c.Draggable,{nodeRef:this.endRef,bounds:"parent",onStart:this.onKnob2DragStart,onDrag:this.end,onStop:this.onKnob2DragStop,position:this.focusTool.endOnPreview},R.a.createElement(tg,{ref:this.endRef})))}},{key:"focusTool",get:function(){return this.props.focusTool}},{key:"historyLocale",get:function(){return this.focusTool.locale.history}}]),n}(R.a.Component);tg.defaultProps={theme:qf};var rg=qs("canvas","focusTool")(Ns(ig)),og=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).getKnobPosition=function(){var e=i.props.focusTool,t=e.origin,n=e.size/2,r=Math.PI/2+e.rotation;return{x:t.x+n*Math.cos(r),y:t.y+n*Math.sin(r)}},i.onArea=function(e,t){var n=t.x,r=t.y,o=i.props.editor.configStore.measurements.canvasControls.knob.size;if(eg(n,r)){var a=i.props,s=a.canvas,l=a.focusTool,u=l.size,c=n+l.mirroredAreaWidth/2,f=r+u/2,d=new E.n(i.getKnobPosition()),h=new E.n({x:n,y:r}).subtract(new E.n(i.areaPosition)),p=d.add(h);p.x>o&&p.x<s.canvasSize.width-o&&p.y>o&&p.y<s.canvasSize.height-o&&l.setOrigin({x:c,y:f})}},i.onKnob=function(e,t){var n=t.x,r=t.y,o=i.props.focusTool;if(eg(n,r)){o.clickableCanvas(!1);var a=new E.n(o.origin),s=new E.n(n,r),l=a.subtract(s),u=l.magnitude,c=Math.PI/2+Math.atan2(l.y,l.x);o.setSize(2*u),o.setRotation(c)}},i.onAreaDragStop=function(e,t){var n=i.props.focusTool;i.addSnapshot(t,n.locale.history.focusPosition),i.onArea(e,t),n.clickableCanvas(!0)},i.onKnobDragStop=function(e,t){var n=i.props.focusTool;i.addSnapshot(t,n.locale.history.focusSize),i.onKnob(e,t),n.clickableCanvas(!0)},i.addSnapshot=function(e,t){var n=e.x,r=e.y,o=i.props.focusTool;eg(n,r)&&o.toolSnapshot(t)},i.knobRef=R.a.createRef(),i.areaRef=R.a.createRef(),i}return Object(S.a)(n,[{key:"render",value:function(){var e=this.areaPosition,t=e.x,n=e.y,i=this.props.focusTool;return R.a.createElement(qp.Controls.Container,null,R.a.createElement(_c.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnob,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:this.getKnobPosition()},R.a.createElement(qp.Controls.Knob,{ref:this.knobRef})),R.a.createElement(_c.Draggable,{nodeRef:this.areaRef,onStart:this.onArea,onDrag:this.onArea,onStop:this.onAreaDragStop,position:{x:t,y:n},rotation:i.rotation},R.a.createElement(qp.Controls.Area,{ref:this.areaRef,"data-test":E.r.Focus,height:i.size,width:i.mirroredAreaWidth})))}},{key:"areaPosition",get:function(){var e=this.props.focusTool,t=e.origin,n=e.size,i=e.mirroredAreaWidth;return{x:t.x-i/2,y:t.y-n/2}}}]),n}(R.a.Component);og=Object(E.G)([qs("focusTool","canvas","editor"),Ns],og);var ag=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).state={knobAngle:2.35},i.onCircle=function(e,t){var n=t.x,r=t.y;if(eg(n,r)){var o=i.props.focusTool;o.setCenter({x:n+o.radius,y:r+o.radius})}},i.onKnob=function(e,t){var n=t.x,r=t.y;if(eg(n,r)){var o=i.props.focusTool,a=new E.n(n,r),s=new E.n(o.center.x,o.center.y).subtract(a),l=s.magnitude,u=-Math.atan2(s.y,s.x);i.setState({knobAngle:u}),o.setRadius(l)}},i.onCircleDragStart=function(e,t){i.props.focusTool.clickableCanvas(!1),i.onCircle(e,t)},i.onCircleDragStop=function(e,t){var n=i.props.focusTool;i.addSnapshot(t,n.locale.history.focusPosition),i.onCircle(e,t),n.clickableCanvas(!0)},i.onKnobDragStart=function(e,t){i.props.focusTool.clickableCanvas(!1),i.onKnob(e,t)},i.onKnobDragStop=function(e,t){var n=i.props.focusTool;i.addSnapshot(t,n.locale.history.focusSize),i.onKnob(e,t),n.clickableCanvas(!0)},i.addSnapshot=function(e,t){var n=e.x,r=e.y,o=i.props.focusTool;eg(n,r)&&o.toolSnapshot(t)},i.knobRef=R.a.createRef(),i.circleRef=R.a.createRef(),i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.setState({knobAngle:2.35})}},{key:"render",value:function(){var e=this.props.focusTool,t=this.state.knobAngle,n=e.center,i=e.radius,r={x:n.x-i,y:n.y-i},o=Math.PI-t,a={x:n.x+i*Math.cos(o),y:n.y+i*Math.sin(o)};return R.a.createElement(qp.Controls.Container,null,R.a.createElement(_c.Draggable,{nodeRef:this.knobRef,bounds:"parent",onStart:this.onKnobDragStart,onDrag:this.onKnob,onStop:this.onKnobDragStop,position:a},R.a.createElement(qp.Controls.Knob,{ref:this.knobRef})),R.a.createElement(_c.Draggable,{nodeRef:this.circleRef,onStart:this.onCircleDragStart,onDrag:this.onCircle,onStop:this.onCircleDragStop,position:r},R.a.createElement(qp.Controls.Circle,{ref:this.circleRef,"data-test":E.r.Focus,radius:i})))}}]),n}(R.a.Component);ag=Object(E.G)([qs("focusTool","canvas"),Ns],ag);var sg=Ns((function(){var e=oh().focusTool,t=e.state,n=function(){switch(t.identifier){case"linear":return rg;case"radial":return ag;case"mirrored":return og;default:return null}}();return e.isOptionSelected&&n?R.a.createElement(n,null):null})),lg=function(e){var t=e.customButtonKey,n=e.onClick,i=e.label,r=e.icon,o=e.disabled,a=oh().custom.getButton(t);return a?R.a.createElement(a,{onClick:n,label:i,ariaLabel:i,icon:r,isDisabled:o}):null},ug=function(e){var t=e.availableKeys,n=e.actions;return R.a.createElement(qp.Bar.ButtonGroup,{onClick:E.m},t.map((function(e){var t=n[e];return t?R.a.createElement(lg,Object(k.a)({key:e},t)):null})))},cg=qs("sprite","stickerTool")(Ns((function(e){var t,n=e.sprite,i=e.stickerTool,r=i.locale.canvasActions,o=(t={},Object(_.a)(t,"bringtofront",{customButtonKey:"canvasActionBringToFront",onClick:i.bringToFront,label:r.buttonBringToFront,icon:R.a.createElement(_p.bringToFront,null),disabled:n.isOnTop}),Object(_.a)(t,"flip",{customButtonKey:"canvasActionFlip",onClick:i.flipHorizontally,label:r.buttonFlipHorizontal,icon:R.a.createElement(_p.flipHorizontal,null)}),Object(_.a)(t,"duplicate",{customButtonKey:"canvasActionDuplicate",onClick:function(){return i.duplicate()},label:r.buttonDuplicate,icon:R.a.createElement(_p.duplicate,null)}),Object(_.a)(t,"delete",{customButtonKey:"canvasActionDelete",onClick:i.delete,label:r.buttonDelete,icon:R.a.createElement(_p.delete,null)}),t);return i.isStickerSelected?R.a.createElement(ug,{availableKeys:i.config.canvasActions,actions:o}):null}))),fg=qs("textTool","sprite")(Ns((function(e){var t,n=e.textTool,i=e.sprite,r=n.locale.canvasActions,o=(t={},Object(_.a)(t,"edit",{customButtonKey:"canvasActionEdit",onClick:function(){return n.setEditMode(!0)},label:r.buttonEdit,icon:R.a.createElement(_p.edit,null)}),Object(_.a)(t,"bringtofront",{customButtonKey:"canvasActionBringToFront",onClick:n.bringToFront,label:r.buttonBringToFront,icon:R.a.createElement(_p.bringToFront,null),disabled:i.isOnTop}),Object(_.a)(t,"duplicate",{customButtonKey:"canvasActionDuplicate",onClick:n.duplicate,label:r.buttonDuplicate,icon:R.a.createElement(_p.duplicate,null)}),Object(_.a)(t,"delete",{customButtonKey:"canvasActionDelete",onClick:n.delete,label:r.buttonDelete,icon:R.a.createElement(_p.delete,null)}),t);return i.isSpriteText?R.a.createElement(ug,{availableKeys:n.config.canvasActions,actions:o}):null}))),dg=qs("sprite","textDesignTool")(Ns((function(e){var t,n=e.sprite,i=e.textDesignTool,r=i.locale.canvasActions,o=(t={},Object(_.a)(t,"edit",{customButtonKey:"canvasActionEdit",onClick:function(){return i.setEditMode(!0)},label:r.buttonEdit,icon:R.a.createElement(_p.edit,null)}),Object(_.a)(t,"bringtofront",{customButtonKey:"canvasActionBringToFront",onClick:i.bringToFront,label:r.buttonBringToFront,icon:R.a.createElement(_p.bringToFront,null),disabled:n.isOnTop}),Object(_.a)(t,"invert",{customButtonKey:"canvasActionInvert",onClick:i.invertBackground,label:r.buttonInvert,icon:R.a.createElement(_p.flipHorizontal,null)}),Object(_.a)(t,"duplicate",{customButtonKey:"canvasActionDuplicate",onClick:i.duplicate,label:r.buttonDuplicate,icon:R.a.createElement(_p.duplicate,null)}),Object(_.a)(t,"delete",{customButtonKey:"canvasActionDelete",onClick:function(){return i.delete()},label:r.buttonDelete,icon:R.a.createElement(_p.delete,null)}),t);return i.isTextDesignSelected?R.a.createElement(ug,{availableKeys:i.config.canvasActions,actions:o}):null}))),hg=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).actionsRef=null,i.spriteControlPosition=function(){var e=i.props,t=e.config,n=e.sprite,r=e.canvas.canvasSize,o=t.measurements.canvasControls.sprite,a=o.controlPadding,s=o.controlOffset,l=n.position,u=l.x,c=l.y,f=n.currentSprite.size,d=f.height,h=f.width,p=n.rotationWRTOutputRotation,m=i.actionsRef.current,g=new E.n(0,0);if(m){var y=m.getBoundingClientRect();g=new E.n(y.width/2+s,y.height+s)}var v=Math.abs(h*Math.sin(p))+Math.abs(d*Math.cos(p)),b=new E.n(u,c-v/2-a-s).clamp(g,new E.n(r.width,r.height).subtract(g));return{left:b.x,top:b.y}},i.getSpriteControls=function(){switch(i.props.sprite.tool){case"text":return R.a.createElement(fg,null);case"textdesign":return R.a.createElement(dg,null);case"sticker":return R.a.createElement(cg,null);default:return null}},i.actionsRef=R.a.createRef(),i.state={isMounted:!1},i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"render",value:function(){var e=this.props.sprite,t=this.state.isMounted,n=!e.isDragMode&&!e.isEditMode,i=this.spriteControlPosition();return R.a.createElement(qp.Controls.SpriteActionsWrapper,{"data-test":E.r.SpriteActions,ref:this.actionsRef,show:n&&t,style:Object(k.a)({},i)},this.getSpriteControls())}}]),n}(R.a.Component);hg=Object(E.G)([qs("sprite","config","editor","canvas"),Ns],hg);var pg=qp.Controls.Corner,mg=_c.Draggable,gg=new E.n(0,0),yg=new E.n(0,0),vg=Ns((function(){var e=Object(I.useRef)(null),t=Object(I.useRef)(null),n=Object(I.useRef)(null),i=Object(I.useRef)(null),r=oh(),o=r.config,a=r.sprite,s=a.leftTopPosition,l=a.leftBottomPosition,u=a.rightTopPosition,c=a.rightBottomPosition,f=o.measurements.canvasControls.corner.borderWidth,d=function(e){var t=e.clientX,n=e.clientY;void 0!==t&&void 0!==n&&a.onCornerDrag(yg.subtract(gg.subtract(new E.n(t,n))))},h=function(e,t){var n=e.clientX,i=e.clientY;gg=new E.n(n,i),yg=new E.n(function(e){switch(e){case"leftTop":return s;case"leftBottom":return l;case"rightTop":return u;case"rightBottom":return c;default:return s}}(t)),a.clickableCanvas(!1),a.setDragMode(!0)},p=function(){a.clickableCanvas(!0),a.setDragMode(!1),a.spriteSnapshot("size"),gg=new E.n(0,0),yg=new E.n(0,0)};return R.a.createElement(R.a.Fragment,null,R.a.createElement(mg,{nodeRef:e,onStop:p,onDrag:d,onStart:function(e){return h(e,"leftTop")}},R.a.createElement(pg,{ref:e,"data-test":E.r.SpriteTopLeft,vertical:"top",horizontal:"left",borderWidth:f})),R.a.createElement(mg,{nodeRef:n,onStop:p,onDrag:d,onStart:function(e){return h(e,"leftBottom")}},R.a.createElement(pg,{ref:n,"data-test":E.r.SpriteBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:f})),R.a.createElement(mg,{nodeRef:t,onStop:p,onDrag:d,onStart:function(e){return h(e,"rightTop")}},R.a.createElement(pg,{ref:t,"data-test":E.r.SpriteTopRight,vertical:"top",horizontal:"right",borderWidth:f})),R.a.createElement(mg,{nodeRef:i,onStop:p,onDrag:d,onStart:function(e){return h(e,"rightBottom")}},R.a.createElement(pg,{ref:i,"data-test":E.r.SpriteBottomRight,vertical:"bottom",horizontal:"right",borderWidth:f})))})),bg=D.c.img(Ze()),_g=D.c.img(Qe()),xg=new E.n(0,0),kg=new E.n(0,0),wg=qs("sprite","config")(Ns((function(e){var t=e.sprite,n=e.config,i=Object(I.useRef)(null),r=Object(I.useRef)(null),o=t.leftMidPosition,a=t.rightMidPosition,s=n.assetProvider.getPath("controls","/arrow-left.png"),l=n.assetProvider.getPath("controls","/arrow-right.png"),u=function(e,n){t.setDragMode(!0),t.clickableCanvas(!1);var i=e.clientX,r=e.clientY;xg=new E.n(i,r),kg=new E.n("left"===n?o:a)},c=function(){t.clickableCanvas(!0),t.setDragMode(!1),t.addSnapshot("edit",t.textDesignLocale.padding),xg=new E.n(0,0),kg=new E.n(0,0)},f=function(e){var n=e.clientX,i=e.clientY;if(void 0!==n&&void 0!==i){var r=kg.subtract(xg.subtract(new E.n(n,i)));t.onPaddingDrag(r)}};return R.a.createElement(R.a.Fragment,null,R.a.createElement(_c.Draggable,{nodeRef:i,onStart:function(e){return u(e,"left")},onDrag:f,onStop:c},R.a.createElement(bg,{ref:i,src:s})),R.a.createElement(_c.Draggable,{nodeRef:r,onStart:function(e){return u(e,"right")},onDrag:f,onStop:c},R.a.createElement(_g,{ref:r,src:l})))}))),Og=Object(D.c)(qp.Controls.Knob)(Ye(),(function(e){return e.url}),(function(e){return e.theme.measurements.canvasControls.knob.size/2})),Sg=new E.n(0,0),Cg=new E.n(0,0);Og.defaultProps={theme:qf};var jg=qs("sprite","snapping","config")(Ns((function(e){var t=e.config,n=e.sprite,i=e.snapping,r=Object(I.useRef)(null),o=n.rightBottomHandlePosition,a=n.leftBottomHandlePosition,s={x:(o.x+a.x)/2,y:(o.y+a.y)/2},l=t.assetProvider.getPath("controls","/".concat(Object(E.wb)()?"rotate-windows":"rotate-osx",".png"));return R.a.createElement(_c.Draggable,{nodeRef:r,onStart:function(e){var t=e.clientX,i=e.clientY;Sg=new E.n(t,i),Cg=new E.n(s),n.setDragMode(!0),n.clickableCanvas(!1)},onDrag:function(e){!function(e){var t=e.clientX,r=e.clientY;if(void 0!==t&&void 0!==r){var o=Cg.subtract(Sg.subtract(new E.n(t,r))),a=n.position,s=new E.n(a.x,a.y),l=o.subtract(s),u=Math.atan2(l.y,l.x)-Math.PI/2,c=i.snapToRotation(u,l,n.currentRect);n.setRotation(c)}}(e)},onStop:function(){n.clickableCanvas(!0),n.setDragMode(!1),n.spriteSnapshot("rotation"),i.hideRotationGuides(),Sg=new E.n(0,0),Cg=new E.n(0,0)}},R.a.createElement(Og,{ref:r,url:l}))}))),Tg=Object(D.c)(qp.Controls.Width)(Xe()),Eg=Object(D.c)(Tg)(Ke(),(function(e){return e.theme.measurements.canvasControls.width.size/2})),Dg=Object(D.c)(Tg)(qe(),(function(e){return e.theme.measurements.canvasControls.width.size/2})),Ig=new E.n(0,0),Rg=new E.n(0,0);Eg.defaultProps={theme:qf},Dg.defaultProps={theme:qf};var Fg=qs("sprite","textTool")(Ns((function(e){var t=e.sprite,n=e.textTool,i=Object(I.useRef)(null),r=Object(I.useRef)(null),o=t.leftMidPadPosition,a=t.rightMidPadPosition,s=function(e,n){t.setDragMode(!0),t.clickableCanvas(!1);var i=e.clientX,r=e.clientY;Ig=new E.n(i,r),Rg=new E.n("left"===n?o:a)},l=function(){t.clickableCanvas(!0),t.setDragMode(!1),t.addSnapshot("edit",t.textLocale.width),n.updateDefaultFontSize(),Ig=new E.n(0,0),Rg=new E.n(0,0)},u=function(e){var n=e.clientX,i=e.clientY;if(void 0!==n&&void 0!==i){var r=Rg.subtract(Ig.subtract(new E.n(n,i)));t.onWidthDrag(r)}};return R.a.createElement(R.a.Fragment,null,R.a.createElement(_c.Draggable,{nodeRef:i,onStart:function(e){return s(e,"left")},onDrag:u,onStop:l},R.a.createElement(Eg,{ref:i})),R.a.createElement(_c.Draggable,{nodeRef:r,onStart:function(e){return s(e,"right")},onDrag:u,onStop:l},R.a.createElement(Dg,{ref:r})))}))),Ag=_c.Draggable,Mg=new E.n(0,0),Pg=new E.n(0,0),zg=Ns((function(){var e=Object(I.useRef)(),t=oh(),n=t.active,i=t.config,r=t.snapping,o=t.sprite;if(!function(){var e=n.tool,t=o.tool;return o.isSpriteSelected&&e===t}())return null;var a=o.isSpriteText,s=o.isSpriteTextDesign&&o.textDesignToolStore.isInverted,l=o.size,u=l.height,c=l.width,f=o.spritePosition,d=o.rotationWRTOutputRotation,h=i.measurements.canvasControls.sprite.controlPadding;return R.a.createElement(qp.Controls.Container,null,R.a.createElement(Ag,{nodeRef:e,onStart:function(e){var t=e.clientX,n=e.clientY;Mg=new E.n(t,n),Pg=new E.n(o.position),o.setDragMode(!0),r.updateGuides()},onDrag:function(e){var t=e.clientX,n=e.clientY,i=Pg.subtract(Mg.subtract(new E.n(t,n))),a=r.snapToPosition({x:i.x,y:i.y},o.currentRect),s=a.x,l=a.y;o.setPosition({x:s,y:l})},onStop:function(e){var t=e.clientX,n=e.clientY,i=Mg,a=i.x,s=i.y;Mg=new E.n(0,0),Pg=new E.n(0,0),o.setDragMode(!1),a!==t&&s!==n&&o.spriteSnapshot("position"),r.hidePositionGuides()},rotation:d,position:f},R.a.createElement(qp.Controls.Sprite,{ref:e,"data-test":E.r.Sprite,onDoubleClick:function(e){e.preventDefault(),e.stopPropagation(),o.setEditMode(!0)},height:u,width:c},a&&R.a.createElement(Fg,null)||null,s&&R.a.createElement(wg,null)||null,R.a.createElement(vg,null),R.a.createElement(qp.Controls.RotateHandle,{x:c/2+h/2},R.a.createElement(jg,null)))),R.a.createElement(hg,null))})),Bg=qp.Crop.GridLine,Lg=qp.Crop.Mask,Ng=_c.Draggable,Ug=Object(D.c)(Gp)(Ve(),3,3),Gg=Object(D.c)(Gp)((function(e){var t=e.theme.measurements.canvasControls.corner.touchable.desktop,n=t/4-e.borderWidth;return Object(D.b)(We(),n-t,3)})),Hg=Object(D.c)(Gp)((function(e){var t=e.theme.measurements.canvasControls.corner.touchable.desktop,n=t/4-e.borderWidth;return Object(D.b)(He(),n-t,n-t)})),Wg=Object(D.c)(Gp)((function(e){var t=e.theme.measurements.canvasControls.corner.touchable.desktop,n=t/4-e.borderWidth;return Object(D.b)(Ge(),n-t,3)})),Vg=qs("transformTool")(Ns((function(e){var t=e.transformTool,n=Object(I.useRef)(null),i=Object(I.useRef)(null),r=Object(I.useRef)(null),o=Object(I.useRef)(null),a=Object(I.useRef)(null),s=t.leftTopRespectFlip,l=t.leftBottomRespectFlip,u=t.rightTopRespectFlip,c=t.rightBottomRespectFlip,f=t.cropMaskSize,d=f.height,h=f.width,p=t.maxCropMaskSize,m=t.defaultCropMaskPosition,g=t.isFlippedHorizontal,y=t.isFlippedVertical,v=p.width/2,b=p.height/2,_=Object(k.a)({},p,{left:m.x,top:m.y}),x={height:d,width:h},w=t.isDragMode?{transition:"unset"}:{},O=function(e){return g?2*v-e:e},S=function(e){return y?2*b-e:e},C=function(e,n,i){var r=O(e),o=S(n);switch(vd.getFlippedEdgeIndex(i,g,y)){case 0:t.onLeftTop({x:r,y:o});break;case 1:t.onLeftBottom({x:r,y:o});break;case 2:t.onRightTop({x:r,y:o});break;case 3:t.onRightBottom({x:r,y:o})}},j=function(e,n,i){t.setDragMode(!0),t.clickableCanvas(!1),C(e,n,i)},T=function(e,t,n){C(e,t,n)},D=function(e,n,i){t.setDragMode(!1),C(e,n,i),t.clickableCanvas(!0),t.trackChanges()},F=function(e,n){var i=O(e+h/2)-h/2,r=S(n+d/2)-d/2;t.changePosition({x:i,y:r})};return R.a.createElement("div",{style:Object(k.a)({},_,{position:"absolute"})},R.a.createElement(Ng,{nodeRef:a,bounds:"parent",position:s,onStart:function(e,n){var i=n.x,r=n.y;t.setDragMode(!0),t.clickableCanvas(!1),F(i,r)},onDrag:function(e,t){var n=t.x,i=t.y;F(n,i)},onStop:function(e,n){var i=n.x,r=n.y;t.setDragMode(!1),F(i,r),t.clickableCanvas(!0),t.trackChanges()}},R.a.createElement(Lg,{ref:a,style:Object(k.a)({},x,{},w)})),R.a.createElement(Bg,{style:Object(k.a)({left:s.x+h/3,top:s.y,height:d,width:1},w)}),R.a.createElement(Bg,{style:Object(k.a)({left:s.x+h/3*2,top:s.y,height:d,width:1},w)}),R.a.createElement(Bg,{style:Object(k.a)({left:s.x,top:s.y+d/3,height:1,width:h},w)}),R.a.createElement(Bg,{style:Object(k.a)({left:s.x,top:s.y+d/3*2,height:1,width:h},w)}),R.a.createElement(Ng,{nodeRef:n,bounds:"parent",position:Object(k.a)({},s),onStart:function(e,t){var n=t.x,i=t.y;j(n,i,0)},onDrag:function(e,t){var n=t.x,i=t.y;T(n,i,0)},onStop:function(e,t){var n=t.x,i=t.y;D(n,i,0)}},R.a.createElement(Ug,{ref:n,"data-test":E.r.CropTopLeft,vertical:"top",horizontal:"left",borderWidth:3,style:w})),R.a.createElement(Ng,{nodeRef:r,bounds:"parent",position:l,onStart:function(e,t){var n=t.x,i=t.y;j(n,i,1)},onDrag:function(e,t){var n=t.x,i=t.y;T(n,i,1)},onStop:function(e,t){var n=t.x,i=t.y;D(n,i,1)}},R.a.createElement(Wg,{ref:r,"data-test":E.r.CropBottomLeft,vertical:"bottom",horizontal:"left",borderWidth:3,style:w})),R.a.createElement(Ng,{nodeRef:i,bounds:"parent",position:u,onStart:function(e,t){var n=t.x,i=t.y;j(n,i,2)},onDrag:function(e,t){var n=t.x,i=t.y;T(n,i,2)},onStop:function(e,t){var n=t.x,i=t.y;D(n,i,2)}},R.a.createElement(Gg,{ref:i,"data-test":E.r.CropTopRight,vertical:"top",horizontal:"right",borderWidth:3,style:w})),R.a.createElement(Ng,{nodeRef:o,bounds:"parent",position:c,onStart:function(e,t){var n=t.x,i=t.y;j(n,i,3)},onDrag:function(e,t){var n=t.x,i=t.y;T(n,i,3)},onStop:function(e,t){var n=t.x,i=t.y;D(n,i,3)}},R.a.createElement(Hg,{ref:o,"data-test":E.r.CropBottomRight,vertical:"bottom",horizontal:"right",borderWidth:3,style:w})))}))),qg=D.c.div(Ue(),(function(e){return e.isVisible&&Object(D.b)(Ne())}),(function(e){return e.theme.foreground})),Kg=D.c.div(Le()),Xg=D.c.div(Be(),(function(e){return e.theme.foreground}),(function(e){return e.isVisible&&Object(D.b)(ze())})),Yg=D.c.div(Pe()),Qg=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).SLIDER_WIDTH=213,i.MAX_ROTATION=45,i.DEGREES_PER_PIXEL=2*i.MAX_ROTATION/i.SLIDER_WIDTH,i.drag=function(e,t){var n=t.x,r=i.transformTool.rotateFlipState;r.flipHorizontally!==r.flipVertically&&(n*=-1);var o=i.transformTool.defaultAngle-n*i.DEGREES_PER_PIXEL,a=Math.min(i.MAX_ROTATION,Math.max(o,-1*i.MAX_ROTATION));i.transformTool.setRotation(parseInt("".concat(a),10))},i.stop=function(){i.transformTool.setDefaultAngle(i.transformTool.rotationInDegrees),i.transformTool.trackChanges()},i.rotateRef=R.a.createRef(),i}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.canvasWidth,i=e.transformTool,r=e.className,o=this.transformTool.rotateFlipState,a=o.flipHorizontally,s=o.flipVertically,l=!t.isLayoutAdvanced||t.isLayoutAdvanced&&n>t.measurements.canvas.transform.minSliderWidth,u=!t.isLayoutAdvanced||t.isLayoutAdvanced&&n>t.measurements.canvas.transform.minValueWidth,c=this.transformTool.rotationInDegrees-this.transformTool.defaultAngle,f=a===s?-1*c:c,d=a!==s?-1*i.rotationInDegrees:i.rotationInDegrees;return R.a.createElement(Kg,{"data-test":E.r.RotateSlider,className:r},R.a.createElement(_c.Draggable,{nodeRef:this.rotateRef,axis:"x",position:{x:0,y:0},onStart:this.drag,onDrag:this.drag,onStop:this.stop,updateOnPosition:!0,disabled:!l},R.a.createElement(Yg,{ref:this.rotateRef},R.a.createElement(qg,{isVisible:l},R.a.createElement(_p.dots,{width:90,height:15,x:f})),R.a.createElement(Xg,{isVisible:u},d,"\xb0"),R.a.createElement(qg,{isVisible:l},R.a.createElement(_p.dots,{width:90,height:15,x:f})))))}},{key:"transformTool",get:function(){return this.props.transformTool}}]),n}(R.a.Component),Zg=qs("transformTool","config")(Ns(Qg)),Jg=Object(D.b)(Me()),$g=Object(D.c)(Zg)(Ae(),(function(e){return e.smallContainer&&Jg}),Jg),ey=Object(D.b)(Fe()),ty=D.c.div(Re(),(function(e){return e.smallContainer&&ey}),ey),ny=Object(D.b)(Ie()),iy=D.c.div(De(),(function(e){return e.smallContainer&&ny}),ny),ry=Object(D.c)(_p.rotate)(Ee()),oy=Object(D.c)(_p.rotate)(Te()),ay=Object(D.c)(_p.flipHorizontal)(je()),sy=Object(D.c)(_p.flipVertical)(Ce()),ly=Object(D.b)(Se()),uy=D.c.div(Oe(),(function(e){return e.theme.foreground}),(function(e){return e.smallContainer&&ly}),ly),cy=qs("transformTool","config","custom","canvas")(Ns((function(e){var t=e.transformTool,n=e.config,i=e.custom,r=e.canvas,o=Object(I.useContext)(No).rect,a=t.locale.transformActions,s=r.canvasSize.width,l=!n.isLayoutAdvanced||n.isLayoutAdvanced&&s>n.measurements.canvas.transform.minFlipWidth,u=function(e){var t=e.customButtonKey,n=e.onClick,r=e.label,o=e.icon,a=i.getButton(t);return R.a.createElement(a,{key:r,onClick:n,label:r,ariaLabel:r,icon:o})},c=u({label:a.buttonFlipHorizontal,icon:R.a.createElement(ay,null),onClick:function(){t.flipHorizontally()},customButtonKey:"transformActionFlipHorizontal"}),f=u({label:a.buttonFlipVertical,icon:R.a.createElement(sy,null),onClick:function(){t.flipVertically()},customButtonKey:"transformActionFlipVertical"}),d=u({label:a.buttonRotateClockwise,icon:R.a.createElement(ry,null),onClick:t.rotateClockwise,customButtonKey:"transformActionRotateClockwise"}),h=u({label:a.buttonRotateAntiClockwise,icon:R.a.createElement(oy,null),onClick:t.rotateAntiClockwise,customButtonKey:"transformActionRotateAntiClockwise"}),p=!!o&&o.width<600,m=n.isLayoutAdvanced?{transform:"rotate(180deg)"}:{};return R.a.createElement(uy,{style:m,"data-test":E.r.FlipRotateControls,smallContainer:p},t.config.enableFlip&&l&&R.a.createElement(ty,{smallContainer:p},c,f),t.config.enableRotation&&R.a.createElement($g,{canvasWidth:s,smallContainer:p}),t.config.enableRotation&&R.a.createElement(iy,{smallContainer:p},h,d))}))),fy=qp.Bar.Index,dy=qp.Crop.Backdrop,hy=qs("transformTool","canvas","config")(Ns((function(e){var t=e.transformTool,n=e.canvas,i=e.config,r=t.leftTopRespectFlip,o=t.leftBottomRespectFlip,a=t.rightTopRespectFlip,s=t.cropMaskSize.height,l=n.canvasSize,u=l.height,c=l.width,f=t.defaultCropMaskPosition,d=t.isDragMode?{transition:"unset"}:{};return R.a.createElement(qp.Controls.Container,null,R.a.createElement(dy,{style:Object(k.a)({left:0,top:0,width:c,height:r.y+f.y},d)}),R.a.createElement(dy,{style:Object(k.a)({left:0,top:r.y+f.y,width:f.x+r.x,height:s},d)}),R.a.createElement(dy,{style:Object(k.a)({left:a.x+f.x,top:a.y+f.y,width:c-a.x-f.x,height:s},d)}),R.a.createElement(dy,{style:Object(k.a)({left:0,top:o.y+f.y,width:c,height:u-o.y-f.y+i.measurements.basicUIToolControlBar.controlsBarHeight},d)}),R.a.createElement(Vg,null),i.isLayoutAdvanced?R.a.createElement(fy,{bottom:!0},R.a.createElement(cy,null)):null)}))),py=Object(D.c)(qp.Controls.Container)(we(),(function(e){return e.activeCursor?Object(D.b)(ke()):""}),(function(e){return e.theme.measurements.zIndex.canvas.crop.dragImage})),my=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).INITIAL_POSITION={x:void 0,y:void 0},i.state=Object(k.a)({},i.INITIAL_POSITION,{isDragging:!1}),i.containerRef=null,i.getCursorCoordinates=function(e){var t=0,n=0;if(-1!==e.type.indexOf("touch")){var r=e;if(!r.touches.length)return i.INITIAL_POSITION;t=r.touches[0].clientX,n=r.touches[0].clientY}else{var o=e;t=o.clientX,n=o.clientY}var a=i.containerRef.current.getBoundingClientRect();return{x:t-a.left,y:n-a.top}},i.move=function(e){if(i.scale.canDrag){var t=i.getCursorCoordinates(e),n=t.x,r=t.y;if(void 0!==n&&void 0!==r&&i.state.isDragging){var o={x:i.state.x-n,y:i.state.y-r};i.scale.setOffset(o)}}},i.touchDrag=function(e){if(i.scale.canDrag){var t=i.getCursorCoordinates(e),n=t.x,r=t.y;void 0!==n&&void 0!==r&&i.setState({x:n,y:r,isDragging:!0})}},i.drag=function(e){e.preventDefault(),i.touchDrag(e)},i.stop=function(){i.scale.canDrag&&(i.scale.savePosition(),i.setState(Object(k.a)({},i.INITIAL_POSITION,{isDragging:!1})))},i.touchEnd=function(e){e.preventDefault(),e.stopPropagation();var t=i.state,n=t.x,r=t.y;n&&r&&i.setState(Object(k.a)({},i.INITIAL_POSITION,{isDragging:!1}))},i.containerRef=R.a.createRef(),i}return Object(S.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.stop,!1),document.addEventListener("touchend",this.stop,{passive:!0})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.stop,!1),document.removeEventListener("touchend",this.stop,!1)}},{key:"render",value:function(){return R.a.createElement(py,{ref:this.containerRef,onMouseMove:this.move,onTouchMove:this.move,onMouseDown:this.drag,onTouchStart:this.touchDrag,onMouseUp:this.stop,onTouchEnd:this.touchEnd,activeCursor:this.scale.canDrag})}},{key:"scale",get:function(){return this.props.scale}}]),n}(R.a.Component),gy=qs("scale")(Ns(my)),yy=Ns((function(e){var t=e.children,n=Object(I.useRef)(null),i=oh(),r=i.active,o=i.sprite,a=i.canvas,s=a.canvasSize;return R.a.createElement(qp.Controls.Wrapper,{"aria-hidden":!0,ref:n,onClick:function(e){if(e.preventDefault(),e.stopPropagation(),null==a?void 0:a.isCanvasClickable){var t=e.clientX,i=e.clientY;if(-1!==e.type.indexOf("touch")){var r=e;if(!r.touches.length)return;t=r.touches[0].clientX,i=r.touches[0].clientY}var o=n.current.getBoundingClientRect(),s=t-o.left,l=i-o.top;a.getContainersAtPreviewPoint({x:s,y:l})}},onKeyDown:function(e){"Tab"===e.code&&o.selectLast()},height:s.height,width:s.width},t,function(){switch(r.tool){case"focus":return R.a.createElement(sg,null);case"text":case"textdesign":case"sticker":return R.a.createElement(zg,null);case"brush":return R.a.createElement($m,null);case"transform":return R.a.createElement(hy,null);default:return R.a.createElement(qp.Controls.Container,null,R.a.createElement(gy,null))}}())})),vy=D.c.div(xe(),(function(e){return e.isVisible?"block":"none"}),(function(e){return e.theme.measurements.zIndex.canvas.snappingGuide})),by=function(e){var t=e.isVisible,n=e.className;return R.a.createElement(vy,{isVisible:t,className:n})},_y=Object(D.c)(by)(_e(),(function(e){return e.theme.snapping.positionGuideColor}),(function(e){return"horizontal"===e.direction?Object(D.b)(be(),(function(){return e.position})):Object(D.b)(ve(),(function(){return e.position}))})),xy=Object(D.c)(by)(ye(),(function(e){return e.theme.snapping.rotationGuideColor}),(function(e){return e.position.x}),(function(e){return e.position.y}),(function(e){return e.rotation})),ky=D.c.div(ge(),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.top}),(function(e){return e.left})),wy=qs("snapping","editor")(Ns((function(e){var t=e.snapping,n=e.editor.getPreviewSize(),i=n.width,r=n.height,o=t.previewTopLeftPosition,a=o.x,s=o.y,l=t.positionGuides.map((function(e,t){var n=e.direction,i=e.value,r=e.isVisible;return R.a.createElement(_y,{key:"positionGuide-".concat(t),direction:n,position:i,isVisible:r})})),u=t.rotationGuides.find((function(e){return e.isVisible}));return R.a.createElement(ky,{"data-test":E.r.SnappingLine,width:i,height:r,left:a,top:s},l,R.a.createElement(xy,{key:"rotationGuide",rotation:u?u.value:0,position:u?u.position:{x:0,y:0},isVisible:!!u}))}))),Oy=D.c.img(me()),Sy=function(){return R.a.createElement(Oy,{alt:"watermark","data-test":E.r.Watermark,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaQAAACMCAYAAAAzxN3aAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABMZSURBVHgB7d1tbFTXmQfw4xTXJsZk4hc8LAYPNWDTxOvZJMITNSkInGaTdOUmRWsTdUsrJYvafsh+yDcUqft9VSkftlLYqMRqpJAVQbJ2SeRiU5NCPKAEm1rBr5BxYpKxwNjGJrZxovb+SaYi1Daee8+59zkz/59k0aoUv83c/32e89xzcl7av//XioiIKEA5OTnqLkVERCQAA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCQCA4mIiERgIBERkQgMJCIiEoGBREREIjCQiIhIBAYSERGJwEAiIiIRGEhERCTCCkWUhUYuXQoNJxJl45OToSuXL6+dn5/Pu379euiL+fn8mbm50EL/nxUrVszmfutbsytyc2dznY+CgoLJVYWF42vLypIlJSUTVVVVo4qIXGMgUVa4du1a/rsnT9YifJyPisVCZylffPFFPj7U3NzN/351fPzmn729vTf/RGCtLixMVkQifZsrKxMMKKL0WBFI//3b3+6d+fzztC8gi6n+7nfjP3zyydPL/ftnz56NHD9+vEEZdk8olHz+uefeVD5qa2ur7e7u3qEMa9qzp7l83boJ5aNUCDmVULUTHhFlGMIKnwcfXV1dauXKlROlxcWJWCwWz9ZwMvHe0fVa+v+3367rO38+pkzIyVEbv/Od7h8//fQJpZH296vzdZaWlib2/vSnLUoAKwLpuhNGcy7uaBczOzubr9I0o/HzL/o5RkdDuIiuXr16Vvnkk0uXIn58b35CO+7dP/2pbnh4OHqzognIzMxM6OORkejHhw9HC1etSt5fUxOv37nznMoyUl9f33/kkXM9PT07TL1GBgYGYs77+bTO93P/wEBU98/zusabfa841CAM7uiVj5LJZLXKEAiig83NDQdfe+2FCxcuxIIMo9tNTU+HOzs7f/Rfv/nNC23Hj/v6O6aFISgeevDBVmUIXn/H2tvrlCYjIyMhPyr9IDGQhEF7SfnkVGdnlaSLtluoKo8cObL996+/vs9500aVYKiaUsHU398fVhSox+rru1fm5RlrJX9dJWl5jznhtl1lOAaSMNempsK6XsB34rxZrK+OcFE/cODAvg97e3fYFK4Ipv89fHjfG4cOPe7X75sWVhuNal3nuRVek2fef79KeYTqyNTN1pYtW8S0kRlIwuh6AS+H7e26o0ePxnBRt3kNbMhpLR549dV9aDcqCoTxKqmvz3OQ9PX1VSgDMHjjrGt2KyEYSAL1a3gB3wmmn2xu16GyONvd/bjKAKiW0G48deqULzci9Pd27txpbMpszFn3wftNedBlaBJ248aNYsIIGEgC+dG2O9fTY+XCOn4ueAwAlYXKILg5ON7R0dTe3i56DSxTPfDAA4mie+9NKEPi8bjr9R+Mes8a6AKgOqrbtk3U1CcDSSA/2nZjly9HlGUQRr87eHBvJk8avRePNzCUgvFwLGZsLQlVktshFox6KwNQHfn9bOCdMJCEunjxorH1HbQPbFx3cdpajRifVhkOoeS1xUPpM10lfdDVlXZXwtSot8TqCBhIQo2NjUVMte1sbNdhzSjTn8G4VeuxY40cdPCfySoJD2qn+542NeotsToCBpJQaNsNDQ0ZqQZsa9e9deTIjkxbM7oT/P5bWlqMb1dF32SySkr3QVlTo95SqyNgIAnWY6CSsa1dhyrhfG9vxj8QuBBUhNzVwX8mq6R0HpQ1NeottToCBpJgnyaT1brbdja16/C9H3rjjb0qi2EjTT446y/TVdJyB5ZMjHpLro6Ax08Ilmrb4Q2iNLGpXXesrS3mZzWH4yNKSkqGCwoKxgsLCydX5uXNpP63iWvXQjdu3MgfHx8PX716NaJ8gmeUsL9hOrvTk3eoko6+805EGYAHZe+0ye7J996rMjHqLbk6AgaScGjb6QokjJ3a0q7zq1WHEKqoqOiu3rKlf7k/Z1Qsp8+cqT7X3b3dj5/n1/sbMpB8hNdCZzyeMDFIk3pQdqnXm/Pa0r5mKr06ArbshPtU4/Y+bsZOg+JUR8bDqLKyMv6rX/zi5WebmlrTCX3sEo3tZl588cWXY3V1LSa3nYGrGp70p/Q1NDQY271hqQdlTY16S6+OgIEkHNp2ui5Gn46MWLF3Hb5fk7t2407xqSeeaEYQeT2rBsGEA+PCa9b0K4MuJhJGFrhpcbh4l5eXG9laZ6kHZU2MettQHQEDyQJ9AwOed22wqV1ncvACb8ymxsZmnetyuHA9//zzh0w+VDmaTEYU+c654TA2cbdQxwLVkYlNj22ojoCBZAE8UKc8GhgaiigLYO3IVHWUCiNTb8x/+8lP3sSalDIA+xsq8h1eK2jtKgMWelAWo966Nz22pToCBpIFdLTtLly4YMX6EY4eV4aYDCNA+2/z5s1Ghg/wGuDODcH44ZNPnjBxo7HQg7ImRr1LS0oSNlRHwECyhJe2HS5kU5bcYZta59q6dWuHH2/KH9TXG7mbhuvT03weKQAmbzTwoGzqP5sa9d61a5extqNuHPu2xNdtu1blgnPXZcUwg6l1LrQsdj/zjC9vSly8Xtq//z8VZRTcaAwODtbpbqfh38NuHHguycSo94b1661YO0phhWQJL227j4eHrTj4refDD418nbW1tdbcIZJMJqskHMhpatTbpuoIGEgWcdO2Q7vOll2yTUySoTp6bNcuUadikp1QJZlYS8L78/BbbzUqzWyrjoCBFAC3L2o303Z9vb2unl/BhVz5zERwlhYXJxSRBiarJBPnfNlWHQEDKQBrw2FXD1G6adu5PW3S7wu5qZ0IampqrBh3JTuYqpJ0s7E6AgZSAMrXr//I7Ys6nSf23bbrCletShYUFvr6Yr702WdGpgB1PgBLZLJK0snG6ggYSAHBhp7KhUQiseyKx227bk1ZWUL5bGpq6h6lWVFRUUIRaSa9SrK1OgIGUkCwu7RyAccRLLe95bZd5/Zr82J6elr7uHdubq741grZR3qVZGt1BAykgGzatClpsm3ntl2HrymINtf8jRvaH/p0KqSkIjIAVZLpXd7dsLk6Aj4YGxDcZa0uLEy6CY2v23ZL3gW5bdcVBzSVdv3zz7VXSKFQSOsb88CrrzZem5gQt+MFjsFQ5Cu8f2uj0RPx06cblCA2V0fAQArQhoqKfjeBhLYdKqCl7oQufnWoW9o2btzoe7sOvvzyS/Hb4qCKs2XHdDIPR4/4dUjjctheHQFbdgHa/uijrh/YdO7MFt0sFTsIj46OugqkrdXVCRUA3VuyEPkBVZISwvbqCBhIAULZ7/YMnaV2NThz5oyrLXgw7m37HRaRn1AlmTwHa7kyoToCBlLAysLhYeUCWn2LHUfgtl0XxLg3ke0ejsUCr0wyoToCBlLAYnV12tt2Y2NjEeVCEOPeRLbDVGqQVVKmVEfAQAoYXkh5LsdHF2rbnersrHKzHhPUuHdKnoER2omJCQ4gkC+CrJIypToCBpIA5eXlfcoFtO1uPwJ5YGDAVbuuOAM3Ib0+NcVAIl8EVSVlUnUEDCQBvLTK3j158httu2QyadW4d0rB3Xdrf1Nddtm6JHIjFkCVlEnVETCQBMDdlesjKW4ZYMCWQm7Hp4Ma9065u6BAeyDhea3bK0giUx70uUrKtOoIGEhChMNhz227cz09tW7+DQnj3iUlJaPKgD/39EQUkU/8rJIyrToCBpIQtR7O7Um17cYuX44oFySMexcVFY0rA3p7e12FNJEbflVJmVgdAQNJCC+braJth3ad2y1MJIx7V2zYYKRCuuKsI7FtR37yo0rKxOoIGEhCpDZbVS6gbfdBV1edcgFHlUs4xM7L+PtSsKb2h7Y2Vz+b22GdCz+v5XyYOC8H/+ZCn0uRKKiSwmvWGLvJy9TqCLi5qiBuN1sFt9N1pYLGvUtLSxMjIyOuznBayuDgYMypkk4j9JUHP9+7t2W5f/dgc3OD7u/loYcean1s1y7XD1KTfyYmJ8uUIZlaHQErJEG8bLbq1j+Ul7vausiE9evWJZQBqJKOvv32duUTbOlkIlg3lJfzfCcLtLW11c4a2gE8k6sjYCAJ4mWzVbeCHve+1bZt2/pNHQ09dOFCrL29XXtILORYW5v28ENrrqqqykggYY0NIcq1Nj26urt3KEMyuToCtuyEwWarbtt26SoqKkpIutvycmjhcpx5//3Hy50qw9SFHU6dOlVlojrS3VrF13m+tzeKoY9bn13DDQF+B1XV1d31O3e6nvzMVqyOvGEgCYPNVnt7e31pL1VUVLh69skk7Al29J13IsoAXHj/7+jRxoJVq5pNvLFRZXR2dv6zMqDGw2MBt0IQ4WtcbCITPyPcEDh/J9Lt3OlHo9EOBtPysTryhi07YUxNmy1kc2WlmPWjFEz8rTT4/WP3ht+//vq+tuPHtT6fdLarqwL/ronTQ3VNQr5x6NDjxzs6mpb7NeJn5QTTj/4HR7eznXdHrI68Y4UkEDZbveCseSiDTK5JeIVTOOOnTzcoQ1AF4EJ76ZNPIrvq6094eaPjQo2BiSGDv6/a2lrPd8YII7dfY3J0tPp3Bw+G/uOFF15RArS0tGh5bfzql79sVhqxOvKOgSQQHlQ1HUiSxr1vh1M4z3V3b58xdLeZ8rGz1nPwtdeiG8rLu9ESS6cKQUWU+OijSP/gYMzk8eu4cfA6ePLWkSM7vAbm1PR0GKG2p6mpVQXMrzXWdLA60oOBJBAujK3Hjs2avNBVbtok+jC+2MMPt/6xo6NR+QDBhA/8zEucoL63qCiZn58/m//tb/9t4m/2xo18pxoKXZ+eDt0+CGBSJBLxdDHCutZ5TWuSCLWzZ8/2S3iQWhpWR3owkITCZqsmprVS/rGmJqEEe+R73+s7d+5cws+7YYQM2lP4UAKgOorV1XkaKNA9gt4Zj29nIH0TqyN9ONQg1JYtW4xNwGHc2+uuBX5oaGhoMfVckg2wduT1YuR2B4/FLHQoZLZjdaQPA0momvvuGzZ1MZY47r0QXIzvv//+rHpDpqA68rpNkJfzsZZy+6GQ2YzVkV4MJKG8bLZ6JxLHvRfzL089FS8vL8+q/dtwI9LU2Oh5AuzSZ5+FlQFYS1N0U//AgLG2erZVR8BAEgybrSrNJI97L+bHTz/dikMEVZZAVajjznhubi5PGTA/N8eWneMDpwI1tcaZjdURMJAEM7HZquRx78WgWty9e/ebK316YDhIW7du7UBVqEi8eDxubEeVbKyOgIEkmInNVqWPey8Gd4tNe/Y0Z3IoVVZWxnc/84y2C1FeXt6cMiA3Ly9rB01SWB2ZwUASDputKo2kj3svJZNDCetkz2p+6HTd2rVG2pylpaVGTve1CasjMxhIwtXcd5+2iThbxr2XkgqlTFpTQpsuncP/lmvTpk1JE5Oako4sCQKrI3MYSMJhAEHXZqu2jHvfCd6w2FcNLS5luWg02qqzTXcr3Hw4v3Ot65DSjiwJwp97eoyNvWdzdQQMJAtgs1WlgU3j3suBFlesrq7FxhYeph3/dffuV0wPMHz/0UdP66yS6nfuDHwvuyCNjIyETO2gUlxcnPVhz0CyADZbVR7ZOO69HNiIFS08m55Vclp0J/79uede8eP3ofPhYlSkmfgaSsex9nZja0exbduyujoCBpIFsHeY17tcG8e9lwsXXazBPPXEE6IHHtDu+vnPfvay06Lr8HMtT8fDxVize1bATt9BMl0dcY9Abq5qDa+brdo67p0OvKGdj5ePtbVFBwYHa69evRpRArg53kI3BPbhI0cm3ZxGjDDDw8kqy7E6Ms+KQCooKJi46y59xVy6z2c4n38WLS+lSb6L50M2O4EyNjYWUS6lO+6Nn5HO79lPaOPhA0cvYLfrscuXI6bPVrodqqGysrLhH9TXx6VMNqIyc34eE8s9awpVOdp9Xta5dL93gjI5OZmP95+J7+We1auTrI6+kvPS/v2/VkQZDhuN9g0MVI2Pj4dNVE64eK8Nh/uLS0qS/xSN9klfnEYVmRgerr5y5UrFrRuw4vtwAjS5YcOGfuwUYvtjAmSPnJwcBhJlHxyfMDQ0FMbmo1NTU/cgpObn5/NxYZ6ZmVmwcsCFOjc3dxZ/Onf9k7nOnwife0OhiUgkkrR5Ogo/j2tTU/mrCwtnGUAUFAQS15Ao6+Cie3O9SamEoq92lmcQkQCcsiMiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEgEBhIREYnAQCIiIhEYSEREJAIDiYiIRGAgERGRCAwkIiISgYFEREQiMJCIiEiEFYqIKAvl5OQoEuUvfwUYvyPZHkPjVwAAAABJRU5ErkJggg=="})},Cy=Ns((function(){var e=Object(I.useRef)(null),t=oh(),n=t.canvas,i=t.config,r=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null==e?void 0:e.current){var i=e.current,r=i.clientWidth,o=i.clientHeight,a=Object(E.B)();e.current.width=r*a,e.current.height=o*a,n.saveDimensions({width:r,height:o,render:t})}},o=new Va((0,Ym.default)((function(){return r()}),100,{trailing:!0}));Object(I.useEffect)((function(){var t=e.current;return n.setCanvasElement(t),function(){o.disconnect()}}),[]),Object(I.useLayoutEffect)((function(){r(!1),o.observe(e.current)}));var a=i.licenseChecker;return R.a.createElement(R.a.Fragment,null,a&&a.isWhiteLabel()?null:R.a.createElement(Sy,null),R.a.createElement(qp.Element,{ref:e,"aria-label":"Canvas","data-test":E.r.Canvas}),R.a.createElement(yy,null,R.a.createElement(wy,null)))})),jy=function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(O.a)(this,e),this.getAdvancedCategoryCard=function(){return t.components.advancedUICategoryCard},this.getAdvancedItemCard=function(){return t.components.advancedUIItemCard},this.getAdvancedToolbarItem=function(){return t.components.advancedUIToolbarItem},this.getAdvancedToolbar=function(){return t.components.advancedUIToolbar},this.getAdvancedToolControlBar=function(){return t.components.advancedUIToolControlBar},this.getBasicToolbar=function(){return t.components.basicUIToolbar},this.getBasicToolControlBar=function(){return t.components.basicUIToolControlBar},this.getBasicToolItemsBar=function(){return t.components.basicUIToolItemsBar},this.getDialog=function(){return t.components.dialog},this.getButton=function(e){return t.components.buttons[e]},this.getColorItem=function(){return t.components.colorItem},this.getCheckbox=function(){return t.components.checkbox},this.getWindowContainer=function(){return t.components.windowContainer},this.getSlider=function(){return t.components.slider};var r={dialog:_c.Dialog,colorItem:_c.ColorItem,checkbox:_c.Input.Checkbox,slider:_c.Input.Slider,buttons:{mainCanvasActionUndo:qp.Button.TextSecondary,mainCanvasActionRedo:qp.Button.TextSecondary,mainCanvasActionExport:$o,mainCanvasActionClose:Yo,canvasActionEdit:qp.Controls.SpriteActionButton,canvasActionBringToFront:qp.Controls.SpriteActionButton,canvasActionDuplicate:qp.Controls.SpriteActionButton,canvasActionDelete:qp.Controls.SpriteActionButton,canvasActionInvert:qp.Controls.SpriteActionButton,canvasActionFlip:qp.Controls.SpriteActionButton,transformActionFlipHorizontal:Jo,transformActionFlipVertical:Jo,transformActionRotateClockwise:Jo,transformActionRotateAntiClockwise:Jo,textAlignment:Jo,toolControlBarPrimaryButton:Xo,toolControlBarSecondaryButton:Yo},windowContainer:Gd};this.components=Fc([r,i,n])},Ty=qs("textTool","textDesignTool","modal","custom")(Ns((function(e){var t=e.modal,n=e.textTool,i=e.textDesignTool,r=e.custom,o=t.type,a=t.identifier,s=t.isVisible,l=t.modalProps,u=t.positionOffset,c=l.headerLabel,f=l.bodyLabel,d=l.confirmLabel,h=l.dismissLabel,p=l.handleClose,m=l.handleConfirm,g=l.handleDismiss,y=r.getDialog();if("info"===o)return R.a.createElement(_c.InfoModal,{headerLabel:c,bodyLabel:f},R.a.createElement(y,{type:o,isVisible:s,identifier:a,position:u,handleClose:p,headerLabel:c,bodyLabel:f}));if("textEdit"===o){var v=n.locale.canvasControls,b=v.buttonSave,_=v.buttonClose,x={type:o,isVisible:t.isVisible,confirmLabel:b,dismissLabel:_,headerLabel:n.locale.canvasControls.inputText};if(n.isTextSelected)return R.a.createElement(_c.TextEditModal,Object(k.a)({},x,{defaultText:Of.defaultText(),handleConfirm:n.changeText,handleDismiss:n.setEditMode,text:n.text,maxLength:n.config.maxCharacterLimit,allowEmojis:n.config.allowEmojis}),R.a.createElement(y,{type:o,isVisible:s,identifier:a,position:u,handleClose:p,confirmLabel:b,dismissLabel:_,headerLabel:n.locale.canvasControls.inputText}));if(i.isTextDesignSelected)return R.a.createElement(_c.TextEditModal,Object(k.a)({},x,{defaultText:Tf.defaultText(),handleConfirm:i.changeText,handleDismiss:i.setEditMode,text:i.text,maxLength:i.config.maxCharacterLimit,allowEmojis:i.config.allowEmojis}),R.a.createElement(y,{type:o,isVisible:s,identifier:a,position:u,handleClose:p,confirmLabel:b,dismissLabel:_,headerLabel:n.locale.canvasControls.inputText}))}return R.a.createElement(_c.ActionModal,{type:o,headerLabel:c,bodyLabel:f,confirmLabel:d,dismissLabel:h,handleClose:p,handleConfirm:m,handleDismiss:g},R.a.createElement(y,{type:o,isVisible:s,identifier:a,position:u,confirmLabel:d,dismissLabel:h,headerLabel:c,bodyLabel:f,handleClose:p}))}))),Ey=Object(D.c)(_c.Input.Label)(pe()),Dy=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(e){var i;return Object(O.a)(this,n),(i=t.call(this,e)).onChange=function(e){i.setState({value:e.replace(/[^\d.,-]/g,""),isSubmitted:!1})},i.onSubmit=function(){var e=i.props.getCorrectValue,t=i.state,n=t.isSubmitted,r=t.value;n||i.setState({value:e(parseInt(r,10)||0).toString(),isSubmitted:!0})},i.state={isSubmitted:!1,value:e.value.toString()},i}return Object(S.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.value;e.value!==t&&this.setState({value:t.toString()})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.isDisabled,i=e.label,r=e["aria-label"],o=this.state.value;return R.a.createElement(_c.Input.Text,{id:t,"aria-label":r,value:o,isDisabled:n,onChange:this.onChange,onBlur:this.onSubmit,onKeyUp:Object(E.o)(this.onSubmit)},R.a.createElement(Ey,{label:i,htmlFor:t}))}}]),n}(R.a.Component),Iy=D.c.div(he(),(function(e){return e.theme.measurements.inputs.cropSize.maxWidth})),Ry=D.c.span(de(),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.case}),(function(e){return e.theme.textInput.foreground})),Fy=function(e){var t=e.showLabel,n=void 0===t||t,i=e.label,r=e.isDisabled,o=e.valueHeight,a=e.valueWidth,s=e.labelWidth,l=e.labelHeight,u=e.ariaLabelWidth,c=e.ariaLabelHeight,f=e.onSubmitWidth,d=e.onSubmitHeight;return R.a.createElement("div",null,R.a.createElement(_c.Input.Label,{id:"photoeditorsdk-crop-size-label",label:i,show:n}),R.a.createElement(Iy,{"aria-labelledby":"photoeditorsdk-crop-size-label"},R.a.createElement(Dy,{id:"photoeditorsdk-transformScaleWidth",value:a,getCorrectValue:f,label:s,"aria-label":u,isDisabled:r}),R.a.createElement(Ry,null,"x"),R.a.createElement(Dy,{id:"photoeditorsdk-transformScaleHeight",value:o,getCorrectValue:d,label:l,"aria-label":c,isDisabled:r})))},Ay=Object(D.b)(fe()),My=D.c.div(ce(),bc.scale,(function(e){return e.smallContainer&&Ay}),Ay),Py=function(e){var t=e.children,n=Object(w.a)(e,["children"]),i=Object(I.useContext)(No).rect;return R.a.createElement(My,Object(k.a)({},n,{smallContainer:!!i&&i.width<600}),t)},zy=Object(D.b)(ue(),(function(e){return e.theme.tabTitle.activeBackground}),(function(e){return e.theme.tabTitle.activeForeground}),(function(e){return e.theme.tabTitle.activeBorderColor})),By=Object(D.c)(wc)(le(),(function(e){return e.theme.measurements.fontSystem.basicUITabLabel.size}),(function(e){return e.theme.measurements.fontSystem.basicUITabLabel.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.basicUITabLabel.case}),(function(e){return e.theme.tabTitle.foreground}),(function(e){return e.theme.tabTitle.background}),(function(e){return e.isActive&&zy}),zy),Ly=function(e){Object(j.a)(n,e);var t=Object(C.a)(n);function n(){var e;return Object(O.a)(this,n),(e=t.apply(this,arguments)).onClick=function(){var t=e.props,n=t.label;(0,t.onClick)(n)},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.props,t=e.activeTab,n=e.label;return R.a.createElement(By,{ariaLabel:n,isActive:t===n,onClick:this.onClick},n)}}]),n}(R.a.Component),Ny=D.c.div(se()),Uy=Object(D.c)(Lo)(ae()),Gy=Object(D.b)(oe()),Hy=Object(D.c)(Oc)(re(),(function(e){return e.smallContainer&&Gy}),Gy),Wy=function(e){var t=e.length,n=e.children,i=R.a.Children.toArray(n),r=R.a.Children.count(n),o=Object(I.useState)(Object(I.isValidElement)(i[0])&&i[0].props.label||""),a=Object(x.a)(o,2),s=a[0],l=a[1],u=Object(I.useState)(!1),c=Object(x.a)(u,2),f=c[0],d=c[1],h=Object(I.useContext)(No).rect,p=function(e){l(e),d(!1)},m=i.slice(0,t),g=r>t;return R.a.createElement(Ny,null,m.map((function(e){if(e){var t=e.props.label||"";return R.a.createElement(Ly,{activeTab:s,key:t,label:t,onClick:p})}return null})),g&&R.a.createElement(Uy,{onClick:function(){d((function(e){return!e}))},ariaLabel:"Select Next"},"..."),f&&function(){var e=i.slice(t,r);return R.a.createElement(Hy,{show:f,smallContainer:!!h&&h.width<500},e.map((function(e){var t=e.props.label||"";return R.a.createElement(wc,{onClick:function(){return p(t)},key:t,ariaLabel:"More Options"},t)})))}(),R.a.Children.map(n,(function(e){return!e||e.props&&e.props.label!==s?null:R.a.createElement(Py,{key:e.props.label},e.props.children)})))},Vy=D.c.div(ie()),qy=D.c.div(ne(),(function(e){return e.full?Object(D.b)(te()):"\n      left: 24px;\n      width: calc(100% - 48px);\n    "}),(function(e){return e.theme.toolControlBar.separatorColor})),Ky=Object(D.b)(ee()),Xy=D.c.div($(),(function(e){return e.smallContainer&&Ky}),Ky),Yy=D.c.div.attrs((function(){return{"data-test":E.r.CategoryItemsContainer}}))(J(),(function(e){return e.show&&Object(D.b)(Z())})),Qy=D.c.div.attrs((function(){return{"data-test":E.r.ToolControlBar}}))(Q(),(function(e){return e.theme.measurements.zIndex.toolControlBar}),(function(e){return e.show?Object(D.b)(Y(),e.theme.toolControlBar.background,e.theme.toolControlBar.inputLabelForeground):Object(D.b)(X())}));Qy.defaultProps={show:!0};var Zy=D.c.div(K(),(function(e){return e.theme.measurements.basicUIToolControlBar.itemsBarHeight}),(function(e){return e.theme.toolControlBar.separatorColor})),Jy=D.c.span(q(),(function(e){return e.theme.measurements.zIndex.label}),(function(e){return e.theme.toolbar.foreground}),(function(e){return e.theme.measurements.fontSystem.body.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.body.size}),(function(e){return e.isActive&&Object(D.b)(V(),(function(e){return e.theme.toolbar.activeForeground}))}),(function(e){return e.theme.toolbar.activeForeground})),$y=Object(D.b)(W(),(function(e){return e.theme.toolbar.activeBackground}),(function(e){return e.theme.toolbar.activeForeground}),(function(e){return e.theme.toolbar.activeForeground})),ev=Object(D.c)(Mo)(H(),(function(e){return e.theme.toolbar.foreground}),(function(e){return e.theme.toolbar.background}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.typography.fontFamily}),(function(e){return e.isActive&&$y}),(function(e){return e.isDisabled&&Object(D.b)(G(),(function(e){return e.theme.button.textInactiveOpacity}))}),$y),tv=D.c.div(U(),(function(e){return e.theme.toolbar.foreground})),nv=D.c.div.attrs({role:"none"})(N(),(function(e){return e.theme.measurements.basicUIToolbar.openHeight-2})),iv=D.c.div(L(),(function(e){return e.theme.toolbar.background}),(function(e){return e.theme.toolbar.foreground}),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.show?Object(D.b)(B(),e.theme.measurements.basicUIToolbar.closeHeight,ev,nv,e.theme.measurements.basicUIToolbar.closeHeight):Object(D.b)(z(),e.theme.measurements.basicUIToolbar.openHeight)})),rv=D.c.li.attrs({role:"none"})(P(),(function(e){return e.active?Object(D.b)(A(),e.theme.measurements.basicUIToolbar.closeHeight):Object(D.b)(M(),e.theme.measurements.basicUIToolbar.openHeight)}),(function(e){return e.theme.toolControlBar.separatorColor})),ov={CardContainer:Vd,ExpandableContainer:Yy,CategoryContainer:Kd,Card:function(e){var t=e.type,n=void 0===t?"medium":t,i=Object(w.a)(e,["type"]),r=Wd;return"large"===n&&(r=Hd),R.a.createElement(r,Object(k.a)({type:n},i))},CardAvatar:aa,CardLabel:qd,Toolbar:{Index:function(e){var t=e.show,n=void 0!==t&&t,i=e.className,r=e.style,o=e.children;return R.a.createElement(iv,{"data-test":E.r.Toolbar,show:n,className:i,style:r},R.a.createElement(mu,null,o))},Item:function(e){var t=e.children,n=e.label,i=e.isActive,r=e.isDisabled,o=e.onClick;return R.a.createElement(nv,{"aria-haspopup":!0,"aria-expanded":i},R.a.createElement(ev,{"data-test":E.r.ToolbarItem,ariaLabel:n,onClick:o,isActive:i,isDisabled:r},R.a.createElement(tv,null,t,R.a.createElement(Jy,{isActive:i},n))))},Separator:rv},BarSeparator:qy,ItemsSeparator:Zy,Itemsbar:Qy,Controlsbar:Yd,ControlsbarContainer:function(e){var t=e.children,n=Object(w.a)(e,["children"]),i=Object(I.useContext)(No).rect;return R.a.createElement($d,Object(k.a)({},n,{"data-test":E.r.ToolControlBarExpandableControls,smallContainer:!!i&&i.width<600}),R.a.createElement(th,{smallContainer:!!i&&i.width<600},t))},ResponsiveTabWrapper:function(e){var t=e.children,n=Object(I.useState)(R.a.Children.count(t)),i=Object(x.a)(n,2),r=i[0],o=i[1],a=Object(I.useContext)(No).rect;Object(I.useEffect)((function(){return window.addEventListener("resize",s),s(),function(){window.removeEventListener("resize",s)}}),[a]);var s=(0,nh.default)((function(){var e=(null==a?void 0:a.width)||0,n=R.a.Children.count(t),i=e-32-64-100*n;if(i<0){var r=Math.round(Math.abs(i/100));o(n-r)}else o(n)}),100);return r?R.a.createElement(Vy,null,R.a.createElement(Wy,{length:r},t)):null},Slider:function(e){var t=e.children,n=Object(w.a)(e,["children"]),i=oh().custom,r=Object(I.useContext)(No).rect,o=i.getSlider();return o?R.a.createElement(Xy,{smallContainer:!!r&&r.width<600},R.a.createElement(o,Object(k.a)({centerSlider:!0},n),t)):null},TabWrapper:Wy,Tab:rh,Other:{ControlsWrapper:function(e){var t=e.children,n=Object(w.a)(e,["children"]),i=Object(I.useContext)(No).rect;return R.a.createElement(Zd,Object(k.a)({},n,{smallContainer:!!i&&i.width<600}),t)}}},av=Object(E.E)(xo()),sv=Ns((function(){var e=oh(),t=e.active,n=e.modal,i=e.editor,r=Object(I.useRef)(null),o=Object(I.useRef)(null),a=Object(I.useState)(0),s=Object(x.a)(a,2),l=s[0],u=s[1],c=Object(I.useState)(null),f=Object(x.a)(c,2),d=f[0],h=f[1],p=Object(I.useState)(0),m=Object(x.a)(p,2),g=m[0],y=m[1],v=Object(I.useState)(0),b=Object(x.a)(v,2),_=b[0],k=b[1];Object(I.useLayoutEffect)((function(){var e=function(){var e=i.configStore.measurements,t=o.current.getBoundingClientRect(),n=t.height,r=.95*n,a=.95*t.width,s=(n-r)/2;u(s<24+e.buttons.float.size?n-48-e.buttons.float.size/2:n-s+24),y(r),k(a)},a=new Va((0,av.default)((function(){return e()}),100,{trailing:!0}));navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){r.current.srcObject=e})).catch((function(){n.showActionModal({type:"error",identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:function(){t.selectWebcam(!1)}})})):n.showActionModal({type:"error",identifier:"webcamUnavailable",error:"Webcam not supported",handleConfirm:function(){t.selectWebcam(!1)}}),e(),a.observe(o.current);var s=document.createElement("canvas");return h(s),function(){Object(E.pb)(s),a.disconnect()}}),[i,n,t]);var w=function(){r.current.srcObject.getTracks().forEach((function(e){e.stop()})),r.current.srcObject=null,t.selectWebcam(!1)},O=t.webcamLabel;return R.a.createElement(qp.Wrapper,{ref:o},R.a.createElement(qp.Bar.Index,{transparentBackgound:!0,style:{justifyContent:"flex-end"}},R.a.createElement(qp.Bar.ButtonGroup,null,R.a.createElement(Yo,{ariaLabel:O,onClick:w},O))),R.a.createElement(qp.Webcam,{style:{height:g,width:_},autoPlay:!0,ref:r}),R.a.createElement(qp.Button.Float,{ariaLabel:"Click and Save",style:{top:l},onClick:function(){d&&(d.width=r.current.videoWidth,d.height=r.current.videoHeight,d.getContext("2d").drawImage(r.current,0,0),t.newImage(d.toDataURL("image/webp")),w())}}))})),lv=function(e){var t=e.children;return R.a.createElement(qp.Container,{"data-test":E.r.CanvasContainer},t)},uv=Ns((function(e){var t=e.tool,n=e.fullWidth,i=void 0!==n&&n,r=e.icon,o=e.label,a=e.onClick,s=oh().custom;if(!function(){var e=Object(I.useState)([]),t=Object(x.a)(e,2),n=t[0],i=t[1];return Object(I.useEffect)((function(){var e;if(void 0!==typeof window&&(null==(e=window.navigator)?void 0:e.mediaDevices)){var t=!0,n=function(){window.navigator.mediaDevices.enumerateDevices().then((function(e){t&&i(e.map((function(e){return{deviceId:e.deviceId,groupId:e.groupId,kind:e.kind,label:e.label}})))})).catch((function(){return null}))};return window.navigator.mediaDevices.addEventListener("devicechange",n),n(),function(){t=!1,window.navigator.mediaDevices.removeEventListener("devicechange",n)}}return null}),[]),n}().some((function(e){return"videoinput"===e.kind})))return null;var l=s.getButton("toolControlBarSecondaryButton");return l?R.a.createElement(l,{"data-test":E.r.LibraryWebcamButton,tool:t,label:o,ariaLabel:o,onClick:a,fullWidth:i,icon:r}):null}))}).call(this,n(31))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(26);function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(i.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(13),r=n(29);function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(18);function s(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(a.a)(e):t}function l(e){return function(){var t,n=Object(i.a)(e);if(Object(r.a)()){var o=Object(i.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"b",(function(){return A}));var i=n(38),r=n.n(i),o=n(1);var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var i=this.tags[this.tags.length-1];if(this.isSpeedy){var r=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(i);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);r.insertRule(e,o?0:r.cssRules.length)}catch(a){0}}else i.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var s=function(e){function t(e,t,i){var r=t.trim().split(p);t=r;var o=r.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],i).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[l++]=n(e[u]+" ",r[s],i).trim()}return t}function n(e,t,n){var i=t.charCodeAt(0);switch(33>i&&(i=(t=t.trim()).charCodeAt(0)),i){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===E||2===E&&r(l,1)?"-webkit-"+l+l:l}if(0===E||2===E&&!r(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(S,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function r(e,t){var n=e.indexOf(1===t?":":"{"),i=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),F(2!==t?i:i.replace(w,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function a(e,t,n,i,r,o,a,s,u,c){for(var f,d=0,h=t;d<R;++d)switch(f=I[d].call(l,e,h,n,i,r,o,a,s,u,c)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(F=null,e?"function"!==typeof e?E=1:(E=2,F=e):E=0),s}function l(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<R){var l=a(-1,n,s,s,j,C,0,0,0,0);void 0!==l&&"string"===typeof l&&(n=l)}var f=function e(n,s,l,f,d){for(var h,p,m,b,x,k=0,w=0,O=0,S=0,I=0,F=0,M=m=h=0,P=0,z=0,B=0,L=0,N=l.length,U=N-1,G="",H="",W="",V="";P<N;){if(p=l.charCodeAt(P),P===U&&0!==w+S+O+k&&(0!==w&&(p=47===w?10:47),S=O=k=0,N++,U++),0===w+S+O+k){if(P===U&&(0<z&&(G=G.replace(c,"")),0<G.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:G+=l.charAt(P)}p=59}switch(p){case 123:for(h=(G=G.trim()).charCodeAt(0),m=1,L=++P;P<N;){switch(p=l.charCodeAt(P)){case 123:m++;break;case 125:m--;break;case 47:switch(p=l.charCodeAt(P+1)){case 42:case 47:e:{for(M=P+1;M<U;++M)switch(l.charCodeAt(M)){case 47:if(42===p&&42===l.charCodeAt(M-1)&&P+2!==M){P=M+1;break e}break;case 10:if(47===p){P=M+1;break e}}P=M}}break;case 91:p++;case 40:p++;case 34:case 39:for(;P++<U&&l.charCodeAt(P)!==p;);}if(0===m)break;P++}switch(m=l.substring(L,P),0===h&&(h=(G=G.replace(u,"").trim()).charCodeAt(0)),h){case 64:switch(0<z&&(G=G.replace(c,"")),p=G.charCodeAt(1)){case 100:case 109:case 115:case 45:z=s;break;default:z=D}if(L=(m=e(s,z,m,p,d+1)).length,0<R&&(x=a(3,m,z=t(D,G,B),s,j,C,L,p,d,f),G=z.join(""),void 0!==x&&0===(L=(m=x.trim()).length)&&(p=0,m="")),0<L)switch(p){case 115:G=G.replace(_,o);case 100:case 109:case 45:m=G+"{"+m+"}";break;case 107:m=(G=G.replace(g,"$1 $2"))+"{"+m+"}",m=1===E||2===E&&r("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=G+m,112===f&&(H+=m,m="")}else m="";break;default:m=e(s,t(s,G,B),m,f,d+1)}W+=m,m=B=z=M=h=0,G="",p=l.charCodeAt(++P);break;case 125:case 59:if(1<(L=(G=(0<z?G.replace(c,""):G).trim()).length))switch(0===M&&(h=G.charCodeAt(0),45===h||96<h&&123>h)&&(L=(G=G.replace(" ",":")).length),0<R&&void 0!==(x=a(1,G,s,n,j,C,H.length,f,d,f))&&0===(L=(G=x.trim()).length)&&(G="\0\0"),h=G.charCodeAt(0),p=G.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){V+=G+l.charAt(P);break}default:58!==G.charCodeAt(L-1)&&(H+=i(G,h,p,G.charCodeAt(2)))}B=z=M=h=0,G="",p=l.charCodeAt(++P)}}switch(p){case 13:case 10:47===w?w=0:0===1+h&&107!==f&&0<G.length&&(z=1,G+="\0"),0<R*A&&a(0,G,s,n,j,C,H.length,f,d,f),C=1,j++;break;case 59:case 125:if(0===w+S+O+k){C++;break}default:switch(C++,b=l.charAt(P),p){case 9:case 32:if(0===S+k+w)switch(I){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===S+w+k&&(z=B=1,b="\f"+b);break;case 108:if(0===S+w+k+T&&0<M)switch(P-M){case 2:112===I&&58===l.charCodeAt(P-3)&&(T=I);case 8:111===F&&(T=F)}break;case 58:0===S+w+k&&(M=P);break;case 44:0===w+O+S+k&&(z=1,b+="\r");break;case 34:case 39:0===w&&(S=S===p?0:0===S?p:S);break;case 91:0===S+w+O&&k++;break;case 93:0===S+w+O&&k--;break;case 41:0===S+w+k&&O--;break;case 40:if(0===S+w+k){if(0===h)switch(2*I+3*F){case 533:break;default:h=1}O++}break;case 64:0===w+O+S+k+M+m&&(m=1);break;case 42:case 47:if(!(0<S+k+O))switch(w){case 0:switch(2*p+3*l.charCodeAt(P+1)){case 235:w=47;break;case 220:L=P,w=42}break;case 42:47===p&&42===I&&L+2!==P&&(33===l.charCodeAt(L+2)&&(H+=l.substring(L,P+1)),b="",w=0)}}0===w&&(G+=b)}F=I,I=p,P++}if(0<(L=H.length)){if(z=s,0<R&&(void 0!==(x=a(2,H,z,n,j,C,L,f,d,f))&&0===(H=x).length))return V+H+W;if(H=z.join(",")+"{"+H+"}",0!==E*T){switch(2!==E||r(H,2)||(T=0),T){case 111:H=H.replace(v,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}T=0}}return V+H+W}(D,s,n,0,0);return 0<R&&(void 0!==(l=a(-2,f,s,s,j,C,f.length,0,0,0))&&(f=l)),"",T=0,C=j=1,f}var u=/^\0+/g,c=/[\0\r\f]/g,f=/: */g,d=/zoo|gra/,h=/([,: ])(transform)/g,p=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,v=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,k=/-self|flex-/g,w=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,C=1,j=1,T=0,E=1,D=[],I=[],R=0,F=null,A=0;return l.use=function e(t){switch(t){case void 0:case null:R=I.length=0;break;default:if("function"===typeof t)I[R++]=t;else if("object"===typeof t)for(var n=0,i=t.length;n<i;++n)e(t[n]);else A=0|!!t}return e},l.set=s,void 0!==e&&s(e),l};function l(e){e&&u.current.insert(e+"}")}var u={current:null},c=function(e,t,n,i,r,o,a,s,c,f){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return u.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===s)return t+"/*|*/";break;case 3:switch(s){case 102:case 112:return u.current.insert(n[0]+t),"";default:return t+(0===f?"/*|*/":"")}case-2:t.split("/*|*/}").forEach(l)}},f=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var i=new s(t);var r,o={};r=e.container||document.head;var l,f=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(f,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==r&&r.appendChild(e)})),i.use(e.stylisPlugins)(c),l=function(e,t,n,r){var o=t.name;u.current=n,i(e,t.styles),r&&(d.inserted[o]=!0)};var d={key:n,sheet:new a({key:n,container:r,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:l};return d};function d(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):i+=n+" "})),i}var h=function(e,t,n){var i=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles),void 0===e.inserted[t.name]){var r=t;do{e.insert("."+i,r,e.sheet,!0);r=r.next}while(void 0!==r)}};var p=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},m={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var g=/[A-Z]|^ms/g,y=/_EMO_([^_]+?)_([^]*?)_EMO_/g,v=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!==typeof e},_=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return v(e)?e:e.replace(g,"-$&").toLowerCase()})),x=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(y,(function(e,t,n){return w={name:t,styles:n,next:w},t}))}return 1===m[e]||v(e)||"number"!==typeof t||0===t?t:t+"px"};function k(e,t,n,i){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return w={name:n.name,styles:n.styles,next:w},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)w={name:r.name,styles:r.styles,next:w},r=r.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=k(e,t,n[r],!1);else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?i+=o+"{"+t[a]+"}":b(a)&&(i+=_(o)+":"+x(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=k(e,t,a,!1);switch(o){case"animation":case"animationName":i+=_(o)+":"+s+";";break;default:i+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)b(a[l])&&(i+=_(o)+":"+x(o,a[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var o=w,a=n(e);return w=o,k(e,t,a,i)}break;case"string":}if(null==t)return n;var s=t[n];return void 0===s||i?n:s}var w,O=/label:\s*([^\s;\n{]+)\s*;/g;var S=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";w=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=k(n,t,o,!1)):r+=o[0];for(var a=1;a<e.length;a++)r+=k(n,t,e[a],46===r.charCodeAt(r.length-1)),i&&(r+=o[a]);O.lastIndex=0;for(var s,l="";null!==(s=O.exec(r));)l+="-"+s[1];return{name:p(r)+l,styles:r,next:w}};var C=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return S(t)},j=Object(o.createContext)("undefined"!==typeof HTMLElement?f():null),T=Object(o.createContext)({}),E=(j.Provider,function(e){return Object(o.forwardRef)((function(t,n){return Object(o.createElement)(j.Consumer,null,(function(i){return e(t,i,n)}))}))}),D="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",I=Object.prototype.hasOwnProperty,R=function(e,t,n,i){var r=null===n?t.css:t.css(n);"string"===typeof r&&void 0!==e.registered[r]&&(r=e.registered[r]);var a=t[D],s=[r],l="";"string"===typeof t.className?l=d(e.registered,s,t.className):null!=t.className&&(l=t.className+" ");var u=S(s);h(e,u,"string"===typeof a);l+=e.key+"-"+u.name;var c={};for(var f in t)I.call(t,f)&&"css"!==f&&f!==D&&(c[f]=t[f]);return c.ref=i,c.className=l,Object(o.createElement)(a,c)},F=E((function(e,t,n){return"function"===typeof e.css?Object(o.createElement)(T.Consumer,null,(function(i){return R(t,e,i,n)})):R(t,e,null,n)}));var A=function(e,t){var n=arguments;if(null==t||!I.call(t,"css"))return o.createElement.apply(void 0,n);var i=n.length,r=new Array(i);r[0]=F;var a={};for(var s in t)I.call(t,s)&&(a[s]=t[s]);a[D]=e,r[1]=a;for(var l=2;l<i;l++)r[l]=n[l];return o.createElement.apply(null,r)},M=(o.Component,function e(t){for(var n=t.length,i=0,r="";i<n;i++){var o=t[i];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(r&&(r+=" "),r+=a)}}return r});function P(e,t,n){var i=[],r=d(e,i,n);return i.length<2?n:r+t(i)}E((function(e,t){return Object(o.createElement)(T.Consumer,null,(function(n){var i=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r=S(n,t.registered);return h(t,r,!1),t.key+"-"+r.name},r={css:i,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return P(t.registered,i,M(n))},theme:n},o=e.children(r);return!0,o}))}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(6);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){e.exports=n(64)},function(e,t,n){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(13);function r(e,t,n){return(r="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(i.a)(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(27);var r=n(25);function o(e){return function(e){if(Array.isArray(e))return Object(i.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(r.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function r(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(25);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return An}));var i=n(17),r=n(18),o=n(3),a=n(5),s=n(9),l=n(8),u=n(6),c=n(11),f=n(21),d=n(4),h=n(7),p=n(0),m=n(1),g=n.n(m),y=n(2),v=n(22),b=n.n(v),_=n(33);function x(){var e=Object(d.a)(["\n  position: relative;\n"]);return x=function(){return e},e}function k(){var e=Object(d.a)(["\n  position: absolute;\n  height: 100%;\n  width: ","px;\n  top: 0;\n  background: ",";\n  z-index: ",";\n"]);return k=function(){return e},e}function w(){var e=Object(d.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return w=function(){return e},e}function O(){var e=Object(d.a)(["\n  width: 50%;\n"]);return O=function(){return e},e}function S(){var e=Object(d.a)(["\n  max-width: 50%;\n  margin-right: 16px;\n"]);return S=function(){return e},e}function C(){var e=Object(d.a)(["\n  ","\n"]);return C=function(){return e},e}function j(){var e=Object(d.a)(["\n  display: none;\n"]);return j=function(){return e},e}function T(){var e=Object(d.a)(["\n      direction: rtl;\n\n      &:before {\n        border-left: 8px solid ",";\n        border-right: none;\n        right: -8px;\n        left: unset;\n        top: 10px;\n      }\n    "]);return T=function(){return e},e}function E(){var e=Object(d.a)(["\n        position: fixed;\n      "]);return E=function(){return e},e}function D(){var e=Object(d.a)(["\n        position: -ms-device-fixed;\n      "]);return D=function(){return e},e}function I(){var e=Object(d.a)(["\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* added line-height reset from appContainer */\n  font-family: '","', sans-serif;\n\n  ","\n  top: ","px;\n  transition: opacity 0.5s ease-in-out, left 0.25s ease-in-out,\n    right 0.25s ease-in-out;\n  z-index: ",";\n  pointer-events: none;\n  cursor: pointer;\n\n  &:before {\n    content: ' ';\n    position: absolute;\n    top: 10px;\n    left: -8px;\n    width: 0;\n    height: 0;\n    border-right: 8px solid ",";\n    border-bottom: 6px solid transparent;\n    border-top: 6px solid transparent;\n  }\n\n  &:after {\n    content: '","';\n    position: absolute;\n    color: ",";\n    background: ",";\n    padding: 8px 12px;\n    text-align: center;\n    vertical-align: super;\n    font-size: ","px;\n    letter-spacing: ","px;\n    text-transform: ",";\n    border-radius: ","px;\n    white-space: nowrap;\n  }\n\n  ","\n"]);return I=function(){return e},e}function R(){var e=Object(d.a)(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"]);return R=function(){return e},e}function F(){var e=Object(d.a)(["\n  height: ","px;\n  cursor: pointer;\n  position: relative;\n"]);return F=function(){return e},e}function A(){var e=Object(d.a)(["\n      background-color: ",";\n      color: ",";\n\n      svg {\n        color: ",";\n      }\n    "]);return A=function(){return e},e}function M(){var e=Object(d.a)(["\n        background-color: inherit;\n      "]);return M=function(){return e},e}function P(){var e=Object(d.a)(["\n        background-color: transparent;\n      "]);return P=function(){return e},e}function z(){var e=Object(d.a)(["\n  width: inherit;\n  height: inherit;\n  padding: 0;\n  margin: 0;\n  ","\n\n  ","\n"]);return z=function(){return e},e}function B(){var e=Object(d.a)(["\n          border-left: ",";\n        "]);return B=function(){return e},e}function L(){var e=Object(d.a)(["\n          border-right: ",";\n        "]);return L=function(){return e},e}function N(){var e=Object(d.a)(["\n          1px solid ",";\n        "]);return N=function(){return e},e}function U(){var e=Object(d.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n  align-items: center;\n  height: 100%;\n  width: ","px;\n\n  z-index: ",";\n\n  background-color: ",";\n  color: ",";\n  ","\n  margin-bottom: ","px;\n"]);return U=function(){return e},e}function G(){var e=Object(d.a)(["\n  display: flex;\n  flex: 1 0 auto;\n  flex-direction: column;\n\n  overflow-y: auto;\n  overflow-x: hidden;\n\n  /* calculate the max-height based on the padding and if the heading is used */\n  max-height: calc(\n    100% -\n      ","px -\n      ","px\n  );\n\n  padding-top: ","px;\n  padding-bottom: ","px;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n  }\n\n  /* The scrollable content needs a padding for the scrollbar position */\n  > "," {\n    margin-left: 0px;\n    margin-right: 0px;\n    padding-left: ","px;\n    padding-right: ","px;\n  }\n\n  > :not(:last-child) {\n    margin-bottom: ","px;\n  }\n"]);return G=function(){return e},e}function H(){var e=Object(d.a)(["\n  /* Center text horizontally and vertically */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 0;\n  padding: 0 4px;\n  margin: 0;\n  min-height: ","px;\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  background: ",";\n  color: ",";\n  border-bottom: 1px solid ",";\n  font-weight: 500;\n  text-align: center;\n  /* prevent the padding from leaving the width of the parent  */\n  box-sizing: border-box;\n"]);return H=function(){return e},e}function W(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n  flex: 1 0 auto;\n"]);return W=function(){return e},e}function V(){var e=Object(d.a)(["\n  color: ",";\n  font-size: ","px;\n  letter-spacing: ","px;\n  text-transform: ",";\n  font-weight: 500;\n  min-height: ","px;\n  margin-top: 0;\n"]);return V=function(){return e},e}function q(){var e=Object(d.a)(["\n            left: -","px;\n            width: calc(\n              100% + ","px\n            );\n          "]);return q=function(){return e},e}function K(){var e=Object(d.a)(["\n  position: relative;\n  &:after {\n    content: '';\n    position: absolute;\n    bottom: 0px;\n    ","\n    border-bottom: 2px solid ",";\n  }\n"]);return K=function(){return e},e}function X(){var e=Object(d.a)(["\n        > ul {\n          padding-right: 34px;\n          margin-right: -34px;\n        }\n      "]);return X=function(){return e},e}function Y(){var e=Object(d.a)(["\n  position: relative;\n\n  box-sizing: border-box;\n\n  /* for Firefox */\n  min-height: 0;\n\n  transition: height 0.4s cubic-bezier(0.17, 0.04, 0.03, 0.94);\n  color: ",";\n\n  /* compensate the padding in IE and Edge */\n  ","\n"]);return Y=function(){return e},e}function Q(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n\n  > * {\n    margin-left: ","px;\n    margin-right: ","px;\n    margin-bottom: ","px;\n  }\n"]);return Q=function(){return e},e}function Z(){var e=Object(d.a)(["\n  color: ",";\n\n  /* the padding and margin should only be applied to the children */\n  margin: 0 !important;\n  padding: 0 !important;\n"]);return Z=function(){return e},e}function J(){var e=Object(d.a)(["\n            display: flex;\n          "]);return J=function(){return e},e}function $(){var e=Object(d.a)(["\n            display: block;\n          "]);return $=function(){return e},e}function ee(){var e=Object(d.a)(["\n      opacity: 1;\n      visibility: visible;\n      ","\n    "]);return ee=function(){return e},e}function te(){var e=Object(d.a)(["\n  transition: max-height 0.8s ease-out, transform 0.8s ease-out;\n  background: ",";\n  visibility: hidden;\n  opacity: 0;\n  transform-origin: 0 0;\n  display: none;\n  flex-wrap: wrap;\n\n  ","\n"]);return te=function(){return e},e}function ne(){var e=Object(d.a)(["\n          border-left: 1px solid ",";\n        "]);return ne=function(){return e},e}function ie(){var e=Object(d.a)(["\n          border-right: 1px solid ",";\n        "]);return ie=function(){return e},e}function re(){var e=Object(d.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n\n  position: relative;\n  width: ","px;\n  /* for Firefox */\n  min-height: 0;\n  margin-bottom: ","px;\n\n  z-index: ",";\n\n  background: ",";\n  transition: width 0.4s ease-in;\n  ","\n"]);return re=function(){return e},e}function oe(){var e=Object(d.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  /* width - padding on both sides */\n  width: ","px;\n"]);return oe=function(){return e},e}function ae(){var e=Object(d.a)(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(3n + 1),\n  &:nth-child(3n + 2) {\n    margin-right: ","px;\n  }\n"]);return ae=function(){return e},e}function se(){var e=Object(d.a)(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n  &:nth-child(2n + 1) {\n    margin-right: ","px;\n  }\n"]);return se=function(){return e},e}function le(){var e=Object(d.a)(["\n  width: ","px;\n  height: ","px;\n  margin-bottom: ","px;\n  color: ",";\n"]);return le=function(){return e},e}var ue=Object(p.C)((function(e,t){var n=function(){};t.exports=n})),ce=Object(p.C)((function(e,t){t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),fe=Object(p.C)((function(e,t){var n=ce();function i(){}function r(){}r.resetWarningCache=i,t.exports=function(){function e(e,t,i,r,o,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var o={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return o.PropTypes=o,o}})),de=Object(p.C)((function(e,t){t.exports=fe()()})),he=Object(y.c)(h.w)(le(),(function(e){return e.theme.measurements.advancedUICard.large.width}),(function(e){return e.theme.measurements.advancedUICard.large.height}),(function(e){return e.theme.measurements.advancedUISpacer}),(function(e){return e.theme.card.foreground})),pe=function(e){e.isActive;var t=Object(f.a)(e,["isActive"]);return g.a.createElement(he,Object(c.a)({},t))},me=Object(y.c)(h.w)(se(),(function(e){return e.theme.measurements.advancedUICard.medium.width}),(function(e){return e.theme.measurements.advancedUICard.medium.height}),(function(e){return e.theme.measurements.advancedUISpacer}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.measurements.advancedUISpacer})),ge=Object(y.c)(h.w)(ae(),(function(e){return e.theme.measurements.advancedUICard.small.width}),(function(e){return e.theme.measurements.advancedUICard.small.height}),(function(e){return e.theme.measurements.advancedUISpacer}),(function(e){return e.theme.card.foreground}),(function(e){return e.theme.measurements.advancedUISpacer})),ye=function(e){var t=e.type,n=Object(f.a)(e,["type"]),i=me;return"large"===t?i=pe:"small"===t&&(i=ge),g.a.createElement(i,Object(c.a)({type:t},n))},ve=y.c.div.attrs((function(e){return{"data-test":e["data-test"]||p.r.CardContainer}}))(oe(),(function(e){return e.theme.measurements.advancedUIToolControlBar.width-48})),be=y.c.div(re(),(function(e){return e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.measurements.advancedUIToolControlBar.marginBottom}),(function(e){return e.theme.measurements.zIndex.toolControlBar}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.reverse?Object(y.b)(ne(),e.theme.toolControlBar.borderColor):Object(y.b)(ie(),e.theme.toolControlBar.borderColor)})),_e=y.c.div.attrs((function(){return{"data-test":p.r.CategoryItemsContainer}}))(te(),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.show&&Object(y.b)(ee(),Object(p.ub)()?Object(y.b)($()):Object(y.b)(J()))})),xe=Object(y.c)(h.z)(Z(),(function(e){return e.theme.toolControlBar.inputLabelForeground})),ke=y.c.div(Q(),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingLeft}),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingRight}),(function(e){return e.theme.measurements.advancedUIToolControlBar.controls.gutter})),we=Object(y.c)(h.u)(Y(),(function(e){return e.theme.toolControlBar.inputLabelForeground}),(function(){return Object(p.ub)()||Object(p.sb)()?Object(y.b)(X()):""}));we.defaultProps={direction:"vertical"};var Oe=y.c.div(K(),(function(e){return e.full?Object(y.b)(q(),3*e.theme.measurements.advancedUISpacer/2,3*e.theme.measurements.advancedUISpacer):"\n      left: ".concat(3*e.theme.measurements.advancedUISpacer/2,"px;\n      width: calc(100% - ").concat(3*e.theme.measurements.advancedUISpacer,"px);\n    ")}),(function(e){return e.theme.toolControlBar.separatorColor})),Se=y.c.h2(V(),(function(e){return e.theme.toolControlBar.titleForeground}),(function(e){return e.theme.measurements.fontSystem.headline2.size}),(function(e){return e.theme.measurements.fontSystem.headline2.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline2.case}),(function(e){return 2*e.theme.measurements.advancedUISpacer})),Ce=y.c.div(W()),je=y.c.h1(H(),(function(e){return e.theme.measurements.mainCanvasActionBar.height-2}),(function(e){return e.theme.measurements.fontSystem.headline1.size}),(function(e){return e.theme.measurements.fontSystem.headline1.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.headline1.case}),(function(e){return e.theme.toolControlBar.background}),(function(e){return e.theme.toolControlBar.titleForeground}),(function(e){return e.theme.toolControlBar.separatorColor})),Te=y.c.div(G(),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingBottom+e.theme.measurements.advancedUIToolControlBar.paddingTop}),(function(e){return e.displayTitle?e.theme.measurements.mainCanvasActionBar.height-2:"0"}),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingTop}),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingBottom}),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingLeft}),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingRight}),we,(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingLeft}),(function(e){return e.theme.measurements.advancedUIToolControlBar.paddingRight}),(function(e){return e.theme.measurements.advancedUIToolControlBar.controls.gutter})),Ee=y.c.div(U(),(function(e){return e.theme.measurements.advancedUIToolbar.width}),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.theme.toolbar.background}),(function(e){return e.theme.toolbar.foreground}),(function(e){var t=e.theme.toolbar.border?e.theme.toolbar.border:Object(y.b)(N(),e.theme.toolbar.borderColor);return e.reverse?Object(y.b)(B(),t):Object(y.b)(L(),t)}),(function(e){return e.theme.measurements.advancedUIToolbar.marginBottom})),De=Object(y.c)(h.v)(z(),Object(p.ub)()?Object(y.b)(P()):Object(y.b)(M()),(function(e){return e.isActive&&Object(y.b)(A(),e.theme.toolbar.activeBackground,e.theme.toolbar.activeForeground,e.theme.toolbar.activeForeground)})),Ie=y.c.li.attrs({"aria-haspopup":!0,"aria-hidden":!0,role:"menuitem"})(F(),(function(e){return e.theme.measurements.advancedUIToolbar.itemHeight})),Re=y.c.li.attrs({role:"none"})(R(),(function(e){return e.theme.measurements.advancedUIToolbar.separatorHeight})),Fe=(Object(p.E)(ue()),"undefined"!==typeof window&&window.document&&window.document.createElement?m.useLayoutEffect:m.useEffect);"undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();var Ae=function(e){var t=e.children,n=e.type,i=void 0===n?"reach-portal":n,r=Object(m.useRef)(null),o=Object(m.useRef)(null),a=function(){var e=Object(m.useState)(Object.create(null))[1];return Object(m.useCallback)((function(){e(Object.create(null))}),[])}();return Fe((function(){if(r.current){var e=r.current.ownerDocument;return o.current=null===e||void 0===e?void 0:e.createElement(i),e.body.appendChild(o.current),a(),function(){o.current&&o.current.ownerDocument&&o.current.ownerDocument.body.removeChild(o.current)}}}),[i,a]),o.current?Object(v.createPortal)(t,o.current):Object(m.createElement)("span",{ref:r})};Object(p.E)(de());var Me=!1,Pe=g.a.createContext(null),ze="unmounted",Be="exited",Le="entering",Ne="entered",Ue="exiting",Ge=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=Be,i.appearStatus=Le):r=Ne:r=t.unmountOnExit||t.mountOnEnter?ze:Be,i.state={status:r},i.nextCallback=null,i}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ze?{status:Be}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Le&&n!==Ne&&(t=Le):n!==Le&&n!==Ne||(t=Ue)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Le?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===Be&&this.setState({status:ze})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[b.a.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||Me?this.safeSetState({status:Ne},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Le},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Ne},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:b.a.findDOMNode(this);t&&!Me?(this.props.onExit(i),this.safeSetState({status:Ue},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Be},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Be},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:b.a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ze)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return g.a.createElement(Pe.Provider,{value:null},"function"===typeof n?n(e,i):g.a.cloneElement(g.a.Children.only(n),i))},t}(g.a.Component);function He(){}Ge.contextType=Pe,Ge.propTypes={},Ge.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:He,onEntering:He,onEntered:He,onExit:He,onExiting:He,onExited:He},Ge.UNMOUNTED=ze,Ge.EXITED=Be,Ge.ENTERING=Le,Ge.ENTERED=Ne,Ge.EXITING=Ue;var We=Ge,Ve=y.c.div(I(),(function(e){return e.theme.typography.fontFamily}),Object(p.ub)()?Object(y.b)(D()):Object(y.b)(E()),(function(e){return e.position.y-5}),(function(e){return e.theme.measurements.zIndex.toolbar}),(function(e){return e.theme.tooltip.background}),(function(e){return e.label}),(function(e){return e.theme.tooltip.foreground}),(function(e){return e.theme.tooltip.background}),(function(e){return e.theme.measurements.fontSystem.label.size}),(function(e){return e.theme.measurements.fontSystem.label.letterSpacing}),(function(e){return e.theme.measurements.fontSystem.label.case}),(function(e){return e.theme.shape.radiusSmall}),(function(e){return e.reverse&&Object(y.b)(T(),e.theme.tooltip.background)})),qe=y.c.span(j()),Ke={Card:ye,CardContainer:ve,Toolbar:{Index:function(e){var t=e.reverse,n=e.style,i=e.className,r=e.children;return g.a.createElement(Ee,{reverse:t,"data-test":p.r.Toolbar,className:i,style:n},g.a.createElement(h.u,{direction:"vertical"},r))},Item:function(e){return g.a.createElement(Ie,null,g.a.createElement(De,Object(c.a)({},e,{"data-test":p.r.ToolbarItem})))},Separator:Re,Tooltip:function(e){var t=e.show,n=void 0===t||t,i=e.reverse,r=e.position,o=e.children,a=Object(m.useRef)(null),s=Object(h.C)().config.measurements,l="string"===typeof o?o:"",c=r.x+s.advancedUIToolbar.width-10,f=r.x+s.advancedUIToolbar.width+16,d=i?"right":"left",y={entering:Object(u.a)({opacity:0},d,"".concat(c,"px")),entered:Object(u.a)({opacity:1},d,"".concat(f,"px")),exiting:Object(u.a)({opacity:0},d,"".concat(c,"px")),exited:Object(u.a)({opacity:0},d,"".concat(c,"px"))};return g.a.createElement(We,{nodeRef:a,in:n,timeout:{exit:500}},(function(e){return"exited"!==e&&g.a.createElement(Ae,null,g.a.createElement(Ve,{ref:a,style:y[e],"data-test":p.r.Tooltip,reverse:i,position:r,label:l},g.a.createElement(qe,null,l)))}))}},Itemsbar:we,BarSeparator:"",ItemsSeparator:Oe,Controlsbar:function(e){var t=e.show,n=e.children;return g.a.createElement(xe,{duration:300,height:t?"auto":0,easing:"ease-in-out",animateOpacity:!0},g.a.createElement(ke,{"data-test":p.r.ToolControlBarExpandableControls},n))},ToolControlBarItems:function(e){var t=e.children,n=Object(h.C)().config.config.displayToolControlBarTitle;return g.a.createElement(Te,{displayTitle:n},t)},Sidebar:{Index:function(e){var t=e.reverse,n=void 0!==t&&t,i=e.style,r=e.className,o=e.children;return g.a.createElement(be,{"data-test":p.r.ToolControlBar,reverse:n,className:r,style:i},o)},Heading:je,SubHeading:Se,TextCategory:function(e){var t=e.name,n=e.isFirstCategory,i=e.isLastCategory,r=e.children;return g.a.createElement(Ce,null,!n&&g.a.createElement(h.B.Spacer,{count:2}),g.a.createElement(Se,{"data-test":t},t),g.a.createElement(ve,{"data-test":p.r.CategoryItemsContainer},r),!i&&g.a.createElement(g.a.Fragment,null,g.a.createElement(h.B.Spacer,{count:2}),g.a.createElement(Oe,{full:!0})))},ExpandableContainer:_e}},Xe=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).renderIcon=function(t){var n=e.props,i=n.tool,r=n.config.state.config[i];if("icon"in r){var o=r.icon;return g.a.createElement(o,null)}var a=h.E[t];return g.a.createElement(a,null)||null},e.update=function(t){e.props.active.selectTool(t)},e}return Object(a.a)(n,[{key:"getToolTitle",value:function(e){return this.props.config.locale[e].title}},{key:"render",value:function(){var e=this,t=this.props,n=t.tool,i=t.disabled,r=t.custom,o=t.active,a=t.isReverse,s=o.tool;if(n){var l=r.getAdvancedToolbarItem();return l?g.a.createElement(l,{key:n,isDisabled:i,isActive:n===s,isReverse:a,icon:this.renderIcon(n),onClick:function(){return e.update(n)},tool:n,label:this.getToolTitle(n)}):null}return g.a.createElement(Ke.Toolbar.Separator,null)}}]),n}(g.a.Component),Ye=Xe=Object(p.G)([Object(h.s)("active","config","custom"),h.q],Xe),Qe=Object(h.q)((function(){var e=Object(h.C)(),t=e.custom,n=e.config,i=e.active,r="reverse"===n.config.order,o=t.getAdvancedToolbar();return o?g.a.createElement(o,{reverse:r},n.tools.map((function(e,t){return g.a.createElement(Ye,{key:e||t,tool:e,isReverse:r,disabled:!(i.image||"library"===e||"customTool"===e)})}))):null})),Ze=Object(h.q)((function(){var e=Object(h.C)(),t=e.adjustmentsTool,n=e.custom,i=t.categories,r=t.items,o=t.config,a=t.locale,s=function(e){var i=t[e.identifier],r=t.locale.categories[e.identifier]||e.name,o=n.getSlider();return o?g.a.createElement(o,{tool:"adjustment",identifier:e.identifier,adjust:!0,key:e.identifier,label:r,value:i,onChange:function(n){t.editAdjustments({type:e.identifier,value:n})},onMouseUp:function(){return t.toolSnapshot()},onTouchEnd:function(){return t.toolSnapshot()},snap:0,style:{paddingBottom:"16px",width:"100%"}}):null};return o.flattenCategories?g.a.createElement(g.a.Fragment,null,r.map(s)):g.a.createElement(g.a.Fragment,null,i.map((function(e,t){var n=a.categories[e.identifier]||e.name;return e.items?g.a.createElement(Ke.Sidebar.TextCategory,{key:e.identifier,name:n,isFirstCategory:0===t,isLastCategory:t===i.length-1},e.items.map(s)):null})))})),Je=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ze,null))},$e=Object(h.q)((function(){var e=Object(h.C)(),t=e.adjustmentsTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"adjustment",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!t.isDirty,onClick:function(){t.reset()}}):null})),et=Object(h.q)((function(){var e=Object(h.C)().adjustmentsTool,t=e.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(t){return function t(n){if("string"===typeof n)switch(n){case"items":return g.a.createElement(Je,{key:n});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"removeAdjustmentButton":return g.a.createElement($e,{key:n});default:return null}else if("object"===typeof n)return g.a.createElement(Ke.Controlsbar,{key:n.type,show:e.isDirty},n.children.map((function(e){return t(e)})));return null}(t)})))})),tt=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().adjustmentsTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(et,null))})),nt=Object(h.q)((function(){var e=Object(h.C)().brushTool,t=e.locale.controls,n=e.localeColor.colorPicker,i=e.colorList;return g.a.createElement(h.B.Input.Selection,{label:t.selectColor},g.a.createElement(h.f,{tool:"brush",activeColor:e.color,colors:i,labelsColor:n,onChange:e.changeColor}))})),it=Object(h.q)((function(){var e=Object(h.C)(),t=e.brushTool,n=e.custom,i=t.locale.controls,r=n.getSlider();return r?g.a.createElement(r,{identifier:"brush-hardness",tool:"brush","data-test":p.r.BrushHardness,label:i.sliderHardness,value:t.hardness,min:0,max:1,onChange:t.changeHardness}):null})),rt=Object(h.q)((function(){var e=Object(h.C)(),t=e.brushTool,n=e.custom,i=t.locale.controls,r=n.getSlider();return r?g.a.createElement(r,{identifier:"brush-size",tool:"brush","data-test":p.r.BrushSize,label:i.sliderSize,value:t.relativeSize,min:1,max:100,divider:1,onChange:t.changeRelativeSize}):null})),ot=Object(h.q)((function(){var e=Object(h.C)(),t=e.brushTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"brush",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!t.isDirty,onClick:function(){t.reset()}}):null})),at=Object(h.q)((function(){var e=Object(h.C)().brushTool,t=e.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(t){return function t(n){if("string"===typeof n)switch(n){case"brushColorList":return g.a.createElement(nt,{key:n});case"brushHardnessSlider":return g.a.createElement(it,{key:n});case"brushSizeSlider":return g.a.createElement(rt,{key:n});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"removeBrushButton":return g.a.createElement(ot,{key:n});default:return null}else if("object"===typeof n)return g.a.createElement(Ke.Controlsbar,{key:n.type,show:e.isDirty},n.children.map((function(e){return t(e)})));return null}(t)})))})),st=Object(h.s)("brushTool")(Object(h.q)((function(e){var t=e.brushTool,n=e.displayTitle;return g.a.createElement(g.a.Fragment,null,n&&g.a.createElement(Ke.Sidebar.Heading,null,t.locale.title),g.a.createElement(at,null))}))),lt=function(e){var t=e.displayTitle,n=Object(h.C)().config,i=n.state.config.customTool.toolControlBar,r=n.state.locale.customTool.title;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,r),g.a.createElement(i,{language:n.state.locale.customTool}))},ut=Object(h.q)((function(){var e=Object(h.C)(),t=e.filterTool,n=e.custom,i=t.locale.controls,r=t.state,o=function(){t.toolSnapshot()},a=n.getSlider();return a?g.a.createElement(a,{identifier:"filter-intensity",tool:"filter","aria-hidden":!t.isOptionSelected,label:i.sliderIntensity,value:r.intensity,min:0,max:1,onChange:t.changeIntensity,onMouseUp:o,onTouchEnd:o,snap:r.isDuotone?.5:null,isDisabled:!t.isOptionSelected}):null})),ct=Object(h.q)((function(){var e=Object(h.C)(),t=e.filterTool,n=e.custom,i=t.categories,r=t.config,o=t.items,a=t.locale,s=n.getAdvancedItemCard(),l=n.getAdvancedCategoryCard(),u=function(e,n){var i,r=a.items[e.identifier]||e.name,o=null==(i=a.controls)?void 0:i.itemAriaLabel;return s?g.a.createElement(s,{tool:"filter",type:"medium",onClick:function(){return t.selectFilter(e.identifier,e.defaultIntensity)},key:e.identifier,image:e.thumbnailURI,label:r,"aria-label":null==o?void 0:o.replace("${label}",r),style:{animationDelay:"".concat(Object(p.w)(n),"s")},isActive:t.identifier===e.identifier},g.a.createElement(h.x,{withBackground:!0},r)):null};return r.flattenCategories?g.a.createElement(g.a.Fragment,null,o.map(u)):"card"===r.categoryHeaderType?g.a.createElement(g.a.Fragment,null,i.map((function(e,n){var i,r=t.selectedCategoryIdentifier===e.identifier,o=a.categories[e.identifier]||e.name,s=null==(i=a.controls)?void 0:i.categoryAriaLabel;return e.items&&l?g.a.createElement("div",{key:e.identifier},g.a.createElement(l,{role:"button","aria-expanded":r,"aria-label":null==s?void 0:s.replace("${label}",o),isActive:r,tool:"filter",type:"large",onClick:function(){return t.toggleCategorySelection(e.identifier)},image:e.thumbnailURI,label:o,style:{animationDelay:"".concat(Object(p.w)(n),"s")}},g.a.createElement(h.x,{withBackground:!0,caret:!0,isActive:r},o)),g.a.createElement(Ke.Sidebar.ExpandableContainer,{show:r},e.items.map(u))):null}))):"text"===r.categoryHeaderType?g.a.createElement(g.a.Fragment,null,i.map((function(e,t){var n=a.categories[e.identifier]||e.name;return e.items?g.a.createElement(Ke.Sidebar.TextCategory,{key:e.identifier,name:n,isFirstCategory:0===t,isLastCategory:t===i.length-1},e.items.map(u)):null}))):null})),ft=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(ct,null)))},dt=Object(h.q)((function(){var e=Object(h.C)(),t=e.filterTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"filter",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!t.isOptionSelected,onClick:function(){t.reset()}}):null})),ht=Object(h.q)((function(){var e=Object(h.C)().filterTool,t=e.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(t){return function t(n){if("string"===typeof n)switch(n){case"items":return g.a.createElement(ft,{key:n});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"removeFilterButton":return g.a.createElement(dt,{key:n});case"filterIntensitySlider":return g.a.createElement(ut,{key:n});default:return null}else if("object"===typeof n)return g.a.createElement(Ke.Controlsbar,{key:n.type,show:e.isOptionSelected},n.children.map((function(e){return t(e)})));return null}(t)})))})),pt=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().filterTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(ht,null))})),mt=Object(h.q)((function(){var e=Object(h.C)(),t=e.focusTool,n=e.custom,i=t.locale.controls,r=function(){t.toolSnapshot(i.sliderIntensity)},o=n.getSlider();return o?g.a.createElement(o,{identifier:"focus-intensity",tool:"focus","aria-hidden":!t.isOptionSelected,label:i.sliderIntensity,value:t.relativeIntensity,min:0,max:100,divider:1,onChange:t.changeRelativeIntensity,onMouseUp:r,onTouchEnd:r,isDisabled:!t.isOptionSelected}):null})),gt=Object(h.q)((function(){var e=Object(h.C)(),t=e.focusTool,n=e.custom,i=t.items,r=t.locale;return g.a.createElement(g.a.Fragment,null,i.map((function(e,i){var o,a=r.items[e.identifier]||e.name,s=null==(o=r.controls)?void 0:o.itemAriaLabel,l=n.getAdvancedItemCard();return l?g.a.createElement(l,{tool:"focus",type:"large",onClick:function(){return t.selectFocus(e.identifier)},key:e.identifier,image:e.thumbnailURI,label:a,"aria-label":null==s?void 0:s.replace("${label}",a),style:{animationDelay:"".concat(Object(p.w)(i),"s")},isActive:e.identifier===t.identifier},g.a.createElement(h.x,{withBackground:!0},a)):null})))})),yt=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(gt,null)))},vt=Object(h.q)((function(){var e=Object(h.C)(),t=e.focusTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"focus",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!t.isOptionSelected,onClick:function(){t.reset()}}):null})),bt=Object(h.q)((function(){var e=Object(h.C)().focusTool,t=e.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(t){return function t(n){if("string"===typeof n)switch(n){case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"removeFocusButton":return g.a.createElement(vt,{key:n});case"focusIntensitySlider":return g.a.createElement(mt,{key:n});case"items":return g.a.createElement(yt,{key:n});default:return null}else if("object"===typeof n)return g.a.createElement(Ke.Controlsbar,{key:n.type,show:e.isOptionSelected},n.children.map((function(e){return t(e)})));return null}(t)})))})),_t=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().focusTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(bt,null))})),xt=Object(h.q)((function(){var e=Object(h.C)().frameTool,t=e.locale.controls,n=e.localeColor.colorPicker,i=e.colorList,r=e.tintable;return g.a.createElement(h.B.Input.Selection,{isDisabled:!r,label:t.selectColor},g.a.createElement(h.f,{tool:"frame",activeColor:e.color,colors:i,labelsColor:n,isDisabled:!r,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),kt=Object(h.q)((function(){var e=Object(h.C)(),t=e.frameTool,n=e.custom,i=t.items,r=t.locale,o=t.state?t.state.identifier:null;return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,i.map((function(e,i){var a,s=r.items[e.identifier]||e.name,l=null==(a=r.controls)?void 0:a.itemAriaLabel,u=n.getAdvancedItemCard();return u?g.a.createElement(u,{tool:"frame",type:"medium",onClick:function(){return t.selectFrame(e.identifier)},key:e.identifier,image:e.thumbnailURI,label:s,"aria-label":null==l?void 0:l.replace("${label}",s),style:{backgroundSize:"75%",animationDelay:"".concat(Object(p.w)(i),"s")},isActive:e.identifier===o},g.a.createElement(h.x,{hidden:!0},s)):null}))))})),wt=Object(h.q)((function(){var e=Object(h.C)(),t=e.frameTool,n=e.custom,i=t.locale.controls,r=function(e){t.toolSnapshot(e)},o=n.getSlider();return o?g.a.createElement(o,{identifier:"frame-opacity",tool:"frame","aria-hidden":!t.isOptionSelected,label:i.sliderOpacity,value:t.opacity,min:0,max:1,onChange:t.changeOpacity,onMouseUp:function(){r(i.sliderOpacity)},onTouchEnd:function(){r(i.sliderOpacity)},isDisabled:!t.isOptionSelected}):null})),Ot=Object(h.q)((function(){var e=Object(h.C)(),t=e.frameTool,n=e.custom,i=t.locale.controls,r=function(e){t.toolSnapshot(e)},o=n.getSlider();return o?g.a.createElement(o,{identifier:"frame-size",tool:"frame","aria-hidden":!t.isOptionSelected,label:i.sliderSize,value:t.size,min:t.minSize,max:t.maxSize,divider:1,onChange:t.changeWidth,onMouseUp:function(){r(i.sliderSize)},onTouchEnd:function(){r(i.sliderSize)},isDisabled:!t.isOptionSelected}):null})),St=Object(h.q)((function(){var e=Object(h.C)(),t=e.frameTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"frame",ariaLabel:i.buttonReset,onClick:function(){t.reset()},isDisabled:!t.isOptionSelected,label:i.buttonReset}):null})),Ct=Object(h.q)((function(){var e=Object(h.C)().frameTool,t=e.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(t){return function t(n){if("string"===typeof n)switch(n){case"items":return g.a.createElement(kt,{key:n});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"frameOpacitySlider":return g.a.createElement(wt,{key:n});case"frameSizeSlider":return g.a.createElement(Ot,{key:n});case"frameColorList":return g.a.createElement(xt,{key:n});case"removeFrameButton":return g.a.createElement(St,{key:n});default:return null}else if("object"===typeof n)return g.a.createElement(Ke.Controlsbar,{key:n.type,show:e.isOptionSelected},n.children.map((function(e){return t(e)})));return null}(t)})))})),jt=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().frameTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(Ct,null))})),Tt=Object(h.q)((function(){var e=Object(h.C)(),t=e.active,n=e.library,i=e.custom,r=n.query,o=n.config,a=n.selectedCategoryIdentifier,s=n.categories,l=n.items,u=n.locale,c=i.getAdvancedCategoryCard(),f=i.getAdvancedItemCard(),d=function(e,n){var i,r=null==(i=u.controls)?void 0:i.itemAriaLabel;return f?g.a.createElement(f,{tool:"library",type:"medium",onClick:function(){return t.newImage(e.rawUrl)},key:"".concat(e.identifier,"-").concat(n),image:e.thumbnailURI,label:e.name,"aria-label":null==r?void 0:r.replace("${label}",e.name),style:{animationDelay:"".concat(Object(p.w)(n),"s")},authorAvatar:e.authorAvatar,authorName:e.authorName},e.authorAvatar&&g.a.createElement(h.y,{url:e.authorAvatar}),e.authorName&&g.a.createElement(h.x,{withBackground:!0},e.authorName)):null};return r?l.length?g.a.createElement(g.a.Fragment,null,l.map(d)):g.a.createElement("p",{"data-test":p.r.NoResult},n.locale.controls.noResults):o.flattenCategories?g.a.createElement(g.a.Fragment,null,l.map(d)):"card"===o.categoryHeaderType?g.a.createElement(g.a.Fragment,null,s.map((function(e,t){var i,r=a===e.identifier,o=null==(i=u.controls)?void 0:i.categoryAriaLabel;return e.items&&c?g.a.createElement("div",{key:e.identifier},g.a.createElement(c,{role:"button","aria-expanded":r,"aria-label":null==o?void 0:o.replace("${label}",e.name),isActive:r,tool:"library",type:"large",onClick:function(){return n.toggleCategorySelection(e.identifier)},image:e.thumbnailURI,label:e.name,style:{animationDelay:"".concat(Object(p.w)(t),"s")}},g.a.createElement(h.x,{withBackground:!0,caret:!0,isActive:r},e.name)),g.a.createElement(Ke.Sidebar.ExpandableContainer,{show:r},e.items.map(d))):null}))):"text"===o.categoryHeaderType?g.a.createElement(g.a.Fragment,null,s.map((function(e,t){return e.items?g.a.createElement(Ke.Sidebar.TextCategory,{key:e.identifier,name:e.name,isFirstCategory:0===t,isLastCategory:t===s.length-1},e.items.map(d)):null}))):null})),Et=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(Tt,null)))},Dt=Object(h.q)((function(){var e=Object(h.C)(),t=e.library,n=e.active,i=t.config,r=t.locale.controls;return i.enableWebcam?g.a.createElement(h.n,{tool:"library",onClick:function(){n.selectWebcam(!0)},label:r.buttonWebcamOpen}):null})),It=Object(h.q)((function(){var e=Object(h.C)().library,t=e.libraryProvider,n=e.locale.controls;return t?g.a.createElement(h.B.Input.Search,{onChange:function(t){e.fetchImages(t)},placeholder:n.placeholderSearch}):null})),Rt=Object(h.q)((function(){var e=Object(h.C)(),t=e.library,n=e.active,i=e.custom,r=t.config,o=t.locale.controls,a=i.getButton("toolControlBarPrimaryButton");return r.enableUpload&&a?g.a.createElement(a,{"data-test":p.r.LibraryUploadButton,tool:"library",ariaLabel:o.buttonUpload,onClick:function(){var e=document.getElementById("fileUpload");e&&e.click()},label:o.buttonUpload},g.a.createElement(h.B.Input.File,{onChange:function(e){var t=e.target.files;if(t.length){var i=new FileReader;i.onload=function(e){n.newImage(e.target.result)},i.readAsDataURL(t[0])}}})):null})),Ft=Object(h.q)((function(){var e=Object(h.C)().library.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,e.map((function(e){return function(e){switch(e){case"items":return g.a.createElement(Et,{key:e});case"openWebcamButton":return g.a.createElement(Dt,{key:e});case"searchFieldInput":return g.a.createElement(It,{key:e});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"uploadImageButton":return g.a.createElement(Rt,{key:e});default:return null}}(e)})))})),At=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().library;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(Ft,null))})),Mt=Object(h.q)((function(){var e=Object(h.C)().overlayTool,t=e.allBlendModes,n=e.blendMode,i=e.locale.controls;return g.a.createElement(h.B.Input.CarouselSlider,{label:i.carouselBlendMode,defaultIdentifier:n,onSelect:function(t){e.changeBlendMode(t)},list:t})})),Pt=Object(h.q)((function(){var e=Object(h.C)(),t=e.overlayTool,n=e.custom,i=t.items,r=t.locale,o=t.identifier,a=t.selectOverlay;return g.a.createElement(g.a.Fragment,null,i.map((function(e,t){var i,s=r.items[e.identifier]||e.name,l=null==(i=r.controls)?void 0:i.itemAriaLabel,u=n.getAdvancedItemCard();return u?g.a.createElement(u,{tool:"overlay",type:"medium",onClick:function(){return a(e.identifier)},key:e.identifier,image:e.thumbnailURI,label:s,"aria-label":null==l?void 0:l.replace("${label}",s),style:{animationDelay:"".concat(Object(p.w)(t),"s")},isActive:e.identifier===o},g.a.createElement(h.x,{withBackground:!0},s)):null})))})),zt=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(Pt,null)))},Bt=Object(h.q)((function(){var e=Object(h.C)(),t=e.overlayTool,n=e.custom,i=t.locale.controls,r=function(){t.toolSnapshot()},o=n.getSlider();return o?g.a.createElement(o,{identifier:"overlay-opacity",tool:"overlay","aria-hidden":!t.isOptionSelected,label:i.sliderOpacity,value:t.opacity,min:0,max:1,onChange:t.changeOpacity,onMouseUp:r,onTouchEnd:r,isDisabled:!t.isOptionSelected}):null})),Lt=Object(h.q)((function(){var e=Object(h.C)(),t=e.overlayTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"overlay",label:i.buttonReset,ariaLabel:i.buttonReset,isDisabled:!t.isOptionSelected,onClick:function(){t.reset()}}):null})),Nt=Object(h.q)((function(){var e=Object(h.C)().overlayTool,t=e.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(t){return function t(n){if("string"===typeof n)switch(n){case"items":return g.a.createElement(zt,{key:n});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"overlayBlendModeCarousel":return g.a.createElement(Mt,{key:n});case"overlayOpacitySlider":return g.a.createElement(Bt,{key:n});case"removeOverlayButton":return g.a.createElement(Lt,{key:n});default:return null}else if("object"===typeof n)return g.a.createElement(Ke.Controlsbar,{key:n.type,show:e.isOptionSelected},n.children.map((function(e){return t(e)})));return null}(t)})))})),Ut=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().overlayTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(Nt,null))})),Gt=Object(h.q)((function(){var e=Object(h.C)().stickerTool,t=e.colorList,n=e.locale.controls,i=e.localeColor.colorPicker,r=!e.isStickerSelected||!e.tintable&&e.isStickerSelected;return g.a.createElement(h.B.Input.Selection,{isDisabled:r,label:n.selectColor},g.a.createElement(h.f,{tool:"sticker",activeSprite:e.id,activeColor:e.tintColor,colors:t,labelsColor:i,isDisabled:r,onChange:e.changeTintColor,onAddSnapshot:e.tintColorSnapshot}))})),Ht=Object(h.q)((function(){var e=Object(h.C)(),t=e.stickerTool,n=e.custom,i=t.categories,r=t.selectedCategoryIdentifier,o=t.config,a=t.items,s=t.locale,l=n.getAdvancedCategoryCard(),u=n.getAdvancedItemCard(),c=function(e,n){var i,r=s.items[e.identifier]||e.name,o=null==(i=s.controls)?void 0:i.itemAriaLabel;return u?g.a.createElement(u,{key:e.identifier,tool:"sticker",type:"small",onClick:function(){return t.add(e.identifier)},image:e.thumbnailURI,label:r,"aria-label":null==o?void 0:o.replace("${label}",r),style:{backgroundSize:"75%",animationDelay:"".concat(Object(p.x)(n),"s")}},g.a.createElement(h.x,{hidden:!0},r)):null};return o.flattenCategories?g.a.createElement(g.a.Fragment,null,a.map(c)):"card"===o.categoryHeaderType?g.a.createElement(g.a.Fragment,null,i.map((function(e,n){var i,o=r===e.identifier,a=s.categories[e.identifier]||e.name,u=null==(i=s.controls)?void 0:i.categoryAriaLabel;return e.items&&l?g.a.createElement("div",{key:e.identifier},g.a.createElement(l,{role:"button","aria-expanded":o,"aria-label":null==u?void 0:u.replace("${label}",a),isActive:o,tool:"sticker",type:"large",onClick:function(){return t.toggleCategorySelection(e.identifier)},image:e.thumbnailURI,label:a,style:{animationDelay:"".concat(Object(p.w)(n),"s")}},g.a.createElement(h.x,{withBackground:!0,caret:!0,isActive:o},a)),g.a.createElement(Ke.Sidebar.ExpandableContainer,{show:o,key:"".concat(e.identifier,"-items")},e.items.map(c))):null}))):"text"===o.categoryHeaderType?g.a.createElement(g.a.Fragment,null,i.map((function(e,t){var n=s.categories[e.identifier]||e.name;return e.items?g.a.createElement(Ke.Sidebar.TextCategory,{key:e.identifier,name:n,isFirstCategory:0===t,isLastCategory:t===i.length-1},e.items.map(c)):null}))):null})),Wt=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(Ht,null)))},Vt=Object(h.q)((function(){var e=Object(h.C)(),t=e.stickerTool,n=e.custom,i=t.locale.controls,r=function(){t.toolSnapshot()},o=n.getSlider();return o?g.a.createElement(o,{identifier:"sticker-opacity",tool:"sticker",isDisabled:!t.isStickerSelected,label:i.sliderOpacity,value:t.opacity,min:0,max:1,onChange:t.changeOpacity,onMouseUp:r,onTouchEnd:r}):null})),qt=y.c.input.attrs({type:"file",id:"fileUpload",accept:"image/*",multiple:!0})(C(),h.A.VisuallyHidden),Kt=Object(h.q)((function(){var e=Object(h.C)(),t=e.stickerTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarPrimaryButton");return t.isCustomStickerEnabled&&r?g.a.createElement(r,{tool:"sticker",ariaLabel:i.buttonUpload,onClick:function(){var e=document.getElementById("fileUpload");e&&(e.value=null,e.click())},label:i.buttonUpload},g.a.createElement(qt,{onChange:function(e){var n=e.target.files;t.addFiles(n)}})):null})),Xt=Object(h.q)((function(){var e=Object(h.C)().stickerTool.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,e.map((function(e){return function(e){switch(e){case"items":return g.a.createElement(Wt,{key:e});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"uploadStickerButton":return g.a.createElement(Kt,{key:e});case"stickerColorList":return g.a.createElement(Gt,{key:e});case"stickerOpacitySlider":return g.a.createElement(Vt,{key:e});default:return null}}(e)})))})),Yt=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().stickerTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(Xt,null))})),Qt=Object(h.q)((function(){var e=Object(h.C)().textTool,t=e.locale.controls,n=e.localeColor.colorPicker,i=e.isTextSelected,r=e.backgroundColorList;return g.a.createElement(h.B.Input.Selection,{isDisabled:!i,label:t.selectBackgroundColor},g.a.createElement(h.f,{tool:"text",activeSprite:e.id,activeColor:e.backgroundColor,colors:r,labelsColor:n,isDisabled:!i,onChange:e.changeBackgroundColor,onAddSnapshot:e.backgroundColorSnapshot}))})),Zt=Object(h.q)((function(){var e=Object(h.C)().textTool,t=e.locale.controls,n=e.fontFamily,i=e.fontStyle,r=e.fontWeight,o=e.fontFamilies,a=e.isTextSelected,s=o.map((function(e){return{label:"".concat(e.fontFamily," ").concat(h.c.getDisplayFontStyle(e)),fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily,value:e.identifier}})),l=s.filter((function(t){return t.value===e.identifier}))[0];return g.a.createElement(h.B.Input.Dropdown,{isDisabled:!a,style:{fontFamily:n,fontStyle:i,fontWeight:r},itemStyle:function(e){return{fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight}},label:t.dropdownFontFamily,list:s,onSelect:e.changeFont,selectedItem:l.label})})),Jt=Object(y.c)(h.B.Input.NumericInput)(S()),$t=Object(h.q)((function(){var e=Object(h.C)().textTool,t=e.locale.controls,n=e.isTextSelected;return g.a.createElement(Jt,{id:"photoeditorsdk-text-font-size-input",value:e.fontSize.toFixed(0),onSubmit:function(t){var n=t?parseFloat(t):0;e.setFontSize(Math.max(10,Math.min(690,n)))},label:t.textFontSize,isDisabled:!n})})),en=Object(h.q)((function(){var e=Object(h.C)(),t=e.textTool,n=e.custom,i=t.locale.controls,r=t.isTextSelected,o=function(){t.toolSnapshot()},a=n.getSlider();return a?g.a.createElement(a,{identifier:"text-line-spacing",tool:"text",isDisabled:!r,label:i.sliderLineSpacing,value:t.lineHeight,min:.5,max:3,onChange:t.changeLineHeight,onMouseUp:o,onTouchEnd:o,snap:1,divider:1,decimal:1}):null})),tn=Object(h.q)((function(){var e=Object(h.C)(),t=e.textTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarPrimaryButton");return r?g.a.createElement(r,{tool:"text",ariaLabel:i.buttonNew,onClick:function(){t.add()},label:i.buttonNew}):null})),nn=Object(y.c)(h.B.Input.Selection)(O()),rn=Object(h.q)((function(){var e=Object(h.C)(),t=e.textTool,n=e.custom,i=t.locale.controls,r=t.isTextSelected,o=t.alignment,a=n.getButton("textAlignment");return g.a.createElement(nn,{isDisabled:!r,inline:!0,label:i.selectAlignment,"data-test":p.r.TextAlignment},["left","center","right"].map((function(e){var n=h.F[e];return g.a.createElement(a,{tool:e,isDisabled:!r,ariaLabel:"Align ".concat(e),isActive:e===o,key:e,style:{padding:"1px 3px 2px"},icon:g.a.createElement(n,null),onClick:function(){return t.changeAlignment(e)}})})))})),on=Object(h.q)((function(){var e=Object(h.C)().textTool,t=e.locale.controls,n=e.localeColor.colorPicker,i=e.isTextSelected,r=e.colorList;return g.a.createElement(h.B.Input.Selection,{isDisabled:!i,label:t.selectFontColor},g.a.createElement(h.f,{tool:"text",activeSprite:e.id,activeColor:e.textColor,colors:r,labelsColor:n,isDisabled:!i,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),an=y.c.div(w()),sn=Object(h.s)("textTool")(Object(h.q)((function(e){var t=e.textTool.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,t.map((function(e){return function e(t){if("string"===typeof t)switch(t){case"newTextButton":return g.a.createElement(tn,{key:t});case"fontFamilyDropdown":return g.a.createElement(Zt,{key:t});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"textColorList":return g.a.createElement(on,{key:t});case"backgroundColorList":return g.a.createElement(Qt,{key:t});case"lineSpacingSlider":return g.a.createElement(en,{key:t});case"textAlignmentList":return g.a.createElement(rn,{key:t});case"fontSizeInput":return g.a.createElement($t,{key:t});default:return null}else if("object"===typeof t)return g.a.createElement(an,{key:t.type},t.children.map((function(t){return e(t)})));return null}(e)})))}))),ln=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().textTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(sn,null))})),un=Object(h.q)((function(){var e=Object(h.C)(),t=e.textDesignTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarPrimaryButton");return r?g.a.createElement(r,{tool:"textdesign",ariaLabel:i.buttonNew,onClick:function(){t.add()},label:i.buttonNew}):null})),cn=Object(h.q)((function(){var e=Object(h.C)(),t=e.textDesignTool,n=e.custom,i=t.locale.controls,r=t.isTextDesignSelected,o=n.getButton("toolControlBarSecondaryButton");return o?g.a.createElement(o,{tool:"textdesign",ariaLabel:i.buttonShuffle,isDisabled:!r,onClick:function(){t.changeSeed()},label:i.buttonShuffle}):null})),fn=Object(h.q)((function(){var e=Object(h.C)().textDesignTool,t=e.locale.controls,n=e.localeColor.colorPicker,i=e.isTextDesignSelected,r=e.colorList;return g.a.createElement(h.B.Input.Selection,{isDisabled:!i,label:t.selectColor},g.a.createElement(h.f,{tool:"textdesign",activeSprite:e.id,activeColor:e.color,colors:r,labelsColor:n,isDisabled:!i,onChange:e.changeColor,onAddSnapshot:e.colorSnapshot}))})),dn=Object(h.q)((function(){var e=Object(h.C)(),t=e.textDesignTool,n=e.custom,i=t.items,r=t.identifier,o=t.locale;return g.a.createElement(g.a.Fragment,null,i.map((function(e,i){var a,s=null==(a=o.controls)?void 0:a.itemAriaLabel,l=n.getAdvancedItemCard();return l?g.a.createElement(l,{key:e.identifier,tool:"textdesign",type:"medium",onClick:function(){return function(e){t.changeIdentifier(e)}(e.identifier)},image:e.thumbnailURI,label:e.name||"","aria-label":null==s?void 0:s.replace("${label}",e.name),style:{animationDelay:"".concat(Object(p.w)(i),"s"),backgroundSize:"60%"},isDisabled:!t.isTextDesignSelected,isActive:r===e.identifier},g.a.createElement(h.x,{hidden:!0},e.name)):null})))})),hn=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(dn,null)))},pn=Object(h.q)((function(){var e=Object(h.C)().textDesignTool.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,e.map((function(e){return function(e){switch(e){case"items":return g.a.createElement(hn,{key:e});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"newTextDesignButton":return g.a.createElement(un,{key:e});case"shuffleLayoutButton":return g.a.createElement(cn,{key:e});case"textDesignColorList":return g.a.createElement(fn,{key:e});default:return null}}(e)})))})),mn=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().textDesignTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(pn,null))})),gn=Object(h.q)((function(){var e=Object(h.C)().transformTool,t=e.locale.controls,n=e.forceDimensions,i=e.localOutputHeight,r=e.localOutputWidth;return g.a.createElement(h.k,{isDisabled:n,showLabel:!0,valueHeight:i,valueWidth:r,onSubmitWidth:e.onPixelWidth,onSubmitHeight:e.onPixelHeight,label:t.inputCropSize,labelHeight:t.inputHeight,labelWidth:t.inputWidth,ariaLabelHeight:t.inputHeightAriaLabel,ariaLabelWidth:t.inputWidthAriaLabel})})),yn=Object(h.q)((function(){var e=Object(h.C)(),t=e.transformTool,n=e.custom,i=t.locale.controls,r=t.forceDimensions,o=t.lockResolution,a=n.getCheckbox();return a?g.a.createElement(a,{tool:"transform",isDisabled:r,value:o,label:i.checkboxKeepResolution,checkMarkPosition:"right",onClick:t.changeLockResolution,style:{paddingTop:"5px",justifyContent:"space-between"}}):null})),vn=Object(h.q)((function(){var e=Object(h.C)(),t=e.transformTool,n=e.custom,i=t.locale.controls,r=n.getButton("toolControlBarSecondaryButton");return r?g.a.createElement(r,{tool:"transform",ariaLabel:i.buttonReset,onClick:function(){t.reset()},label:i.buttonReset}):null})),bn=Object(h.q)((function(){var e=Object(h.C)(),t=e.transformTool,n=e.custom,i=e.editor,r=t.categories,o=t.items,a=t.identifier,s=t.config,l=t.locale,u=n.getAdvancedItemCard(),c=n.getAdvancedCategoryCard(),f=function(e,n){var r,o=i.configStore,s=o.theme,c=o.measurements,f=l.items[e.identifier]||e.name,d=null==(r=l.controls)?void 0:r.itemAriaLabel,m=e.thumbnailURI||"",y="80%";if(!t.checkIfTransformThumbnailExits(e.thumbnailURI)){var v=e.identifier.includes("imgly_transform_common"),b=h.H.crops[e.identifier]||h.H.crops.imgly_transform_common_custom,x=g.a.createElement(b,{width:c.advancedUICard.medium.width-(v?42:0),height:c.advancedUICard.medium.height-(v?42:0),main:s.transform.crops.main,highlight:s.transform.crops.highlight,shadow:s.transform.crops.shadow});m="'data:image/svg+xml,".concat(encodeURIComponent(Object(_.renderToStaticMarkup)(x)),"'"),y=Object(p.ub)()||Object(p.sb)()?"auto":"unset"}return u?g.a.createElement(u,{key:e.identifier,tool:"transform",type:"medium",onClick:function(){return t.changeIdentifier(e.identifier,!0)},image:m,label:f,"aria-label":null==d?void 0:d.replace("${label}",f),style:{backgroundSize:y,animationDelay:"".concat(Object(p.w)(n),"s")},isActive:e.identifier===a},g.a.createElement(h.x,null,f)):null};return s.flattenCategories?g.a.createElement(g.a.Fragment,null,o.map(f)):"card"===s.categoryHeaderType?g.a.createElement(g.a.Fragment,null,r.map((function(e,n){var r,o=i.configStore,a=o.theme,s=o.measurements,u=t.selectedCategoryIdentifier===e.identifier,d=l.categories[e.identifier]||e.name,m=null==(r=l.controls)?void 0:r.categoryAriaLabel,y=e.thumbnailURI||"";if(!e.items||!c)return null;if(!t.checkIfTransformThumbnailExits(e.thumbnailURI)){var v=h.H.categories[e.identifier]||h.H.crops.imgly_transform_common_custom,b=g.a.createElement(v,{width:s.advancedUICard.large.width-42,height:s.advancedUICard.large.height-42,main:a.transform.crops.main,highlight:a.transform.crops.highlight,shadow:a.transform.crops.shadow});y="'data:image/svg+xml,".concat(encodeURIComponent(Object(_.renderToStaticMarkup)(b)),"'")}return g.a.createElement("div",{key:e.identifier},g.a.createElement(c,{role:"button","aria-expanded":u,"aria-label":null==m?void 0:m.replace("${label}",d),isActive:u,type:"large",onClick:function(){return t.toggleCategorySelection(e.identifier)},key:e.identifier,image:y,style:{animationDelay:"".concat(Object(p.w)(n),"s")},label:e.name,tool:"transform"},g.a.createElement(h.x,{caret:!0,isActive:u},d)),g.a.createElement(Ke.Sidebar.ExpandableContainer,{show:u},e.items.map(f)))}))):"text"===s.categoryHeaderType?g.a.createElement(g.a.Fragment,null,r.map((function(e,t){var n=l.categories[e.identifier]||e.name;return e.items?g.a.createElement(Ke.Sidebar.TextCategory,{key:e.identifier,name:n,isFirstCategory:0===t,isLastCategory:t===r.length-1},e.items.map(f)):null}))):null})),_n=function(){return g.a.createElement(Ke.Itemsbar,null,g.a.createElement(Ke.CardContainer,null,g.a.createElement(bn,null)))},xn=Object(h.q)((function(){var e=Object(h.C)().transformTool.config.advancedUIToolControlBarOrder;return g.a.createElement(Ke.ToolControlBarItems,null,e.map((function(e){return function(e){switch(e){case"items":return g.a.createElement(_n,{key:e});case"separator":return g.a.createElement(Ke.ItemsSeparator,{full:!0,key:Object(p.l)()});case"resetTransformButton":return g.a.createElement(vn,{key:e});case"keepResolutionCheckbox":return g.a.createElement(yn,{key:e});case"cropSizeInput":return g.a.createElement(gn,{key:e});default:return null}}(e)})))})),kn=Object(h.q)((function(e){var t=e.displayTitle,n=Object(h.C)().transformTool;return g.a.createElement(g.a.Fragment,null,t&&g.a.createElement(Ke.Sidebar.Heading,null,n.locale.title),g.a.createElement(xn,null))})),wn=Object(h.q)((function(){var e=Object(h.C)(),t=e.active,n=e.config,i=e.custom,r=t.tool,o=n.config.displayToolControlBarTitle,a=i.getAdvancedToolControlBar();return a?g.a.createElement(a,{reverse:"reverse"===n.config.order,tool:r},g.a.createElement(h.B.Switch.Index,{type:r},g.a.createElement(h.B.Switch.Case,{value:"library"},g.a.createElement(At,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"filter"},g.a.createElement(pt,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"focus"},g.a.createElement(_t,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"adjustment"},g.a.createElement(tt,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"overlay"},g.a.createElement(Ut,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"sticker"},g.a.createElement(Yt,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"text"},g.a.createElement(ln,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"textdesign"},g.a.createElement(mn,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"frame"},g.a.createElement(jt,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"brush"},g.a.createElement(st,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"transform"},g.a.createElement(kn,{displayTitle:o})),g.a.createElement(h.B.Switch.Case,{value:"customTool"},g.a.createElement(lt,{displayTitle:o})))):null})),On=y.c.div(k(),(function(e){return e.theme.measurements.advancedUIToolbar.width+e.theme.measurements.advancedUIToolControlBar.width}),(function(e){return e.theme.webcam.backdrop}),(function(e){return e.theme.measurements.zIndex.disable})),Sn=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.config,n=e.active,i=e.canvas,r=e.custom.getWindowContainer();return t.isOrderDefault?g.a.createElement(h.B.Container,null,n.isWebcam?g.a.createElement(On,{style:{left:0}}):null,g.a.createElement(h.j,null),g.a.createElement(Qe,null),g.a.createElement(wn,null),g.a.createElement(h.b,null,g.a.createElement(h.e,null),r&&g.a.createElement(r,{tool:n.tool},g.a.createElement(h.m,null,n.isWebcam?g.a.createElement(h.l,null):null,n.image&&i&&g.a.createElement(h.h,null))))):g.a.createElement(h.B.Container,null,n.isWebcam?g.a.createElement(On,{style:{right:0}}):null,g.a.createElement(h.j,null),g.a.createElement(h.b,null,g.a.createElement(h.e,null),r&&g.a.createElement(r,{tool:n.tool},g.a.createElement(h.m,null,n.isWebcam?g.a.createElement(h.l,null):null,n.image&&i&&g.a.createElement(h.h,null)))),g.a.createElement(wn,null),g.a.createElement(Qe,null))}}],[{key:"getDerivedStateFromError",value:function(e){return console.error(e),{hasError:!0}}}]),n}(g.a.Component);Sn=Object(p.G)([Object(h.s)("config","active","canvas","custom"),h.q],Sn);var Cn=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).ref=null,i.updatePosition=function(){var e=i.props.isReverse,t={x:0,y:0};if(i.ref.current){var n=i.ref.current.getBoundingClientRect(),r=n.top,o=n.height,a=n.left,s=n.right;t.y=r+o/4,t.x=e?window.innerWidth-s:a}i.setState({tooltipPosition:t})},i.mouseOver=function(e){i.updatePosition(),i.setState({hoverTool:e})},i.mouseOut=function(){i.setState({hoverTool:null})},i.state={hoverTool:null,tooltipPosition:{x:0,y:0}},i.ref=g.a.createRef(),i}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.updatePosition()}},{key:"componentDidUpdate",value:function(e){this.props.isReverse!==e.isReverse&&this.updatePosition()}},{key:"render",value:function(){var e=this,t=this.props,n=t.tool,i=t.isActive,r=t.isReverse,o=t.isDisabled,a=t.icon,s=t.label,l=t.onClick,u=t.className,c=t.children,f=this.state,d=f.hoverTool,h=f.tooltipPosition;return g.a.createElement(jn,{ref:this.ref,onMouseOver:function(){return e.mouseOver(n)},onMouseOut:function(){return e.mouseOut()},onFocus:function(){return e.mouseOver(n)},onBlur:function(){return e.mouseOut()},className:u},g.a.createElement(Ke.Toolbar.Item,{ariaLabel:s,isActive:i,isDisabled:o,onClick:function(){return l(n)}},a,c),g.a.createElement(Ke.Toolbar.Tooltip,{position:h,reverse:r,show:d===n},s))}}]),n}(g.a.Component),jn=y.c.div(x()),Tn=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).componentWillUnmount=function(){e.editor.cleanUpCanvasMemory()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.editor,n=e.storeProps;this.editor=t,this.storeProps=n;var i=new h.i(this.editor.configStore.config.custom.components,{advancedUICategoryCard:Ke.Card,advancedUIItemCard:Ke.Card,advancedUIToolbarItem:Cn,advancedUIToolbar:Ke.Toolbar.Index,advancedUIToolControlBar:Ke.Sidebar.Index}),r={getAdvancedCategoryCard:i.getAdvancedCategoryCard,getAdvancedItemCard:i.getAdvancedItemCard,getAdvancedToolbarItem:i.getAdvancedToolbarItem,getAdvancedToolbar:i.getAdvancedToolbar,getAdvancedToolControlBar:i.getAdvancedToolControlBar,getDialog:i.getDialog,getButton:i.getButton,getColorItem:i.getColorItem,getCheckbox:i.getCheckbox,getWindowContainer:i.getWindowContainer,getSlider:i.getSlider};this.storeProps.custom=r,this.forceUpdate()}},{key:"render",value:function(){return this.storeProps?g.a.createElement(h.r,Object(c.a)({},this.storeProps),g.a.createElement(y.a,{theme:Object(c.a)({},this.editor.configStore.theme,{measurements:this.editor.configStore.measurements})},g.a.createElement(Sn,null))):null}}]),n}(g.a.Component),En=g.a.lazy((function(){return n.e(4).then(n.bind(null,68))})),Dn=function(e){var t=e.editor,n=Object(m.useMemo)((function(){return function(e){return{filterTool:e.filterToolStore,focusTool:e.focusToolStore,adjustmentsTool:e.adjustmentsToolStore,overlayTool:e.overlayToolStore,frameTool:e.frameToolStore,brushTool:e.brushToolStore,transformTool:e.transformToolStore,scale:e.scale,sprite:e.spriteStore,stickerTool:e.spriteStore.stickerToolStore,textTool:e.spriteStore.textToolStore,textDesignTool:e.spriteStore.textDesignToolStore,library:e.libraryStore,modal:e.modalStore,snapping:e.snappingStore,config:e.configStore,active:e.activeStore,canvas:e.canvasStore,history:e.historyStore,editor:e}}(t)}),[t]);return"basic"===t.configStore.config.layout?g.a.createElement(m.Suspense,{fallback:g.a.createElement("div",null)},g.a.createElement(En,{editor:t,storeProps:n})):g.a.createElement(Tn,{editor:t,storeProps:n})},In=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e,a,s){var l,f;Object(o.a)(this,n),(f=t.call(this)).dispose=function(){f.container&&(b.a.unmountComponentAtNode(f.container),f.removeAllListeners("export"),f.removeAllListeners("historyUndo"),f.removeAllListeners("historyRedo"),f.removeAllListeners("historyChange"),f.removeAllListeners("editorReady"),f.removeAllListeners("errorImageLoading"),f.removeAllListeners("imageLoad"),f.removeAllListeners("toolEnter"),f.removeAllListeners("stickerUploadAdd"),f.removeAllListeners("errorWebGLContextLost"),f.removeAllListeners("cropDimensionsChange"),f.editor&&f.editor.dispose())},f.serialize=function(e){return f.editor.serialize(e)},f.deserialize=function(e){return f.editor.deserialize(e)},f.export=function(e){return f.editor.export(e)},f.close=function(){return f.editor.close()},f.setImage=function(e){return f.editor.setImage(e,!0)},f.getImageDimensions=function(){return f.editor.getImageDimensions()},f.getImageMimeType=function(){return f.editor.getImageMimeType()},f.reset=function(){f.editor.resetToolStates(),f.editor.resize()},f.container=a;var d=(l={},Object(u.a)(l,"export",(function(e){f.emit("export",e)})),Object(u.a)(l,"close",(function(){f.emit("close"),f.dispose()})),Object(u.a)(l,"historyUndo",(function(){f.emit("historyUndo")})),Object(u.a)(l,"historyRedo",(function(){f.emit("historyRedo")})),Object(u.a)(l,"historyChange",(function(){f.emit("historyChange")})),Object(u.a)(l,"stickerUploadAdd",(function(e){f.emit("stickerUploadAdd",e)})),Object(u.a)(l,"cropDimensionsChange",(function(e){f.emit("cropDimensionsChange",e)})),l);return s&&Object.entries(s).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],o=t[1];d[n]=o(Object(r.a)(f))})),f.editor=new h.d(Object(c.a)({},e),d),f}return Object(a.a)(n,[{key:"hasChanges",value:function(){return this.editor.hasChanges()}}]),n}(p.i),Rn=function(){function e(){Object(o.a)(this,e),this.container=null}return Object(a.a)(e,[{key:"init",value:function(e){var t=this;return new Promise((function(n,i){var r;"undefined"!==typeof window?(t.container="string"===typeof e.container?document.querySelector(e.container):e.container,t.container?(t.editorApi=new In(e,t.container,(r={},Object(u.a)(r,"editorReady",(function(e){return function(){setTimeout((function(){e.emit("editorReady")}),0),n(e)}})),Object(u.a)(r,"errorImageLoading",(function(e){return function(t){setTimeout((function(){e.emit("errorImageLoading",t)}),0),n(e)}})),Object(u.a)(r,"errorWebGLContextLost",(function(e){return function(t){setTimeout((function(){e.emit("errorWebGLContextLost",t)}),0),n(e)}})),Object(u.a)(r,"imageLoad",(function(e){return function(){setTimeout((function(){e.emit("imageLoad")}),0),n(e)}})),Object(u.a)(r,"toolEnter",(function(e){return function(t){setTimeout((function(){e.emit("toolEnter",t)}),0),n(e)}})),r)),b.a.render(g.a.createElement(Fn,{editor:t.editorApi.editor}),t.container)):i(new Error("Provide a container"))):n()}))}}]),e}(),Fn=function(e){var t=e.editor;return Object(m.useEffect)((function(){return function(){var e;(null==(e=null==t?void 0:t.configStore)?void 0:e.events)&&(t.configStore.events.removeAllListeners("export"),t.configStore.events.removeAllListeners("close"),t.configStore.events.removeAllListeners("historyUndo"),t.configStore.events.removeAllListeners("historyRedo"),t.configStore.events.removeAllListeners("historyChange"),t.configStore.events.removeAllListeners("editorReady"),t.configStore.events.removeAllListeners("errorImageLoading"),t.configStore.events.removeAllListeners("imageLoad"),t.configStore.events.removeAllListeners("toolEnter"),t.configStore.events.removeAllListeners("stickerUploadAdd"),t.configStore.events.removeAllListeners("errorWebGLContextLost"),t.configStore.events.removeAllListeners("cropDimensionsChange"))}}),[]),g.a.createElement(Dn,{editor:t})},An={init:function(e){return(new Rn).init(e)}};g.a.Component;Object(p.fb)({isolateGlobalState:!0});h.B.Container;var Mn=h.B.Input;h.B.ColorItem,h.B.ColorItemBase,h.B.ColorItemBackground,h.B.ColorItemTiledBackground,h.B.ColorItemActiveOverlay,h.B.Dialog,h.B.DialogBase,h.B.DialogContainer,h.B.DialogBackdrop,h.B.DialogHeader,h.B.DialogBody,h.B.DialogFooter,h.B.DialogSpinner,Mn.Search,Mn.Label,Mn.Checkbox,Mn.CheckboxBase,Mn.CheckboxInput,Mn.CheckboxCheckMark,Mn.Dropdown,Mn.Slider,Mn.SliderBase,Mn.SliderContainer,Mn.SliderInput,Mn.SliderTrack,Mn.SliderLabel,Ke.Toolbar.Index,Ke.Sidebar.Index,h.p.Toolbar.Index,h.p.Controlsbar,h.p.Itemsbar},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};Object.create;function r(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError},function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(58)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(25);function r(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(i.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return J})),n.d(t,"d",(function(){return ee})),n.d(t,"e",(function(){return $})),n.d(t,"f",(function(){return Q})),n.d(t,"g",(function(){return Z}));var i="-ms-",r="-moz-",o="-webkit-",a="comm",s="rule",l="decl",u="@keyframes",c=Math.abs,f=String.fromCharCode,d=Object.assign;function h(e){return e.trim()}function p(e,t){return(e=t.exec(e))?e[0]:e}function m(e,t,n){return e.replace(t,n)}function g(e,t,n){return e.indexOf(t,n)}function y(e,t){return 0|e.charCodeAt(t)}function v(e,t,n){return e.slice(t,n)}function b(e){return e.length}function _(e){return e.length}function x(e,t){return t.push(e),e}function k(e,t){return e.map(t).join("")}function w(e,t){return e.filter((function(e){return!p(e,t)}))}var O=1,S=1,C=0,j=0,T=0,E="";function D(e,t,n,i,r,o,a,s){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:O,column:S,length:a,return:"",siblings:s}}function I(e,t){return d(D("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function R(e){for(;e.root;)e=I(e.root,{children:[e]});x(e,e.siblings)}function F(){return T=j<C?y(E,j++):0,S++,10===T&&(S=1,O++),T}function A(){return y(E,j)}function M(){return j}function P(e,t){return v(E,e,t)}function z(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function B(e){return O=S=1,C=b(E=e),j=0,[]}function L(e){return E="",e}function N(e){return h(P(j-1,function e(t){for(;F();)switch(T){case t:return j;case 34:case 39:34!==t&&39!==t&&e(T);break;case 40:41===t&&e(t);break;case 92:F()}return j}(91===e?e+2:40===e?e+1:e)))}function U(e){for(;(T=A())&&T<33;)F();return z(e)>2||z(T)>3?"":" "}function G(e,t){for(;--t&&F()&&!(T<48||T>102||T>57&&T<65||T>70&&T<97););return P(e,M()+(t<6&&32==A()&&32==F()))}function H(e,t){for(;F()&&e+T!==57&&(e+T!==84||47!==A()););return"/*"+P(t,j-1)+"*"+f(47===e?e:F())}function W(e){for(;!z(A());)F();return P(e,j)}function V(e){return L(function e(t,n,i,r,o,a,s,l,u){var d=0,h=0,p=s,v=0,_=0,k=0,w=1,C=1,D=1,I=0,R="",P=o,z=a,B=r,L=R;for(;C;)switch(k=I,I=F()){case 40:if(108!=k&&58==y(L,p-1)){-1!=g(L+=m(N(I),"&","&\f"),"&\f",c(d?l[d-1]:0))&&(D=-1);break}case 34:case 39:case 91:L+=N(I);break;case 9:case 10:case 13:case 32:L+=U(k);break;case 92:L+=G(M()-1,7);continue;case 47:switch(A()){case 42:case 47:x(K(H(F(),M()),n,i,u),u);break;default:L+="/"}break;case 123*w:l[d++]=b(L)*D;case 125*w:case 59:case 0:switch(I){case 0:case 125:C=0;case 59+h:-1==D&&(L=m(L,/\f/g,"")),_>0&&b(L)-p&&x(_>32?X(L+";",r,i,p-1,u):X(m(L," ","")+";",r,i,p-2,u),u);break;case 59:L+=";";default:if(x(B=q(L,n,i,d,h,o,l,R,P=[],z=[],p,a),a),123===I)if(0===h)e(L,n,B,B,P,a,p,l,z);else switch(99===v&&110===y(L,3)?100:v){case 100:case 108:case 109:case 115:e(t,B,B,r&&x(q(t,B,B,0,0,o,l,R,o,P=[],p,z),z),o,z,p,l,r?P:z);break;default:e(L,B,B,B,[""],z,0,l,z)}}d=h=_=0,w=D=1,R=L="",p=s;break;case 58:p=1+b(L),_=k;default:if(w<1)if(123==I)--w;else if(125==I&&0==w++&&125==(T=j>0?y(E,--j):0,S--,10===T&&(S=1,O--),T))continue;switch(L+=f(I),I*w){case 38:D=h>0?1:(L+="\f",-1);break;case 44:l[d++]=(b(L)-1)*D,D=1;break;case 64:45===A()&&(L+=N(F())),v=A(),h=p=b(R=L+=W(M())),I++;break;case 45:45===k&&2==b(L)&&(w=0)}}return a}("",null,null,null,[""],e=B(e),0,[0],e))}function q(e,t,n,i,r,o,a,l,u,f,d,p){for(var g=r-1,y=0===r?o:[""],b=_(y),x=0,k=0,w=0;x<i;++x)for(var O=0,S=v(e,g+1,g=c(k=a[x])),C=e;O<b;++O)(C=h(k>0?y[O]+" "+S:m(S,/&\f/g,y[O])))&&(u[w++]=C);return D(e,t,n,0===r?s:l,u,f,d,p)}function K(e,t,n,i){return D(e,t,n,a,f(T),v(e,2,-2),0,i)}function X(e,t,n,i,r){return D(e,t,n,l,v(e,0,i),v(e,i+1,-1),i,r)}function Y(e,t,n){switch(function(e,t){return 45^y(e,0)?(((t<<2^y(e,0))<<2^y(e,1))<<2^y(e,2))<<2^y(e,3):0}(e,t)){case 5103:return o+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return o+e+e;case 4789:return r+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return o+e+r+e+i+e+e;case 5936:switch(y(e,t+11)){case 114:return o+e+i+m(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return o+e+i+m(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return o+e+i+m(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return o+e+i+e+e;case 6165:return o+e+i+"flex-"+e+e;case 5187:return o+e+m(e,/(\w+).+(:[^]+)/,o+"box-$1$2"+i+"flex-$1$2")+e;case 5443:return o+e+i+"flex-item-"+m(e,/flex-|-self/g,"")+(p(e,/flex-|baseline/)?"":i+"grid-row-"+m(e,/flex-|-self/g,""))+e;case 4675:return o+e+i+"flex-line-pack"+m(e,/align-content|flex-|-self/g,"")+e;case 5548:return o+e+i+m(e,"shrink","negative")+e;case 5292:return o+e+i+m(e,"basis","preferred-size")+e;case 6060:return o+"box-"+m(e,"-grow","")+o+e+i+m(e,"grow","positive")+e;case 4554:return o+m(e,/([^-])(transform)/g,"$1"+o+"$2")+e;case 6187:return m(m(m(e,/(zoom-|grab)/,o+"$1"),/(image-set)/,o+"$1"),e,"")+e;case 5495:case 3959:return m(e,/(image-set\([^]*)/,o+"$1$`$1");case 4968:return m(m(e,/(.+:)(flex-)?(.*)/,o+"box-pack:$3"+i+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+o+e+e;case 4200:if(!p(e,/flex-|baseline/))return i+"grid-column-align"+v(e,t)+e;break;case 2592:case 3360:return i+m(e,"template-","")+e;case 4384:case 3616:return n&&n.some((function(e,n){return t=n,p(e.props,/grid-\w+-end/)}))?~g(e+(n=n[t].value),"span",0)?e:i+m(e,"-start","")+e+i+"grid-row-span:"+(~g(n,"span",0)?p(n,/\d+/):+p(n,/\d+/)-+p(e,/\d+/))+";":i+m(e,"-start","")+e;case 4896:case 4128:return n&&n.some((function(e){return p(e.props,/grid-\w+-start/)}))?e:i+m(m(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return m(e,/(.+)-inline(.+)/,o+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(b(e)-1-t>6)switch(y(e,t+1)){case 109:if(45!==y(e,t+4))break;case 102:return m(e,/(.+:)(.+)-([^]+)/,"$1"+o+"$2-$3$1"+r+(108==y(e,t+3)?"$3":"$2-$3"))+e;case 115:return~g(e,"stretch",0)?Y(m(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return m(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,(function(t,n,r,o,a,s,l){return i+n+":"+r+l+(o?i+n+"-span:"+(a?s:+s-+r)+l:"")+e}));case 4949:if(121===y(e,t+6))return m(e,":",":"+o)+e;break;case 6444:switch(y(e,45===y(e,14)?18:11)){case 120:return m(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+o+(45===y(e,14)?"inline-":"")+"box$3$1"+o+"$2$3$1"+i+"$2box$3")+e;case 100:return m(e,":",":"+i)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return m(e,"scroll-","scroll-snap-")+e}return e}function Q(e,t){for(var n="",i=0;i<e.length;i++)n+=t(e[i],i,e,t)||"";return n}function Z(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case l:return e.return=e.return||e.value;case a:return"";case u:return e.return=e.value+"{"+Q(e.children,i)+"}";case s:if(!b(e.value=e.props.join(",")))return""}return b(n=Q(e.children,i))?e.return=e.value+"{"+n+"}":""}function J(e){var t=_(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}function $(e){return function(t){t.root||(t=t.return)&&e(t)}}function ee(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case l:return void(e.return=Y(e.value,e.length,n));case u:return Q([I(e,{value:m(e.value,"@","@"+o)})],r);case s:if(e.length)return k(n=e.props,(function(t){switch(p(t,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":R(I(e,{props:[m(t,/:(read-\w+)/,":-moz-$1")]})),R(I(e,{props:[t]})),d(e,{props:w(n,r)});break;case"::placeholder":R(I(e,{props:[m(t,/:(plac\w+)/,":"+o+"input-$1")]})),R(I(e,{props:[m(t,/:(plac\w+)/,":-moz-$1")]})),R(I(e,{props:[m(t,/:(plac\w+)/,i+"input-$1")]})),R(I(e,{props:[t]})),d(e,{props:w(n,r)})}return""}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(27);function r(e,t){if(e){if("string"===typeof e)return Object(i.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(i.a)(e,t):void 0}}},function(e,t,n){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,"a",(function(){return i}))},,function(e,t,n){"use strict";function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))r.call(n,c)&&(l[c]=n[c]);if(i){s=i(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(l[s[f]]=n[s[f]])}}return l}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var i=n(36);n.d(t,"a",(function(){return i.a})),n.d(t,"b",(function(){return i.b}))},function(e,t,n){"use strict";e.exports=n(65)},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(13),r=n(26);var o=n(29);function a(e,t,n){return(a=Object(o.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return(s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,Object(i.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(r.a)(o,e)})(e)}},,function(e,t,n){"use strict";(function(e){var i=n(19);n.d(t,"a",(function(){return i.a}));n(7);var r=n(0);n.d(t,"b",(function(){return r.g}));var o=Object(r.C)((function(t,n){function i(e){o.length||(r(),!0),o[o.length]=e}n.exports=i;var r,o=[],a=0;function s(){for(;a<o.length;){var e=a;if(a+=1,o[e].call(),a>1024){for(var t=0,n=o.length-a;t<n;t++)o[t]=o[t+a];o.length-=a,a=0}}o.length=0,a=0,!1}var l="undefined"!==typeof e?e:self,u=l.MutationObserver||l.WebKitMutationObserver;function c(e){return function(){var t=setTimeout(i,0),n=setInterval(i,50);function i(){clearTimeout(t),clearInterval(n),e()}}}r="function"===typeof u?function(e){var t=1,n=new u(e),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){t=-t,i.data=t}}(s):c(s),i.requestFlush=r,i.makeRequestCallFromTimer=c})),a=Object(r.C)((function(e,t){var n=o();function i(){}var r=null,a={};function s(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("Promise constructor's argument is not a function");this._U=0,this._V=0,this._W=null,this._X=null,e!==i&&h(e,this)}function l(e,t){for(;3===e._V;)e=e._W;if(s._Y&&s._Y(e),0===e._V)return 0===e._U?(e._U=1,void(e._X=t)):1===e._U?(e._U=2,void(e._X=[e._X,t])):void e._X.push(t);!function(e,t){n((function(){var n=1===e._V?t.onFulfilled:t.onRejected;if(null!==n){var i=function(e,t){try{return e(t)}catch(n){return r=n,a}}(n,e._W);i===a?c(t.promise,r):u(t.promise,i)}else 1===e._V?u(t.promise,e._W):c(t.promise,e._W)}))}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"===typeof t||"function"===typeof t)){var n=function(e){try{return e.then}catch(t){return r=t,a}}(t);if(n===a)return c(e,r);if(n===e.then&&t instanceof s)return e._V=3,e._W=t,void f(e);if("function"===typeof n)return void h(n.bind(t),e)}e._V=1,e._W=t,f(e)}function c(e,t){e._V=2,e._W=t,s._Z&&s._Z(e,t),f(e)}function f(e){if(1===e._U&&(l(e,e._X),e._X=null),2===e._U){for(var t=0;t<e._X.length;t++)l(e,e._X[t]);e._X=null}}function d(e,t,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.promise=n}function h(e,t){var n=!1,i=function(e,t,n){try{e(t,n)}catch(i){return r=i,a}}(e,(function(e){n||(n=!0,u(t,e))}),(function(e){n||(n=!0,c(t,e))}));n||i!==a||(n=!0,c(t,r))}t.exports=s,s._Y=null,s._Z=null,s._0=i,s.prototype.then=function(e,t){if(this.constructor!==s)return function(e,t,n){return new e.constructor((function(r,o){var a=new s(i);a.then(r,o),l(e,new d(t,n,a))}))}(this,e,t);var n=new s(i);return l(this,new d(e,t,n)),n}})),s=Object(r.C)((function(e){var t=a(),n=[ReferenceError,TypeError,RangeError],i=!1;function r(){i=!1,t._Y=null,t._Z=null}function o(e,t){return t.some((function(t){return e instanceof t}))}e.disable=r,e.enable=function(e){e=e||{},i&&r();i=!0;var a=0,s=0,l={};function u(t){(e.allRejections||o(l[t].error,e.whitelist||n))&&(l[t].displayId=s++,e.onUnhandled?(l[t].logged=!0,e.onUnhandled(l[t].displayId,l[t].error)):(l[t].logged=!0,function(e,t){console.warn("Possible Unhandled Promise Rejection (id: "+e+"):"),((t&&(t.stack||t))+"").split("\n").forEach((function(e){console.warn("  "+e)}))}(l[t].displayId,l[t].error)))}t._Y=function(t){2===t._V&&l[t._1]&&(l[t._1].logged?function(t){l[t].logged&&(e.onHandled?e.onHandled(l[t].displayId,l[t].error):l[t].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[t].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[t].displayId+".")))}(t._1):clearTimeout(l[t._1].timeout),delete l[t._1])},t._Z=function(e,t){0===e._U&&(e._1=a++,l[e._1]={displayId:null,error:t,timeout:setTimeout(u.bind(null,e._1),o(t,n)?100:2e3),logged:!1})}}})),l=Object(r.C)((function(e,t){var n=a();t.exports=n;var i=c(!0),r=c(!1),o=c(null),s=c(void 0),l=c(0),u=c("");function c(e){var t=new n(n._0);return t._V=1,t._W=e,t}n.resolve=function(e){if(e instanceof n)return e;if(null===e)return o;if(void 0===e)return s;if(!0===e)return i;if(!1===e)return r;if(0===e)return l;if(""===e)return u;if("object"===typeof e||"function"===typeof e)try{var t=e.then;if("function"===typeof t)return new n(t.bind(e))}catch(a){return new n((function(e,t){t(a)}))}return c(e)};var f=function(e){return"function"===typeof Array.from?(f=Array.from,Array.from(e)):(f=function(e){return Array.prototype.slice.call(e)},Array.prototype.slice.call(e))};n.all=function(e){var t=f(e);return new n((function(e,i){if(0===t.length)return e([]);var r=t.length;function o(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof n&&s.then===n.prototype.then){for(;3===s._V;)s=s._W;return 1===s._V?o(a,s._W):(2===s._V&&i(s._W),void s.then((function(e){o(a,e)}),i))}var l=s.then;if("function"===typeof l)return void new n(l.bind(s)).then((function(e){o(a,e)}),i)}t[a]=s,0===--r&&e(t)}for(var a=0;a<t.length;a++)o(a,t[a])}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,i){f(e).forEach((function(e){n.resolve(e).then(t,i)}))}))},n.prototype.catch=function(e){return this.then(null,e)}})),u=Object(r.C)((function(e,t){!function(i,r){"object"===typeof e&&"undefined"!==typeof t?r(e):"function"===typeof define&&n(66)?define(["exports"],r):r(i.WHATWGFetch={})}(e,(function(e){var t="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof t&&t,n="URLSearchParams"in t,i="Symbol"in t&&"iterator"in Symbol,r="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in t,a="ArrayBuffer"in t;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!==typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:r&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&r&&function(e){return e&&DataView.prototype.isPrototypeOf(e)}(e)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=h(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(m)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=p(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=u(e),t=c(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=c(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},i&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=function(e){var t=e.toUpperCase();return v.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function x(e){var t=new d;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();t.append(i,r)}})),t}function k(e,t){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];k.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(S){e.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function O(n,i){return new Promise((function(o,s){var l=new b(n,i);if(l.signal&&l.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var u=new XMLHttpRequest;function f(){u.abort()}u.onload=function(){var e={status:u.status,statusText:u.statusText,headers:x(u.getAllResponseHeaders()||"")};e.url="responseURL"in u?u.responseURL:e.headers.get("X-Request-URL");var t="response"in u?u.response:u.responseText;setTimeout((function(){o(new k(t,e))}),0)},u.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){s(new e.DOMException("Aborted","AbortError"))}),0)},u.open(l.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(n){return e}}(l.url),!0),"include"===l.credentials?u.withCredentials=!0:"omit"===l.credentials&&(u.withCredentials=!1),"responseType"in u&&(r?u.responseType="blob":a&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!i||"object"!==typeof i.headers||i.headers instanceof d?l.headers.forEach((function(e,t){u.setRequestHeader(t,e)})):Object.getOwnPropertyNames(i.headers).forEach((function(e){u.setRequestHeader(e,c(i.headers[e]))})),l.signal&&(l.signal.addEventListener("abort",f),u.onreadystatechange=function(){4===u.readyState&&l.signal.removeEventListener("abort",f)}),u.send("undefined"===typeof l._bodyInit?null:l._bodyInit)}))}O.polyfill=!0,t.fetch||(t.fetch=O,t.Headers=d,t.Request=b,t.Response=k),e.Headers=d,e.Request=b,e.Response=k,e.fetch=O,Object.defineProperty(e,"__esModule",{value:!0})}))})),c=Object(r.C)((function(e,t){var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}t.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var a,s,l=o(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))i.call(a,c)&&(l[c]=a[c]);if(n){s=n(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(l[s[f]]=a[s[f]])}}return l}})),f=Object(r.C)((function(t,n){var i=function(e){return e&&e.Math==Math&&e};n.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||Function("return this")()})),d=Object(r.C)((function(e,t){t.exports=function(e){try{return!!e()}catch(t){return!0}}})),h=Object(r.C)((function(e,t){var n=d();t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))})),p=Object(r.C)((function(e){var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,i=n&&!t.call({1:2},1);e.f=i?function(e){var t=n(this,e);return!!t&&t.enumerable}:t})),m=Object(r.C)((function(e,t){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}})),g=Object(r.C)((function(e,t){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}})),y=Object(r.C)((function(e,t){var n=d(),i=g(),r="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?r.call(e,""):Object(e)}:Object})),v=Object(r.C)((function(e,t){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}})),b=Object(r.C)((function(e,t){var n=y(),i=v();t.exports=function(e){return n(i(e))}})),_=Object(r.C)((function(e,t){t.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}})),x=Object(r.C)((function(e,t){var n=_();t.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}})),k=Object(r.C)((function(e,t){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}})),w=Object(r.C)((function(e,t){var n=f(),i=_(),r=n.document,o=i(r)&&i(r.createElement);t.exports=function(e){return o?r.createElement(e):{}}})),O=Object(r.C)((function(e,t){var n=h(),i=d(),r=w();t.exports=!n&&!i((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))})),S=Object(r.C)((function(e){var t=h(),n=p(),i=m(),r=b(),o=x(),a=k(),s=O(),l=Object.getOwnPropertyDescriptor;e.f=t?l:function(e,t){if(e=r(e),t=o(t,!0),s)try{return l(e,t)}catch(u){}if(a(e,t))return i(!n.f.call(e,t),e[t])}})),C=Object(r.C)((function(e,t){var n=_();t.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}})),j=Object(r.C)((function(e){var t=h(),n=O(),i=C(),r=x(),o=Object.defineProperty;e.f=t?o:function(e,t,a){if(i(e),t=r(t,!0),i(a),n)try{return o(e,t,a)}catch(s){}if("get"in a||"set"in a)throw TypeError("Accessors not supported");return"value"in a&&(e[t]=a.value),e}})),T=Object(r.C)((function(e,t){var n=h(),i=j(),r=m();t.exports=n?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}})),E=Object(r.C)((function(e,t){var n=f(),i=T();t.exports=function(e,t){try{i(n,e,t)}catch(r){n[e]=t}return t}})),D=Object(r.C)((function(e,t){var n=f(),i=E(),r="__core-js_shared__",o=n[r]||i(r,{});t.exports=o})),I=Object(r.C)((function(e,t){var n=D(),i=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return i.call(e)}),t.exports=n.inspectSource})),R=Object(r.C)((function(e,t){var n=f(),i=I(),r=n.WeakMap;t.exports="function"===typeof r&&/native code/.test(i(r))})),F=Object(r.C)((function(e,t){t.exports=!1})),A=Object(r.C)((function(e,t){var n=F(),i=D();(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})})),M=Object(r.C)((function(e,t){var n=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}})),P=Object(r.C)((function(e,t){var n=A(),i=M(),r=n("keys");t.exports=function(e){return r[e]||(r[e]=i(e))}})),z=Object(r.C)((function(e,t){t.exports={}})),B=Object(r.C)((function(e,t){var n,i,r,o,a,s,l,u,c=R(),d=f(),h=_(),p=T(),m=k(),g=P(),y=z(),v=d.WeakMap;c?(o=new v,a=o.get,s=o.has,l=o.set,n=function(e,t){return l.call(o,e,t),t},i=function(e){return a.call(o,e)||{}},r=function(e){return s.call(o,e)}):(y[u=g("state")]=!0,n=function(e,t){return p(e,u,t),t},i=function(e){return m(e,u)?e[u]:{}},r=function(e){return m(e,u)}),t.exports={set:n,get:i,has:r,enforce:function(e){return r(e)?i(e):n(e,{})},getterFor:function(e){return function(t){var n;if(!h(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}})),L=Object(r.C)((function(e,t){var n=f(),i=T(),r=k(),o=E(),a=I(),s=B(),l=s.get,u=s.enforce,c=String(String).split("String");(t.exports=function(e,t,a,s){var l=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof a&&("string"!=typeof t||r(a,"name")||i(a,"name",t),u(a).source=c.join("string"==typeof t?t:"")),e!==n?(l?!d&&e[t]&&(f=!0):delete e[t],f?e[t]=a:i(e,t,a)):f?e[t]=a:o(t,a)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||a(this)}))})),N=Object(r.C)((function(e,t){var n=f();t.exports=n})),U=Object(r.C)((function(e,t){var n=N(),i=f(),r=function(e){return"function"==typeof e?e:void 0};t.exports=function(e,t){return arguments.length<2?r(n[e])||r(i[e]):n[e]&&n[e][t]||i[e]&&i[e][t]}})),G=Object(r.C)((function(e,t){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}})),H=Object(r.C)((function(e,t){var n=G(),i=Math.min;t.exports=function(e){return e>0?i(n(e),9007199254740991):0}})),W=Object(r.C)((function(e,t){var n=G(),i=Math.max,r=Math.min;t.exports=function(e,t){var o=n(e);return o<0?i(o+t,0):r(o,t)}})),V=Object(r.C)((function(e,t){var n=b(),i=H(),r=W(),o=function(e){return function(t,o,a){var s,l=n(t),u=i(l.length),c=r(a,u);if(e&&o!=o){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===o)return e||c||0;return!e&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}})),q=Object(r.C)((function(e,t){var n=k(),i=b(),r=V().indexOf,o=z();t.exports=function(e,t){var a,s=i(e),l=0,u=[];for(a in s)!n(o,a)&&n(s,a)&&u.push(a);for(;t.length>l;)n(s,a=t[l++])&&(~r(u,a)||u.push(a));return u}})),K=Object(r.C)((function(e,t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]})),X=Object(r.C)((function(e){var t=q(),n=K().concat("length","prototype");e.f=Object.getOwnPropertyNames||function(e){return t(e,n)}})),Y=Object(r.C)((function(e){e.f=Object.getOwnPropertySymbols})),Q=Object(r.C)((function(e,t){var n=U(),i=X(),r=Y(),o=C();t.exports=n("Reflect","ownKeys")||function(e){var t=i.f(o(e)),n=r.f;return n?t.concat(n(e)):t}})),Z=Object(r.C)((function(e,t){var n=k(),i=Q(),r=S(),o=j();t.exports=function(e,t){for(var a=i(t),s=o.f,l=r.f,u=0;u<a.length;u++){var c=a[u];n(e,c)||s(e,c,l(t,c))}}})),J=Object(r.C)((function(e,t){var n=d(),i=/#|\.prototype\./,r=function(e,t){var i=a[o(e)];return i==l||i!=s&&("function"==typeof t?n(t):!!t)},o=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},a=r.data={},s=r.NATIVE="N",l=r.POLYFILL="P";t.exports=r})),$=Object(r.C)((function(e,t){var n=f(),i=S().f,r=T(),o=L(),a=E(),s=Z(),l=J();t.exports=function(e,t){var u,c,f,d,h,p=e.target,m=e.global,g=e.stat;if(u=m?n:g?n[p]||a(p,{}):(n[p]||{}).prototype)for(c in t){if(d=t[c],f=e.noTargetGet?(h=i(u,c))&&h.value:u[c],!l(m?c:p+(g?".":"#")+c,e.forced)&&void 0!==f){if(typeof d===typeof f)continue;s(d,f)}(e.sham||f&&f.sham)&&r(d,"sham",!0),o(u,c,d,e)}}})),ee=Object(r.C)((function(e,t){var n=g();t.exports=Array.isArray||function(e){return"Array"==n(e)}})),te=Object(r.C)((function(e,t){var n=v();t.exports=function(e){return Object(n(e))}})),ne=Object(r.C)((function(e,t){var n=x(),i=j(),r=m();t.exports=function(e,t,o){var a=n(t);a in e?i.f(e,a,r(0,o)):e[a]=o}})),ie=Object(r.C)((function(e,t){var n=d();t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))})),re=Object(r.C)((function(e,t){var n=ie();t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator})),oe=Object(r.C)((function(e,t){var n=f(),i=A(),r=k(),o=M(),a=ie(),s=re(),l=i("wks"),u=n.Symbol,c=s?u:u&&u.withoutSetter||o;t.exports=function(e){return r(l,e)||(a&&r(u,e)?l[e]=u[e]:l[e]=c("Symbol."+e)),l[e]}})),ae=Object(r.C)((function(e,t){var n=_(),i=ee(),r=oe()("species");t.exports=function(e,t){var o;return i(e)&&("function"!=typeof(o=e.constructor)||o!==Array&&!i(o.prototype)?n(o)&&null===(o=o[r])&&(o=void 0):o=void 0),new(void 0===o?Array:o)(0===t?0:t)}})),se=Object(r.C)((function(e,t){var n=U();t.exports=n("navigator","userAgent")||""})),le=Object(r.C)((function(e,t){var n,i,r=f(),o=se(),a=r.process,s=a&&a.versions,l=s&&s.v8;l?i=(n=l.split("."))[0]+n[1]:o&&(!(n=o.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i})),ue=Object(r.C)((function(e,t){var n=d(),i=oe(),r=le(),o=i("species");t.exports=function(e){return r>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}})),ce=Object(r.C)((function(){var e=$(),t=d(),n=ee(),i=_(),r=te(),o=H(),a=ne(),s=ae(),l=ue(),u=oe(),c=le(),f=u("isConcatSpreadable"),h=9007199254740991,p="Maximum allowed index exceeded",m=c>=51||!t((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),g=l("concat"),y=function(e){if(!i(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)};e({target:"Array",proto:!0,forced:!m||!g},{concat:function(e){var t,n,i,l,u,c=r(this),f=s(c,0),d=0;for(t=-1,i=arguments.length;t<i;t++)if(u=-1===t?c:arguments[t],y(u)){if(d+(l=o(u.length))>h)throw TypeError(p);for(n=0;n<l;n++,d++)n in u&&a(f,d,u[n])}else{if(d>=h)throw TypeError(p);a(f,d++,u)}return f.length=d,f}})})),fe=Object(r.C)((function(e,t){var n={};n[oe()("toStringTag")]="z",t.exports="[object z]"===String(n)})),de=Object(r.C)((function(e,t){var n=fe(),i=g(),r=oe()("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=n?i:function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),r))?n:o?i(t):"Object"==(a=i(t))&&"function"==typeof t.callee?"Arguments":a}})),he=Object(r.C)((function(e,t){var n=fe(),i=de();t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}})),pe=Object(r.C)((function(){var e=fe(),t=L(),n=he();e||t(Object.prototype,"toString",n,{unsafe:!0})})),me=Object(r.C)((function(e,t){var n=q(),i=K();t.exports=Object.keys||function(e){return n(e,i)}})),ge=Object(r.C)((function(e,t){var n=h(),i=j(),r=C(),o=me();t.exports=n?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,l=0;s>l;)i.f(e,n=a[l++],t[n]);return e}})),ye=Object(r.C)((function(e,t){var n=U();t.exports=n("document","documentElement")})),ve=Object(r.C)((function(e,t){var n,i=C(),r=ge(),o=K(),a=z(),s=ye(),l=w(),u=P(),c="prototype",f="script",d=u("IE_PROTO"),h=function(){},p=function(e){return"<script>"+e+"</"+f+">"},m=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(t){}m=n?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):function(){var e,t=l("iframe");return t.style.display="none",s.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F}();for(var e=o.length;e--;)delete m[c][o[e]];return m()};a[d]=!0,t.exports=Object.create||function(e,t){var n;return null!==e?(h[c]=i(e),n=new h,h[c]=null,n[d]=e):n=m(),void 0===t?n:r(n,t)}})),be=Object(r.C)((function(e,t){var n=b(),i=X().f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return o&&"[object Window]"==r.call(e)?function(t){try{return i(t)}catch(e){return o.slice()}}(e):i(n(e))}})),_e=Object(r.C)((function(e){var t=oe();e.f=t})),xe=Object(r.C)((function(e,t){var n=N(),i=k(),r=_e(),o=j().f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||o(t,e,{value:r.f(e)})}})),ke=Object(r.C)((function(e,t){var n=j().f,i=k(),r=oe()("toStringTag");t.exports=function(e,t,o){e&&!i(e=o?e:e.prototype,r)&&n(e,r,{configurable:!0,value:t})}})),we=Object(r.C)((function(e,t){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}})),Oe=Object(r.C)((function(e,t){var n=we();t.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}})),Se=Object(r.C)((function(e,t){var n=Oe(),i=y(),r=te(),o=H(),a=ae(),s=[].push,l=function(e){var t=1==e,l=2==e,u=3==e,c=4==e,f=6==e,d=5==e||f;return function(h,p,m,g){for(var y,v,b=r(h),_=i(b),x=n(p,m,3),k=o(_.length),w=0,O=g||a,S=t?O(h,k):l?O(h,0):void 0;k>w;w++)if((d||w in _)&&(v=x(y=_[w],w,b),e))if(t)S[w]=v;else if(v)switch(e){case 3:return!0;case 5:return y;case 6:return w;case 2:s.call(S,y)}else if(c)return!1;return f?-1:u||c?c:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}})),Ce=Object(r.C)((function(){var e=$(),t=f(),n=U(),i=F(),r=h(),o=ie(),a=re(),s=d(),l=k(),u=ee(),c=_(),g=C(),y=te(),v=b(),w=x(),O=m(),E=ve(),D=me(),I=X(),R=be(),N=Y(),G=S(),H=j(),W=p(),V=T(),q=L(),K=A(),Q=P(),Z=z(),J=M(),ne=oe(),ae=_e(),se=xe(),le=ke(),ue=B(),ce=Se().forEach,fe=Q("hidden"),de="Symbol",he="prototype",pe=ne("toPrimitive"),ge=ue.set,ye=ue.getterFor(de),we=Object[he],Oe=t.Symbol,Ce=n("JSON","stringify"),je=G.f,Te=H.f,Ee=R.f,De=W.f,Ie=K("symbols"),Re=K("op-symbols"),Fe=K("string-to-symbol-registry"),Ae=K("symbol-to-string-registry"),Me=K("wks"),Pe=t.QObject,ze=!Pe||!Pe[he]||!Pe[he].findChild,Be=r&&s((function(){return 7!=E(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=je(we,t);i&&delete we[t],Te(e,t,n),i&&e!==we&&Te(we,t,i)}:Te,Le=function(e,t){var n=Ie[e]=E(Oe[he]);return ge(n,{type:de,tag:e,description:t}),r||(n.description=t),n},Ne=a?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Oe},Ue=function(e,t,n){e===we&&Ue(Re,t,n),g(e);var i=w(t,!0);return g(n),l(Ie,i)?(n.enumerable?(l(e,fe)&&e[fe][i]&&(e[fe][i]=!1),n=E(n,{enumerable:O(0,!1)})):(l(e,fe)||Te(e,fe,O(1,{})),e[fe][i]=!0),Be(e,i,n)):Te(e,i,n)},Ge=function(e,t){g(e);var n=v(t),i=D(n).concat(qe(n));return ce(i,(function(t){r&&!He.call(n,t)||Ue(e,t,n[t])})),e},He=function(e){var t=w(e,!0),n=De.call(this,t);return!(this===we&&l(Ie,t)&&!l(Re,t))&&(!(n||!l(this,t)||!l(Ie,t)||l(this,fe)&&this[fe][t])||n)},We=function(e,t){var n=v(e),i=w(t,!0);if(n!==we||!l(Ie,i)||l(Re,i)){var r=je(n,i);return!r||!l(Ie,i)||l(n,fe)&&n[fe][i]||(r.enumerable=!0),r}},Ve=function(e){var t=Ee(v(e)),n=[];return ce(t,(function(e){l(Ie,e)||l(Z,e)||n.push(e)})),n},qe=function(e){var t=e===we,n=Ee(t?Re:v(e)),i=[];return ce(n,(function(e){!l(Ie,e)||t&&!l(we,e)||i.push(Ie[e])})),i};o||(q((Oe=function(){if(this instanceof Oe)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=J(e),n=function e(n){this===we&&e.call(Re,n),l(this,fe)&&l(this[fe],t)&&(this[fe][t]=!1),Be(this,t,O(1,n))};return r&&ze&&Be(we,t,{configurable:!0,set:n}),Le(t,e)})[he],"toString",(function(){return ye(this).tag})),q(Oe,"withoutSetter",(function(e){return Le(J(e),e)})),W.f=He,H.f=Ue,G.f=We,I.f=R.f=Ve,N.f=qe,ae.f=function(e){return Le(ne(e),e)},r&&(Te(Oe[he],"description",{configurable:!0,get:function(){return ye(this).description}}),i||q(we,"propertyIsEnumerable",He,{unsafe:!0}))),e({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Oe}),ce(D(Me),(function(e){se(e)})),e({target:de,stat:!0,forced:!o},{for:function(e){var t=String(e);if(l(Fe,t))return Fe[t];var n=Oe(t);return Fe[t]=n,Ae[n]=t,n},keyFor:function(e){if(!Ne(e))throw TypeError(e+" is not a symbol");if(l(Ae,e))return Ae[e]},useSetter:function(){ze=!0},useSimple:function(){ze=!1}}),e({target:"Object",stat:!0,forced:!o,sham:!r},{create:function(e,t){return void 0===t?E(e):Ge(E(e),t)},defineProperty:Ue,defineProperties:Ge,getOwnPropertyDescriptor:We}),e({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ve,getOwnPropertySymbols:qe}),e({target:"Object",stat:!0,forced:s((function(){N.f(1)}))},{getOwnPropertySymbols:function(e){return N.f(y(e))}}),Ce&&e({target:"JSON",stat:!0,forced:!o||s((function(){var e=Oe();return"[null]"!=Ce([e])||"{}"!=Ce({a:e})||"{}"!=Ce(Object(e))}))},{stringify:function(e,t,n){for(var i,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(i=t,(c(t)||void 0!==e)&&!Ne(e))return u(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!Ne(t))return t}),r[1]=t,Ce.apply(null,r)}}),Oe[he][pe]||V(Oe[he],pe,Oe[he].valueOf),le(Oe,de),Z[fe]=!0})),je=Object(r.C)((function(){xe()("asyncIterator")})),Te=Object(r.C)((function(){var e,t,n,i,r,o,a=$(),s=h(),l=f(),u=k(),c=_(),d=j().f,p=Z(),m=l.Symbol;!s||"function"!=typeof m||"description"in m.prototype&&void 0===m().description||(e={},p(t=function(){var n=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),i=this instanceof t?new m(n):void 0===n?m():m(n);return""===n&&(e[i]=!0),i},m),(n=t.prototype=m.prototype).constructor=t,i=n.toString,r="Symbol(test)"==String(m("test")),o=/^Symbol\((.*)\)[^)]+$/,d(n,"description",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,n=i.call(t);if(u(e,t))return"";var a=r?n.slice(7,-1):n.replace(o,"$1");return""===a?void 0:a}}),a({global:!0,forced:!0},{Symbol:t}))})),Ee=Object(r.C)((function(){xe()("hasInstance")})),De=Object(r.C)((function(){xe()("isConcatSpreadable")})),Ie=Object(r.C)((function(){xe()("iterator")})),Re=Object(r.C)((function(){xe()("match")})),Fe=Object(r.C)((function(){xe()("matchAll")})),Ae=Object(r.C)((function(){xe()("replace")})),Me=Object(r.C)((function(){xe()("search")})),Pe=Object(r.C)((function(){xe()("species")})),ze=Object(r.C)((function(){xe()("split")})),Be=Object(r.C)((function(){xe()("toPrimitive")})),Le=Object(r.C)((function(){xe()("toStringTag")})),Ne=Object(r.C)((function(){xe()("unscopables")})),Ue=Object(r.C)((function(){ke()(Math,"Math",!0)})),Ge=Object(r.C)((function(){var e=f();ke()(e.JSON,"JSON",!0)})),He=Object(r.C)((function(e,t){ce(),pe(),Ce(),je(),Te(),Ee(),De(),Ie(),Re(),Fe(),Ae(),Me(),Pe(),ze(),Be(),Le(),Ne(),Ue(),Ge();var n=N();t.exports=n.Symbol})),We=Object(r.C)((function(){xe()("asyncDispose")})),Ve=Object(r.C)((function(){xe()("dispose")})),qe=Object(r.C)((function(){xe()("observable")})),Ke=Object(r.C)((function(){xe()("patternMatch")})),Xe=Object(r.C)((function(){xe()("replaceAll")})),Ye=Object(r.C)((function(e,t){var n=He();We(),Ve(),qe(),Ke(),Xe(),t.exports=n})),Qe=Object(r.C)((function(e,t){var n=G(),i=v(),r=function(e){return function(t,r){var o,a,s=String(i(t)),l=n(r),u=s.length;return l<0||l>=u?e?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):o:e?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:r(!1),charAt:r(!0)}})),Ze=Object(r.C)((function(e,t){var n=d();t.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))})),Je=Object(r.C)((function(e,t){var n=k(),i=te(),r=P(),o=Ze(),a=r("IE_PROTO"),s=Object.prototype;t.exports=o?Object.getPrototypeOf:function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}})),$e=Object(r.C)((function(e,t){var n,i,r,o=Je(),a=T(),s=k(),l=oe(),u=F(),c=l("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(i=o(o(r)))!==Object.prototype&&(n=i):f=!0),void 0==n&&(n={}),u||s(n,c)||a(n,c,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:f}})),et=Object(r.C)((function(e,t){t.exports={}})),tt=Object(r.C)((function(e,t){var n=$e().IteratorPrototype,i=ve(),r=m(),o=ke(),a=et(),s=function(){return this};t.exports=function(e,t,l){var u=t+" Iterator";return e.prototype=i(n,{next:r(1,l)}),o(e,u,!1,!0),a[u]=s,e}})),nt=Object(r.C)((function(e,t){var n=_();t.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}})),it=Object(r.C)((function(e,t){var n=C(),i=nt();t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(o){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)})),rt=Object(r.C)((function(e,t){var n=$(),i=tt(),r=Je(),o=it(),a=ke(),s=T(),l=L(),u=oe(),c=F(),f=et(),d=$e(),h=d.IteratorPrototype,p=d.BUGGY_SAFARI_ITERATORS,m=u("iterator"),g="values",y="entries",v=function(){return this};t.exports=function(e,t,u,d,b,_,x){i(u,t,d);var k,w,O,S=function(e){if(e===b&&D)return D;if(!p&&e in T)return T[e];switch(e){case"keys":case g:case y:return function(){return new u(this,e)}}return function(){return new u(this)}},C=t+" Iterator",j=!1,T=e.prototype,E=T[m]||T["@@iterator"]||b&&T[b],D=!p&&E||S(b),I="Array"==t&&T.entries||E;if(I&&(k=r(I.call(new e)),h!==Object.prototype&&k.next&&(c||r(k)===h||(o?o(k,h):"function"!=typeof k[m]&&s(k,m,v)),a(k,C,!0,!0),c&&(f[C]=v))),b==g&&E&&E.name!==g&&(j=!0,D=function(){return E.call(this)}),c&&!x||T[m]===D||s(T,m,D),f[t]=D,b)if(w={values:S(g),keys:_?D:S("keys"),entries:S(y)},x)for(O in w)(p||j||!(O in T))&&l(T,O,w[O]);else n({target:t,proto:!0,forced:p||j},w);return w}})),ot=Object(r.C)((function(){var e=Qe().charAt,t=B(),n=rt(),i="String Iterator",r=t.set,o=t.getterFor(i);n(String,"String",(function(e){r(this,{type:i,string:String(e),index:0})}),(function(){var t,n=o(this),i=n.string,r=n.index;return r>=i.length?{value:void 0,done:!0}:(t=e(i,r),n.index+=t.length,{value:t,done:!1})}))})),at=Object(r.C)((function(e,t){var n=C();t.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(a){var o=e.return;throw void 0!==o&&n(o.call(e)),a}}})),st=Object(r.C)((function(e,t){var n=oe(),i=et(),r=n("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}})),lt=Object(r.C)((function(e,t){var n=de(),i=et(),r=oe()("iterator");t.exports=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||i[n(e)]}})),ut=Object(r.C)((function(e,t){var n=Oe(),i=te(),r=at(),o=st(),a=H(),s=ne(),l=lt();t.exports=function(e){var t,u,c,f,d,h,p=i(e),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,b=l(p),_=0;if(v&&(y=n(y,g>2?arguments[2]:void 0,2)),void 0==b||m==Array&&o(b))for(u=new m(t=a(p.length));t>_;_++)h=v?y(p[_],_):p[_],s(u,_,h);else for(d=(f=b.call(p)).next,u=new m;!(c=d.call(f)).done;_++)h=v?r(f,y,[c.value,_],!0):c.value,s(u,_,h);return u.length=_,u}})),ct=Object(r.C)((function(e,t){var n,i,r=oe()("iterator"),o=!1;try{n=0,(i={next:function(){return{done:!!n++}},return:function(){o=!0}})[r]=function(){return this},Array.from(i,(function(){throw 2}))}catch(a){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(a){}return n}})),ft=Object(r.C)((function(){var e=$(),t=ut();e({target:"Array",stat:!0,forced:!ct()((function(e){Array.from(e)}))},{from:t})})),dt=Object(r.C)((function(e,t){ot(),ft();var n=N();t.exports=n.Array.from})),ht=Object(r.C)((function(e,t){var n=dt();t.exports=n})),pt=Object(r.C)((function(e,t){var n=h(),i=d(),r=me(),o=Y(),a=p(),s=te(),l=y(),u=Object.assign,c=Object.defineProperty;t.exports=!u||i((function(){if(n&&1!==u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),o="abcdefghijklmnopqrst";return e[i]=7,o.split("").forEach((function(e){t[e]=e})),7!=u({},e)[i]||r(u({},t)).join("")!=o}))?function(e,t){for(var i=s(e),u=arguments.length,c=1,f=o.f,d=a.f;u>c;)for(var h,p=l(arguments[c++]),m=f?r(p).concat(f(p)):r(p),g=m.length,y=0;g>y;)h=m[y++],n&&!d.call(p,h)||(i[h]=p[h]);return i}:u})),mt=Object(r.C)((function(){var e=$(),t=pt();e({target:"Object",stat:!0,forced:Object.assign!==t},{assign:t})})),gt=Object(r.C)((function(){$()({target:"Object",stat:!0,sham:!h()},{create:ve()})})),yt=Object(r.C)((function(){var e=$(),t=h();e({target:"Object",stat:!0,forced:!t,sham:!t},{defineProperty:j().f})})),vt=Object(r.C)((function(){var e=$(),t=h();e({target:"Object",stat:!0,forced:!t,sham:!t},{defineProperties:ge()})})),bt=Object(r.C)((function(e,t){var n=h(),i=me(),r=b(),o=p().f,a=function(e){return function(t){for(var a,s=r(t),l=i(s),u=l.length,c=0,f=[];u>c;)a=l[c++],n&&!o.call(s,a)||f.push(e?[a,s[a]]:s[a]);return f}};t.exports={entries:a(!0),values:a(!1)}})),_t=Object(r.C)((function(){var e=$(),t=bt().entries;e({target:"Object",stat:!0},{entries:function(e){return t(e)}})})),xt=Object(r.C)((function(e,t){var n=d();t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))})),kt=Object(r.C)((function(e,t){var n=z(),i=_(),r=k(),o=j().f,a=M(),s=xt(),l=a("meta"),u=0,c=Object.isExtensible||function(){return!0},f=function(e){o(e,l,{value:{objectID:"O"+ ++u,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!r(e,l)){if(!c(e))return"F";if(!t)return"E";f(e)}return e[l].objectID},getWeakData:function(e,t){if(!r(e,l)){if(!c(e))return!0;if(!t)return!1;f(e)}return e[l].weakData},onFreeze:function(e){return s&&d.REQUIRED&&c(e)&&!r(e,l)&&f(e),e}};n[l]=!0})),wt=Object(r.C)((function(){var e=$(),t=xt(),n=d(),i=_(),r=kt().onFreeze,o=Object.freeze;e({target:"Object",stat:!0,forced:n((function(){o(1)})),sham:!t},{freeze:function(e){return o&&i(e)?o(r(e)):e}})})),Ot=Object(r.C)((function(e,t){var n=C(),i=st(),r=H(),o=Oe(),a=lt(),s=at(),l=function(e,t){this.stopped=e,this.result=t};(t.exports=function(e,t,u,c,f){var d,h,p,m,g,y,v,b=o(t,u,c?2:1);if(f)d=e;else{if("function"!=typeof(h=a(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,m=r(e.length);m>p;p++)if((g=c?b(n(v=e[p])[0],v[1]):b(e[p]))&&g instanceof l)return g;return new l(!1)}d=h.call(e)}for(y=d.next;!(v=y.call(d)).done;)if("object"==typeof(g=s(d,b,v.value,c))&&g&&g instanceof l)return g;return new l(!1)}).stop=function(e){return new l(!0,e)}})),St=Object(r.C)((function(){var e=$(),t=Ot(),n=ne();e({target:"Object",stat:!0},{fromEntries:function(e){var i={};return t(e,(function(e,t){n(i,e,t)}),void 0,!0),i}})})),Ct=Object(r.C)((function(){var e=$(),t=d(),n=b(),i=S().f,r=h(),o=t((function(){i(1)}));e({target:"Object",stat:!0,forced:!r||o,sham:!r},{getOwnPropertyDescriptor:function(e,t){return i(n(e),t)}})})),jt=Object(r.C)((function(){var e=$(),t=h(),n=Q(),i=b(),r=S(),o=ne();e({target:"Object",stat:!0,sham:!t},{getOwnPropertyDescriptors:function(e){for(var t,a,s=i(e),l=r.f,u=n(s),c={},f=0;u.length>f;)void 0!==(a=l(s,t=u[f++]))&&o(c,t,a);return c}})})),Tt=Object(r.C)((function(){var e=$(),t=d(),n=be().f;e({target:"Object",stat:!0,forced:t((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:n})})),Et=Object(r.C)((function(){var e=$(),t=d(),n=te(),i=Je(),r=Ze();e({target:"Object",stat:!0,forced:t((function(){i(1)})),sham:!r},{getPrototypeOf:function(e){return i(n(e))}})})),Dt=Object(r.C)((function(e,t){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}})),It=Object(r.C)((function(){$()({target:"Object",stat:!0},{is:Dt()})})),Rt=Object(r.C)((function(){var e=$(),t=d(),n=_(),i=Object.isExtensible;e({target:"Object",stat:!0,forced:t((function(){i(1)}))},{isExtensible:function(e){return!!n(e)&&(!i||i(e))}})})),Ft=Object(r.C)((function(){var e=$(),t=d(),n=_(),i=Object.isFrozen;e({target:"Object",stat:!0,forced:t((function(){i(1)}))},{isFrozen:function(e){return!n(e)||!!i&&i(e)}})})),At=Object(r.C)((function(){var e=$(),t=d(),n=_(),i=Object.isSealed;e({target:"Object",stat:!0,forced:t((function(){i(1)}))},{isSealed:function(e){return!n(e)||!!i&&i(e)}})})),Mt=Object(r.C)((function(){var e=$(),t=te(),n=me();e({target:"Object",stat:!0,forced:d()((function(){n(1)}))},{keys:function(e){return n(t(e))}})})),Pt=Object(r.C)((function(){var e=$(),t=_(),n=kt().onFreeze,i=xt(),r=d(),o=Object.preventExtensions;e({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!i},{preventExtensions:function(e){return o&&t(e)?o(n(e)):e}})})),zt=Object(r.C)((function(){var e=$(),t=_(),n=kt().onFreeze,i=xt(),r=d(),o=Object.seal;e({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!i},{seal:function(e){return o&&t(e)?o(n(e)):e}})})),Bt=Object(r.C)((function(){$()({target:"Object",stat:!0},{setPrototypeOf:it()})})),Lt=Object(r.C)((function(){var e=$(),t=bt().values;e({target:"Object",stat:!0},{values:function(e){return t(e)}})})),Nt=Object(r.C)((function(e,t){var n=F(),i=f(),r=d();t.exports=n||!r((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}))})),Ut=Object(r.C)((function(){var e=$(),t=h(),n=Nt(),i=te(),r=we(),o=j();t&&e({target:"Object",proto:!0,forced:n},{__defineGetter__:function(e,t){o.f(i(this),e,{get:r(t),enumerable:!0,configurable:!0})}})})),Gt=Object(r.C)((function(){var e=$(),t=h(),n=Nt(),i=te(),r=we(),o=j();t&&e({target:"Object",proto:!0,forced:n},{__defineSetter__:function(e,t){o.f(i(this),e,{set:r(t),enumerable:!0,configurable:!0})}})})),Ht=Object(r.C)((function(){var e=$(),t=h(),n=Nt(),i=te(),r=x(),o=Je(),a=S().f;t&&e({target:"Object",proto:!0,forced:n},{__lookupGetter__:function(e){var t,n=i(this),s=r(e,!0);do{if(t=a(n,s))return t.get}while(n=o(n))}})})),Wt=Object(r.C)((function(){var e=$(),t=h(),n=Nt(),i=te(),r=x(),o=Je(),a=S().f;t&&e({target:"Object",proto:!0,forced:n},{__lookupSetter__:function(e){var t,n=i(this),s=r(e,!0);do{if(t=a(n,s))return t.set}while(n=o(n))}})})),Vt=Object(r.C)((function(e,t){var n=we(),i=_(),r=[].slice,o={},a=function(e,t,n){if(!(t in o)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";o[t]=Function("C,a","return new C("+i.join(",")+")")}return o[t](e,n)};t.exports=Function.bind||function(e){var t=n(this),o=r.call(arguments,1),s=function(){var n=o.concat(r.call(arguments));return this instanceof s?a(t,n.length,n):t.apply(e,n)};return i(t.prototype)&&(s.prototype=t.prototype),s}})),qt=Object(r.C)((function(){$()({target:"Function",proto:!0},{bind:Vt()})})),Kt=Object(r.C)((function(){var e=h(),t=j().f,n=Function.prototype,i=n.toString,r=/^\s*function ([^ (]*)/;e&&!("name"in n)&&t(n,"name",{configurable:!0,get:function(){try{return i.call(this).match(r)[1]}catch(e){return""}}})})),Xt=Object(r.C)((function(){var e=_(),t=j(),n=Je(),i=oe()("hasInstance"),r=Function.prototype;i in r||t.f(r,i,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=n(t);)if(this.prototype===t)return!0;return!1}})})),Yt=Object(r.C)((function(){$()({global:!0},{globalThis:f()})})),Qt=Object(r.C)((function(){$()({target:"Array",stat:!0},{isArray:ee()})})),Zt=Object(r.C)((function(){var e=$(),t=d(),n=ne();e({target:"Array",stat:!0,forced:t((function(){function e(){}return!(Array.of.call(e)instanceof e)}))},{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);t>e;)n(i,e,arguments[e++]);return i.length=t,i}})})),Jt=Object(r.C)((function(e,t){var n=te(),i=W(),r=H(),o=Math.min;t.exports=[].copyWithin||function(e,t){var a=n(this),s=r(a.length),l=i(e,s),u=i(t,s),c=arguments.length>2?arguments[2]:void 0,f=o((void 0===c?s:i(c,s))-u,s-l),d=1;for(u<l&&l<u+f&&(d=-1,u+=f-1,l+=f-1);f-- >0;)u in a?a[l]=a[u]:delete a[l],l+=d,u+=d;return a}})),$t=Object(r.C)((function(e,t){var n=oe(),i=ve(),r=j(),o=n("unscopables"),a=Array.prototype;void 0==a[o]&&r.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(e){a[o][e]=!0}})),en=Object(r.C)((function(){var e=$(),t=Jt(),n=$t();e({target:"Array",proto:!0},{copyWithin:t}),n("copyWithin")})),tn=Object(r.C)((function(e,t){var n=d();t.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}})),nn=Object(r.C)((function(e,t){var n=h(),i=d(),r=k(),o=Object.defineProperty,a={},s=function(e){throw e};t.exports=function(e,t){if(r(a,e))return a[e];t||(t={});var l=[][e],u=!!r(t,"ACCESSORS")&&t.ACCESSORS,c=r(t,0)?t[0]:s,f=r(t,1)?t[1]:void 0;return a[e]=!!l&&!i((function(){if(u&&!n)return!0;var e={length:-1};u?o(e,1,{enumerable:!0,get:s}):e[1]=1,l.call(e,c,f)}))}})),rn=Object(r.C)((function(){var e=$(),t=Se().every,n=tn(),i=nn(),r=n("every"),o=i("every");e({target:"Array",proto:!0,forced:!r||!o},{every:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),on=Object(r.C)((function(e,t){var n=te(),i=W(),r=H();t.exports=function(e){for(var t=n(this),o=r(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,u=void 0===l?o:i(l,o);u>s;)t[s++]=e;return t}})),an=Object(r.C)((function(){var e=$(),t=on(),n=$t();e({target:"Array",proto:!0},{fill:t}),n("fill")})),sn=Object(r.C)((function(){var e=$(),t=Se().filter,n=ue(),i=nn(),r=n("filter"),o=i("filter");e({target:"Array",proto:!0,forced:!r||!o},{filter:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),ln=Object(r.C)((function(){var e=$(),t=Se().find,n=$t(),i=nn(),r="find",o=!0,a=i(r);r in[]&&Array(1)[r]((function(){o=!1})),e({target:"Array",proto:!0,forced:o||!a},{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n(r)})),un=Object(r.C)((function(){var e=$(),t=Se().findIndex,n=$t(),i=nn(),r="findIndex",o=!0,a=i(r);r in[]&&Array(1)[r]((function(){o=!1})),e({target:"Array",proto:!0,forced:o||!a},{findIndex:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n(r)})),cn=Object(r.C)((function(e,t){var n=ee(),i=H(),r=Oe();t.exports=function e(t,o,a,s,l,u,c,f){for(var d,h=l,p=0,m=!!c&&r(c,f,3);p<s;){if(p in a){if(d=m?m(a[p],p,o):a[p],u>0&&n(d))h=e(t,o,d,i(d.length),h,u-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[h]=d}h++}p++}return h}})),fn=Object(r.C)((function(){var e=$(),t=cn(),n=te(),i=H(),r=G(),o=ae();e({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,a=n(this),s=i(a.length),l=o(a,0);return l.length=t(l,a,a,s,0,void 0===e?1:r(e)),l}})})),dn=Object(r.C)((function(){var e=$(),t=cn(),n=te(),i=H(),r=we(),o=ae();e({target:"Array",proto:!0},{flatMap:function(e){var a,s=n(this),l=i(s.length);return r(e),(a=o(s,0)).length=t(a,s,s,l,0,1,e,arguments.length>1?arguments[1]:void 0),a}})})),hn=Object(r.C)((function(e,t){var n=Se().forEach,i=tn(),r=nn(),o=i("forEach"),a=r("forEach");t.exports=o&&a?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})),pn=Object(r.C)((function(){var e=$(),t=hn();e({target:"Array",proto:!0,forced:[].forEach!=t},{forEach:t})})),mn=Object(r.C)((function(){var e=$(),t=V().includes,n=$t();e({target:"Array",proto:!0,forced:!nn()("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}}),n("includes")})),gn=Object(r.C)((function(){var e=$(),t=V().indexOf,n=tn(),i=nn(),r=[].indexOf,o=!!r&&1/[1].indexOf(1,-0)<0,a=n("indexOf"),s=i("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:o||!a||!s},{indexOf:function(e){return o?r.apply(this,arguments)||0:t(this,e,arguments.length>1?arguments[1]:void 0)}})})),yn=Object(r.C)((function(){var e=$(),t=y(),n=b(),i=tn(),r=[].join,o=t!=Object,a=i("join",",");e({target:"Array",proto:!0,forced:o||!a},{join:function(e){return r.call(n(this),void 0===e?",":e)}})})),vn=Object(r.C)((function(e,t){var n=b(),i=G(),r=H(),o=tn(),a=nn(),s=Math.min,l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0,c=o("lastIndexOf"),f=a("indexOf",{ACCESSORS:!0,1:0}),d=u||!c||!f;t.exports=d?function(e){if(u)return l.apply(this,arguments)||0;var t=n(this),o=r(t.length),a=o-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=o+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:l})),bn=Object(r.C)((function(){var e=$(),t=vn();e({target:"Array",proto:!0,forced:t!==[].lastIndexOf},{lastIndexOf:t})})),_n=Object(r.C)((function(){var e=$(),t=Se().map,n=ue(),i=nn(),r=n("map"),o=i("map");e({target:"Array",proto:!0,forced:!r||!o},{map:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),xn=Object(r.C)((function(e,t){var n=we(),i=te(),r=y(),o=H(),a=function(e){return function(t,a,s,l){n(a);var u=i(t),c=r(u),f=o(u.length),d=e?f-1:0,h=e?-1:1;if(s<2)for(;;){if(d in c){l=c[d],d+=h;break}if(d+=h,e?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:f>d;d+=h)d in c&&(l=a(l,c[d],d,u));return l}};t.exports={left:a(!1),right:a(!0)}})),kn=Object(r.C)((function(){var e=$(),t=xn().left,n=tn(),i=nn(),r=n("reduce"),o=i("reduce",{1:0});e({target:"Array",proto:!0,forced:!r||!o},{reduce:function(e){return t(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})})),wn=Object(r.C)((function(){var e=$(),t=xn().right,n=tn(),i=nn(),r=n("reduceRight"),o=i("reduce",{1:0});e({target:"Array",proto:!0,forced:!r||!o},{reduceRight:function(e){return t(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})})),On=Object(r.C)((function(){var e=$(),t=ee(),n=[].reverse,i=[1,2];e({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),n.call(this)}})})),Sn=Object(r.C)((function(){var e=$(),t=_(),n=ee(),i=W(),r=H(),o=b(),a=ne(),s=oe(),l=ue(),u=nn(),c=l("slice"),f=u("slice",{ACCESSORS:!0,0:0,1:2}),d=s("species"),h=[].slice,p=Math.max;e({target:"Array",proto:!0,forced:!c||!f},{slice:function(e,s){var l,u,c,f=o(this),m=r(f.length),g=i(e,m),y=i(void 0===s?m:s,m);if(n(f)&&("function"!=typeof(l=f.constructor)||l!==Array&&!n(l.prototype)?t(l)&&null===(l=l[d])&&(l=void 0):l=void 0,l===Array||void 0===l))return h.call(f,g,y);for(u=new(void 0===l?Array:l)(p(y-g,0)),c=0;g<y;g++,c++)g in f&&a(u,c,f[g]);return u.length=c,u}})})),Cn=Object(r.C)((function(){var e=$(),t=Se().some,n=tn(),i=nn(),r=n("some"),o=i("some");e({target:"Array",proto:!0,forced:!r||!o},{some:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),jn=Object(r.C)((function(){var e=$(),t=we(),n=te(),i=d(),r=tn(),o=[],a=o.sort,s=i((function(){o.sort(void 0)})),l=i((function(){o.sort(null)})),u=r("sort");e({target:"Array",proto:!0,forced:s||!l||!u},{sort:function(e){return void 0===e?a.call(n(this)):a.call(n(this),t(e))}})})),Tn=Object(r.C)((function(){var e=$(),t=W(),n=G(),i=H(),r=te(),o=ae(),a=ne(),s=ue(),l=nn(),u=s("splice"),c=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,d=Math.min,h=9007199254740991,p="Maximum allowed length exceeded";e({target:"Array",proto:!0,forced:!u||!c},{splice:function(e,s){var l,u,c,m,g,y,v=r(this),b=i(v.length),_=t(e,b),x=arguments.length;if(0===x?l=u=0:1===x?(l=0,u=b-_):(l=x-2,u=d(f(n(s),0),b-_)),b+l-u>h)throw TypeError(p);for(c=o(v,u),m=0;m<u;m++)(g=_+m)in v&&a(c,m,v[g]);if(c.length=u,l<u){for(m=_;m<b-u;m++)y=m+l,(g=m+u)in v?v[y]=v[g]:delete v[y];for(m=b;m>b-u+l;m--)delete v[m-1]}else if(l>u)for(m=b-u;m>_;m--)y=m+l-1,(g=m+u-1)in v?v[y]=v[g]:delete v[y];for(m=0;m<l;m++)v[m+_]=arguments[m+2];return v.length=b-u+l,c}})})),En=Object(r.C)((function(e,t){var n=U(),i=j(),r=oe(),o=h(),a=r("species");t.exports=function(e){var t=n(e),r=i.f;o&&t&&!t[a]&&r(t,a,{configurable:!0,get:function(){return this}})}})),Dn=Object(r.C)((function(){En()("Array")})),In=Object(r.C)((function(){$t()("flat")})),Rn=Object(r.C)((function(){$t()("flatMap")})),Fn=Object(r.C)((function(e,t){var n=b(),i=$t(),r=et(),o=B(),a=rt(),s="Array Iterator",l=o.set,u=o.getterFor(s);t.exports=a(Array,"Array",(function(e,t){l(this,{type:s,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")})),An=Object(r.C)((function(){var e=$(),t=W(),n=String.fromCharCode,i=String.fromCodePoint;e({target:"String",stat:!0,forced:!!i&&1!=i.length},{fromCodePoint:function(e){for(var i,r=[],o=arguments.length,a=0;o>a;){if(i=+arguments[a++],t(i,1114111)!==i)throw RangeError(i+" is not a valid code point");r.push(i<65536?n(i):n(55296+((i-=65536)>>10),i%1024+56320))}return r.join("")}})})),Mn=Object(r.C)((function(){var e=$(),t=b(),n=H();e({target:"String",stat:!0},{raw:function(e){for(var i=t(e.raw),r=n(i.length),o=arguments.length,a=[],s=0;r>s;)a.push(String(i[s++])),s<o&&a.push(String(arguments[s]));return a.join("")}})})),Pn=Object(r.C)((function(){var e=$(),t=Qe().codeAt;e({target:"String",proto:!0},{codePointAt:function(e){return t(this,e)}})})),zn=Object(r.C)((function(e,t){var n=_(),i=g(),r=oe()("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==i(e))}})),Bn=Object(r.C)((function(e,t){var n=zn();t.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}})),Ln=Object(r.C)((function(e,t){var n=oe()("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[n]=!1,"/./"[e](t)}catch(r){}}return!1}})),Nn=Object(r.C)((function(){var e=$(),t=S().f,n=H(),i=Bn(),r=v(),o=Ln(),a=F(),s="".endsWith,l=Math.min,u=o("endsWith");e({target:"String",proto:!0,forced:!(!a&&!u&&!!function(){var e=t(String.prototype,"endsWith");return e&&!e.writable}())&&!u},{endsWith:function(e){var t=String(r(this));i(e);var o=arguments.length>1?arguments[1]:void 0,a=n(t.length),u=void 0===o?a:l(n(o),a),c=String(e);return s?s.call(t,c,u):t.slice(u-c.length,u)===c}})})),Un=Object(r.C)((function(){var e=$(),t=Bn(),n=v();e({target:"String",proto:!0,forced:!Ln()("includes")},{includes:function(e){return!!~String(n(this)).indexOf(t(e),arguments.length>1?arguments[1]:void 0)}})})),Gn=Object(r.C)((function(e,t){var n=C();t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}})),Hn=Object(r.C)((function(e){var t=d();function n(e,t){return RegExp(e,t)}e.UNSUPPORTED_Y=t((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),e.BROKEN_CARET=t((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))})),Wn=Object(r.C)((function(e,t){var n=Gn(),i=Hn(),r=RegExp.prototype.exec,o=String.prototype.replace,a=r,s=function(){var e=/a/,t=/b*/g;return r.call(e,"a"),r.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),l=i.UNSUPPORTED_Y||i.BROKEN_CARET,u=void 0!==/()??/.exec("")[1];(s||u||l)&&(a=function(e){var t,i,a,c,f=this,d=l&&f.sticky,h=n.call(f),p=f.source,m=0,g=e;return d&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(p="(?: "+p+")",g=" "+g,m++),i=new RegExp("^(?:"+p+")",h)),u&&(i=new RegExp("^"+p+"$(?!\\s)",h)),s&&(t=f.lastIndex),a=r.call(d?i:f,g),d?a?(a.input=a.input.slice(m),a[0]=a[0].slice(m),a.index=f.lastIndex,f.lastIndex+=a[0].length):f.lastIndex=0:s&&a&&(f.lastIndex=f.global?a.index+a[0].length:t),u&&a&&a.length>1&&o.call(a[0],i,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a}),t.exports=a})),Vn=Object(r.C)((function(){var e=$(),t=Wn();e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t})})),qn=Object(r.C)((function(e,t){Vn();var n=L(),i=d(),r=oe(),o=Wn(),a=T(),s=r("species"),l=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),c=r("replace"),f=!!/./[c]&&""===/./[c]("a","$0"),h=!i((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(e,t,c,d){var p=r(e),m=!i((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),g=m&&!i((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return t=!0,null},n[p](""),!t}));if(!m||!g||"replace"===e&&(!l||!u||f)||"split"===e&&!h){var y=/./[p],v=c(p,""[e],(function(e,t,n,i,r){return t.exec===o?m&&!r?{done:!0,value:y.call(t,n,i)}:{done:!0,value:e.call(n,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),b=v[0],_=v[1];n(String.prototype,e,b),n(RegExp.prototype,p,2==t?function(e,t){return _.call(e,this,t)}:function(e){return _.call(e,this)})}d&&a(RegExp.prototype[p],"sham",!0)}})),Kn=Object(r.C)((function(e,t){var n=Qe().charAt;t.exports=function(e,t,i){return t+(i?n(e,t).length:1)}})),Xn=Object(r.C)((function(e,t){var n=g(),i=Wn();t.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}})),Yn=Object(r.C)((function(){var e=qn(),t=C(),n=H(),i=v(),r=Kn(),o=Xn();e("match",1,(function(e,a,s){return[function(t){var n=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=s(a,e,this);if(i.done)return i.value;var l=t(e),u=String(this);if(!l.global)return o(l,u);var c=l.unicode;l.lastIndex=0;for(var f,d=[],h=0;null!==(f=o(l,u));){var p=String(f[0]);d[h]=p,""===p&&(l.lastIndex=r(u,n(l.lastIndex),c)),h++}return 0===h?null:d}]}))})),Qn=Object(r.C)((function(e,t){var n=C(),i=we(),r=oe()("species");t.exports=function(e,t){var o,a=n(e).constructor;return void 0===a||void 0==(o=n(a)[r])?t:i(o)}})),Zn=Object(r.C)((function(){var e=$(),t=tt(),n=v(),i=H(),r=we(),o=C(),a=g(),s=zn(),l=Gn(),u=T(),c=d(),f=oe(),h=Qn(),p=Kn(),m=B(),y=F(),b=f("matchAll"),_="RegExp String",x=_+" Iterator",k=m.set,w=m.getterFor(x),O=RegExp.prototype,S=O.exec,j="".matchAll,E=!!j&&!c((function(){"a".matchAll(/./)})),D=t((function(e,t,n,i){k(this,{type:x,regexp:e,string:t,global:n,unicode:i,done:!1})}),_,(function(){var e=w(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=function(e,t){var n,i=e.exec;if("function"==typeof i){if("object"!=typeof(n=i.call(e,t)))throw TypeError("Incorrect exec result");return n}return S.call(e,t)}(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""==String(r[0])&&(t.lastIndex=p(n,i(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),I=function(e){var t,n,r,a,s,u,c=o(this),f=String(e);return t=h(c,RegExp),void 0===(n=c.flags)&&c instanceof RegExp&&!("flags"in O)&&(n=l.call(c)),r=void 0===n?"":String(n),a=new t(t===RegExp?c.source:c,r),s=!!~r.indexOf("g"),u=!!~r.indexOf("u"),a.lastIndex=i(c.lastIndex),new D(a,f,s,u)};e({target:"String",proto:!0,forced:E},{matchAll:function(e){var t,i,o,u=n(this);if(null!=e){if(s(e)&&!~String(n("flags"in O?e.flags:l.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(E)return j.apply(u,arguments);if(void 0===(i=e[b])&&y&&"RegExp"==a(e)&&(i=I),null!=i)return r(i).call(e,u)}else if(E)return j.apply(u,arguments);return t=String(u),o=new RegExp(e,"g"),y?I.call(o,t):o[b](t)}}),y||b in O||u(O,b,I)})),Jn=Object(r.C)((function(e,t){var n=G(),i=v();t.exports="".repeat||function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}})),$n=Object(r.C)((function(e,t){var n=H(),i=Jn(),r=v(),o=Math.ceil,a=function(e){return function(t,a,s){var l,u,c=String(r(t)),f=c.length,d=void 0===s?" ":String(s),h=n(a);return h<=f||""==d?c:(l=h-f,(u=i.call(d,o(l/d.length))).length>l&&(u=u.slice(0,l)),e?c+u:u+c)}};t.exports={start:a(!1),end:a(!0)}})),ei=Object(r.C)((function(e,t){var n=se();t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)})),ti=Object(r.C)((function(){var e=$(),t=$n().end;e({target:"String",proto:!0,forced:ei()},{padEnd:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),ni=Object(r.C)((function(){var e=$(),t=$n().start;e({target:"String",proto:!0,forced:ei()},{padStart:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0)}})})),ii=Object(r.C)((function(){$()({target:"String",proto:!0},{repeat:Jn()})})),ri=Object(r.C)((function(){var e=qn(),t=C(),n=te(),i=H(),r=G(),o=v(),a=Kn(),s=Xn(),l=Math.max,u=Math.min,c=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,d=/\$([$&'`]|\d\d?)/g,h=function(e){return void 0===e?e:String(e)};e("replace",2,(function(e,p,m,g){var y=g.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,v=g.REPLACE_KEEPS_$0,b=y?"$":"$0";return[function(t,n){var i=o(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,i,n):p.call(String(i),t,n)},function(e,n){if(!y&&v||"string"===typeof n&&-1===n.indexOf(b)){var o=m(p,e,this,n);if(o.done)return o.value}var c=t(e),f=String(this),d="function"===typeof n;d||(n=String(n));var g=c.global;if(g){var x=c.unicode;c.lastIndex=0}for(var k=[];;){var w=s(c,f);if(null===w)break;if(k.push(w),!g)break;""===String(w[0])&&(c.lastIndex=a(f,i(c.lastIndex),x))}for(var O="",S=0,C=0;C<k.length;C++){w=k[C];for(var j=String(w[0]),T=l(u(r(w.index),f.length),0),E=[],D=1;D<w.length;D++)E.push(h(w[D]));var I=w.groups;if(d){var R=[j].concat(E,T,f);void 0!==I&&R.push(I);var F=String(n.apply(void 0,R))}else F=_(j,f,T,E,I,n);T>=S&&(O+=f.slice(S,T)+F,S=T+j.length)}return O+f.slice(S)}];function _(e,t,i,r,o,a){var s=i+e.length,l=r.length,u=d;return void 0!==o&&(o=n(o),u=f),p.call(a,u,(function(n,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var f=+a;if(0===f)return n;if(f>l){var d=c(f/10);return 0===d?n:d<=l?void 0===r[d-1]?a.charAt(1):r[d-1]+a.charAt(1):n}u=r[f-1]}return void 0===u?"":u}))}}))})),oi=Object(r.C)((function(){var e=qn(),t=C(),n=v(),i=Dt(),r=Xn();e("search",1,(function(e,o,a){return[function(t){var i=n(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,i):new RegExp(t)[e](String(i))},function(e){var n=a(o,e,this);if(n.done)return n.value;var s=t(e),l=String(this),u=s.lastIndex;i(u,0)||(s.lastIndex=0);var c=r(s,l);return i(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]}))})),ai=Object(r.C)((function(){var e=qn(),t=zn(),n=C(),i=v(),r=Qn(),o=Kn(),a=H(),s=Xn(),l=Wn(),u=d(),c=[].push,f=Math.min,h=4294967295,p=!u((function(){return!RegExp(h,"y")}));e("split",2,(function(e,u,d){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(i(this)),o=void 0===n?h:n>>>0;if(0===o)return[];if(void 0===e)return[r];if(!t(e))return u.call(r,e,o);for(var a,s,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),m=0,g=new RegExp(e.source,p+"g");(a=l.call(g,r))&&!((s=g.lastIndex)>m&&(d.push(r.slice(m,a.index)),a.length>1&&a.index<r.length&&c.apply(d,a.slice(1)),f=a[0].length,m=s,d.length>=o));)g.lastIndex===a.index&&g.lastIndex++;return m===r.length?!f&&g.test("")||d.push(""):d.push(r.slice(m)),d.length>o?d.slice(0,o):d}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:u.call(this,e,t)}:u,[function(t,n){var r=i(this),o=void 0==t?void 0:t[e];return void 0!==o?o.call(t,r,n):m.call(String(r),t,n)},function(e,t){var i=d(m,e,this,t,m!==u);if(i.done)return i.value;var l=n(e),c=String(this),g=r(l,RegExp),y=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),b=new g(p?l:"^(?:"+l.source+")",v),_=void 0===t?h:t>>>0;if(0===_)return[];if(0===c.length)return null===s(b,c)?[c]:[];for(var x=0,k=0,w=[];k<c.length;){b.lastIndex=p?k:0;var O,S=s(b,p?c:c.slice(k));if(null===S||(O=f(a(b.lastIndex+(p?0:k)),c.length))===x)k=o(c,k,y);else{if(w.push(c.slice(x,k)),w.length===_)return w;for(var C=1;C<=S.length-1;C++)if(w.push(S[C]),w.length===_)return w;k=x=O}}return w.push(c.slice(x)),w}]}),!p)})),si=Object(r.C)((function(){var e=$(),t=S().f,n=H(),i=Bn(),r=v(),o=Ln(),a=F(),s="".startsWith,l=Math.min,u=o("startsWith");e({target:"String",proto:!0,forced:!(!a&&!u&&!!function(){var e=t(String.prototype,"startsWith");return e&&!e.writable}())&&!u},{startsWith:function(e){var t=String(r(this));i(e);var o=n(l(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return s?s.call(t,a,o):t.slice(o,o+a.length)===a}})})),li=Object(r.C)((function(e,t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"})),ui=Object(r.C)((function(e,t){var n=v(),i="["+li()+"]",r=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),a=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(r,"")),2&e&&(i=i.replace(o,"")),i}};t.exports={start:a(1),end:a(2),trim:a(3)}})),ci=Object(r.C)((function(e,t){var n=d(),i=li();t.exports=function(e){return n((function(){return!!i[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||i[e].name!==e}))}})),fi=Object(r.C)((function(){var e=$(),t=ui().trim;e({target:"String",proto:!0,forced:ci()("trim")},{trim:function(){return t(this)}})})),di=Object(r.C)((function(){var e=$(),t=ui().start,n=ci()("trimStart"),i=n?function(){return t(this)}:"".trimStart;e({target:"String",proto:!0,forced:n},{trimStart:i,trimLeft:i})})),hi=Object(r.C)((function(){var e=$(),t=ui().end,n=ci()("trimEnd"),i=n?function(){return t(this)}:"".trimEnd;e({target:"String",proto:!0,forced:n},{trimEnd:i,trimRight:i})})),pi=Object(r.C)((function(e,t){var n=v(),i=/"/g;t.exports=function(e,t,r,o){var a=String(n(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}})),mi=Object(r.C)((function(e,t){var n=d();t.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}})),gi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("anchor")},{anchor:function(e){return t(this,"a","name",e)}})})),yi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("big")},{big:function(){return t(this,"big","","")}})})),vi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("blink")},{blink:function(){return t(this,"blink","","")}})})),bi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("bold")},{bold:function(){return t(this,"b","","")}})})),_i=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("fixed")},{fixed:function(){return t(this,"tt","","")}})})),xi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("fontcolor")},{fontcolor:function(e){return t(this,"font","color",e)}})})),ki=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("fontsize")},{fontsize:function(e){return t(this,"font","size",e)}})})),wi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("italics")},{italics:function(){return t(this,"i","","")}})})),Oi=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("link")},{link:function(e){return t(this,"a","href",e)}})})),Si=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("small")},{small:function(){return t(this,"small","","")}})})),Ci=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("strike")},{strike:function(){return t(this,"strike","","")}})})),ji=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("sub")},{sub:function(){return t(this,"sub","","")}})})),Ti=Object(r.C)((function(){var e=$(),t=pi();e({target:"String",proto:!0,forced:mi()("sup")},{sup:function(){return t(this,"sup","","")}})})),Ei=Object(r.C)((function(e,t){var n=_(),i=it();t.exports=function(e,t,r){var o,a;return i&&"function"==typeof(o=t.constructor)&&o!==r&&n(a=o.prototype)&&a!==r.prototype&&i(e,a),e}})),Di=Object(r.C)((function(){var e,t,n,i,r=h(),o=f(),a=J(),s=Ei(),l=j().f,u=X().f,c=zn(),p=Gn(),m=Hn(),g=L(),y=d(),v=B().set,b=En(),_=oe()("match"),x=o.RegExp,k=x.prototype,w=/a/g,O=/a/g,S=new x(w)!==w,C=m.UNSUPPORTED_Y;if(r&&a("RegExp",!S||C||y((function(){return O[_]=!1,x(w)!=w||x(O)==O||"/a/i"!=x(w,"i")})))){for(e=function(t,n){var i,r=this instanceof e,o=c(t),a=void 0===n;if(!r&&o&&t.constructor===e&&a)return t;S?o&&!a&&(t=t.source):t instanceof e&&(a&&(n=p.call(t)),t=t.source),C&&(i=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,""));var l=s(S?new x(t,n):x(t,n),r?this:k,e);return C&&i&&v(l,{sticky:i}),l},t=function(t){t in e||l(e,t,{configurable:!0,get:function(){return x[t]},set:function(e){x[t]=e}})},n=u(x),i=0;n.length>i;)t(n[i++]);k.constructor=e,e.prototype=k,g(o,"RegExp",e)}b("RegExp")})),Ii=Object(r.C)((function(){var e=h(),t=j(),n=Gn(),i=Hn().UNSUPPORTED_Y;e&&("g"!=/./g.flags||i)&&t.f(RegExp.prototype,"flags",{configurable:!0,get:n})})),Ri=Object(r.C)((function(){var e=h(),t=Hn().UNSUPPORTED_Y,n=j().f,i=B().get,r=RegExp.prototype;e&&t&&n(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==r){if(this instanceof RegExp)return!!i(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}})})),Fi=Object(r.C)((function(){Vn();var e=$(),t=_(),n=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),i=/./.test;e({target:"RegExp",proto:!0,forced:!n},{test:function(e){if("function"!==typeof this.exec)return i.call(this,e);var n=this.exec(e);if(null!==n&&!t(n))throw new Error("RegExp exec method returned something other than an Object or null");return!!n}})})),Ai=Object(r.C)((function(){var e=L(),t=C(),n=d(),i=Gn(),r="toString",o=RegExp.prototype,a=o[r],s=n((function(){return"/a/b"!=a.call({source:"a",flags:"b"})})),l=a.name!=r;(s||l)&&e(RegExp.prototype,r,(function(){var e=t(this),n=String(e.source),r=e.flags;return"/"+n+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in o)?i.call(e):r)}),{unsafe:!0})})),Mi=Object(r.C)((function(e,t){var n=f(),i=ui().trim,r=li(),o=n.parseInt,a=/^[+-]?0[Xx]/,s=8!==o(r+"08")||22!==o(r+"0x16");t.exports=s?function(e,t){var n=i(String(e));return o(n,t>>>0||(a.test(n)?16:10))}:o})),Pi=Object(r.C)((function(){var e=$(),t=Mi();e({global:!0,forced:parseInt!=t},{parseInt:t})})),zi=Object(r.C)((function(e,t){var n=f(),i=ui().trim,r=li(),o=n.parseFloat,a=1/o(r+"-0")!==-1/0;t.exports=a?function(e){var t=i(String(e)),n=o(t);return 0===n&&"-"==t.charAt(0)?-0:n}:o})),Bi=Object(r.C)((function(){var e=$(),t=zi();e({global:!0,forced:parseFloat!=t},{parseFloat:t})})),Li=Object(r.C)((function(){var e,t,n,i,r=h(),o=f(),a=J(),s=L(),l=k(),u=g(),c=Ei(),p=x(),m=d(),y=ve(),v=X().f,b=S().f,_=j().f,w=ui().trim,O="Number",C=o[O],T=C.prototype,E=u(y(T))==O,D=function(e){var t,n,i,r,o,a,s,l,u=p(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=w(u)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((l=o.charCodeAt(s))<48||l>r)return NaN;return parseInt(o,i)}return+u};if(a(O,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(e=function(t){var n=arguments.length<1?0:t,i=this;return i instanceof e&&(E?m((function(){T.valueOf.call(i)})):u(i)!=O)?c(new C(D(n)),i,e):D(n)},t=r?v(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),n=0;t.length>n;n++)l(C,i=t[n])&&!l(e,i)&&_(e,i,b(C,i));e.prototype=T,T.constructor=e,s(o,O,e)}})),Ni=Object(r.C)((function(){$()({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})})),Ui=Object(r.C)((function(e,t){var n=f().isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}})),Gi=Object(r.C)((function(){$()({target:"Number",stat:!0},{isFinite:Ui()})})),Hi=Object(r.C)((function(e,t){var n=_(),i=Math.floor;t.exports=function(e){return!n(e)&&isFinite(e)&&i(e)===e}})),Wi=Object(r.C)((function(){$()({target:"Number",stat:!0},{isInteger:Hi()})})),Vi=Object(r.C)((function(){$()({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})})),qi=Object(r.C)((function(){var e=$(),t=Hi(),n=Math.abs;e({target:"Number",stat:!0},{isSafeInteger:function(e){return t(e)&&n(e)<=9007199254740991}})})),Ki=Object(r.C)((function(){$()({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})})),Xi=Object(r.C)((function(){$()({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})})),Yi=Object(r.C)((function(){var e=$(),t=zi();e({target:"Number",stat:!0,forced:Number.parseFloat!=t},{parseFloat:t})})),Qi=Object(r.C)((function(){var e=$(),t=Mi();e({target:"Number",stat:!0,forced:Number.parseInt!=t},{parseInt:t})})),Zi=Object(r.C)((function(e,t){var n=g();t.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}})),Ji=Object(r.C)((function(){var e=$(),t=G(),n=Zi(),i=Jn(),r=d(),o=1..toFixed,a=Math.floor,s=function e(t,n,i){return 0===n?i:n%2===1?e(t,n-1,i*t):e(t*t,n/2,i)};e({target:"Number",proto:!0,forced:o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){o.call({})}))},{toFixed:function(e){var r,o,l,u,c=n(this),f=t(e),d=[0,0,0,0,0,0],h="",p="0",m=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*d[n],d[n]=i%1e7,i=a(i/1e7)},g=function(e){for(var t=6,n=0;--t>=0;)n+=d[t],d[t]=a(n/e),n=n%e*1e7},y=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==d[e]){var n=String(d[e]);t=""===t?n:t+i.call("0",7-n.length)+n}return t};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(h="-",c=-c),c>1e-21)if(o=(r=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(c*s(2,69,1))-69)<0?c*s(2,-r,1):c/s(2,r,1),o*=4503599627370496,(r=52-r)>0){for(m(0,o),l=f;l>=7;)m(1e7,0),l-=7;for(m(s(10,l,1),0),l=r-1;l>=23;)g(1<<23),l-=23;g(1<<l),m(1,1),g(2),p=y()}else m(0,o),m(1<<-r,0),p=y()+i.call("0",f);return p=f>0?h+((u=p.length)<=f?"0."+i.call("0",f-u)+p:p.slice(0,u-f)+"."+p.slice(u-f)):h+p}})})),$i=Object(r.C)((function(){var e=$(),t=d(),n=Zi(),i=1..toPrecision;e({target:"Number",proto:!0,forced:t((function(){return"1"!==i.call(1,void 0)}))||!t((function(){i.call({})}))},{toPrecision:function(e){return void 0===e?i.call(n(this)):i.call(n(this),e)}})})),er=Object(r.C)((function(e,t){var n=Math.log;t.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:n(1+e)}})),tr=Object(r.C)((function(){var e=$(),t=er(),n=Math.acosh,i=Math.log,r=Math.sqrt,o=Math.LN2;e({target:"Math",stat:!0,forced:!n||710!=Math.floor(n(Number.MAX_VALUE))||n(1/0)!=1/0},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?i(e)+o:t(e-1+r(e-1)*r(e+1))}})})),nr=Object(r.C)((function(){var e=$(),t=Math.asinh,n=Math.log,i=Math.sqrt;e({target:"Math",stat:!0,forced:!(t&&1/t(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):n(t+i(t*t+1)):t}})})),ir=Object(r.C)((function(){var e=$(),t=Math.atanh,n=Math.log;e({target:"Math",stat:!0,forced:!(t&&1/t(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:n((1+e)/(1-e))/2}})})),rr=Object(r.C)((function(e,t){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}})),or=Object(r.C)((function(){var e=$(),t=rr(),n=Math.abs,i=Math.pow;e({target:"Math",stat:!0},{cbrt:function(e){return t(e=+e)*i(n(e),1/3)}})})),ar=Object(r.C)((function(){var e=$(),t=Math.floor,n=Math.log,i=Math.LOG2E;e({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-t(n(e+.5)*i):32}})})),sr=Object(r.C)((function(e,t){var n=Math.expm1,i=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:i(e)-1}:n})),lr=Object(r.C)((function(){var e=$(),t=sr(),n=Math.cosh,i=Math.abs,r=Math.E;e({target:"Math",stat:!0,forced:!n||n(710)===1/0},{cosh:function(e){var n=t(i(e)-1)+1;return(n+1/(n*r*r))*(r/2)}})})),ur=Object(r.C)((function(){var e=$(),t=sr();e({target:"Math",stat:!0,forced:t!=Math.expm1},{expm1:t})})),cr=Object(r.C)((function(e,t){var n=rr(),i=Math.abs,r=Math.pow,o=r(2,-52),a=r(2,-23),s=r(2,127)*(2-a),l=r(2,-126);t.exports=Math.fround||function(e){var t,r,u=i(e),c=n(e);return u<l?c*function(e){return e+1/o-1/o}(u/l/a)*l*a:(r=(t=(1+a/o)*u)-(t-u))>s||r!=r?c*(1/0):c*r}})),fr=Object(r.C)((function(){$()({target:"Math",stat:!0},{fround:cr()})})),dr=Object(r.C)((function(){var e=$(),t=Math.hypot,n=Math.abs,i=Math.sqrt;e({target:"Math",stat:!0,forced:!!t&&t(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,o,a=0,s=0,l=arguments.length,u=0;s<l;)u<(r=n(arguments[s++]))?(a=a*(o=u/r)*o+1,u=r):a+=r>0?(o=r/u)*o:r;return u===1/0?1/0:u*i(a)}})})),hr=Object(r.C)((function(){var e=$(),t=d(),n=Math.imul;e({target:"Math",stat:!0,forced:t((function(){return-5!=n(4294967295,5)||2!=n.length}))},{imul:function(e,t){var n=65535,i=+e,r=+t,o=n&i,a=n&r;return 0|o*a+((n&i>>>16)*a+o*(n&r>>>16)<<16>>>0)}})})),pr=Object(r.C)((function(){var e=$(),t=Math.log,n=Math.LOG10E;e({target:"Math",stat:!0},{log10:function(e){return t(e)*n}})})),mr=Object(r.C)((function(){$()({target:"Math",stat:!0},{log1p:er()})})),gr=Object(r.C)((function(){var e=$(),t=Math.log,n=Math.LN2;e({target:"Math",stat:!0},{log2:function(e){return t(e)/n}})})),yr=Object(r.C)((function(){$()({target:"Math",stat:!0},{sign:rr()})})),vr=Object(r.C)((function(){var e=$(),t=d(),n=sr(),i=Math.abs,r=Math.exp,o=Math.E;e({target:"Math",stat:!0,forced:t((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(e){return i(e=+e)<1?(n(e)-n(-e))/2:(r(e-1)-r(-e-1))*(o/2)}})})),br=Object(r.C)((function(){var e=$(),t=sr(),n=Math.exp;e({target:"Math",stat:!0},{tanh:function(e){var i=t(e=+e),r=t(-e);return i==1/0?1:r==1/0?-1:(i-r)/(n(e)+n(-e))}})})),_r=Object(r.C)((function(){var e=$(),t=Math.ceil,n=Math.floor;e({target:"Math",stat:!0},{trunc:function(e){return(e>0?n:t)(e)}})})),xr=Object(r.C)((function(){$()({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})})),kr=Object(r.C)((function(){var e=$(),t=d(),n=te(),i=x();e({target:"Date",proto:!0,forced:t((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(e){var t=n(this),r=i(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}})})),wr=Object(r.C)((function(e,t){var n=d(),i=$n().start,r=Math.abs,o=Date.prototype,a=o.getTime,s=o.toISOString;t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-50000000000001))}))||!n((function(){s.call(new Date(NaN))}))?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),o=t<0?"-":t>9999?"+":"";return o+i(r(t),o?6:4,0)+"-"+i(e.getUTCMonth()+1,2,0)+"-"+i(e.getUTCDate(),2,0)+"T"+i(e.getUTCHours(),2,0)+":"+i(e.getUTCMinutes(),2,0)+":"+i(e.getUTCSeconds(),2,0)+"."+i(n,3,0)+"Z"}:s})),Or=Object(r.C)((function(){var e=$(),t=wr();e({target:"Date",proto:!0,forced:Date.prototype.toISOString!==t},{toISOString:t})})),Sr=Object(r.C)((function(){var e=L(),t=Date.prototype,n="Invalid Date",i="toString",r=t[i],o=t.getTime;new Date(NaN)+""!=n&&e(t,i,(function(){var e=o.call(this);return e===e?r.call(this):n}))})),Cr=Object(r.C)((function(e,t){var n=C(),i=x();t.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(n(this),"number"!==e)}})),jr=Object(r.C)((function(){var e=T(),t=Cr(),n=oe()("toPrimitive"),i=Date.prototype;n in i||e(i,n,t)})),Tr=Object(r.C)((function(){var e=$(),t=U(),n=d(),i=t("JSON","stringify"),r=/[\uD800-\uDFFF]/g,o=/^[\uD800-\uDBFF]$/,a=/^[\uDC00-\uDFFF]$/,s=function(e,t,n){var i=n.charAt(t-1),r=n.charAt(t+1);return o.test(e)&&!a.test(r)||a.test(e)&&!o.test(i)?"\\u"+e.charCodeAt(0).toString(16):e},l=n((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&e({target:"JSON",stat:!0,forced:l},{stringify:function(e,t,n){var o=i.apply(null,arguments);return"string"==typeof o?o.replace(r,s):o}})})),Er=Object(r.C)((function(e,t){var n=f();t.exports=n.Promise})),Dr=Object(r.C)((function(e,t){var n=L();t.exports=function(e,t,i){for(var r in t)n(e,r,t[r],i);return e}})),Ir=Object(r.C)((function(e,t){t.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}})),Rr=Object(r.C)((function(e,t){var n=se();t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)})),Fr=Object(r.C)((function(e,t){var n,i,r,o=f(),a=d(),s=g(),l=Oe(),u=ye(),c=w(),h=Rr(),p=o.location,m=o.setImmediate,y=o.clearImmediate,v=o.process,b=o.MessageChannel,_=o.Dispatch,x=0,k={},O="onreadystatechange",S=function(e){if(k.hasOwnProperty(e)){var t=k[e];delete k[e],t()}},C=function(e){return function(){S(e)}},j=function(e){S(e.data)},T=function(e){o.postMessage(e+"",p.protocol+"//"+p.host)};m&&y||(m=function(e){for(var t=[],i=1;arguments.length>i;)t.push(arguments[i++]);return k[++x]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(x),x},y=function(e){delete k[e]},"process"==s(v)?n=function(e){v.nextTick(C(e))}:_&&_.now?n=function(e){_.now(C(e))}:b&&!h?(r=(i=new b).port2,i.port1.onmessage=j,n=l(r.postMessage,r,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||a(T)||"file:"===p.protocol?n=O in c("script")?function(e){u.appendChild(c("script"))[O]=function(){u.removeChild(this),S(e)}}:function(e){setTimeout(C(e),0)}:(n=T,o.addEventListener("message",j,!1))),t.exports={set:m,clear:y}})),Ar=Object(r.C)((function(e,t){var n,i,r,o,a,s,l,u,c=f(),d=S().f,h=g(),p=Fr().set,m=Rr(),y=c.MutationObserver||c.WebKitMutationObserver,v=c.process,b=c.Promise,_="process"==h(v),x=d(c,"queueMicrotask"),k=x&&x.value;k||(n=function(){var e,t;for(_&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(n){throw i?o():r=void 0,n}}r=void 0,e&&e.enter()},_?o=function(){v.nextTick(n)}:y&&!m?(a=!0,s=document.createTextNode(""),new y(n).observe(s,{characterData:!0}),o=function(){s.data=a=!a}):b&&b.resolve?(l=b.resolve(void 0),u=l.then,o=function(){u.call(l,n)}):o=function(){p.call(c,n)}),t.exports=k||function(e){var t={fn:e,next:void 0};r&&(r.next=t),i||(i=t,o()),r=t}})),Mr=Object(r.C)((function(e,t){var n=we(),i=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw TypeError("Bad Promise constructor");t=e,i=n})),this.resolve=n(t),this.reject=n(i)};t.exports.f=function(e){return new i(e)}})),Pr=Object(r.C)((function(e,t){var n=C(),i=_(),r=Mr();t.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var o=r.f(e);return(0,o.resolve)(t),o.promise}})),zr=Object(r.C)((function(e,t){var n=f();t.exports=function(e,t){var i=n.console;i&&i.error&&(1===arguments.length?i.error(e):i.error(e,t))}})),Br=Object(r.C)((function(e,t){t.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}})),Lr=Object(r.C)((function(){var e,t,n,i,r=$(),o=F(),a=f(),s=U(),l=Er(),u=L(),c=Dr(),d=ke(),h=En(),p=_(),m=we(),y=Ir(),v=g(),b=I(),x=Ot(),k=ct(),w=Qn(),O=Fr().set,S=Ar(),C=Pr(),j=zr(),T=Mr(),E=Br(),D=B(),R=J(),A=oe(),M=le(),P=A("species"),z="Promise",N=D.get,G=D.set,H=D.getterFor(z),W=l,V=a.TypeError,q=a.document,K=a.process,X=s("fetch"),Y=T.f,Q=Y,Z="process"==v(K),ee=!!(q&&q.createEvent&&a.dispatchEvent),te="unhandledrejection",ne=R(z,(function(){if(!(b(W)!==String(W))){if(66===M)return!0;if(!Z&&"function"!=typeof PromiseRejectionEvent)return!0}if(o&&!W.prototype.finally)return!0;if(M>=51&&/native code/.test(W))return!1;var e=W.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[P]=t,!(e.then((function(){}))instanceof t)})),ie=ne||!k((function(e){W.all(e).catch((function(){}))})),re=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},ae=function(e,t,n){if(!t.notified){t.notified=!0;var i=t.reactions;S((function(){for(var r=t.value,o=1==t.state,a=0;i.length>a;){var s,l,u,c=i[a++],f=o?c.ok:c.fail,d=c.resolve,h=c.reject,p=c.domain;try{f?(o||(2===t.rejection&&fe(e,t),t.rejection=1),!0===f?s=r:(p&&p.enter(),s=f(r),p&&(p.exit(),u=!0)),s===c.promise?h(V("Promise-chain cycle")):(l=re(s))?l.call(s,d,h):d(s)):h(r)}catch(m){p&&!u&&p.exit(),h(m)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&ue(e,t)}))}},se=function(e,t,n){var i,r;ee?((i=q.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),a.dispatchEvent(i)):i={promise:t,reason:n},(r=a["on"+e])?r(i):e===te&&j("Unhandled promise rejection",n)},ue=function(e,t){O.call(a,(function(){var n,i=t.value;if(ce(t)&&(n=E((function(){Z?K.emit("unhandledRejection",i,e):se(te,e,i)})),t.rejection=Z||ce(t)?2:1,n.error))throw n.value}))},ce=function(e){return 1!==e.rejection&&!e.parent},fe=function(e,t){O.call(a,(function(){Z?K.emit("rejectionHandled",e):se("rejectionhandled",e,t.value)}))},de=function(e,t,n,i){return function(r){e(t,n,r,i)}},he=function(e,t,n,i){t.done||(t.done=!0,i&&(t=i),t.value=n,t.state=2,ae(e,t,!0))},pe=function e(t,n,i,r){if(!n.done){n.done=!0,r&&(n=r);try{if(t===i)throw V("Promise can't be resolved itself");var o=re(i);o?S((function(){var r={done:!1};try{o.call(i,de(e,t,r,n),de(he,t,r,n))}catch(a){he(t,r,a,n)}})):(n.value=i,n.state=1,ae(t,n,!1))}catch(a){he(t,{done:!1},a,n)}}};ne&&(W=function(t){y(this,W,z),m(t),e.call(this);var n=N(this);try{t(de(pe,this,n),de(he,this,n))}catch(i){he(this,n,i)}},(e=function(e){G(this,{type:z,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=c(W.prototype,{then:function(e,t){var n=H(this),i=Y(w(this,W));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=Z?K.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&ae(this,n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),t=function(){var t=new e,n=N(t);this.promise=t,this.resolve=de(pe,t,n),this.reject=de(he,t,n)},T.f=Y=function(e){return e===W||e===n?new t(e):Q(e)},o||"function"!=typeof l||(i=l.prototype.then,u(l.prototype,"then",(function(e,t){var n=this;return new W((function(e,t){i.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof X&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return C(W,X.apply(a,arguments))}}))),r({global:!0,wrap:!0,forced:ne},{Promise:W}),d(W,z,!1,!0),h(z),n=s(z),r({target:z,stat:!0,forced:ne},{reject:function(e){var t=Y(this);return t.reject.call(void 0,e),t.promise}}),r({target:z,stat:!0,forced:o||ne},{resolve:function(e){return C(o&&this===n?W:this,e)}}),r({target:z,stat:!0,forced:ie},{all:function(e){var t=this,n=Y(t),i=n.resolve,r=n.reject,o=E((function(){var n=m(t.resolve),o=[],a=0,s=1;x(e,(function(e){var l=a++,u=!1;o.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,o[l]=e,--s||i(o))}),r)})),--s||i(o)}));return o.error&&r(o.value),n.promise},race:function(e){var t=this,n=Y(t),i=n.reject,r=E((function(){var r=m(t.resolve);x(e,(function(e){r.call(t,e).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})})),Nr=Object(r.C)((function(){var e=$(),t=we(),n=Mr(),i=Br(),r=Ot();e({target:"Promise",stat:!0},{allSettled:function(e){var o=this,a=n.f(o),s=a.resolve,l=a.reject,u=i((function(){var n=t(o.resolve),i=[],a=0,l=1;r(e,(function(e){var t=a++,r=!1;i.push(void 0),l++,n.call(o,e).then((function(e){r||(r=!0,i[t]={status:"fulfilled",value:e},--l||s(i))}),(function(e){r||(r=!0,i[t]={status:"rejected",reason:e},--l||s(i))}))})),--l||s(i)}));return u.error&&l(u.value),a.promise}})})),Ur=Object(r.C)((function(){var e=$(),t=F(),n=Er(),i=d(),r=U(),o=Qn(),a=Pr(),s=L();e({target:"Promise",proto:!0,real:!0,forced:!!n&&i((function(){n.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=o(this,r("Promise")),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then((function(){return n}))}:e,n?function(n){return a(t,e()).then((function(){throw n}))}:e)}}),t||"function"!=typeof n||n.prototype.finally||s(n.prototype,"finally",r("Promise").prototype.finally)})),Gr=Object(r.C)((function(e,t){var n=$(),i=f(),r=J(),o=L(),a=kt(),s=Ot(),l=Ir(),u=_(),c=d(),h=ct(),p=ke(),m=Ei();t.exports=function(e,t,f){var d=-1!==e.indexOf("Map"),g=-1!==e.indexOf("Weak"),y=d?"set":"add",v=i[e],b=v&&v.prototype,_=v,x={},k=function(e){var t=b[e];o(b,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(r(e,"function"!=typeof v||!(g||b.forEach&&!c((function(){(new v).entries().next()})))))_=f.getConstructor(t,e,d,y),a.REQUIRED=!0;else if(r(e,!0)){var w=new _,O=w[y](g?{}:-0,1)!=w,S=c((function(){w.has(1)})),C=h((function(e){new v(e)})),j=!g&&c((function(){for(var e=new v,t=5;t--;)e[y](t,t);return!e.has(-0)}));C||((_=t((function(t,n){l(t,_,e);var i=m(new v,t,_);return void 0!=n&&s(n,i[y],i,d),i}))).prototype=b,b.constructor=_),(S||j)&&(k("delete"),k("has"),d&&k("get")),(j||O)&&k(y),g&&b.clear&&delete b.clear}return x[e]=_,n({global:!0,forced:_!=v},x),p(_,e),g||f.setStrong(_,e,d),_}})),Hr=Object(r.C)((function(e,t){var n=j().f,i=ve(),r=Dr(),o=Oe(),a=Ir(),s=Ot(),l=rt(),u=En(),c=h(),f=kt().fastKey,d=B(),p=d.set,m=d.getterFor;t.exports={getConstructor:function(e,t,l,u){var d=e((function(e,n){a(e,d,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),c||(e.size=0),void 0!=n&&s(n,e[u],e,l)})),h=m(t),g=function(e,t,n){var i,r,o=h(e),a=y(e,t);return a?a.value=n:(o.last=a={index:r=f(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=a),i&&(i.next=a),c?o.size++:e.size++,"F"!==r&&(o.index[r]=a)),e},y=function(e,t){var n,i=h(e),r=f(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return r(d.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,c?e.size=0:this.size=0},delete:function(e){var t=this,n=h(t),i=y(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),c?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=h(this),i=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),r(d.prototype,l?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),c&&n(d.prototype,"size",{get:function(){return h(this).size}}),d},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),o=m(i);l(e,t,(function(e,t){p(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}})),Wr=Object(r.C)((function(e,t){var n=Gr(),i=Hr();t.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)})),Vr=Object(r.C)((function(e,t){var n=Gr(),i=Hr();t.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)})),qr=Object(r.C)((function(e,t){var n=Dr(),i=kt().getWeakData,r=C(),o=_(),a=Ir(),s=Ot(),l=Se(),u=k(),c=B(),f=c.set,d=c.getterFor,h=l.find,p=l.findIndex,m=0,g=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},v=function(e,t){return h(e.entries,(function(e){return e[0]===t}))};y.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=p(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,l,c){var h=e((function(e,n){a(e,h,t),f(e,{type:t,id:m++,frozen:void 0}),void 0!=n&&s(n,e[c],e,l)})),p=d(t),y=function(e,t,n){var o=p(e),a=i(r(t),!0);return!0===a?g(o).set(t,n):a[o.id]=n,e};return n(h.prototype,{delete:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?g(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=p(this);if(!o(e))return!1;var n=i(e);return!0===n?g(t).has(e):n&&u(n,t.id)}}),n(h.prototype,l?{get:function(e){var t=p(this);if(o(e)){var n=i(e);return!0===n?g(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return y(this,e,t)}}:{add:function(e){return y(this,e,!0)}}),h}}})),Kr=Object(r.C)((function(e,t){var n,i,r,o,a,s,l=f(),u=Dr(),c=kt(),d=Gr(),h=qr(),p=_(),m=B().enforce,g=R(),y=!l.ActiveXObject&&"ActiveXObject"in l,v=Object.isExtensible,b=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},x=t.exports=d("WeakMap",b,h);g&&y&&(n=h.getConstructor(b,"WeakMap",!0),c.REQUIRED=!0,i=x.prototype,r=i.delete,o=i.has,a=i.get,s=i.set,u(i,{delete:function(e){if(p(e)&&!v(e)){var t=m(this);return t.frozen||(t.frozen=new n),r.call(this,e)||t.frozen.delete(e)}return r.call(this,e)},has:function(e){if(p(e)&&!v(e)){var t=m(this);return t.frozen||(t.frozen=new n),o.call(this,e)||t.frozen.has(e)}return o.call(this,e)},get:function(e){if(p(e)&&!v(e)){var t=m(this);return t.frozen||(t.frozen=new n),o.call(this,e)?a.call(this,e):t.frozen.get(e)}return a.call(this,e)},set:function(e,t){if(p(e)&&!v(e)){var i=m(this);i.frozen||(i.frozen=new n),o.call(this,e)?s.call(this,e,t):i.frozen.set(e,t)}else s.call(this,e,t);return this}}))})),Xr=Object(r.C)((function(){Gr()("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),qr())})),Yr=Object(r.C)((function(e,t){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView})),Qr=Object(r.C)((function(e,t){var n=G(),i=H();t.exports=function(e){if(void 0===e)return 0;var t=n(e),r=i(t);if(t!==r)throw RangeError("Wrong length or index");return r}})),Zr=Object(r.C)((function(e,t){var n=Math.abs,i=Math.pow,r=Math.floor,o=Math.log,a=Math.LN2;t.exports={pack:function(e,t,s){var l,u,c,f=new Array(s),d=8*s-t-1,h=(1<<d)-1,p=h>>1,m=23===t?i(2,-24)-i(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,l=h):(l=r(o(e)/a),e*(c=i(2,-l))<1&&(l--,c*=2),(e+=l+p>=1?m/c:m*i(2,1-p))*c>=2&&(l++,c/=2),l+p>=h?(u=0,l=h):l+p>=1?(u=(e*c-1)*i(2,t),l+=p):(u=e*i(2,p-1)*i(2,t),l=0));t>=8;f[y++]=255&u,u/=256,t-=8);for(l=l<<t|u,d+=t;d>0;f[y++]=255&l,l/=256,d-=8);return f[--y]|=128*g,f},unpack:function(e,t){var n,r=e.length,o=8*r-t-1,a=(1<<o)-1,s=a>>1,l=o-7,u=r-1,c=e[u--],f=127&c;for(c>>=7;l>0;f=256*f+e[u],u--,l-=8);for(n=f&(1<<-l)-1,f>>=-l,l+=t;l>0;n=256*n+e[u],u--,l-=8);if(0===f)f=1-s;else{if(f===a)return n?NaN:c?-1/0:1/0;n+=i(2,t),f-=s}return(c?-1:1)*n*i(2,f-t)}}})),Jr=Object(r.C)((function(e,t){var n,i,r,o,a,s,l=f(),u=h(),c=Yr(),p=T(),m=Dr(),g=d(),y=Ir(),v=G(),b=H(),_=Qr(),x=Zr(),k=Je(),w=it(),O=X().f,S=j().f,C=on(),E=ke(),D=B(),I=D.get,R=D.set,F="ArrayBuffer",A="DataView",M="prototype",P="Wrong index",z=l[F],L=z,N=l[A],U=N&&N[M],W=Object.prototype,V=l.RangeError,q=x.pack,K=x.unpack,Y=function(e){return[255&e]},Q=function(e){return[255&e,e>>8&255]},Z=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},J=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},$=function(e){return q(e,23,4)},ee=function(e){return q(e,52,8)},te=function(e,t){S(e[M],t,{get:function(){return I(this)[t]}})},ne=function(e,t,n,i){var r=_(n),o=I(e);if(r+t>o.byteLength)throw V(P);var a=I(o.buffer).bytes,s=r+o.byteOffset,l=a.slice(s,s+t);return i?l:l.reverse()},ie=function(e,t,n,i,r,o){var a=_(n),s=I(e);if(a+t>s.byteLength)throw V(P);for(var l=I(s.buffer).bytes,u=a+s.byteOffset,c=i(+r),f=0;f<t;f++)l[u+f]=c[o?f:t-f-1]};if(c){if(!g((function(){z(1)}))||!g((function(){new z(-1)}))||g((function(){return new z,new z(1.5),new z(NaN),z.name!=F}))){for(n=(L=function(e){return y(this,L),new z(_(e))})[M]=z[M],i=O(z),r=0;i.length>r;)(o=i[r++])in L||p(L,o,z[o]);n.constructor=L}w&&k(U)!==W&&w(U,W),a=new N(new L(2)),s=U.setInt8,a.setInt8(0,2147483648),a.setInt8(1,2147483649),!a.getInt8(0)&&a.getInt8(1)||m(U,{setInt8:function(e,t){s.call(this,e,t<<24>>24)},setUint8:function(e,t){s.call(this,e,t<<24>>24)}},{unsafe:!0})}else L=function(e){y(this,L,F);var t=_(e);R(this,{bytes:C.call(new Array(t),0),byteLength:t}),u||(this.byteLength=t)},N=function(e,t,n){y(this,N,A),y(e,L,A);var i=I(e).byteLength,r=v(t);if(r<0||r>i)throw V("Wrong offset");if(r+(n=void 0===n?i-r:b(n))>i)throw V("Wrong length");R(this,{buffer:e,byteLength:n,byteOffset:r}),u||(this.buffer=e,this.byteLength=n,this.byteOffset=r)},u&&(te(L,"byteLength"),te(N,"buffer"),te(N,"byteLength"),te(N,"byteOffset")),m(N[M],{getInt8:function(e){return ne(this,1,e)[0]<<24>>24},getUint8:function(e){return ne(this,1,e)[0]},getInt16:function(e){var t=ne(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ne(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return J(ne(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return J(ne(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return K(ne(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return K(ne(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){ie(this,1,e,Y,t)},setUint8:function(e,t){ie(this,1,e,Y,t)},setInt16:function(e,t){ie(this,2,e,Q,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){ie(this,2,e,Q,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){ie(this,4,e,Z,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){ie(this,4,e,Z,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){ie(this,4,e,$,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){ie(this,8,e,ee,t,arguments.length>2?arguments[2]:void 0)}});E(L,F),E(N,A),t.exports={ArrayBuffer:L,DataView:N}})),$r=Object(r.C)((function(){var e=$(),t=f(),n=Jr(),i=En(),r="ArrayBuffer",o=n[r];e({global:!0,forced:t[r]!==o},{ArrayBuffer:o}),i(r)})),eo=Object(r.C)((function(e,t){var n,i=Yr(),r=h(),o=f(),a=_(),s=k(),l=de(),u=T(),c=L(),d=j().f,p=Je(),m=it(),g=oe(),y=M(),v=o.Int8Array,b=v&&v.prototype,x=o.Uint8ClampedArray,w=x&&x.prototype,O=v&&p(v),S=b&&p(b),C=Object.prototype,E=C.isPrototypeOf,D=g("toStringTag"),I=y("TYPED_ARRAY_TAG"),R=i&&!!m&&"Opera"!==l(o.opera),F=!1,A={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(e){return a(e)&&s(A,l(e))};for(n in A)o[n]||(R=!1);if((!R||"function"!=typeof O||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},R))for(n in A)o[n]&&m(o[n],O);if((!R||!S||S===C)&&(S=O.prototype,R))for(n in A)o[n]&&m(o[n].prototype,S);if(R&&p(w)!==S&&m(w,S),r&&!s(S,D))for(n in F=!0,d(S,D,{get:function(){return a(this)?this[I]:void 0}}),A)o[n]&&u(o[n],I,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_TAG:F&&I,aTypedArray:function(e){if(P(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(E.call(O,e))return e}else for(var t in A)if(s(A,n)){var i=o[t];if(i&&(e===i||E.call(i,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(r){if(n)for(var i in A){var a=o[i];a&&s(a.prototype,e)&&delete a.prototype[e]}S[e]&&!n||c(S,e,n?t:R&&b[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var i,a;if(r){if(m){if(n)for(i in A)(a=o[i])&&s(a,e)&&delete a[e];if(O[e]&&!n)return;try{return c(O,e,n?t:R&&v[e]||t)}catch(l){}}for(i in A)!(a=o[i])||a[e]&&!n||c(a,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(A,t)},isTypedArray:P,TypedArray:O,TypedArrayPrototype:S}})),to=Object(r.C)((function(){var e=$(),t=eo();e({target:"ArrayBuffer",stat:!0,forced:!t.NATIVE_ARRAY_BUFFER_VIEWS},{isView:t.isView})})),no=Object(r.C)((function(){var e=$(),t=d(),n=Jr(),i=C(),r=W(),o=H(),a=Qn(),s=n.ArrayBuffer,l=n.DataView,u=s.prototype.slice;e({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:t((function(){return!new s(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(void 0!==u&&void 0===t)return u.call(i(this),e);for(var n=i(this).byteLength,c=r(e,n),f=r(void 0===t?n:t,n),d=new(a(this,s))(o(f-c)),h=new l(this),p=new l(d),m=0;c<f;)p.setUint8(m++,h.getUint8(c++));return d}})})),io=Object(r.C)((function(){var e=$(),t=Jr();e({global:!0,forced:!Yr()},{DataView:t.DataView})})),ro=Object(r.C)((function(e,t){var n=f(),i=d(),r=ct(),o=eo().NATIVE_ARRAY_BUFFER_VIEWS,a=n.ArrayBuffer,s=n.Int8Array;t.exports=!o||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!r((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new a(2),1,void 0).length}))})),oo=Object(r.C)((function(e,t){var n=G();t.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}})),ao=Object(r.C)((function(e,t){var n=oo();t.exports=function(e,t){var i=n(e);if(i%t)throw RangeError("Wrong offset");return i}})),so=Object(r.C)((function(e,t){var n=te(),i=H(),r=lt(),o=st(),a=Oe(),s=eo().aTypedArrayConstructor;t.exports=function(e){var t,l,u,c,f,d,h=n(e),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,y=r(h);if(void 0!=y&&!o(y))for(d=(f=y.call(h)).next,h=[];!(c=d.call(f)).done;)h.push(c.value);for(g&&p>2&&(m=a(m,arguments[2],2)),l=i(h.length),u=new(s(this))(l),t=0;l>t;t++)u[t]=g?m(h[t],t):h[t];return u}})),lo=Object(r.C)((function(e,t){var n=$(),i=f(),r=h(),o=ro(),a=eo(),s=Jr(),l=Ir(),u=m(),c=T(),d=H(),p=Qr(),g=ao(),y=x(),v=k(),b=de(),w=_(),O=ve(),C=it(),E=X().f,D=so(),I=Se().forEach,R=En(),F=j(),A=S(),M=B(),P=Ei(),z=M.get,L=M.set,N=F.f,U=A.f,G=Math.round,W=i.RangeError,V=s.ArrayBuffer,q=s.DataView,K=a.NATIVE_ARRAY_BUFFER_VIEWS,Y=a.TYPED_ARRAY_TAG,Q=a.TypedArray,Z=a.TypedArrayPrototype,J=a.aTypedArrayConstructor,ee=a.isTypedArray,te="BYTES_PER_ELEMENT",ne="Wrong length",ie=function(e,t){for(var n=0,i=t.length,r=new(J(e))(i);i>n;)r[n]=t[n++];return r},re=function(e,t){N(e,t,{get:function(){return z(this)[t]}})},oe=function(e){var t;return e instanceof V||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ae=function(e,t){return ee(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},se=function(e,t){return ae(e,t=y(t,!0))?u(2,e[t]):U(e,t)},le=function(e,t,n){return!(ae(e,t=y(t,!0))&&w(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?N(e,t,n):(e[t]=n.value,e)};r?(K||(A.f=se,F.f=le,re(Z,"buffer"),re(Z,"byteOffset"),re(Z,"byteLength"),re(Z,"length")),n({target:"Object",stat:!0,forced:!K},{getOwnPropertyDescriptor:se,defineProperty:le}),t.exports=function(e,t,r){var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,f="set"+e,h=i[s],m=h,y=m&&m.prototype,v={},b=function(e,t){N(e,t,{get:function(){return function(e,t){var n=z(e);return n.view[u](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var i=z(e);r&&(n=(n=G(n))<0?0:n>255?255:255&n),i.view[f](t*a+i.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};K?o&&(m=t((function(e,t,n,i){return l(e,m,s),P(w(t)?oe(t)?void 0!==i?new h(t,g(n,a),i):void 0!==n?new h(t,g(n,a)):new h(t):ee(t)?ie(m,t):D.call(m,t):new h(p(t)),e,m)})),C&&C(m,Q),I(E(h),(function(e){e in m||c(m,e,h[e])})),m.prototype=y):(m=t((function(e,t,n,i){l(e,m,s);var r,o,u,c=0,f=0;if(w(t)){if(!oe(t))return ee(t)?ie(m,t):D.call(m,t);r=t,f=g(n,a);var h=t.byteLength;if(void 0===i){if(h%a)throw W(ne);if((o=h-f)<0)throw W(ne)}else if((o=d(i)*a)+f>h)throw W(ne);u=o/a}else u=p(t),r=new V(o=u*a);for(L(e,{buffer:r,byteOffset:f,byteLength:o,length:u,view:new q(r)});c<u;)b(e,c++)})),C&&C(m,Q),y=m.prototype=O(Z)),y.constructor!==m&&c(y,"constructor",m),Y&&c(y,Y,s),v[s]=m,n({global:!0,forced:m!=h,sham:!K},v),te in m||c(m,te,a),te in y||c(y,te,a),R(s)}):t.exports=function(){}})),uo=Object(r.C)((function(){lo()("Int8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),co=Object(r.C)((function(){lo()("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),fo=Object(r.C)((function(){lo()("Uint8",(function(e){return function(t,n,i){return e(this,t,n,i)}}),!0)})),ho=Object(r.C)((function(){lo()("Int16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),po=Object(r.C)((function(){lo()("Uint16",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),mo=Object(r.C)((function(){lo()("Int32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),go=Object(r.C)((function(){lo()("Uint32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),yo=Object(r.C)((function(){lo()("Float32",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),vo=Object(r.C)((function(){lo()("Float64",(function(e){return function(t,n,i){return e(this,t,n,i)}}))})),bo=Object(r.C)((function(){var e=ro();(0,eo().exportTypedArrayStaticMethod)("from",so(),e)})),_o=Object(r.C)((function(){var e=eo(),t=ro(),n=e.aTypedArrayConstructor;(0,e.exportTypedArrayStaticMethod)("of",(function(){for(var e=0,t=arguments.length,i=new(n(this))(t);t>e;)i[e]=arguments[e++];return i}),t)})),xo=Object(r.C)((function(){var e=eo(),t=Jt(),n=e.aTypedArray;(0,e.exportTypedArrayMethod)("copyWithin",(function(e,i){return t.call(n(this),e,i,arguments.length>2?arguments[2]:void 0)}))})),ko=Object(r.C)((function(){var e=eo(),t=Se().every,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("every",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),wo=Object(r.C)((function(){var e=eo(),t=on(),n=e.aTypedArray;(0,e.exportTypedArrayMethod)("fill",(function(e){return t.apply(n(this),arguments)}))})),Oo=Object(r.C)((function(){var e=eo(),t=Se().filter,n=Qn(),i=e.aTypedArray,r=e.aTypedArrayConstructor;(0,e.exportTypedArrayMethod)("filter",(function(e){for(var o=t(i(this),e,arguments.length>1?arguments[1]:void 0),a=n(this,this.constructor),s=0,l=o.length,u=new(r(a))(l);l>s;)u[s]=o[s++];return u}))})),So=Object(r.C)((function(){var e=eo(),t=Se().find,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("find",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),Co=Object(r.C)((function(){var e=eo(),t=Se().findIndex,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("findIndex",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),jo=Object(r.C)((function(){var e=eo(),t=Se().forEach,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("forEach",(function(e){t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),To=Object(r.C)((function(){var e=eo(),t=V().includes,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("includes",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),Eo=Object(r.C)((function(){var e=eo(),t=V().indexOf,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("indexOf",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),Do=Object(r.C)((function(){var e=f(),t=eo(),n=Fn(),i=oe()("iterator"),r=e.Uint8Array,o=n.values,a=n.keys,s=n.entries,l=t.aTypedArray,u=t.exportTypedArrayMethod,c=r&&r.prototype[i],d=!!c&&("values"==c.name||void 0==c.name),h=function(){return o.call(l(this))};u("entries",(function(){return s.call(l(this))})),u("keys",(function(){return a.call(l(this))})),u("values",h,!d),u(i,h,!d)})),Io=Object(r.C)((function(){var e=eo(),t=e.aTypedArray,n=e.exportTypedArrayMethod,i=[].join;n("join",(function(e){return i.apply(t(this),arguments)}))})),Ro=Object(r.C)((function(){var e=eo(),t=vn(),n=e.aTypedArray;(0,e.exportTypedArrayMethod)("lastIndexOf",(function(e){return t.apply(n(this),arguments)}))})),Fo=Object(r.C)((function(){var e=eo(),t=Se().map,n=Qn(),i=e.aTypedArray,r=e.aTypedArrayConstructor;(0,e.exportTypedArrayMethod)("map",(function(e){return t(i(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(r(n(e,e.constructor)))(t)}))}))})),Ao=Object(r.C)((function(){var e=eo(),t=xn().left,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduce",(function(e){return t(n(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))})),Mo=Object(r.C)((function(){var e=eo(),t=xn().right,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("reduceRight",(function(e){return t(n(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))})),Po=Object(r.C)((function(){var e=eo(),t=e.aTypedArray,n=e.exportTypedArrayMethod,i=Math.floor;n("reverse",(function(){for(var e,n=this,r=t(n).length,o=i(r/2),a=0;a<o;)e=n[a],n[a++]=n[--r],n[r]=e;return n}))})),zo=Object(r.C)((function(){var e=eo(),t=H(),n=ao(),i=te(),r=d(),o=e.aTypedArray;(0,e.exportTypedArrayMethod)("set",(function(e){o(this);var r=n(arguments.length>1?arguments[1]:void 0,1),a=this.length,s=i(e),l=t(s.length),u=0;if(l+r>a)throw RangeError("Wrong length");for(;u<l;)this[r+u]=s[u++]}),r((function(){new Int8Array(1).set({})})))})),Bo=Object(r.C)((function(){var e=eo(),t=Qn(),n=d(),i=e.aTypedArray,r=e.aTypedArrayConstructor,o=e.exportTypedArrayMethod,a=[].slice;o("slice",(function(e,n){for(var o=a.call(i(this),e,n),s=t(this,this.constructor),l=0,u=o.length,c=new(r(s))(u);u>l;)c[l]=o[l++];return c}),n((function(){new Int8Array(1).slice()})))})),Lo=Object(r.C)((function(){var e=eo(),t=Se().some,n=e.aTypedArray;(0,e.exportTypedArrayMethod)("some",(function(e){return t(n(this),e,arguments.length>1?arguments[1]:void 0)}))})),No=Object(r.C)((function(){var e=eo(),t=e.aTypedArray,n=e.exportTypedArrayMethod,i=[].sort;n("sort",(function(e){return i.call(t(this),e)}))})),Uo=Object(r.C)((function(){var e=eo(),t=H(),n=W(),i=Qn(),r=e.aTypedArray;(0,e.exportTypedArrayMethod)("subarray",(function(e,o){var a=r(this),s=a.length,l=n(e,s);return new(i(a,a.constructor))(a.buffer,a.byteOffset+l*a.BYTES_PER_ELEMENT,t((void 0===o?s:n(o,s))-l))}))})),Go=Object(r.C)((function(){var e=f(),t=eo(),n=d(),i=e.Int8Array,r=t.aTypedArray,o=t.exportTypedArrayMethod,a=[].toLocaleString,s=[].slice,l=!!i&&n((function(){a.call(new i(1))}));o("toLocaleString",(function(){return a.apply(l?s.call(r(this)):r(this),arguments)}),n((function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()}))||!n((function(){i.prototype.toLocaleString.call([1,2])})))})),Ho=Object(r.C)((function(){var e=eo().exportTypedArrayMethod,t=d(),n=f().Uint8Array,i=n&&n.prototype||{},r=[].toString,o=[].join;t((function(){r.call({})}))&&(r=function(){return o.call(this)});var a=i.toString!=r;e("toString",r,a)})),Wo=Object(r.C)((function(){var e=$(),t=U(),n=we(),i=C(),r=d(),o=t("Reflect","apply"),a=Function.apply;e({target:"Reflect",stat:!0,forced:!r((function(){o((function(){}))}))},{apply:function(e,t,r){return n(e),i(r),o?o(e,t,r):a.call(e,t,r)}})})),Vo=Object(r.C)((function(){var e=$(),t=U(),n=we(),i=C(),r=_(),o=ve(),a=Vt(),s=d(),l=t("Reflect","construct"),u=s((function(){function e(){}return!(l((function(){}),[],e)instanceof e)})),c=!s((function(){l((function(){}))})),f=u||c;e({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(e,t){n(e),i(t);var s=arguments.length<3?e:n(arguments[2]);if(c&&!u)return l(e,t,s);if(e==s){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var f=[null];return f.push.apply(f,t),new(a.apply(e,f))}var d=s.prototype,h=o(r(d)?d:Object.prototype),p=Function.apply.call(e,h,t);return r(p)?p:h}})})),qo=Object(r.C)((function(){var e=$(),t=h(),n=C(),i=x(),r=j();e({target:"Reflect",stat:!0,forced:d()((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),sham:!t},{defineProperty:function(e,t,o){n(e);var a=i(t,!0);n(o);try{return r.f(e,a,o),!0}catch(s){return!1}}})})),Ko=Object(r.C)((function(){var e=$(),t=C(),n=S().f;e({target:"Reflect",stat:!0},{deleteProperty:function(e,i){var r=n(t(e),i);return!(r&&!r.configurable)&&delete e[i]}})})),Xo=Object(r.C)((function(){var e=$(),t=_(),n=C(),i=k(),r=S(),o=Je();e({target:"Reflect",stat:!0},{get:function e(a,s){var l,u,c=arguments.length<3?a:arguments[2];return n(a)===c?a[s]:(l=r.f(a,s))?i(l,"value")?l.value:void 0===l.get?void 0:l.get.call(c):t(u=o(a))?e(u,s,c):void 0}})})),Yo=Object(r.C)((function(){var e=$(),t=h(),n=C(),i=S();e({target:"Reflect",stat:!0,sham:!t},{getOwnPropertyDescriptor:function(e,t){return i.f(n(e),t)}})})),Qo=Object(r.C)((function(){var e=$(),t=C(),n=Je();e({target:"Reflect",stat:!0,sham:!Ze()},{getPrototypeOf:function(e){return n(t(e))}})})),Zo=Object(r.C)((function(){$()({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})})),Jo=Object(r.C)((function(){var e=$(),t=C(),n=Object.isExtensible;e({target:"Reflect",stat:!0},{isExtensible:function(e){return t(e),!n||n(e)}})})),$o=Object(r.C)((function(){$()({target:"Reflect",stat:!0},{ownKeys:Q()})})),ea=Object(r.C)((function(){var e=$(),t=U(),n=C();e({target:"Reflect",stat:!0,sham:!xt()},{preventExtensions:function(e){n(e);try{var i=t("Object","preventExtensions");return i&&i(e),!0}catch(r){return!1}}})})),ta=Object(r.C)((function(){var e=$(),t=C(),n=_(),i=k(),r=d(),o=j(),a=S(),s=Je(),l=m();e({target:"Reflect",stat:!0,forced:r((function(){var e=o.f({},"a",{configurable:!0});return!1!==Reflect.set(s(e),"a",1,e)}))},{set:function e(r,u,c){var f,d,h=arguments.length<4?r:arguments[3],p=a.f(t(r),u);if(!p){if(n(d=s(r)))return e(d,u,c,h);p=l(0)}if(i(p,"value")){if(!1===p.writable||!n(h))return!1;if(f=a.f(h,u)){if(f.get||f.set||!1===f.writable)return!1;f.value=c,o.f(h,u,f)}else o.f(h,u,l(0,c));return!0}return void 0!==p.set&&(p.set.call(h,c),!0)}})})),na=Object(r.C)((function(){var e=$(),t=C(),n=nt(),i=it();i&&e({target:"Reflect",stat:!0},{setPrototypeOf:function(e,r){t(e),n(r);try{return i(e,r),!0}catch(o){return!1}}})})),ia=Object(r.C)((function(e,t){Ce(),je(),Te(),Ee(),De(),Ie(),Re(),Fe(),Ae(),Me(),Pe(),ze(),Be(),Le(),Ne(),mt(),gt(),yt(),vt(),_t(),wt(),St(),Ct(),jt(),Tt(),Et(),It(),Rt(),Ft(),At(),Mt(),Pt(),zt(),Bt(),Lt(),pe(),Ut(),Gt(),Ht(),Wt(),qt(),Kt(),Xt(),Yt(),ft(),Qt(),Zt(),ce(),en(),rn(),an(),sn(),ln(),un(),fn(),dn(),pn(),mn(),gn(),yn(),bn(),_n(),kn(),wn(),On(),Sn(),Cn(),jn(),Tn(),Dn(),In(),Rn(),Fn(),An(),Mn(),Pn(),Nn(),Un(),Yn(),Zn(),ti(),ni(),ii(),ri(),oi(),ai(),si(),fi(),di(),hi(),ot(),gi(),yi(),vi(),bi(),_i(),xi(),ki(),wi(),Oi(),Si(),Ci(),ji(),Ti(),Di(),Vn(),Ii(),Ri(),Fi(),Ai(),Pi(),Bi(),Li(),Ni(),Gi(),Wi(),Vi(),qi(),Ki(),Xi(),Yi(),Qi(),Ji(),$i(),tr(),nr(),ir(),or(),ar(),lr(),ur(),fr(),dr(),hr(),pr(),mr(),gr(),yr(),vr(),br(),Ue(),_r(),xr(),kr(),Or(),Sr(),jr(),Tr(),Ge(),Lr(),Nr(),Ur(),Wr(),Vr(),Kr(),Xr(),$r(),to(),no(),io(),uo(),co(),fo(),ho(),po(),mo(),go(),yo(),vo(),bo(),_o(),xo(),ko(),wo(),Oo(),So(),Co(),jo(),To(),Eo(),Do(),Io(),Ro(),Fo(),Ao(),Mo(),Po(),zo(),Bo(),Lo(),No(),Uo(),Go(),Ho(),Wo(),Vo(),qo(),Ko(),Xo(),Yo(),Qo(),Zo(),Jo(),$o(),ea(),ta(),na();var n=N();t.exports=n})),ra=Object(r.C)((function(e,t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}})),oa=Object(r.C)((function(){var e,t,n,i=f(),r=ra(),o=hn(),a=T();for(n in r)if((t=(e=i[n])&&e.prototype)&&t.forEach!==o)try{a(t,"forEach",o)}catch(s){t.forEach=o}})),aa=Object(r.C)((function(){var e,t,n,i,r=f(),o=ra(),a=Fn(),s=T(),l=oe(),u=l("iterator"),c=l("toStringTag"),d=a.values;for(i in o)if(t=(e=r[i])&&e.prototype){if(t[u]!==d)try{s(t,u,d)}catch(h){t[u]=d}if(t[c]||s(t,c,i),o[i])for(n in a)if(t[n]!==a[n])try{s(t,n,a[n])}catch(h){t[n]=a[n]}}})),sa=Object(r.C)((function(){var e=$(),t=f(),n=Fr();e({global:!0,bind:!0,enumerable:!0,forced:!t.setImmediate||!t.clearImmediate},{setImmediate:n.set,clearImmediate:n.clear})})),la=Object(r.C)((function(){var e=$(),t=f(),n=Ar(),i=g(),r=t.process,o="process"==i(r);e({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=o&&r.domain;n(t?t.bind(e):e)}})})),ua=Object(r.C)((function(){var e=$(),t=f(),n=se(),i=[].slice,r=function(e){return function(t,n){var r=arguments.length>2,o=r?i.call(arguments,2):void 0;return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};e({global:!0,bind:!0,forced:/MSIE .\./.test(n)},{setTimeout:r(t.setTimeout),setInterval:r(t.setInterval)})})),ca=Object(r.C)((function(e,t){var n=d(),i=oe(),r=F(),o=i("iterator");t.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),r&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))})),fa=Object(r.C)((function(e,t){var n=2147483647,i=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},u=function(e,t,n){var i=0;for(e=n?a(e/700):e>>1,e+=a(e/t);e>455;i+=36)e=a(e/35);return a(i+36*e/(e+38))},c=function(e){var t,i,r=[],c=(e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(e)).length,f=128,d=0,h=72;for(t=0;t<e.length;t++)(i=e[t])<128&&r.push(s(i));var p=r.length,m=p;for(p&&r.push("-");m<c;){var g=n;for(t=0;t<e.length;t++)(i=e[t])>=f&&i<g&&(g=i);var y=m+1;if(g-f>a((n-d)/y))throw RangeError(o);for(d+=(g-f)*y,f=g,t=0;t<e.length;t++){if((i=e[t])<f&&++d>n)throw RangeError(o);if(i==f){for(var v=d,b=36;;b+=36){var _=b<=h?1:b>=h+26?26:b-h;if(v<_)break;var x=v-_,k=36-_;r.push(s(l(_+x%k))),v=a(x/k)}r.push(s(l(v))),h=u(d,y,m==p),d=0,++m}}++d,++f}return r.join("")};t.exports=function(e){var t,n,o=[],a=e.toLowerCase().replace(r,".").split(".");for(t=0;t<a.length;t++)n=a[t],o.push(i.test(n)?"xn--"+c(n):n);return o.join(".")}})),da=Object(r.C)((function(e,t){var n=C(),i=lt();t.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}})),ha=Object(r.C)((function(e,t){Fn();var n=$(),i=U(),r=ca(),o=L(),a=Dr(),s=ke(),l=tt(),u=B(),c=Ir(),f=k(),d=Oe(),h=de(),p=C(),g=_(),y=ve(),v=m(),b=da(),x=lt(),w=oe(),O=i("fetch"),S=i("Headers"),j=w("iterator"),T="URLSearchParams",E=T+"Iterator",D=u.set,I=u.getterFor(T),R=u.getterFor(E),F=/\+/g,A=Array(4),M=function(e){return A[e-1]||(A[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},P=function(e){try{return decodeURIComponent(e)}catch(t){return e}},z=function(e){var t=e.replace(F," "),n=4;try{return decodeURIComponent(t)}catch(i){for(;n;)t=t.replace(M(n--),P);return t}},N=/[!'()~]|%20/g,G={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},H=function(e){return G[e]},W=function(e){return encodeURIComponent(e).replace(N,H)},V=function(e,t){if(t)for(var n,i,r=t.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(i=n.split("="),e.push({key:z(i.shift()),value:z(i.join("="))}))},q=function(e){this.entries.length=0,V(this.entries,e)},K=function(e,t){if(e<t)throw TypeError("Not enough arguments")},X=l((function(e,t){D(this,{type:E,iterator:b(I(e).entries),kind:t})}),"Iterator",(function(){var e=R(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n})),Y=function(){c(this,Y,T);var e,t,n,i,r,o,a,s,l,u=arguments.length>0?arguments[0]:void 0,d=this,h=[];if(D(d,{type:T,entries:h,updateURL:function(){},updateSearchParams:q}),void 0!==u)if(g(u))if("function"===typeof(e=x(u)))for(n=(t=e.call(u)).next;!(i=n.call(t)).done;){if((a=(o=(r=b(p(i.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");h.push({key:a.value+"",value:s.value+""})}else for(l in u)f(u,l)&&h.push({key:l,value:u[l]+""});else V(h,"string"===typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Q=Y.prototype;a(Q,{append:function(e,t){K(arguments.length,2);var n=I(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){K(arguments.length,1);for(var t=I(this),n=t.entries,i=e+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;t.updateURL()},get:function(e){K(arguments.length,1);for(var t=I(this).entries,n=e+"",i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){K(arguments.length,1);for(var t=I(this).entries,n=e+"",i=[],r=0;r<t.length;r++)t[r].key===n&&i.push(t[r].value);return i},has:function(e){K(arguments.length,1);for(var t=I(this).entries,n=e+"",i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){K(arguments.length,1);for(var n,i=I(this),r=i.entries,o=!1,a=e+"",s=t+"",l=0;l<r.length;l++)(n=r[l]).key===a&&(o?r.splice(l--,1):(o=!0,n.value=s));o||r.push({key:a,value:s}),i.updateURL()},sort:function(){var e,t,n,i=I(this),r=i.entries,o=r.slice();for(r.length=0,n=0;n<o.length;n++){for(e=o[n],t=0;t<n;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===n&&r.push(e)}i.updateURL()},forEach:function(e){for(var t,n=I(this).entries,i=d(e,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new X(this,"keys")},values:function(){return new X(this,"values")},entries:function(){return new X(this,"entries")}},{enumerable:!0}),o(Q,j,Q.entries),o(Q,"toString",(function(){for(var e,t=I(this).entries,n=[],i=0;i<t.length;)e=t[i++],n.push(W(e.key)+"="+W(e.value));return n.join("&")}),{enumerable:!0}),s(Y,T),n({global:!0,forced:!r},{URLSearchParams:Y}),r||"function"!=typeof O||"function"!=typeof S||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,i,r=[e];return arguments.length>1&&(t=arguments[1],g(t)&&(n=t.body,h(n)===T&&((i=t.headers?new S(t.headers):new S).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=y(t,{body:v(0,String(n)),headers:v(0,i)}))),r.push(t)),O.apply(this,r)}}),t.exports={URLSearchParams:Y,getState:I}})),pa=Object(r.C)((function(){ot();var e,t,n,i=$(),r=h(),o=ca(),a=f(),s=ge(),l=L(),u=Ir(),c=k(),d=pt(),p=ut(),m=Qe().codeAt,g=fa(),y=ke(),v=ha(),b=B(),_=a.URL,x=v.URLSearchParams,w=v.getState,O=b.set,S=b.getterFor("URL"),C=Math.floor,j=Math.pow,T="Invalid scheme",E="Invalid host",D="Invalid port",I=/[A-Za-z]/,R=/[\d+-.A-Za-z]/,F=/\d/,A=/^(0x|0X)/,M=/^[0-7]+$/,P=/^\d+$/,z=/^[\dA-Fa-f]+$/,N=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,U=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,G=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,H=/[\u0009\u000A\u000D]/g,W=function(e,t){var n,i,r;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return E;if(!(n=q(t.slice(1,-1))))return E;e.host=n}else if(te(e)){if(t=g(t),N.test(t))return E;if(null===(n=V(t)))return E;e.host=n}else{if(U.test(t))return E;for(n="",i=p(t),r=0;r<i.length;r++)n+=J(i[r],X);e.host=n}},V=function(e){var t,n,i,r,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=A.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?P:8==o?M:z).test(r))return e;a=parseInt(r,o)}n.push(a)}for(i=0;i<t;i++)if(a=n[i],i==t-1){if(a>=j(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*j(256,3-i);return s},q=function(e){var t,n,i,r,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=n=0;n<4&&z.test(d());)t=16*t+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,u>6)return;for(i=0;d();){if(r=null,i>0){if(!("."==d()&&i<4))return;f++}if(!F.test(d()))return;for(;F.test(d());){if(o=parseInt(d(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;f++}l[u]=256*l[u]+r,2!=++i&&4!=i||u++}if(4!=i)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;f++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l},K=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=C(e/256);return t.join(".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},X={},Y=d({},X,{" ":1,'"':1,"<":1,">":1,"`":1}),Q=d({},Y,{"#":1,"?":1,"{":1,"}":1}),Z=d({},Q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(e,t){var n=m(e,0);return n>32&&n<127&&!c(t,e)?e:encodeURIComponent(e)},ee={ftp:21,file:null,http:80,https:443,ws:80,wss:443},te=function(e){return c(ee,e.scheme)},ne=function(e){return""!=e.username||""!=e.password},ie=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},re=function(e,t){var n;return 2==e.length&&I.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},oe=function(e){var t;return e.length>1&&re(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},ae=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&re(t[0],!0)||t.pop()},se=function(e){return"."===e||"%2e"===e.toLowerCase()},le=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},ue={},ce={},fe={},de={},he={},pe={},me={},ye={},ve={},be={},_e={},xe={},we={},Oe={},Se={},Ce={},je={},Te={},Ee={},De={},Ie={},Re=function(t,n,i,r){var o,a,s,l,u=i||ue,f=0,d="",h=!1,m=!1,g=!1;for(i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,n=n.replace(G,"")),n=n.replace(H,""),o=p(n);f<=o.length;){switch(a=o[f],u){case ue:if(!a||!I.test(a)){if(i)return T;u=fe;continue}d+=a.toLowerCase(),u=ce;break;case ce:if(a&&(R.test(a)||"+"==a||"-"==a||"."==a))d+=a.toLowerCase();else{if(":"!=a){if(i)return T;d="",u=fe,f=0;continue}if(i&&(te(t)!=c(ee,d)||"file"==d&&(ne(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=d,i)return void(te(t)&&ee[t.scheme]==t.port&&(t.port=null));d="","file"==t.scheme?u=Oe:te(t)&&r&&r.scheme==t.scheme?u=de:te(t)?u=ye:"/"==o[f+1]?(u=he,f++):(t.cannotBeABaseURL=!0,t.path.push(""),u=Ee)}break;case fe:if(!r||r.cannotBeABaseURL&&"#"!=a)return T;if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,u=Ie;break}u="file"==r.scheme?Oe:pe;continue;case de:if("/"!=a||"/"!=o[f+1]){u=pe;continue}u=ve,f++;break;case he:if("/"==a){u=be;break}u=Te;continue;case pe:if(t.scheme=r.scheme,a==e)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&te(t))u=me;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",u=De;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),u=Te;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Ie}break;case me:if(!te(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,u=Te;continue}u=be}else u=ve;break;case ye:if(u=ve,"/"!=a||"/"!=d.charAt(f+1))continue;f++;break;case ve:if("/"!=a&&"\\"!=a){u=be;continue}break;case be:if("@"==a){h&&(d="%40"+d),h=!0,s=p(d);for(var y=0;y<s.length;y++){var v=s[y];if(":"!=v||g){var b=J(v,Z);g?t.password+=b:t.username+=b}else g=!0}d=""}else if(a==e||"/"==a||"?"==a||"#"==a||"\\"==a&&te(t)){if(h&&""==d)return"Invalid authority";f-=p(d).length+1,d="",u=_e}else d+=a;break;case _e:case xe:if(i&&"file"==t.scheme){u=Ce;continue}if(":"!=a||m){if(a==e||"/"==a||"?"==a||"#"==a||"\\"==a&&te(t)){if(te(t)&&""==d)return E;if(i&&""==d&&(ne(t)||null!==t.port))return;if(l=W(t,d))return l;if(d="",u=je,i)return;continue}"["==a?m=!0:"]"==a&&(m=!1),d+=a}else{if(""==d)return E;if(l=W(t,d))return l;if(d="",u=we,i==xe)return}break;case we:if(!F.test(a)){if(a==e||"/"==a||"?"==a||"#"==a||"\\"==a&&te(t)||i){if(""!=d){var _=parseInt(d,10);if(_>65535)return D;t.port=te(t)&&_===ee[t.scheme]?null:_,d=""}if(i)return;u=je;continue}return D}d+=a;break;case Oe:if(t.scheme="file","/"==a||"\\"==a)u=Se;else{if(!r||"file"!=r.scheme){u=Te;continue}if(a==e)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",u=De;else{if("#"!=a){oe(o.slice(f).join(""))||(t.host=r.host,t.path=r.path.slice(),ae(t)),u=Te;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",u=Ie}}break;case Se:if("/"==a||"\\"==a){u=Ce;break}r&&"file"==r.scheme&&!oe(o.slice(f).join(""))&&(re(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),u=Te;continue;case Ce:if(a==e||"/"==a||"\\"==a||"?"==a||"#"==a){if(!i&&re(d))u=Te;else if(""==d){if(t.host="",i)return;u=je}else{if(l=W(t,d))return l;if("localhost"==t.host&&(t.host=""),i)return;d="",u=je}continue}d+=a;break;case je:if(te(t)){if(u=Te,"/"!=a&&"\\"!=a)continue}else if(i||"?"!=a)if(i||"#"!=a){if(a!=e&&(u=Te,"/"!=a))continue}else t.fragment="",u=Ie;else t.query="",u=De;break;case Te:if(a==e||"/"==a||"\\"==a&&te(t)||!i&&("?"==a||"#"==a)){if(le(d)?(ae(t),"/"==a||"\\"==a&&te(t)||t.path.push("")):se(d)?"/"==a||"\\"==a&&te(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&re(d)&&(t.host&&(t.host=""),d=d.charAt(0)+":"),t.path.push(d)),d="","file"==t.scheme&&(a==e||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",u=De):"#"==a&&(t.fragment="",u=Ie)}else d+=J(a,Q);break;case Ee:"?"==a?(t.query="",u=De):"#"==a?(t.fragment="",u=Ie):a!=e&&(t.path[0]+=J(a,X));break;case De:i||"#"!=a?a!=e&&("'"==a&&te(t)?t.query+="%27":t.query+="#"==a?"%23":J(a,X)):(t.fragment="",u=Ie);break;case Ie:a!=e&&(t.fragment+=J(a,Y))}f++}},Fe=function(e){var t,n,i=u(this,Fe,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=O(i,{type:"URL"});if(void 0!==o)if(o instanceof Fe)t=S(o);else if(n=Re(t={},String(o)))throw TypeError(n);if(n=Re(s,a,null,t))throw TypeError(n);var l=s.searchParams=new x,c=w(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},r||(i.href=Me.call(i),i.origin=Pe.call(i),i.protocol=ze.call(i),i.username=Be.call(i),i.password=Le.call(i),i.host=Ne.call(i),i.hostname=Ue.call(i),i.port=Ge.call(i),i.pathname=He.call(i),i.search=We.call(i),i.searchParams=Ve.call(i),i.hash=qe.call(i))},Ae=Fe.prototype,Me=function(){var e=S(this),t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,a=e.path,s=e.query,l=e.fragment,u=t+":";return null!==r?(u+="//",ne(e)&&(u+=n+(i?":"+i:"")+"@"),u+=K(r),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},Pe=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&te(e)?t+"://"+K(e.host)+(null!==n?":"+n:""):"null"},ze=function(){return S(this).scheme+":"},Be=function(){return S(this).username},Le=function(){return S(this).password},Ne=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?K(t):K(t)+":"+n},Ue=function(){var e=S(this).host;return null===e?"":K(e)},Ge=function(){var e=S(this).port;return null===e?"":String(e)},He=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},We=function(){var e=S(this).query;return e?"?"+e:""},Ve=function(){return S(this).searchParams},qe=function(){var e=S(this).fragment;return e?"#"+e:""},Ke=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};r&&s(Ae,{href:Ke(Me,(function(e){var t=S(this),n=String(e),i=Re(t,n);if(i)throw TypeError(i);w(t.searchParams).updateSearchParams(t.query)})),origin:Ke(Pe),protocol:Ke(ze,(function(e){var t=S(this);Re(t,String(e)+":",ue)})),username:Ke(Be,(function(e){var t=S(this),n=p(String(e));if(!ie(t)){t.username="";for(var i=0;i<n.length;i++)t.username+=J(n[i],Z)}})),password:Ke(Le,(function(e){var t=S(this),n=p(String(e));if(!ie(t)){t.password="";for(var i=0;i<n.length;i++)t.password+=J(n[i],Z)}})),host:Ke(Ne,(function(e){var t=S(this);t.cannotBeABaseURL||Re(t,String(e),_e)})),hostname:Ke(Ue,(function(e){var t=S(this);t.cannotBeABaseURL||Re(t,String(e),xe)})),port:Ke(Ge,(function(e){var t=S(this);ie(t)||(""==(e=String(e))?t.port=null:Re(t,e,we))})),pathname:Ke(He,(function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],Re(t,e+"",je))})),search:Ke(We,(function(e){var t=S(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",Re(t,e,De)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Ke(Ve),hash:Ke(qe,(function(e){var t=S(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",Re(t,e,Ie)):t.fragment=null}))}),l(Ae,"toJSON",(function(){return Me.call(this)}),{enumerable:!0}),l(Ae,"toString",(function(){return Me.call(this)}),{enumerable:!0}),_&&(t=_.createObjectURL,n=_.revokeObjectURL,t&&l(Fe,"createObjectURL",(function(e){return t.apply(_,arguments)})),n&&l(Fe,"revokeObjectURL",(function(e){return n.apply(_,arguments)}))),y(Fe,"URL"),i({global:!0,forced:!o,sham:!r},{URL:Fe})})),ma=Object(r.C)((function(){$()({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})})),ga=Object(r.C)((function(e,t){oa(),aa(),sa(),la(),ua(),pa(),ma(),ha();var n=N();t.exports=n})),ya=Object(r.C)((function(e,t){ia(),ga();var n=N();t.exports=n})),va=Object(r.C)((function(e,t){var n=function(e){var t,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(D){l=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var r=t&&t.prototype instanceof m?t:m,o=Object.create(r.prototype),a=new j(i||[]);return o._invoke=function(e,t,n){var i=f;return function(r,o){if(i===d)throw new Error("Generator is already running");if(i===h){if("throw"===r)throw o;return E()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===f)throw i=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var l=c(e,t,n);if("normal"===l.type){if(i=n.done?h:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=h,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=u;var f="suspendedStart",d="executing",h="completed",p={};function m(){}function g(){}function y(){}var v={};v[o]=function(){return this};var b=Object.getPrototypeOf,_=b&&b(b(T([])));_&&_!==n&&i.call(_,o)&&(v=_);var x=y.prototype=m.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var n;this._invoke=function(r,o){function a(){return new t((function(n,a){!function n(r,o,a,s){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"===typeof f&&i.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}(r,o,n,a)}))}return n=n?n.then(a,a):a()}}function O(e,n){var i=e.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=c(i,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,p):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function n(){for(;++r<e.length;)if(i.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:E}}function E(){return{value:t,done:!0}}return g.prototype=x.constructor=y,y.constructor=g,g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},k(w.prototype),w.prototype[a]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new w(u(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(x),l(x,s,"Generator"),x[o]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(i,r){return s.type="throw",s.arg=e,n.next=i,r&&(n.method="next",n.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,i){return this.delegate={iterator:T(e),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=t),p}},e}("object"===typeof t?t.exports:{});try{regeneratorRuntime=n}catch(i){Function("r","regeneratorRuntime = r")(n)}})),ba=Object(r.C)((function(e,t){var n=f(),i=Oe(),r=Function.call;t.exports=function(e,t,o){return i(r,n[e].prototype[t],o)}})),_a=Object(r.C)((function(e,t){ln();var n=ba();t.exports=n("Array","find")})),xa=Object(r.C)((function(e,t){var n=_a();t.exports=n})),ka=Object(r.C)((function(e,t){_n();var n=ba();t.exports=n("Array","map")})),wa=Object(r.C)((function(e,t){var n=ka();t.exports=n}));"undefined"===typeof Promise&&(s().enable(),self.Promise=l()),"undefined"!==typeof window&&u(),Object.assign=c(),Ye(),ht(),ya(),va();Object(r.E)(xa()),Object(r.E)(wa())}).call(this,n(31))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"===typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},,,,,,,,,,,,,function(e,t){e.exports=function(e,t,n,i){var r=n?n.call(i,e,t):void 0;if(void 0!==r)return!!r;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],f=t[u];if(!1===(r=n?n.call(i,c,f,u):void 0)||void 0===r&&c!==f)return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";var i={_origin:"https://api.emailjs.com"},r=function(e,t,n){if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},o=n(3),a=function e(t){Object(o.a)(this,e),this.status=t.status,this.text=t.responseText},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(r,o){var s=new XMLHttpRequest;s.addEventListener("load",(function(e){var t=e.target,n=new a(t);200===n.status||"OK"===n.text?r(n):o(n)})),s.addEventListener("error",(function(e){var t=e.target;o(new a(t))})),s.open("POST",i._origin+e,!0),Object.keys(n).forEach((function(e){s.setRequestHeader(e,n[e])})),s.send(t)}))};t.a={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";i._userID=e,i._origin=t},send:function(e,t,n,o){var a=o||i._userID;r(a,e,t);var l={lib_version:"3.4.0",user_id:a,service_id:e,template_id:t,template_params:n};return s("/api/v1.0/email/send",JSON.stringify(l),{"Content-type":"application/json"})},sendForm:function(e,t,n,o){var a=o||i._userID,l=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);r(a,e,t);var u=new FormData(l);return u.append("lib_version","3.4.0"),u.append("service_id",e),u.append("template_id",t),u.append("user_id",a),s("/api/v1.0/email/send-form",u)}}},function(e,t,n){"use strict";function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,"a",(function(){return o}));var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=i((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},,,function(e,t,n){"use strict";var i=n(30),r="function"===typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,f=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,g="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}function x(){}function k(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||v}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=_.prototype;var w=k.prototype=new x;w.constructor=k,i(w,_.prototype),w.isPureReactComponent=!0;var O={current:null},S=Object.prototype.hasOwnProperty,C={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var i,r={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(r[i]=t[i]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===r[i]&&(r[i]=l[i]);return{$$typeof:o,type:e,key:a,ref:s,props:r,_owner:O.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var E=/\/+/g,D=[];function I(e,t,n,i){if(D.length){var r=D.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function F(e,t,n){return null==e?0:function e(t,n,i,r){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case o:case a:l=!0}}if(l)return i(r,t,""===n?"."+A(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+A(s=t[u],u);l+=e(s,c,i,r)}else if(null===t||"object"!==typeof t?c=null:c="function"===typeof(c=g&&t[g]||t["@@iterator"])?c:null,"function"===typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+A(s,u++),i,r);else if("object"===s)throw i=""+t,Error(y(31,"[object Object]"===i?"object with keys {"+Object.keys(t).join(", ")+"}":i,""));return l}(e,"",t,n)}function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function P(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,i,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(E,"$&/")+"/")+n)),i.push(e))}function z(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(E,"$&/")+"/"),F(e,P,t=I(t,o,i,r)),R(t)}var B={current:null};function L(){var e=B.current;if(null===e)throw Error(y(321));return e}var N={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:i};t.Children={map:function(e,t,n){if(null==e)return e;var i=[];return z(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;F(e,M,t=I(null,null,t,n)),R(t)},count:function(e){return F(e,(function(){return null}),null)},toArray:function(e){var t=[];return z(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(y(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=u,t.PureComponent=k,t.StrictMode=l,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var r=i({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=O.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:o,type:e.type,key:a,ref:s,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:d,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return L().useCallback(e,t)},t.useContext=function(e,t){return L().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return L().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return L().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return L().useLayoutEffect(e,t)},t.useMemo=function(e,t){return L().useMemo(e,t)},t.useReducer=function(e,t,n){return L().useReducer(e,t,n)},t.useRef=function(e){return L().useRef(e)},t.useState=function(e){return L().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var i=n(1),r=n(30),o=n(59);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(a(227));function s(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var l=!1,u=null,c=!1,f=null,d={onError:function(e){l=!0,u=e}};function h(e,t,n,i,r,o,a,c,f){l=!1,u=null,s.apply(d,arguments)}var p=null,m=null,g=null;function y(e,t,n){var i=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,i,r,o,s,d,p){if(h.apply(this,arguments),l){if(!l)throw Error(a(198));var m=u;l=!1,u=null,c||(c=!0,f=m)}}(i,t,void 0,e),e.currentTarget=null}var v=null,b={};function _(){if(v)for(var e in b){var t=b[e],n=v.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!k[n]){if(!t.extractEvents)throw Error(a(97,e));for(var i in k[n]=t,n=t.eventTypes){var r=void 0,o=n[i],s=t,l=i;if(w.hasOwnProperty(l))throw Error(a(99,l));w[l]=o;var u=o.phasedRegistrationNames;if(u){for(r in u)u.hasOwnProperty(r)&&x(u[r],s,l);r=!0}else o.registrationName?(x(o.registrationName,s,l),r=!0):r=!1;if(!r)throw Error(a(98,i,e))}}}}function x(e,t,n){if(O[e])throw Error(a(100,e));O[e]=t,S[e]=t.eventTypes[n].dependencies}var k=[],w={},O={},S={};function C(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var i=e[t];if(!b.hasOwnProperty(t)||b[t]!==i){if(b[t])throw Error(a(102,t));b[t]=i,n=!0}}n&&_()}var j=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,E=null,D=null;function I(e){if(e=m(e)){if("function"!==typeof T)throw Error(a(280));var t=e.stateNode;t&&(t=p(t),T(e.stateNode,e.type,t))}}function R(e){E?D?D.push(e):D=[e]:E=e}function F(){if(E){var e=E,t=D;if(D=E=null,I(e),t)for(e=0;e<t.length;e++)I(t[e])}}function A(e,t){return e(t)}function M(e,t,n,i,r){return e(t,n,i,r)}function P(){}var z=A,B=!1,L=!1;function N(){null===E&&null===D||(P(),F())}function U(e,t,n){if(L)return e(t,n);L=!0;try{return z(e,t,n)}finally{L=!1,N()}}var G=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,W={},V={};function q(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){K[e]=new q(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];K[t]=new q(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){K[e]=new q(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){K[e]=new q(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){K[e]=new q(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){K[e]=new q(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){K[e]=new q(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){K[e]=new q(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){K[e]=new q(e,5,!1,e.toLowerCase(),null,!1)}));var X=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(X,Y);K[t]=new q(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(X,Y);K[t]=new q(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(X,Y);K[t]=new q(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){K[e]=new q(e,1,!1,e.toLowerCase(),null,!1)})),K.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){K[e]=new q(e,1,!1,e.toLowerCase(),null,!0)}));var Q=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Z(e,t,n,i){var r=K.hasOwnProperty(t)?K[t]:null;(null!==r?0===r.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!H.call(V,e)||!H.call(W,e)&&(G.test(e)?V[e]=!0:(W[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}Q.hasOwnProperty("ReactCurrentDispatcher")||(Q.ReactCurrentDispatcher={current:null}),Q.hasOwnProperty("ReactCurrentBatchConfig")||(Q.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,$="function"===typeof Symbol&&Symbol.for,ee=$?Symbol.for("react.element"):60103,te=$?Symbol.for("react.portal"):60106,ne=$?Symbol.for("react.fragment"):60107,ie=$?Symbol.for("react.strict_mode"):60108,re=$?Symbol.for("react.profiler"):60114,oe=$?Symbol.for("react.provider"):60109,ae=$?Symbol.for("react.context"):60110,se=$?Symbol.for("react.concurrent_mode"):60111,le=$?Symbol.for("react.forward_ref"):60112,ue=$?Symbol.for("react.suspense"):60113,ce=$?Symbol.for("react.suspense_list"):60120,fe=$?Symbol.for("react.memo"):60115,de=$?Symbol.for("react.lazy"):60116,he=$?Symbol.for("react.block"):60121,pe="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ie:return"StrictMode";case ue:return"Suspense";case ce:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case le:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ge(e.type);case he:return ge(e.render);case de:if(e=1===e._status?e._result:null)return ge(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var i=e._debugOwner,r=e._debugSource,o=ge(e.type);n=null,i&&(n=ge(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=be(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ke(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function we(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Oe(e,t){null!=(t=t.checked)&&Z(e,"checked",t,!1)}function Se(e,t){Oe(e,t);var n=ve(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?je(e,t.type,n):t.hasOwnProperty("defaultValue")&&je(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ce(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function je(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Te(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ee(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function De(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function Re(e,t){var n=ve(t.value),i=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function Fe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function Pe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ze(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Pe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Le=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ne(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ue(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},He={},We={};function Ve(e){if(He[e])return He[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in We)return He[e]=n[t];return e}j&&(We=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var qe=Ve("animationend"),Ke=Ve("animationiteration"),Xe=Ve("animationstart"),Ye=Ve("transitionend"),Qe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ze=new("function"===typeof WeakMap?WeakMap:Map);function Je(e){var t=Ze.get(e);return void 0===t&&(t=new Map,Ze.set(e,t)),t}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if($e(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return tt(r),e;if(o===i)return tt(r),t;o=o.sibling}throw Error(a(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=o;break}if(l===i){s=!0,i=r,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,i=r;break}if(l===i){s=!0,i=o,n=r;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var i=0;i<t.length&&!e.isPropagationStopped();i++)y(e,t[i],n[i]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=it(ot,e)),e=ot,ot=null,e){if(rt(e,at),ot)throw Error(a(95));if(c)throw e=f,c=!1,f=null,e}}function lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ut(e){if(!j)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ct=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ct.length&&ct.push(e)}function dt(e,t,n,i){if(ct.length){var r=ct.pop();return r.topLevelType=e,r.eventSystemFlags=i,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:i,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var i=n;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=jn(i)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=lt(e.nativeEvent);i=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,l=0;l<k.length;l++){var u=k[l];u&&(u=u.extractEvents(i,t,o,r,a))&&(s=it(s,u))}st(s)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Xt(t,"scroll",!0);break;case"focus":case"blur":Xt(t,"focus",!0),Xt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ut(e)&&Xt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Qe.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var mt,gt,yt,vt=!1,bt=[],_t=null,xt=null,kt=null,wt=new Map,Ot=new Map,St=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),jt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Tt(e,t,n,i,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:i}}function Et(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":xt=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":wt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Dt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e=Tt(t,n,i,r,o),null!==t&&(null!==(t=Tn(t))&&gt(t)),e):(e.eventSystemFlags|=i,e)}function It(e){var t=jn(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Tn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Ft(e,t,n){Rt(e)&&n.delete(t)}function At(){for(vt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Tn(e.blockedOn))&&mt(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&Rt(_t)&&(_t=null),null!==xt&&Rt(xt)&&(xt=null),null!==kt&&Rt(kt)&&(kt=null),wt.forEach(Ft),Ot.forEach(Ft)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,At)))}function Pt(e){function t(t){return Mt(t,e)}if(0<bt.length){Mt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==_t&&Mt(_t,e),null!==xt&&Mt(xt,e),null!==kt&&Mt(kt,e),wt.forEach(t),Ot.forEach(t),n=0;n<St.length;n++)(i=St[n]).blockedOn===e&&(i.blockedOn=null);for(;0<St.length&&null===(n=St[0]).blockedOn;)It(n),null===n.blockedOn&&St.shift()}var zt={},Bt=new Map,Lt=new Map,Nt=["abort","abort",qe,"animationEnd",Ke,"animationIteration",Xe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Ut(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],o="on"+(r[0].toUpperCase()+r.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[i],eventPriority:t},Lt.set(i,t),Bt.set(i,o),zt[r]=o}}Ut("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ut("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ut(Nt,2);for(var Gt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Gt.length;Ht++)Lt.set(Gt[Ht],0);var Wt=o.unstable_UserBlockingPriority,Vt=o.unstable_runWithPriority,qt=!0;function Kt(e,t){Xt(t,e,!1)}function Xt(e,t,n){var i=Lt.get(t);switch(void 0===i?2:i){case 0:i=Yt.bind(null,t,1,e);break;case 1:i=Qt.bind(null,t,1,e);break;default:i=Zt.bind(null,t,1,e)}n?e.addEventListener(t,i,!0):e.addEventListener(t,i,!1)}function Yt(e,t,n,i){B||P();var r=Zt,o=B;B=!0;try{M(r,e,t,n,i)}finally{(B=o)||N()}}function Qt(e,t,n,i){Vt(Wt,Zt.bind(null,e,t,n,i))}function Zt(e,t,n,i){if(qt)if(0<bt.length&&-1<Ct.indexOf(e))e=Tt(null,e,t,n,i),bt.push(e);else{var r=Jt(e,t,n,i);if(null===r)Et(e,i);else if(-1<Ct.indexOf(e))e=Tt(r,e,t,n,i),bt.push(e);else if(!function(e,t,n,i,r){switch(t){case"focus":return _t=Dt(_t,e,t,n,i,r),!0;case"dragenter":return xt=Dt(xt,e,t,n,i,r),!0;case"mouseover":return kt=Dt(kt,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return wt.set(o,Dt(wt.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Ot.set(o,Dt(Ot.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i)){Et(e,i),e=dt(e,i,null,t);try{U(ht,e)}finally{ft(e)}}}}function Jt(e,t,n,i){if(null!==(n=jn(n=lt(i)))){var r=$e(n);if(null===r)n=null;else{var o=r.tag;if(13===o){if(null!==(n=et(r)))return n;n=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=dt(e,i,n,t);try{U(ht,e)}finally{ft(e)}return null}var $t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||$t.hasOwnProperty(e)&&$t[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=tn(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys($t).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$t[t]=$t[e]}))}));var rn=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=Ae;function ln(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var i=0;i<t.length;i++)pt(t[i],e,n)}function un(){}function cn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dn(e,t){var n,i=fn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fn(i)}}function hn(){for(var e=window,t=cn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=cn((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,gn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function kn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),On="__reactInternalInstance$"+wn,Sn="__reactEventHandlers$"+wn,Cn="__reactContainere$"+wn;function jn(e){var t=e[On];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Cn]||n[On]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kn(e);null!==e;){if(n=e[On])return n;e=kn(e)}return t}n=(e=n).parentNode}return null}function Tn(e){return!(e=e[On]||e[Cn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function En(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Dn(e){return e[Sn]||null}function In(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Rn(e,t){var n=e.stateNode;if(!n)return null;var i=p(n);if(!i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Fn(e,t,n){(t=Rn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function An(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=In(t);for(t=n.length;0<t--;)Fn(n[t],"captured",e);for(t=0;t<n.length;t++)Fn(n[t],"bubbled",e)}}function Mn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Rn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Pn(e){e&&e.dispatchConfig.registrationName&&Mn(e._targetInst,null,e)}function zn(e){rt(e,An)}var Bn=null,Ln=null,Nn=null;function Un(){if(Nn)return Nn;var e,t,n=Ln,i=n.length,r="value"in Bn?Bn.value:Bn.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Nn=r.slice(e,1<t?1-t:void 0)}function Gn(){return!0}function Hn(){return!1}function Wn(e,t,n,i){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Gn:Hn,this.isPropagationStopped=Hn,this}function Vn(e,t,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,i),r}return new this(e,t,n,i)}function qn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Kn(e){e.eventPool=[],e.getPooled=Vn,e.release=qn}r(Wn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){this.isPersistent=Gn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),Wn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Wn.extend=function(e){function t(){}function n(){return i.apply(this,arguments)}var i=this;t.prototype=i.prototype;var o=new t;return r(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=r({},i.Interface,e),n.extend=i.extend,Kn(n),n},Kn(Wn);var Xn=Wn.extend({data:null}),Yn=Wn.extend({data:null}),Qn=[9,13,27,32],Zn=j&&"CompositionEvent"in window,Jn=null;j&&"documentMode"in document&&(Jn=document.documentMode);var $n=j&&"TextEvent"in window&&!Jn,ei=j&&(!Zn||Jn&&8<Jn&&11>=Jn),ti=String.fromCharCode(32),ni={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ii=!1;function ri(e,t){switch(e){case"keyup":return-1!==Qn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function oi(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ai=!1;var si={eventTypes:ni,extractEvents:function(e,t,n,i){var r;if(Zn)e:{switch(e){case"compositionstart":var o=ni.compositionStart;break e;case"compositionend":o=ni.compositionEnd;break e;case"compositionupdate":o=ni.compositionUpdate;break e}o=void 0}else ai?ri(e,n)&&(o=ni.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=ni.compositionStart);return o?(ei&&"ko"!==n.locale&&(ai||o!==ni.compositionStart?o===ni.compositionEnd&&ai&&(r=Un()):(Ln="value"in(Bn=i)?Bn.value:Bn.textContent,ai=!0)),o=Xn.getPooled(o,t,n,i),r?o.data=r:null!==(r=oi(n))&&(o.data=r),zn(o),r=o):r=null,(e=$n?function(e,t){switch(e){case"compositionend":return oi(t);case"keypress":return 32!==t.which?null:(ii=!0,ti);case"textInput":return(e=t.data)===ti&&ii?null:e;default:return null}}(e,n):function(e,t){if(ai)return"compositionend"===e||!Zn&&ri(e,t)?(e=Un(),Nn=Ln=Bn=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ei&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(ni.beforeInput,t,n,i)).data=e,zn(t)):t=null,null===r?t:null===t?r:[r,t]}},li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ui(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!li[e.type]:"textarea"===t}var ci={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fi(e,t,n){return(e=Wn.getPooled(ci.change,e,t,n)).type="change",R(n),zn(e),e}var di=null,hi=null;function pi(e){st(e)}function mi(e){if(xe(En(e)))return e}function gi(e,t){if("change"===e)return t}var yi=!1;function vi(){di&&(di.detachEvent("onpropertychange",bi),hi=di=null)}function bi(e){if("value"===e.propertyName&&mi(hi))if(e=fi(hi,e,lt(e)),B)st(e);else{B=!0;try{A(pi,e)}finally{B=!1,N()}}}function _i(e,t,n){"focus"===e?(vi(),hi=n,(di=t).attachEvent("onpropertychange",bi)):"blur"===e&&vi()}function xi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mi(hi)}function ki(e,t){if("click"===e)return mi(t)}function wi(e,t){if("input"===e||"change"===e)return mi(t)}j&&(yi=ut("input")&&(!document.documentMode||9<document.documentMode));var Oi={eventTypes:ci,_isInputEventSupported:yi,extractEvents:function(e,t,n,i){var r=t?En(t):window,o=r.nodeName&&r.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===r.type)var a=gi;else if(ui(r))if(yi)a=wi;else{a=xi;var s=_i}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(a=ki);if(a&&(a=a(e,t)))return fi(a,n,i);s&&s(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&je(r,"number",r.value)}},Si=Wn.extend({view:null,detail:null}),Ci={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ji(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ci[e])&&!!t[e]}function Ti(){return ji}var Ei=0,Di=0,Ii=!1,Ri=!1,Fi=Si.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ti,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ei;return Ei=e.screenX,Ii?"mousemove"===e.type?e.screenX-t:0:(Ii=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Di;return Di=e.screenY,Ri?"mousemove"===e.type?e.screenY-t:0:(Ri=!0,0)}}),Ai=Fi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Mi={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Pi={eventTypes:Mi,extractEvents:function(e,t,n,i,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&r)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?jn(t):null)&&(t!==$e(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Fi,l=Mi.mouseLeave,u=Mi.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Ai,l=Mi.pointerLeave,u=Mi.pointerEnter,c="pointer");if(e=null==a?o:En(a),o=null==t?o:En(t),(l=s.getPooled(l,a,n,i)).type=c+"leave",l.target=e,l.relatedTarget=o,(n=s.getPooled(u,t,n,i)).type=c+"enter",n.target=o,n.relatedTarget=e,c=t,(i=a)&&c)e:{for(u=c,a=0,e=s=i;e;e=In(e))a++;for(e=0,t=u;t;t=In(t))e++;for(;0<a-e;)s=In(s),a--;for(;0<e-a;)u=In(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=In(s),u=In(u)}s=null}else s=null;for(u=s,s=[];i&&i!==u&&(null===(a=i.alternate)||a!==u);)s.push(i),i=In(i);for(i=[];c&&c!==u&&(null===(a=c.alternate)||a!==u);)i.push(c),c=In(c);for(c=0;c<s.length;c++)Mn(s[c],"bubbled",l);for(c=i.length;0<c--;)Mn(i[c],"captured",n);return 0===(64&r)?[l]:[l,n]}};var zi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Bi=Object.prototype.hasOwnProperty;function Li(e,t){if(zi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!Bi.call(t,n[i])||!zi(e[n[i]],t[n[i]]))return!1;return!0}var Ni=j&&"documentMode"in document&&11>=document.documentMode,Ui={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Gi=null,Hi=null,Wi=null,Vi=!1;function qi(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Vi||null==Gi||Gi!==cn(n)?null:("selectionStart"in(n=Gi)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Wi&&Li(Wi,n)?null:(Wi=n,(e=Wn.getPooled(Ui.select,Hi,e,t)).type="select",e.target=Gi,zn(e),e))}var Ki={eventTypes:Ui,extractEvents:function(e,t,n,i,r,o){if(!(o=!(r=o||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{r=Je(r),o=S.onSelect;for(var a=0;a<o.length;a++)if(!r.has(o[a])){r=!1;break e}r=!0}o=!r}if(o)return null;switch(r=t?En(t):window,e){case"focus":(ui(r)||"true"===r.contentEditable)&&(Gi=r,Hi=t,Wi=null);break;case"blur":Wi=Hi=Gi=null;break;case"mousedown":Vi=!0;break;case"contextmenu":case"mouseup":case"dragend":return Vi=!1,qi(n,i);case"selectionchange":if(Ni)break;case"keydown":case"keyup":return qi(n,i)}return null}},Xi=Wn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Yi=Wn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qi=Si.extend({relatedTarget:null});function Zi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Si.extend({key:function(e){if(e.key){var t=Ji[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Zi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?$i[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ti,charCode:function(e){return"keypress"===e.type?Zi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Zi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Fi.extend({dataTransfer:null}),nr=Si.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ti}),ir=Wn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Fi.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),or={eventTypes:zt,extractEvents:function(e,t,n,i){var r=Bt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Zi(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Qi;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case qe:case Ke:case Xe:e=Xi;break;case Ye:e=ir;break;case"scroll":e=Si;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Yi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Ai;break;default:e=Wn}return zn(t=e.getPooled(r,t,n,i)),t}};if(v)throw Error(a(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),p=Dn,m=Tn,g=En,C({SimpleEventPlugin:or,EnterLeaveEventPlugin:Pi,ChangeEventPlugin:Oi,SelectEventPlugin:Ki,BeforeInputEventPlugin:si});var ar=[],sr=-1;function lr(e){0>sr||(e.current=ar[sr],ar[sr]=null,sr--)}function ur(e,t){sr++,ar[sr]=e.current,e.current=t}var cr={},fr={current:cr},dr={current:!1},hr=cr;function pr(e,t){var n=e.type.contextTypes;if(!n)return cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gr(){lr(dr),lr(fr)}function yr(e,t,n){if(fr.current!==cr)throw Error(a(168));ur(fr,t),ur(dr,n)}function vr(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(a(108,ge(t)||"Unknown",o));return r({},n,{},i)}function br(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cr,hr=fr.current,ur(fr,e),ur(dr,dr.current),!0}function _r(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=vr(e,t,hr),i.__reactInternalMemoizedMergedChildContext=e,lr(dr),lr(fr),ur(fr,e)):lr(dr),ur(dr,n)}var xr=o.unstable_runWithPriority,kr=o.unstable_scheduleCallback,wr=o.unstable_cancelCallback,Or=o.unstable_requestPaint,Sr=o.unstable_now,Cr=o.unstable_getCurrentPriorityLevel,jr=o.unstable_ImmediatePriority,Tr=o.unstable_UserBlockingPriority,Er=o.unstable_NormalPriority,Dr=o.unstable_LowPriority,Ir=o.unstable_IdlePriority,Rr={},Fr=o.unstable_shouldYield,Ar=void 0!==Or?Or:function(){},Mr=null,Pr=null,zr=!1,Br=Sr(),Lr=1e4>Br?Sr:function(){return Sr()-Br};function Nr(){switch(Cr()){case jr:return 99;case Tr:return 98;case Er:return 97;case Dr:return 96;case Ir:return 95;default:throw Error(a(332))}}function Ur(e){switch(e){case 99:return jr;case 98:return Tr;case 97:return Er;case 96:return Dr;case 95:return Ir;default:throw Error(a(332))}}function Gr(e,t){return e=Ur(e),xr(e,t)}function Hr(e,t,n){return e=Ur(e),kr(e,t,n)}function Wr(e){return null===Mr?(Mr=[e],Pr=kr(jr,qr)):Mr.push(e),Rr}function Vr(){if(null!==Pr){var e=Pr;Pr=null,wr(e)}qr()}function qr(){if(!zr&&null!==Mr){zr=!0;var e=0;try{var t=Mr;Gr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Mr=null}catch(n){throw null!==Mr&&(Mr=Mr.slice(e+1)),kr(jr,Vr),n}finally{zr=!1}}}function Kr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yr={current:null},Qr=null,Zr=null,Jr=null;function $r(){Jr=Zr=Qr=null}function eo(e){var t=Yr.current;lr(Yr),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Qr=e,Jr=Zr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Da=!0),e.firstContext=null)}function io(e,t){if(Jr!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Jr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zr){if(null===Qr)throw Error(a(308));Zr=t,Qr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Zr=Zr.next=t;return e._currentValue}var ro=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function lo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function uo(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function co(e,t,n,i){var o=e.updateQueue;ro=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var l=a.next;a.next=s.next,s.next=l}a=s,o.shared.pending=null,null!==(l=e.alternate)&&(null!==(l=l.updateQueue)&&(l.baseQueue=s))}if(null!==a){l=a.next;var u=o.baseState,c=0,f=null,d=null,h=null;if(null!==l)for(var p=l;;){if((s=p.expirationTime)<i){var m={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===h?(d=h=m,f=u):h=h.next=m,s>c&&(c=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ol(s,p.suspenseConfig);e:{var g=e,y=p;switch(s=t,m=n,y.tag){case 1:if("function"===typeof(g=y.payload)){u=g.call(m,u,s);break e}u=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null===(s="function"===typeof(g=y.payload)?g.call(m,u,s):g)||void 0===s)break e;u=r({},u,s);break e;case 2:ro=!0}}null!==p.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[p]:s.push(p))}if(null===(p=p.next)||p===l){if(null===(s=o.shared.pending))break;p=a.next=s.next,s.next=l,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=u:h.next=d,o.baseState=f,o.baseQueue=h,al(c),e.expirationTime=c,e.memoizedState=u}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=r,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ho=Q.ReactCurrentBatchConfig,po=(new i.Component).refs;function mo(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternalFiber)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=ho.suspense;(r=so(i=Ks(i,e,r),r)).payload=t,void 0!==n&&null!==n&&(r.callback=n),lo(e,r),Xs(e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var i=qs(),r=ho.suspense;(r=so(i=Ks(i,e,r),r)).tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),lo(e,r),Xs(e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=qs(),i=ho.suspense;(i=so(n=Ks(n,e,i),i)).tag=2,void 0!==t&&null!==t&&(i.callback=t),lo(e,i),Xs(e,n)}};function yo(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Li(n,i)||!Li(r,o))}function vo(e,t,n){var i=!1,r=cr,o=t.contextType;return"object"===typeof o&&null!==o?o=io(o):(r=mr(t)?hr:fr.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?pr(e,r):cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternalFiber=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=po,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=io(o):(o=mr(t)?hr:fr.current,r.context=pr(e,o)),co(e,n,r,i),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&go.enqueueReplaceState(r,r.state,null),co(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=i.refs;t===po&&(t=i.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Oo(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Cl(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.effectTag=2,n):i:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=El(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){return null!==t&&t.elementType===n.type?((i=r(t,n.props)).ref=ko(e,t,n),i.return=e,i):((i=jl(n.type,n.key,n.props,null,e.mode,i)).ref=ko(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dl(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function f(e,t,n,i,o){return null===t||7!==t.tag?((t=Tl(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=El(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=jl(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case te:return(t=Dl(t,e.mode,n)).return=e,t}if(xo(t)||me(t))return(t=Tl(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?f(e,t,n.props.children,i,r):u(e,t,n,i):null;case te:return n.key===r?c(e,t,n,i):null}if(xo(n)||me(n))return null!==r?null:f(e,t,n,i,null);wo(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case ee:return e=e.get(null===i.key?n:i.key)||null,i.type===ne?f(t,e,i.props.children,r,i.key):u(t,e,i,r);case te:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r)}if(xo(i)||me(i))return f(t,e=e.get(n)||null,i,r,null);wo(t,i)}return null}function m(r,a,s,l){for(var u=null,c=null,f=a,m=a=0,g=null;null!==f&&m<s.length;m++){f.index>m?(g=f,f=null):g=f.sibling;var y=h(r,f,s[m],l);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(r,f),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,f=g}if(m===s.length)return n(r,f),u;if(null===f){for(;m<s.length;m++)null!==(f=d(r,s[m],l))&&(a=o(f,a,m),null===c?u=f:c.sibling=f,c=f);return u}for(f=i(r,f);m<s.length;m++)null!==(g=p(f,r,m,s[m],l))&&(e&&null!==g.alternate&&f.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(r,e)})),u}function g(r,s,l,u){var c=me(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var f=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=h(r,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(r,m),s=o(b,s,g),null===f?c=b:f.sibling=b,f=b,m=y}if(v.done)return n(r,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,u))&&(s=o(v,s,g),null===f?c=v:f.sibling=v,f=v);return c}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=p(m,r,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===f?c=v:f.sibling=v,f=v);return e&&m.forEach((function(e){return t(r,e)})),c}return function(e,i,o,l){var u="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;u&&(o=o.props.children);var c="object"===typeof o&&null!==o;if(c)switch(o.$$typeof){case ee:e:{for(c=o.key,u=i;null!==u;){if(u.key===c){switch(u.tag){case 7:if(o.type===ne){n(e,u.sibling),(i=r(u,o.props.children)).return=e,e=i;break e}break;default:if(u.elementType===o.type){n(e,u.sibling),(i=r(u,o.props)).ref=ko(e,u,o),i.return=e,e=i;break e}}n(e,u);break}t(e,u),u=u.sibling}o.type===ne?((i=Tl(o.props.children,e.mode,l,o.key)).return=e,e=i):((l=jl(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,i,o),l.return=e,e=l)}return s(e);case te:e:{for(u=o.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(e,i.sibling),(i=r(i,o.children||[])).return=e,e=i;break e}n(e,i);break}t(e,i),i=i.sibling}(i=Dl(o,e.mode,l)).return=e,e=i}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==i&&6===i.tag?(n(e,i.sibling),(i=r(i,o)).return=e,e=i):(n(e,i),(i=El(o,e.mode,l)).return=e,e=i),s(e);if(xo(o))return m(e,i,o,l);if(me(o))return g(e,i,o,l);if(c&&wo(e,o),"undefined"===typeof o&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,i)}}var So=Oo(!0),Co=Oo(!1),jo={},To={current:jo},Eo={current:jo},Do={current:jo};function Io(e){if(e===jo)throw Error(a(174));return e}function Ro(e,t){switch(ur(Do,t),ur(Eo,e),ur(To,jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ze(null,"");break;default:t=ze(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}lr(To),ur(To,t)}function Fo(){lr(To),lr(Eo),lr(Do)}function Ao(e){Io(Do.current);var t=Io(To.current),n=ze(t,e.type);t!==n&&(ur(Eo,e),ur(To,n))}function Mo(e){Eo.current===e&&(lr(To),lr(Eo))}var Po={current:0};function zo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t){return{responder:e,props:t}}var Lo=Q.ReactCurrentDispatcher,No=Q.ReactCurrentBatchConfig,Uo=0,Go=null,Ho=null,Wo=null,Vo=!1;function qo(){throw Error(a(321))}function Ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zi(e[n],t[n]))return!1;return!0}function Xo(e,t,n,i,r,o){if(Uo=o,Go=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Lo.current=null===e||null===e.memoizedState?ya:va,e=n(i,r),t.expirationTime===Uo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,Wo=Ho=null,t.updateQueue=null,Lo.current=ba,e=n(i,r)}while(t.expirationTime===Uo)}if(Lo.current=ga,t=null!==Ho&&null!==Ho.next,Uo=0,Wo=Ho=Go=null,Vo=!1,t)throw Error(a(300));return e}function Yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wo?Go.memoizedState=Wo=e:Wo=Wo.next=e,Wo}function Qo(){if(null===Ho){var e=Go.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===Wo?Go.memoizedState:Wo.next;if(null!==t)Wo=t,Ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===Wo?Go.memoizedState=Wo=e:Wo=Wo.next=e}return Wo}function Zo(e,t){return"function"===typeof t?t(e):t}function Jo(e){var t=Qo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=Ho,r=i.baseQueue,o=n.pending;if(null!==o){if(null!==r){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(null!==r){r=r.next,i=i.baseState;var l=s=o=null,u=r;do{var c=u.expirationTime;if(c<Uo){var f={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=f,o=i):l=l.next=f,c>Go.expirationTime&&(Go.expirationTime=c,al(c))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),ol(c,u.suspenseConfig),i=u.eagerReducer===e?u.eagerState:e(i,u.action);u=u.next}while(null!==u&&u!==r);null===l?o=i:l.next=s,zi(i,t.memoizedState)||(Da=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function $o(e){var t=Qo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{o=e(o,s.action),s=s.next}while(s!==r);zi(o,t.memoizedState)||(Da=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function ea(e){var t=Yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:e}).dispatch=ma.bind(null,Go,e),[t.memoizedState,e]}function ta(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=Go.updateQueue)?(t={lastEffect:null},Go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function na(){return Qo().memoizedState}function ia(e,t,n,i){var r=Yo();Go.effectTag|=e,r.memoizedState=ta(1|t,n,void 0,void 0===i?null:i)}function ra(e,t,n,i){var r=Qo();i=void 0===i?null:i;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==i&&Ko(i,a.deps))return void ta(t,n,o,i)}Go.effectTag|=e,r.memoizedState=ta(1|t,n,o,i)}function oa(e,t){return ia(516,4,e,t)}function aa(e,t){return ra(516,4,e,t)}function sa(e,t){return ra(4,2,e,t)}function la(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,la.bind(null,t,e),n)}function ca(){}function fa(e,t){return Yo().memoizedState=[e,void 0===t?null:t],e}function da(e,t){var n=Qo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ko(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Qo();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&Ko(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function pa(e,t,n){var i=Nr();Gr(98>i?98:i,(function(){e(!0)})),Gr(97<i?97:i,(function(){var i=No.suspense;No.suspense=void 0===t?null:t;try{e(!1),n()}finally{No.suspense=i}}))}function ma(e,t,n){var i=qs(),r=ho.suspense;r={expirationTime:i=Ks(i,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Go||null!==o&&o===Go)Vo=!0,r.expirationTime=Uo,Go.expirationTime=Uo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.eagerReducer=o,r.eagerState=s,zi(s,a))return}catch(l){}Xs(e,i)}}var ga={readContext:io,useCallback:qo,useContext:qo,useEffect:qo,useImperativeHandle:qo,useLayoutEffect:qo,useMemo:qo,useReducer:qo,useRef:qo,useState:qo,useDebugValue:qo,useResponder:qo,useDeferredValue:qo,useTransition:qo},ya={readContext:io,useCallback:fa,useContext:io,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,la.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=Yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Yo();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Go,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Yo().memoizedState=e},useState:ea,useDebugValue:ca,useResponder:Bo,useDeferredValue:function(e,t){var n=ea(e),i=n[0],r=n[1];return oa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(pa.bind(null,t,e),[t,e]),n]}},va={readContext:io,useCallback:da,useContext:io,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:Jo,useRef:na,useState:function(){return Jo(Zo)},useDebugValue:ca,useResponder:Bo,useDeferredValue:function(e,t){var n=Jo(Zo),i=n[0],r=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=Jo(Zo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},ba={readContext:io,useCallback:da,useContext:io,useEffect:aa,useImperativeHandle:ua,useLayoutEffect:sa,useMemo:ha,useReducer:$o,useRef:na,useState:function(){return $o(Zo)},useDebugValue:ca,useResponder:Bo,useDeferredValue:function(e,t){var n=$o(Zo),i=n[0],r=n[1];return aa((function(){var n=No.suspense;No.suspense=void 0===t?null:t;try{r(e)}finally{No.suspense=n}}),[e,t]),i},useTransition:function(e){var t=$o(Zo),n=t[0];return t=t[1],[da(pa.bind(null,t,e),[t,e]),n]}},_a=null,xa=null,ka=!1;function wa(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Sa(e){if(ka){var t=xa;if(t){var n=t;if(!Oa(e,t)){if(!(t=xn(n.nextSibling))||!Oa(e,t))return e.effectTag=-1025&e.effectTag|2,ka=!1,void(_a=e);wa(_a,n)}_a=e,xa=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ka=!1,_a=e}}function Ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function ja(e){if(e!==_a)return!1;if(!ka)return Ca(e),ka=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=xa;t;)wa(e,t),t=xn(t.nextSibling);if(Ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xa=xn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}xa=null}}else xa=_a?xn(e.stateNode.nextSibling):null;return!0}function Ta(){xa=_a=null,ka=!1}var Ea=Q.ReactCurrentOwner,Da=!1;function Ia(e,t,n,i){t.child=null===e?Co(t,null,n,i):So(t,e.child,n,i)}function Ra(e,t,n,i,r){n=n.render;var o=t.ref;return no(t,r),i=Xo(e,t,n,i,o,r),null===e||Da?(t.effectTag|=1,Ia(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Xa(e,t,r))}function Fa(e,t,n,i,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Sl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jl(n.type,null,i,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Aa(e,t,a,i,r,o))}return a=e.child,r<o&&(r=a.memoizedProps,(n=null!==(n=n.compare)?n:Li)(r,i)&&e.ref===t.ref)?Xa(e,t,o):(t.effectTag|=1,(e=Cl(a,i)).ref=t.ref,e.return=t,t.child=e)}function Aa(e,t,n,i,r,o){return null!==e&&Li(e.memoizedProps,i)&&e.ref===t.ref&&(Da=!1,r<o)?(t.expirationTime=e.expirationTime,Xa(e,t,o)):Pa(e,t,n,i,o)}function Ma(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Pa(e,t,n,i,r){var o=mr(n)?hr:fr.current;return o=pr(t,o),no(t,r),n=Xo(e,t,n,i,o,r),null===e||Da?(t.effectTag|=1,Ia(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Xa(e,t,r))}function za(e,t,n,i,r){if(mr(n)){var o=!0;br(t)}else o=!1;if(no(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),vo(t,n,i),_o(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=io(u):u=pr(t,u=mr(n)?hr:fr.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&bo(t,a,i,u),ro=!1;var d=t.memoizedState;a.state=d,co(t,i,a,r),l=t.memoizedState,s!==i||d!==l||dr.current||ro?("function"===typeof c&&(mo(t,n,c,i),l=t.memoizedState),(s=ro||yo(t,n,s,i,d,l,u))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),i=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Xr(t.type,s),l=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=io(u):u=pr(t,u=mr(n)?hr:fr.current),(f="function"===typeof(c=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&bo(t,a,i,u),ro=!1,l=t.memoizedState,a.state=l,co(t,i,a,r),d=t.memoizedState,s!==i||l!==d||dr.current||ro?("function"===typeof c&&(mo(t,n,c,i),d=t.memoizedState),(c=ro||yo(t,n,s,i,l,d,u))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,d,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,d,u)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=i,t.memoizedState=d),a.props=i,a.state=d,a.context=u,i=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),i=!1);return Ba(e,t,n,i,o,r)}function Ba(e,t,n,i,r,o){Ma(e,t);var a=0!==(64&t.effectTag);if(!i&&!a)return r&&_r(t,n,!1),Xa(e,t,o);i=t.stateNode,Ea.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.effectTag|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):Ia(e,t,s,o),t.memoizedState=i.state,r&&_r(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?yr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yr(0,t.context,!1),Ro(e,t.containerInfo)}var Na,Ua,Ga,Ha={dehydrated:null,retryTime:0};function Wa(e,t,n){var i,r=t.mode,o=t.pendingProps,a=Po.current,s=!1;if((i=0!==(64&t.effectTag))||(i=0!==(2&a)&&(null===e||null!==e.memoizedState)),i?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ur(Po,1&a),null===e){if(void 0!==o.fallback&&Sa(t),s){if(s=o.fallback,(o=Tl(null,r,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Tl(s,r,n,null)).return=t,o.sibling=n,t.memoizedState=Ha,t.child=o,n}return r=o.children,t.memoizedState=null,t.child=Co(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,s){if(o=o.fallback,(n=Cl(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(r=Cl(r,o)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Ha,t.child=n,r}return n=So(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Tl(null,r,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Tl(s,r,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ha,t.child=o,n}return t.memoizedState=null,t.child=So(t,e,o.children,n)}function Va(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function qa(e,t,n,i,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailExpiration:0,tailMode:r,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailExpiration=0,a.tailMode=r,a.lastEffect=o)}function Ka(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Ia(e,t,i.children,n),0!==(2&(i=Po.current)))i=1&i|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n);else if(19===e.tag)Va(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ur(Po,i),0===(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===zo(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qa(t,!1,r,n,o,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===zo(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qa(t,!0,n,null,o,t.lastEffect);break;case"together":qa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Xa(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&al(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Cl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Cl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Qa(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mr(t.type)&&gr(),null;case 3:return Fo(),lr(dr),lr(fr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!ja(t)||(t.effectTag|=4),null;case 5:Mo(t),n=Io(Do.current);var o=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,o,i,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(a(166));return null}if(e=Io(To.current),ja(t)){i=t.stateNode,o=t.type;var s=t.memoizedProps;switch(i[On]=t,i[Sn]=s,o){case"iframe":case"object":case"embed":Kt("load",i);break;case"video":case"audio":for(e=0;e<Qe.length;e++)Kt(Qe[e],i);break;case"source":Kt("error",i);break;case"img":case"image":case"link":Kt("error",i),Kt("load",i);break;case"form":Kt("reset",i),Kt("submit",i);break;case"details":Kt("toggle",i);break;case"input":we(i,s),Kt("invalid",i),ln(n,"onChange");break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Kt("invalid",i),ln(n,"onChange");break;case"textarea":Ie(i,s),Kt("invalid",i),ln(n,"onChange")}for(var l in on(o,s),e=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?i.textContent!==u&&(e=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(e=["children",""+u]):O.hasOwnProperty(l)&&null!=u&&ln(n,l)}switch(o){case"input":_e(i),Ce(i,s,!0);break;case"textarea":_e(i),Fe(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=un)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(l=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Pe(o)),e===sn?"script"===o?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(o,{is:i.is}):(e=l.createElement(o),"select"===o&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,o),e[On]=t,e[Sn]=i,Na(e,t),t.stateNode=e,l=an(o,i),o){case"iframe":case"object":case"embed":Kt("load",e),u=i;break;case"video":case"audio":for(u=0;u<Qe.length;u++)Kt(Qe[u],e);u=i;break;case"source":Kt("error",e),u=i;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),u=i;break;case"form":Kt("reset",e),Kt("submit",e),u=i;break;case"details":Kt("toggle",e),u=i;break;case"input":we(e,i),u=ke(e,i),Kt("invalid",e),ln(n,"onChange");break;case"option":u=Te(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},u=r({},i,{value:void 0}),Kt("invalid",e),ln(n,"onChange");break;case"textarea":Ie(e,i),u=De(e,i),Kt("invalid",e),ln(n,"onChange");break;default:u=i}on(o,u);var c=u;for(s in c)if(c.hasOwnProperty(s)){var f=c[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Le(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&Ne(e,f):"number"===typeof f&&Ne(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(O.hasOwnProperty(s)?null!=f&&ln(n,s):null!=f&&Z(e,s,f,l))}switch(o){case"input":_e(e),Ce(e,i,!1);break;case"textarea":_e(e),Fe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+ve(i.value));break;case"select":e.multiple=!!i.multiple,null!=(n=i.value)?Ee(e,!!i.multiple,n,!1):null!=i.defaultValue&&Ee(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof u.onClick&&(e.onclick=un)}yn(o,i)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ga(0,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(a(166));n=Io(Do.current),Io(To.current),ja(t)?(n=t.stateNode,i=t.memoizedProps,n[On]=t,n.nodeValue!==i&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[On]=t,t.stateNode=n)}return null;case 13:return lr(Po),i=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==i,i=!1,null===e?void 0!==t.memoizedProps.fallback&&ja(t):(i=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Po.current)?js===_s&&(js=xs):(js!==_s&&js!==xs||(js=ks),0!==Rs&&null!==Os&&(Fl(Os,Cs),Al(Os,Rs)))),(n||i)&&(t.effectTag|=4),null);case 4:return Fo(),null;case 10:return eo(t),null;case 17:return mr(t.type)&&gr(),null;case 19:if(lr(Po),null===(i=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=i.rendering)){if(o)Ya(i,!1);else if(js!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=zo(s))){for(t.effectTag|=64,Ya(i,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=t.child;null!==i;)s=n,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),i=i.sibling;return ur(Po,1&Po.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=zo(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ya(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Lr()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ya(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Lr()+500),n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Lr(),n.sibling=null,t=Po.current,ur(Po,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Za(e){switch(e.tag){case 1:mr(e.type)&&gr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Fo(),lr(dr),lr(fr),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Mo(e),null;case 13:return lr(Po),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return lr(Po),null;case 4:return Fo(),null;case 10:return eo(e),null;default:return null}}function Ja(e,t){return{value:e,source:t,stack:ye(t)}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,i,o){var a=e.memoizedProps;if(a!==i){var s,l,u=t.stateNode;switch(Io(To.current),e=null,n){case"input":a=ke(u,a),i=ke(u,i),e=[];break;case"option":a=Te(u,a),i=Te(u,i),e=[];break;case"select":a=r({},a,{value:void 0}),i=r({},i,{value:void 0}),e=[];break;case"textarea":a=De(u,a),i=De(u,i),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(u.onclick=un)}for(s in on(n,i),n=null,a)if(!i.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(O.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in i){var c=i[s];if(u=null!=a?a[s]:void 0,i.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,c)):"children"===s?u===c||"string"!==typeof c&&"number"!==typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(O.hasOwnProperty(s)?(null!=c&&ln(o,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ga=function(e,t,n,i){n!==i&&(t.effectTag|=4)};var $a="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,i=t.stack;null===i&&null!==n&&(i=ye(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(r){setTimeout((function(){throw r}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){vl(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xr(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.destroy;n.destroy=void 0,void 0!==i&&i()}n=n.next}while(n!==t)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void rs(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:Xr(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Pt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof kl&&kl(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var i=e.next;Gr(97<n?97:n,(function(){var e=i;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(o){vl(r,o)}}e=e.next}while(e!==i)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){vl(e,n)}}(t,n);break;case 5:ts(t);break;case 4:cs(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function ls(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:{for(var t=e.return;null!==t;){if(ls(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ne(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ls(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==n.onclick||(n.onclick=un));else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t):function e(t,n,i){var r=t.tag,o=5===r||6===r;if(o)t=o?t.stateNode:t.stateNode.instance,n?i.insertBefore(t,n):i.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,n,t)}function cs(e,t,n){for(var i,r,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(i=s.stateNode,s.tag){case 5:r=!1;break e;case 3:case 4:i=i.containerInfo,r=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var l=e,u=o,c=n,f=u;;)if(as(l,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===u)break e;for(;null===f.sibling;){if(null===f.return||f.return===u)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r?(l=i,u=o.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):i.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){i=o.stateNode.containerInfo,r=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void is(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps,r=null!==e?e.memoizedProps:i;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Sn]=i,"input"===e&&"radio"===i.type&&null!=i.name&&Oe(n,i),an(e,r),t=an(e,i),r=0;r<o.length;r+=2){var s=o[r],l=o[r+1];"style"===s?nn(n,l):"dangerouslySetInnerHTML"===s?Le(n,l):"children"===s?Ne(n,l):Z(n,s,l,t)}switch(e){case"input":Se(n,i);break;case"textarea":Re(n,i);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(e=i.value)?Ee(n,!!i.multiple,e,!1):t!==!!i.multiple&&(null!=i.defaultValue?Ee(n,!!i.multiple,i.defaultValue,!0):Ee(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Pt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?i=!1:(i=!0,n=t.child,As=Lr()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,i?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,r=void 0!==(r=e.memoizedProps.style)&&null!==r&&r.hasOwnProperty("display")?r.display:null,o.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=i?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ds(t);case 19:return void ds(t);case 17:return}throw Error(a(163))}function ds(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var i=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ps||(Ps=!0,zs=i),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return es(e,t),i(r)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Bs?Bs=new Set([this]):Bs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gs,ys=Math.ceil,vs=Q.ReactCurrentDispatcher,bs=Q.ReactCurrentOwner,_s=0,xs=3,ks=4,ws=0,Os=null,Ss=null,Cs=0,js=_s,Ts=null,Es=1073741823,Ds=1073741823,Is=null,Rs=0,Fs=!1,As=0,Ms=null,Ps=!1,zs=null,Bs=null,Ls=!1,Ns=null,Us=90,Gs=null,Hs=0,Ws=null,Vs=0;function qs(){return 0!==(48&ws)?1073741821-(Lr()/10|0):0!==Vs?Vs:Vs=1073741821-(Lr()/10|0)}function Ks(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var i=Nr();if(0===(4&t))return 99===i?1073741823:1073741822;if(0!==(16&ws))return Cs;if(null!==n)e=Kr(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=Kr(e,150,100);break;case 97:case 96:e=Kr(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Os&&e===Cs&&--e,e}function Xs(e,t){if(50<Hs)throw Hs=0,Ws=null,Error(a(185));if(null!==(e=Ys(e,t))){var n=Nr();1073741823===t?0!==(8&ws)&&0===(48&ws)?$s(e):(Zs(e),0===ws&&Vr()):Zs(e),0===(4&ws)||98!==n&&99!==n||(null===Gs?Gs=new Map([[e,t]]):(void 0===(n=Gs.get(e))||n>t)&&Gs.set(e,t))}}function Ys(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var i=e.return,r=null;if(null===i&&3===e.tag)r=e.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<t&&(i.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return null!==r&&(Os===r&&(al(t),js===ks&&Fl(r,Cs)),Al(r,t)),r}function Qs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Rl(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Zs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Wr($s.bind(null,e));else{var t=Qs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var i=qs();if(1073741823===t?i=99:1===t||2===t?i=95:i=0>=(i=10*(1073741821-t)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=i)return;n!==Rr&&wr(n)}e.callbackExpirationTime=t,e.callbackPriority=i,t=1073741823===t?Wr($s.bind(null,e)):Hr(i,Js.bind(null,e),{timeout:10*(1073741821-t)-Lr()}),e.callbackNode=t}}}function Js(e,t){if(Vs=0,t)return Ml(e,t=qs()),Zs(e),null;var n=Qs(e);if(0!==n){if(t=e.callbackNode,0!==(48&ws))throw Error(a(327));if(ml(),e===Os&&n===Cs||nl(e,n),null!==Ss){var i=ws;ws|=16;for(var r=rl();;)try{ll();break}catch(l){il(e,l)}if($r(),ws=i,vs.current=r,1===js)throw t=Ts,nl(e,n),Fl(e,n),Zs(e),t;if(null===Ss)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=js,Os=null,i){case _s:case 1:throw Error(a(345));case 2:Ml(e,2<n?2:n);break;case xs:if(Fl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(r)),1073741823===Es&&10<(r=As+500-Lr())){if(Fs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nl(e,n);break}}if(0!==(o=Qs(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=bn(dl.bind(null,e),r);break}dl(e);break;case ks:if(Fl(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fl(r)),Fs&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,nl(e,n);break}if(0!==(r=Qs(e))&&r!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==Ds?i=10*(1073741821-Ds)-Lr():1073741823===Es?i=0:(i=10*(1073741821-Es)-5e3,0>(i=(r=Lr())-i)&&(i=0),(n=10*(1073741821-n)-r)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ys(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=bn(dl.bind(null,e),i);break}dl(e);break;case 5:if(1073741823!==Es&&null!==Is){o=Es;var s=Is;if(0>=(i=0|s.busyMinDurationMs)?i=0:(r=0|s.busyDelayMs,i=(o=Lr()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=r?0:r+i-o),10<i){Fl(e,n),e.timeoutHandle=bn(dl.bind(null,e),i);break}}dl(e);break;default:throw Error(a(329))}if(Zs(e),e.callbackNode===t)return Js.bind(null,e)}}return null}function $s(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&ws))throw Error(a(327));if(ml(),e===Os&&t===Cs||nl(e,t),null!==Ss){var n=ws;ws|=16;for(var i=rl();;)try{sl();break}catch(r){il(e,r)}if($r(),ws=n,vs.current=i,1===js)throw n=Ts,nl(e,t),Fl(e,t),Zs(e),n;if(null!==Ss)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Os=null,dl(e),Zs(e)}return null}function el(e,t){var n=ws;ws|=1;try{return e(t)}finally{0===(ws=n)&&Vr()}}function tl(e,t){var n=ws;ws&=-2,ws|=8;try{return e(t)}finally{0===(ws=n)&&Vr()}}function nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==Ss)for(n=Ss.return;null!==n;){var i=n;switch(i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&gr();break;case 3:Fo(),lr(dr),lr(fr);break;case 5:Mo(i);break;case 4:Fo();break;case 13:case 19:lr(Po);break;case 10:eo(i)}n=n.return}Os=e,Ss=Cl(e.current,null),Cs=t,js=_s,Ts=null,Ds=Es=1073741823,Is=null,Rs=0,Fs=!1}function il(e,t){for(;;){try{if($r(),Lo.current=ga,Vo)for(var n=Go.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}if(Uo=0,Wo=Ho=Go=null,Vo=!1,null===Ss||null===Ss.return)return js=1,Ts=t,Ss=null;e:{var r=e,o=Ss.return,a=Ss,s=t;if(t=Cs,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var l=s;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var c=0!==(1&Po.current),f=o;do{var d;if(d=13===f.tag){var h=f.memoizedState;if(null!==h)d=null!==h.dehydrated;else{var p=f.memoizedProps;d=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!c)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(l),f.updateQueue=g}else m.add(l);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,lo(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var v=r.pingCache;if(null===v?(v=r.pingCache=new hs,s=new Set,v.set(l,s)):void 0===(s=v.get(l))&&(s=new Set,v.set(l,s)),!s.has(a)){s.add(a);var b=bl.bind(null,r,l,a);l.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ge(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==js&&(js=2),s=Ja(s,a),f=o;do{switch(f.tag){case 3:l=s,f.effectTag|=4096,f.expirationTime=t,uo(f,ps(f,l,t));break e;case 1:l=s;var _=f.type,x=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Bs||!Bs.has(x)))){f.effectTag|=4096,f.expirationTime=t,uo(f,ms(f,l,t));break e}}f=f.return}while(null!==f)}Ss=cl(Ss)}catch(k){t=k;continue}break}}function rl(){var e=vs.current;return vs.current=ga,null===e?ga:e}function ol(e,t){e<Es&&2<e&&(Es=e),null!==t&&e<Ds&&2<e&&(Ds=e,Is=t)}function al(e){e>Rs&&(Rs=e)}function sl(){for(;null!==Ss;)Ss=ul(Ss)}function ll(){for(;null!==Ss&&!Fr();)Ss=ul(Ss)}function ul(e){var t=gs(e.alternate,e,Cs);return e.memoizedProps=e.pendingProps,null===t&&(t=cl(e)),bs.current=null,t}function cl(e){Ss=e;do{var t=Ss.alternate;if(e=Ss.return,0===(2048&Ss.effectTag)){if(t=Qa(t,Ss,Cs),1===Cs||1!==Ss.childExpirationTime){for(var n=0,i=Ss.child;null!==i;){var r=i.expirationTime,o=i.childExpirationTime;r>n&&(n=r),o>n&&(n=o),i=i.sibling}Ss.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ss.firstEffect),null!==Ss.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ss.firstEffect),e.lastEffect=Ss.lastEffect),1<Ss.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ss:e.firstEffect=Ss,e.lastEffect=Ss))}else{if(null!==(t=Za(Ss)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ss.sibling))return t;Ss=e}while(null!==Ss);return js===_s&&(js=5),null}function fl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function dl(e){var t=Nr();return Gr(99,hl.bind(null,e,t)),null}function hl(e,t){do{ml()}while(null!==Ns);if(0!==(48&ws))throw Error(a(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=fl(n);if(e.firstPendingTime=r,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Os&&(Ss=Os=null,Cs=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var o=ws;ws|=32,bs.current=null,mn=qt;var s=hn();if(pn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{l.nodeType,f.nodeType}catch(C){l=null;break e}var d=0,h=-1,p=-1,m=0,g=0,y=s,v=null;t:for(;;){for(var b;y!==l||0!==c&&3!==y.nodeType||(h=d+c),y!==f||0!==u&&3!==y.nodeType||(p=d+u),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)v=y,y=b;for(;;){if(y===s)break t;if(v===l&&++m===c&&(h=d),v===f&&++g===u&&(p=d),null!==(b=y.nextSibling))break;v=(y=v).parentNode}y=b}l=-1===h||-1===p?null:{start:h,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;gn={activeElementDetached:null,focusedElem:s,selectionRange:l},qt=!1,Ms=r;do{try{pl()}catch(C){if(null===Ms)throw Error(a(330));vl(Ms,C),Ms=Ms.nextEffect}}while(null!==Ms);Ms=r;do{try{for(s=e,l=t;null!==Ms;){var _=Ms.effectTag;if(16&_&&Ne(Ms.stateNode,""),128&_){var x=Ms.alternate;if(null!==x){var k=x.ref;null!==k&&("function"===typeof k?k(null):k.current=null)}}switch(1038&_){case 2:us(Ms),Ms.effectTag&=-3;break;case 6:us(Ms),Ms.effectTag&=-3,fs(Ms.alternate,Ms);break;case 1024:Ms.effectTag&=-1025;break;case 1028:Ms.effectTag&=-1025,fs(Ms.alternate,Ms);break;case 4:fs(Ms.alternate,Ms);break;case 8:cs(s,c=Ms,l),ss(c)}Ms=Ms.nextEffect}}catch(C){if(null===Ms)throw Error(a(330));vl(Ms,C),Ms=Ms.nextEffect}}while(null!==Ms);if(k=gn,x=hn(),_=k.focusedElem,l=k.selectionRange,x!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&pn(_)&&(x=l.start,void 0===(k=l.end)&&(k=x),"selectionStart"in _?(_.selectionStart=x,_.selectionEnd=Math.min(k,_.value.length)):(k=(x=_.ownerDocument||document)&&x.defaultView||window).getSelection&&(k=k.getSelection(),c=_.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!k.extend&&s>l&&(c=l,l=s,s=c),c=dn(_,s),f=dn(_,l),c&&f&&(1!==k.rangeCount||k.anchorNode!==c.node||k.anchorOffset!==c.offset||k.focusNode!==f.node||k.focusOffset!==f.offset)&&((x=x.createRange()).setStart(c.node,c.offset),k.removeAllRanges(),s>l?(k.addRange(x),k.extend(f.node,f.offset)):(x.setEnd(f.node,f.offset),k.addRange(x))))),x=[];for(k=_;k=k.parentNode;)1===k.nodeType&&x.push({element:k,left:k.scrollLeft,top:k.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<x.length;_++)(k=x[_]).element.scrollLeft=k.left,k.element.scrollTop=k.top}qt=!!mn,gn=mn=null,e.current=n,Ms=r;do{try{for(_=e;null!==Ms;){var w=Ms.effectTag;if(36&w&&os(_,Ms.alternate,Ms),128&w){x=void 0;var O=Ms.ref;if(null!==O){var S=Ms.stateNode;switch(Ms.tag){case 5:x=S;break;default:x=S}"function"===typeof O?O(x):O.current=x}}Ms=Ms.nextEffect}}catch(C){if(null===Ms)throw Error(a(330));vl(Ms,C),Ms=Ms.nextEffect}}while(null!==Ms);Ms=null,Ar(),ws=o}else e.current=n;if(Ls)Ls=!1,Ns=e,Us=t;else for(Ms=r;null!==Ms;)t=Ms.nextEffect,Ms.nextEffect=null,Ms=t;if(0===(t=e.firstPendingTime)&&(Bs=null),1073741823===t?e===Ws?Hs++:(Hs=0,Ws=e):Hs=0,"function"===typeof xl&&xl(n.stateNode,i),Zs(e),Ps)throw Ps=!1,e=zs,zs=null,e;return 0!==(8&ws)||Vr(),null}function pl(){for(;null!==Ms;){var e=Ms.effectTag;0!==(256&e)&&ns(Ms.alternate,Ms),0===(512&e)||Ls||(Ls=!0,Hr(97,(function(){return ml(),null}))),Ms=Ms.nextEffect}}function ml(){if(90!==Us){var e=97<Us?97:Us;return Us=90,Gr(e,gl)}}function gl(){if(null===Ns)return!1;var e=Ns;if(Ns=null,0!==(48&ws))throw Error(a(331));var t=ws;for(ws|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:is(5,n),rs(5,n)}}catch(i){if(null===e)throw Error(a(330));vl(e,i)}n=e.nextEffect,e.nextEffect=null,e=n}return ws=t,Vr(),!0}function yl(e,t,n){lo(e,t=ps(e,t=Ja(n,t),1073741823)),null!==(e=Ys(e,1073741823))&&Zs(e)}function vl(e,t){if(3===e.tag)yl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){yl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Bs||!Bs.has(i))){lo(n,e=ms(n,e=Ja(t,e),1073741823)),null!==(n=Ys(n,1073741823))&&Zs(n);break}}n=n.return}}function bl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),Os===e&&Cs===n?js===ks||js===xs&&1073741823===Es&&Lr()-As<500?nl(e,Cs):Fs=!0:Rl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Zs(e)))}function _l(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Ks(t=qs(),e,null)),null!==(e=Ys(e,t))&&Zs(e)}gs=function(e,t,n){var i=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||dr.current)Da=!0;else{if(i<n){switch(Da=!1,t.tag){case 3:La(t),Ta();break;case 5:if(Ao(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mr(t.type)&&br(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value,r=t.type._context,ur(Yr,r._currentValue),r._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Wa(e,t,n):(ur(Po,1&Po.current),null!==(t=Xa(e,t,n))?t.sibling:null);ur(Po,1&Po.current);break;case 19:if(i=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(i)return Ka(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),ur(Po,Po.current),!i)return null}return Xa(e,t,n)}Da=!1}}else Da=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=pr(t,fr.current),no(t,n),r=Xo(null,t,i,e,r,n),t.effectTag|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mr(i)){var o=!0;br(t)}else o=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,oo(t);var s=i.getDerivedStateFromProps;"function"===typeof s&&mo(t,i,s,e),r.updater=go,t.stateNode=r,r._reactInternalFiber=t,_o(t,i,e,n),t=Ba(null,t,i,!0,o,n)}else t.tag=0,Ia(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,o=t.tag=function(e){if("function"===typeof e)return Sl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===le)return 11;if(e===fe)return 14}return 2}(r),e=Xr(r,e),o){case 0:t=Pa(null,t,r,e,n);break e;case 1:t=za(null,t,r,e,n);break e;case 11:t=Ra(null,t,r,e,n);break e;case 14:t=Fa(null,t,r,Xr(r.type,e),i,n);break e}throw Error(a(306,r,""))}return t;case 0:return i=t.type,r=t.pendingProps,Pa(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 1:return i=t.type,r=t.pendingProps,za(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 3:if(La(t),i=t.updateQueue,null===e||null===i)throw Error(a(282));if(i=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ao(e,t),co(t,i,null,n),(i=t.memoizedState.element)===r)Ta(),t=Xa(e,t,n);else{if((r=t.stateNode.hydrate)&&(xa=xn(t.stateNode.containerInfo.firstChild),_a=t,r=ka=!0),r)for(n=Co(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ia(e,t,i,n),Ta();t=t.child}return t;case 5:return Ao(t),null===e&&Sa(t),i=t.type,r=t.pendingProps,o=null!==e?e.memoizedProps:null,s=r.children,vn(i,r)?s=null:null!==o&&vn(i,o)&&(t.effectTag|=16),Ma(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ia(e,t,s,n),t=t.child),t;case 6:return null===e&&Sa(t),null;case 13:return Wa(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=So(t,null,i,n):Ia(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,Ra(e,t,i,r=t.elementType===i?r:Xr(i,r),n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,r=t.pendingProps,s=t.memoizedProps,o=r.value;var l=t.type._context;if(ur(Yr,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=zi(l,o)?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(l,o):1073741823))){if(s.children===r.children&&!dr.current){t=Xa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===i&&0!==(c.observedBits&o)){1===l.tag&&((c=so(n,null)).tag=2,lo(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),to(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ia(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=(o=t.pendingProps).children,no(t,n),i=i(r=io(r,o.unstable_observedBits)),t.effectTag|=1,Ia(e,t,i,n),t.child;case 14:return o=Xr(r=t.type,t.pendingProps),Fa(e,t,r,o=Xr(r.type,o),i,n);case 15:return Aa(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:Xr(i,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mr(i)?(e=!0,br(t)):e=!1,no(t,n),vo(t,i,r),_o(t,i,r,n),Ba(null,t,i,!0,e,n);case 19:return Ka(e,t,n)}throw Error(a(156,t.tag))};var xl=null,kl=null;function wl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ol(e,t,n,i){return new wl(e,t,n,i)}function Sl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jl(e,t,n,i,r,o){var s=2;if(i=e,"function"===typeof e)Sl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Tl(n.children,r,o,t);case se:s=8,r|=7;break;case ie:s=8,r|=1;break;case re:return(e=Ol(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=o,e;case ue:return(e=Ol(13,n,t,r)).type=ue,e.elementType=ue,e.expirationTime=o,e;case ce:return(e=Ol(19,n,t,r)).elementType=ce,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case le:s=11;break e;case fe:s=14;break e;case de:s=16,i=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,r)).elementType=e,t.type=i,t.expirationTime=o,t}function Tl(e,t,n,i){return(e=Ol(7,e,i,t)).expirationTime=n,e}function El(e,t,n){return(e=Ol(6,e,null,t)).expirationTime=n,e}function Dl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Il(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Rl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Fl(e,t){var n=e.firstSuspendedTime,i=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(i>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Al(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Ml(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Pl(e,t,n,i){var r=t.current,o=qs(),s=ho.suspense;o=Ks(o,r,s);e:if(n){t:{if($e(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(mr(u)){n=vr(n,u,l);break e}}n=l}else n=cr;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),lo(r,t),Xs(r,o),o}function zl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ll(e,t){Bl(e,t),(e=e.alternate)&&Bl(e,t)}function Nl(e,t,n){var i=new Il(e,t,n=null!=n&&!0===n.hydrate),r=Ol(3,null,null,2===t?7:1===t?3:0);i.current=r,r.stateNode=i,oo(r),e[Cn]=i.current,n&&0!==t&&function(e,t){var n=Je(t);Ct.forEach((function(e){pt(e,t,n)})),jt.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=i}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gl(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof r){var s=r;r=function(){var e=zl(a);s.call(e)}}Pl(t,a,e,r)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Nl(e,0,t?{hydrate:!0}:void 0)}(n,i),a=o._internalRoot,"function"===typeof r){var l=r;r=function(){var e=zl(a);l.call(e)}}tl((function(){Pl(t,a,e,r)}))}return zl(a)}function Hl(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function Wl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ul(t))throw Error(a(200));return Hl(e,t,null,n)}Nl.prototype.render=function(e){Pl(e,this._internalRoot,null,null)},Nl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Pl(null,e,null,(function(){t[Cn]=null}))},mt=function(e){if(13===e.tag){var t=Kr(qs(),150,100);Xs(e,t),Ll(e,t)}},gt=function(e){13===e.tag&&(Xs(e,3),Ll(e,3))},yt=function(e){if(13===e.tag){var t=qs();Xs(e,t=Ks(t,e,null)),Ll(e,t)}},T=function(e,t,n){switch(t){case"input":if(Se(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=Dn(i);if(!r)throw Error(a(90));xe(i),Se(i,r)}}}break;case"textarea":Re(e,n);break;case"select":null!=(t=n.value)&&Ee(e,!!n.multiple,t,!1)}},A=el,M=function(e,t,n,i,r){var o=ws;ws|=4;try{return Gr(98,e.bind(null,t,n,i,r))}finally{0===(ws=o)&&Vr()}},P=function(){0===(49&ws)&&(function(){if(null!==Gs){var e=Gs;Gs=null,e.forEach((function(e,t){Ml(t,e),Zs(t)})),Vr()}}(),ml())},z=function(e,t){var n=ws;ws|=2;try{return e(t)}finally{0===(ws=n)&&Vr()}};var Vl={Events:[Tn,En,Dn,C,w,zn,function(e){rt(e,Pn)},R,F,Zt,st,ml,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);xl=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(i){}},kl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(i){}}}catch(i){}})(r({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:jn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vl,t.createPortal=Wl,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&ws))throw Error(a(187));var n=ws;ws|=1;try{return Gr(99,e.bind(null,t))}finally{ws=n,Vr()}},t.hydrate=function(e,t,n){if(!Ul(t))throw Error(a(200));return Gl(null,e,t,!0,n)},t.render=function(e,t,n){if(!Ul(t))throw Error(a(200));return Gl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(a(40));return!!e._reactRootContainer&&(tl((function(){Gl(null,null,e,!1,(function(){e._reactRootContainer=null,e[Cn]=null}))})),!0)},t.unstable_batchedUpdates=el,t.unstable_createPortal=function(e,t){return Wl(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Ul(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Gl(e,t,n,!1,i)},t.version="16.13.1"},function(e,t,n){"use strict";e.exports=n(60)},function(e,t,n){"use strict";var i,r,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,u=null,c=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(i){throw setTimeout(e,0),i}},f=Date.now();t.unstable_now=function(){return Date.now()-f},i=function(e){null!==l?setTimeout(i,0,e):(l=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},o=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var d=window.performance,h=window.Date,p=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof d&&"function"===typeof d.now)t.unstable_now=function(){return d.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var v=!1,b=null,_=-1,x=5,k=0;a=function(){return t.unstable_now()>=k},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,O=w.port2;w.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();k=e+x;try{b(!0,e)?O.postMessage(null):(v=!1,b=null)}catch(n){throw O.postMessage(null),n}}else v=!1},i=function(e){b=e,v||(v=!0,O.postMessage(null))},r=function(e,n){_=p((function(){e(t.unstable_now())}),n)},o=function(){m(_),_=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<T(r,t)))break e;e[i]=t,e[n]=r,n=i}}function C(e){return void 0===(e=e[0])?null:e}function j(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(e[i]=l,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==l&&0>T(l,n)))break e;e[i]=l,e[s]=n,i=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var E=[],D=[],I=1,R=null,F=3,A=!1,M=!1,P=!1;function z(e){for(var t=C(D);null!==t;){if(null===t.callback)j(D);else{if(!(t.startTime<=e))break;j(D),t.sortIndex=t.expirationTime,S(E,t)}t=C(D)}}function B(e){if(P=!1,z(e),!M)if(null!==C(E))M=!0,i(L);else{var t=C(D);null!==t&&r(B,t.startTime-e)}}function L(e,n){M=!1,P&&(P=!1,o()),A=!0;var i=F;try{for(z(n),R=C(E);null!==R&&(!(R.expirationTime>n)||e&&!a());){var s=R.callback;if(null!==s){R.callback=null,F=R.priorityLevel;var l=s(R.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?R.callback=l:R===C(E)&&j(E),z(n)}else j(E);R=C(E)}if(null!==R)var u=!0;else{var c=C(D);null!==c&&r(B,c.startTime-n),u=!1}return u}finally{R=null,F=i,A=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var U=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||A||(M=!0,i(L))},t.unstable_getCurrentPriorityLevel=function(){return F},t.unstable_getFirstCallbackNode=function(){return C(E)},t.unstable_next=function(e){switch(F){case 1:case 2:case 3:var t=3;break;default:t=F}var n=F;F=t;try{return e()}finally{F=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=F;F=e;try{return t()}finally{F=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var l=a.delay;l="number"===typeof l&&0<l?s+l:s,a="number"===typeof a.timeout?a.timeout:N(e)}else a=N(e),l=s;return e={id:I++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,S(D,e),null===C(E)&&e===C(D)&&(P?o():P=!0,r(B,l-s))):(e.sortIndex=a,S(E,e),M||A||(M=!0,i(L))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();z(e);var n=C(E);return n!==R&&null!==R&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<R.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=F;return function(){var n=F;F=t;try{return e.apply(this,arguments)}finally{F=n}}}},,,,function(e,t,n){var i=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function s(e,t,n,i){var r=t&&t.prototype instanceof c?t:c,o=Object.create(r.prototype),a=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return O()}for(n.method=r,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=l(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}e.wrap=s;var u={};function c(){}function f(){}function d(){}var h={};h[r]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(w([])));m&&m!==t&&n.call(m,r)&&(h=m);var g=d.prototype=c.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function v(e,t){var i;this._invoke=function(r,o){function a(){return new t((function(i,a){!function i(r,o,a,s){var u=l(e[r],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(u.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function w(e){if(e){var t=e[r];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(v.prototype),v.prototype[o]=function(){return this},e.AsyncIterator=v,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var a=new v(s(t,n,i,r),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(g),g[a]="Generator",g[r]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=w,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return a.type="throw",a.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},function(e,t,n){"use strict";var i=n(30),r=n(1);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.portal"):60106,l=a?Symbol.for("react.fragment"):60107,u=a?Symbol.for("react.strict_mode"):60108,c=a?Symbol.for("react.profiler"):60114,f=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.concurrent_mode"):60111,p=a?Symbol.for("react.forward_ref"):60112,m=a?Symbol.for("react.suspense"):60113,g=a?Symbol.for("react.suspense_list"):60120,y=a?Symbol.for("react.memo"):60115,v=a?Symbol.for("react.lazy"):60116,b=a?Symbol.for("react.block"):60121,_=a?Symbol.for("react.fundamental"):60117,x=a?Symbol.for("react.scope"):60119;function k(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case l:return"Fragment";case s:return"Portal";case c:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case d:return"Context.Consumer";case f:return"Context.Provider";case p:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case y:return k(e.type);case b:return k(e.render);case v:if(e=1===e._status?e._result:null)return k(e)}return null}var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;w.hasOwnProperty("ReactCurrentDispatcher")||(w.ReactCurrentDispatcher={current:null}),w.hasOwnProperty("ReactCurrentBatchConfig")||(w.ReactCurrentBatchConfig={suspense:null});var O={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var C=new Uint16Array(16),j=0;15>j;j++)C[j]=j+1;C[15]=0;var T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E=Object.prototype.hasOwnProperty,D={},I={};function R(e){return!!E.call(I,e)||!E.call(D,e)&&(T.test(e)?I[e]=!0:(D[e]=!0,!1))}function F(e,t,n,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){A[e]=new F(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];A[t]=new F(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){A[e]=new F(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){A[e]=new F(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){A[e]=new F(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){A[e]=new F(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){A[e]=new F(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){A[e]=new F(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){A[e]=new F(e,5,!1,e.toLowerCase(),null,!1)}));var M=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(M,P);A[t]=new F(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(M,P);A[t]=new F(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(M,P);A[t]=new F(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){A[e]=new F(e,1,!1,e.toLowerCase(),null,!1)})),A.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){A[e]=new F(e,1,!1,e.toLowerCase(),null,!0)}));var z=/["'&<>]/;function B(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=z.exec(e);if(t){var n,i="",r=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}r!==n&&(i+=e.substring(r,n)),r=n+1,i+=t}e=r!==n?i+e.substring(r,n):i}return e}function L(e,t){var n,i=A.hasOwnProperty(e)?A[e]:null;return(n="style"!==e)&&(n=null!==i?0===i.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,i,!1)?"":null!==i?(e=i.attributeName,3===(n=i.type)||4===n&&!0===t?e+'=""':(i.sanitizeURL&&(t=""+t),e+'="'+B(t)+'"')):R(e)?e+'="'+B(t)+'"':""}var N="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},U=null,G=null,H=null,W=!1,V=!1,q=null,K=0;function X(){if(null===U)throw Error(o(321));return U}function Y(){if(0<K)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Q(){return null===H?null===G?(W=!1,G=H=Y()):(W=!0,H=G):null===H.next?(W=!1,H=H.next=Y()):(W=!0,H=H.next),H}function Z(e,t,n,i){for(;V;)V=!1,K+=1,H=null,n=e(t,i);return G=U=null,K=0,H=q=null,n}function J(e,t){return"function"===typeof t?t(e):t}function $(e,t,n){if(U=X(),H=Q(),W){var i=H.queue;if(t=i.dispatch,null!==q&&void 0!==(n=q.get(i))){q.delete(i),i=H.memoizedState;do{i=e(i,n.action),n=n.next}while(null!==n);return H.memoizedState=i,[i,t]}return[H.memoizedState,t]}return e=e===J?"function"===typeof t?t():t:void 0!==n?n(t):t,H.memoizedState=e,e=(e=H.queue={last:null,dispatch:null}).dispatch=ee.bind(null,U,e),[H.memoizedState,e]}function ee(e,t,n){if(!(25>K))throw Error(o(301));if(e===U)if(V=!0,e={action:n,next:null},null===q&&(q=new Map),void 0===(n=q.get(t)))q.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function te(){}var ne=0,ie={readContext:function(e){var t=ne;return S(e,t),e[t]},useContext:function(e){X();var t=ne;return S(e,t),e[t]},useMemo:function(e,t){if(U=X(),t=void 0===t?null:t,null!==(H=Q())){var n=H.memoizedState;if(null!==n&&null!==t){e:{var i=n[1];if(null===i)i=!1;else{for(var r=0;r<i.length&&r<t.length;r++)if(!N(t[r],i[r])){i=!1;break e}i=!0}}if(i)return n[0]}}return e=e(),H.memoizedState=[e,t],e},useReducer:$,useRef:function(e){U=X();var t=(H=Q()).memoizedState;return null===t?(e={current:e},H.memoizedState=e):t},useState:function(e){return $(J,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:te,useEffect:te,useDebugValue:te,useResponder:function(e,t){return{props:t,responder:e}},useDeferredValue:function(e){return X(),e},useTransition:function(){return X(),[function(e){e()},!1]}},re="http://www.w3.org/1999/xhtml";function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ae={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=i({menuitem:!0},ae),le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ue=["Webkit","ms","Moz","O"];Object.keys(le).forEach((function(e){ue.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),le[t]=le[e]}))}));var ce=/([A-Z])/g,fe=/^ms-/,de=r.Children.toArray,he=w.ReactCurrentDispatcher,pe={listing:!0,pre:!0,textarea:!0},me=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ge={},ye={};var ve=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function _e(e,t){if(void 0===e)throw Error(o(152,k(t)||"Component"))}function xe(e,t,n){function a(r,a){var s=a.prototype&&a.prototype.isReactComponent,l=function(e,t,n,i){if(i&&("object"===typeof(i=e.contextType)&&null!==i))return S(i,n),i[n];if(e=e.contextTypes){for(var r in n={},e)n[r]=t[r];t=n}else t=O;return t}(a,t,n,s),u=[],c=!1,f={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){c=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(s){if(s=new a(r.props,l,f),"function"===typeof a.getDerivedStateFromProps){var d=a.getDerivedStateFromProps.call(null,r.props,s.state);null!=d&&(s.state=i({},s.state,d))}}else if(U={},s=a(r.props,l,f),null==(s=Z(a,r.props,s,l))||null==s.render)return void _e(e=s,a);if(s.props=r.props,s.context=l,s.updater=f,void 0===(f=s.state)&&(s.state=f=null),"function"===typeof s.UNSAFE_componentWillMount||"function"===typeof s.componentWillMount)if("function"===typeof s.componentWillMount&&"function"!==typeof a.getDerivedStateFromProps&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&"function"!==typeof a.getDerivedStateFromProps&&s.UNSAFE_componentWillMount(),u.length){f=u;var h=c;if(u=null,c=!1,h&&1===f.length)s.state=f[0];else{d=h?f[0]:s.state;var p=!0;for(h=h?1:0;h<f.length;h++){var m=f[h];null!=(m="function"===typeof m?m.call(s,d,r.props,l):m)&&(p?(p=!1,d=i({},d,m)):i(d,m))}s.state=d}}else u=null;if(_e(e=s.render(),a),"function"===typeof s.getChildContext&&"object"===typeof(r=a.childContextTypes)){var g=s.getChildContext();for(var y in g)if(!(y in r))throw Error(o(108,k(a)||"Unknown",y))}g&&(t=i({},t,g))}for(;r.isValidElement(e);){var s=e,l=s.type;if("function"!==typeof l)break;a(s,l)}return{child:e,context:t}}var ke=function(){function e(e,t){r.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=r.isValidElement(e)?[e]:de(e)):e=de(e),e={type:null,domNamespace:re,children:e,childIndex:0,context:O,footer:""};var n=C[0];if(0===n){var i=C,a=2*(n=i.length);if(!(65536>=a))throw Error(o(304));var s=new Uint16Array(a);for(s.set(i),(C=s)[0]=n+1,i=n;i<a-1;i++)C[i]=i+1;C[a-1]=0}else C[0]=C[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;C[e]=C[0],C[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,i=this.threadID;S(n,i);var r=n[i];this.contextStack[t]=n,this.contextValueStack[t]=r,n[i]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=ne;ne=this.threadID;var n=he.current;he.current=ie;try{for(var i=[""],r=!1;i[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var a=this.threadID;C[a]=C[0],C[0]=a;break}var s=this.stack[this.stack.length-1];if(r||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===f)this.popProvider(s.type);else if(s.type===m){this.suspenseDepth--;var u=i.pop();if(r){r=!1;var c=s.fallbackFrame;if(!c)throw Error(o(303));this.stack.push(c),i[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}i[this.suspenseDepth]+=u}i[this.suspenseDepth]+=l}else{var d=s.children[s.childIndex++],h="";try{h+=this.render(d,s.context,s.domNamespace)}catch(p){if(null!=p&&"function"===typeof p.then)throw Error(o(294));throw p}i.length<=this.suspenseDepth&&i.push(""),i[this.suspenseDepth]+=h}}return i[0]}finally{he.current=n,ne=t}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?B(n):this.previousWasTextNode?"\x3c!-- --\x3e"+B(n):(this.previousWasTextNode=!0,B(n));if(e=(t=xe(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!r.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(o(257));throw Error(o(258,n.toString()))}return e=de(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var a=e.type;if("string"===typeof a)return this.renderDOM(e,t,n);switch(a){case u:case h:case c:case g:case l:return e=de(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:throw Error(o(294))}if("object"===typeof a&&null!==a)switch(a.$$typeof){case p:U={};var b=a.render(e.props,e.ref);return b=Z(a.render,e.props,b,e.ref),b=de(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case y:return e=[r.createElement(a.type,i({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case f:return n={type:e,domNamespace:n,children:a=de(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case d:a=e.type,b=e.props;var k=this.threadID;return S(a,k),a=de(b.children(a[k])),this.stack.push({type:e,domNamespace:n,children:a,childIndex:0,context:t,footer:""}),"";case _:throw Error(o(338));case v:switch(function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(a=e.type),a._status){case 1:return e=[r.createElement(a._result,i({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case 2:throw a._result;default:throw Error(o(295))}case x:throw Error(o(343))}throw Error(o(130,null==a?a:typeof a,""))},t.renderDOM=function(e,t,n){var a=e.type.toLowerCase();if(n===re&&oe(a),!ge.hasOwnProperty(a)){if(!me.test(a))throw Error(o(65,a));ge[a]=!0}var s=e.props;if("input"===a)s=i({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===a){var l=s.value;if(null==l){l=s.defaultValue;var u=s.children;if(null!=u){if(null!=l)throw Error(o(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(o(93));u=u[0]}l=""+u}null==l&&(l="")}s=i({},s,{value:void 0,children:""+l})}else if("select"===a)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=i({},s,{value:void 0});else if("option"===a){u=this.currentSelectValue;var c=function(e){if(void 0===e||null===e)return e;var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(s.children);if(null!=u){var f=null!=s.value?s.value+"":c;if(l=!1,Array.isArray(u)){for(var d=0;d<u.length;d++)if(""+u[d]===f){l=!0;break}}else l=""+u===f;s=i({selected:void 0,children:void 0},s,{selected:l,children:c})}}if(l=s){if(se[a]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(o(137,a,""));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(o(60));if("object"!==typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(o(62,""))}for(_ in l=s,u=this.makeStaticMarkup,c=1===this.stack.length,f="<"+e.type,l)if(ve.call(l,_)){var h=l[_];if(null!=h){if("style"===_){d=void 0;var p="",m="";for(d in h)if(h.hasOwnProperty(d)){var g=0===d.indexOf("--"),y=h[d];if(null!=y){if(g)var v=d;else if(v=d,ye.hasOwnProperty(v))v=ye[v];else{var b=v.replace(ce,"-$1").toLowerCase().replace(fe,"-ms-");v=ye[v]=b}p+=m+v+":",m=d,p+=g=null==y||"boolean"===typeof y||""===y?"":g||"number"!==typeof y||0===y||le.hasOwnProperty(m)&&le[m]?(""+y).trim():y+"px",m=";"}}h=p||null}d=null;e:if(g=a,y=l,-1===g.indexOf("-"))g="string"===typeof y.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?be.hasOwnProperty(_)||(d=R(d=_)&&null!=h?d+'="'+B(h)+'"':""):d=L(_,h),d&&(f+=" "+d)}}u||c&&(f+=' data-reactroot=""');var _=f;l="",ae.hasOwnProperty(a)?_+="/>":(_+=">",l="</"+e.type+">");e:{if(null!=(u=s.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"===typeof(u=s.children)||"number"===typeof u){u=B(u);break e}u=null}return null!=u?(s=[],pe.hasOwnProperty(a)&&"\n"===u.charAt(0)&&(_+="\n"),_+=u):s=de(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?oe(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:a,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,_},e}(),we={renderToString:function(e){e=new ke(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ke(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw Error(o(207))},renderToStaticNodeStream:function(){throw Error(o(208))},version:"16.13.1"};e.exports=we.default||we},function(e,t){(function(t){e.exports=t}).call(this,{})}]]);
//# sourceMappingURL=3.5dbbca38.chunk.js.map